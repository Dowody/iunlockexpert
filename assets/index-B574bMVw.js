const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/embedded-wallet-BSu2H0sW.js","assets/if-defined-pHaK8Q7v.js","assets/index-DJiH4QMN.js","assets/index-qRox2j8a.js","assets/index-C1_fhnAD.js","assets/index-CitENu-1.js","assets/index-D9vxfWr5.js","assets/index-BbXpM20a.js","assets/index-BgFGIgif.js","assets/index-Dv7FTCHp.js","assets/email-BrJRXcBH.js","assets/index-BZZ6w-lM.js","assets/socials-C4oRl78p.js","assets/index-BFZA_fv4.js","assets/index-CM5NK_Cj.js","assets/index-BKShLo-R.js","assets/index-Dk_20Wim.js","assets/swaps-RdjXG0Xt.js","assets/index-WJ9cv7CU.js","assets/index-CWPUw16U.js","assets/index-DMgxx9v0.js","assets/send-BcFxT-cb.js","assets/index-B-DMGsH7.js","assets/receive-Cdp_xlCs.js","assets/index-stnKZjYd.js","assets/onramp-FwoHKy5H.js","assets/index-CSqfn5NI.js","assets/index-Ck2bqUR7.js","assets/transactions-CK63dJPj.js","assets/index-BTRLTrso.js","assets/index-CHWZiP4g.js","assets/index-CRjw_Ye4.js","assets/w3m-modal-DvpsZYJb.js"])))=>i.map(i=>d[i]);
var _G=Object.defineProperty;var z6=t=>{throw TypeError(t)};var PG=(t,e,n)=>e in t?_G(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ve=(t,e,n)=>PG(t,typeof e!="symbol"?e+"":e,n),UC=(t,e,n)=>e.has(t)||z6("Cannot "+n);var M=(t,e,n)=>(UC(t,e,"read from private field"),n?n.call(t):e.get(t)),Ee=(t,e,n)=>e.has(t)?z6("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),te=(t,e,n,r)=>(UC(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Fe=(t,e,n)=>(UC(t,e,"access private method"),n);var A1=(t,e,n,r)=>({set _(i){te(t,e,i,n)},get _(){return M(t,e,r)}});function IG(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Zc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ub(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function U7(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var F7={exports:{}},FA={},$7={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb=Symbol.for("react.element"),TG=Symbol.for("react.portal"),kG=Symbol.for("react.fragment"),OG=Symbol.for("react.strict_mode"),RG=Symbol.for("react.profiler"),LG=Symbol.for("react.provider"),DG=Symbol.for("react.context"),jG=Symbol.for("react.forward_ref"),MG=Symbol.for("react.suspense"),BG=Symbol.for("react.memo"),UG=Symbol.for("react.lazy"),V6=Symbol.iterator;function FG(t){return t===null||typeof t!="object"?null:(t=V6&&t[V6]||t["@@iterator"],typeof t=="function"?t:null)}var z7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V7=Object.assign,H7={};function ky(t,e,n){this.props=t,this.context=e,this.refs=H7,this.updater=n||z7}ky.prototype.isReactComponent={};ky.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ky.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function q7(){}q7.prototype=ky.prototype;function gI(t,e,n){this.props=t,this.context=e,this.refs=H7,this.updater=n||z7}var yI=gI.prototype=new q7;yI.constructor=gI;V7(yI,ky.prototype);yI.isPureReactComponent=!0;var H6=Array.isArray,W7=Object.prototype.hasOwnProperty,wI={current:null},G7={key:!0,ref:!0,__self:!0,__source:!0};function K7(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)W7.call(e,r)&&!G7.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var c=Array(a),l=0;l<a;l++)c[l]=arguments[l+2];i.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Fb,type:t,key:s,ref:o,props:i,_owner:wI.current}}function $G(t,e){return{$$typeof:Fb,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function vI(t){return typeof t=="object"&&t!==null&&t.$$typeof===Fb}function zG(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var q6=/\/+/g;function FC(t,e){return typeof t=="object"&&t!==null&&t.key!=null?zG(""+t.key):e.toString(36)}function yx(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Fb:case TG:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+FC(o,0):r,H6(i)?(n="",t!=null&&(n=t.replace(q6,"$&/")+"/"),yx(i,e,n,"",function(l){return l})):i!=null&&(vI(i)&&(i=$G(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(q6,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",H6(t))for(var a=0;a<t.length;a++){s=t[a];var c=r+FC(s,a);o+=yx(s,e,n,c,i)}else if(c=FG(t),typeof c=="function")for(t=c.call(t),a=0;!(s=t.next()).done;)s=s.value,c=r+FC(s,a++),o+=yx(s,e,n,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function d5(t,e,n){if(t==null)return t;var r=[],i=0;return yx(t,r,"","",function(s){return e.call(n,s,i++)}),r}function VG(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Is={current:null},wx={transition:null},HG={ReactCurrentDispatcher:Is,ReactCurrentBatchConfig:wx,ReactCurrentOwner:wI};function Y7(){throw Error("act(...) is not supported in production builds of React.")}Xt.Children={map:d5,forEach:function(t,e,n){d5(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return d5(t,function(){e++}),e},toArray:function(t){return d5(t,function(e){return e})||[]},only:function(t){if(!vI(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Xt.Component=ky;Xt.Fragment=kG;Xt.Profiler=RG;Xt.PureComponent=gI;Xt.StrictMode=OG;Xt.Suspense=MG;Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=HG;Xt.act=Y7;Xt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=V7({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=wI.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)W7.call(e,c)&&!G7.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var l=0;l<c;l++)a[l]=arguments[l+2];r.children=a}return{$$typeof:Fb,type:t.type,key:i,ref:s,props:r,_owner:o}};Xt.createContext=function(t){return t={$$typeof:DG,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:LG,_context:t},t.Consumer=t};Xt.createElement=K7;Xt.createFactory=function(t){var e=K7.bind(null,t);return e.type=t,e};Xt.createRef=function(){return{current:null}};Xt.forwardRef=function(t){return{$$typeof:jG,render:t}};Xt.isValidElement=vI;Xt.lazy=function(t){return{$$typeof:UG,_payload:{_status:-1,_result:t},_init:VG}};Xt.memo=function(t,e){return{$$typeof:BG,type:t,compare:e===void 0?null:e}};Xt.startTransition=function(t){var e=wx.transition;wx.transition={};try{t()}finally{wx.transition=e}};Xt.unstable_act=Y7;Xt.useCallback=function(t,e){return Is.current.useCallback(t,e)};Xt.useContext=function(t){return Is.current.useContext(t)};Xt.useDebugValue=function(){};Xt.useDeferredValue=function(t){return Is.current.useDeferredValue(t)};Xt.useEffect=function(t,e){return Is.current.useEffect(t,e)};Xt.useId=function(){return Is.current.useId()};Xt.useImperativeHandle=function(t,e,n){return Is.current.useImperativeHandle(t,e,n)};Xt.useInsertionEffect=function(t,e){return Is.current.useInsertionEffect(t,e)};Xt.useLayoutEffect=function(t,e){return Is.current.useLayoutEffect(t,e)};Xt.useMemo=function(t,e){return Is.current.useMemo(t,e)};Xt.useReducer=function(t,e,n){return Is.current.useReducer(t,e,n)};Xt.useRef=function(t){return Is.current.useRef(t)};Xt.useState=function(t){return Is.current.useState(t)};Xt.useSyncExternalStore=function(t,e,n){return Is.current.useSyncExternalStore(t,e,n)};Xt.useTransition=function(){return Is.current.useTransition()};Xt.version="18.3.1";$7.exports=Xt;var ce=$7.exports;const lr=Ub(ce),qG=IG({__proto__:null,default:lr},[ce]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var WG=ce,GG=Symbol.for("react.element"),KG=Symbol.for("react.fragment"),YG=Object.prototype.hasOwnProperty,JG=WG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,QG={key:!0,ref:!0,__self:!0,__source:!0};function J7(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)YG.call(e,r)&&!QG.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:GG,type:t,key:s,ref:o,props:i,_owner:JG.current}}FA.Fragment=KG;FA.jsx=J7;FA.jsxs=J7;F7.exports=FA;var v=F7.exports,a3={},Q7={exports:{}},Bo={},Z7={exports:{}},X7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(B,z){var Z=B.length;B.push(z);e:for(;0<Z;){var he=Z-1>>>1,R=B[he];if(0<i(R,z))B[he]=z,B[Z]=R,Z=he;else break e}}function n(B){return B.length===0?null:B[0]}function r(B){if(B.length===0)return null;var z=B[0],Z=B.pop();if(Z!==z){B[0]=Z;e:for(var he=0,R=B.length,Y=R>>>1;he<Y;){var J=2*(he+1)-1,ne=B[J],se=J+1,de=B[se];if(0>i(ne,Z))se<R&&0>i(de,ne)?(B[he]=de,B[se]=Z,he=se):(B[he]=ne,B[J]=Z,he=J);else if(se<R&&0>i(de,Z))B[he]=de,B[se]=Z,he=se;else break e}}return z}function i(B,z){var Z=B.sortIndex-z.sortIndex;return Z!==0?Z:B.id-z.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],l=[],u=1,d=null,h=3,f=!1,m=!1,g=!1,E=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(B){for(var z=n(l);z!==null;){if(z.callback===null)r(l);else if(z.startTime<=B)r(l),z.sortIndex=z.expirationTime,e(c,z);else break;z=n(l)}}function C(B){if(g=!1,x(B),!m)if(n(c)!==null)m=!0,k(N);else{var z=n(l);z!==null&&W(C,z.startTime-B)}}function N(B,z){m=!1,g&&(g=!1,y(P),P=-1),f=!0;var Z=h;try{for(x(z),d=n(c);d!==null&&(!(d.expirationTime>z)||B&&!_());){var he=d.callback;if(typeof he=="function"){d.callback=null,h=d.priorityLevel;var R=he(d.expirationTime<=z);z=t.unstable_now(),typeof R=="function"?d.callback=R:d===n(c)&&r(c),x(z)}else r(c);d=n(c)}if(d!==null)var Y=!0;else{var J=n(l);J!==null&&W(C,J.startTime-z),Y=!1}return Y}finally{d=null,h=Z,f=!1}}var D=!1,O=null,P=-1,L=5,$=-1;function _(){return!(t.unstable_now()-$<L)}function j(){if(O!==null){var B=t.unstable_now();$=B;var z=!0;try{z=O(!0,B)}finally{z?K():(D=!1,O=null)}}else D=!1}var K;if(typeof w=="function")K=function(){w(j)};else if(typeof MessageChannel<"u"){var V=new MessageChannel,T=V.port2;V.port1.onmessage=j,K=function(){T.postMessage(null)}}else K=function(){E(j,0)};function k(B){O=B,D||(D=!0,K())}function W(B,z){P=E(function(){B(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(B){B.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,k(N))},t.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<B?Math.floor(1e3/B):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(B){switch(h){case 1:case 2:case 3:var z=3;break;default:z=h}var Z=h;h=z;try{return B()}finally{h=Z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(B,z){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var Z=h;h=B;try{return z()}finally{h=Z}},t.unstable_scheduleCallback=function(B,z,Z){var he=t.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?he+Z:he):Z=he,B){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=Z+R,B={id:u++,callback:z,priorityLevel:B,startTime:Z,expirationTime:R,sortIndex:-1},Z>he?(B.sortIndex=Z,e(l,B),n(c)===null&&B===n(l)&&(g?(y(P),P=-1):g=!0,W(C,Z-he))):(B.sortIndex=R,e(c,B),m||f||(m=!0,k(N))),B},t.unstable_shouldYield=_,t.unstable_wrapCallback=function(B){var z=h;return function(){var Z=h;h=z;try{return B.apply(this,arguments)}finally{h=Z}}}})(X7);Z7.exports=X7;var ZG=Z7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XG=ce,Lo=ZG;function $e(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var e9=new Set,Qw={};function Bp(t,e){J0(t,e),J0(t+"Capture",e)}function J0(t,e){for(Qw[t]=e,t=0;t<e.length;t++)e9.add(e[t])}var Iu=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c3=Object.prototype.hasOwnProperty,eK=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,W6={},G6={};function tK(t){return c3.call(G6,t)?!0:c3.call(W6,t)?!1:eK.test(t)?G6[t]=!0:(W6[t]=!0,!1)}function nK(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function rK(t,e,n,r){if(e===null||typeof e>"u"||nK(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ts(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ji={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ji[t]=new Ts(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ji[e]=new Ts(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ji[t]=new Ts(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ji[t]=new Ts(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ji[t]=new Ts(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ji[t]=new Ts(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ji[t]=new Ts(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ji[t]=new Ts(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ji[t]=new Ts(t,5,!1,t.toLowerCase(),null,!1,!1)});var bI=/[\-:]([a-z])/g;function xI(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(bI,xI);ji[e]=new Ts(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(bI,xI);ji[e]=new Ts(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(bI,xI);ji[e]=new Ts(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ji[t]=new Ts(t,1,!1,t.toLowerCase(),null,!1,!1)});ji.xlinkHref=new Ts("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ji[t]=new Ts(t,1,!1,t.toLowerCase(),null,!0,!0)});function EI(t,e,n,r){var i=ji.hasOwnProperty(e)?ji[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(rK(e,n,i,r)&&(n=null),r||i===null?tK(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Mu=XG.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,h5=Symbol.for("react.element"),fg=Symbol.for("react.portal"),pg=Symbol.for("react.fragment"),AI=Symbol.for("react.strict_mode"),l3=Symbol.for("react.profiler"),t9=Symbol.for("react.provider"),n9=Symbol.for("react.context"),SI=Symbol.for("react.forward_ref"),u3=Symbol.for("react.suspense"),d3=Symbol.for("react.suspense_list"),CI=Symbol.for("react.memo"),gd=Symbol.for("react.lazy"),r9=Symbol.for("react.offscreen"),K6=Symbol.iterator;function S1(t){return t===null||typeof t!="object"?null:(t=K6&&t[K6]||t["@@iterator"],typeof t=="function"?t:null)}var mr=Object.assign,$C;function nw(t){if($C===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$C=e&&e[1]||""}return`
`+$C+t}var zC=!1;function VC(t,e){if(!t||zC)return"";zC=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&typeof l.stack=="string"){for(var i=l.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{zC=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?nw(t):""}function iK(t){switch(t.tag){case 5:return nw(t.type);case 16:return nw("Lazy");case 13:return nw("Suspense");case 19:return nw("SuspenseList");case 0:case 2:case 15:return t=VC(t.type,!1),t;case 11:return t=VC(t.type.render,!1),t;case 1:return t=VC(t.type,!0),t;default:return""}}function h3(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pg:return"Fragment";case fg:return"Portal";case l3:return"Profiler";case AI:return"StrictMode";case u3:return"Suspense";case d3:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case n9:return(t.displayName||"Context")+".Consumer";case t9:return(t._context.displayName||"Context")+".Provider";case SI:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case CI:return e=t.displayName||null,e!==null?e:h3(t.type)||"Memo";case gd:e=t._payload,t=t._init;try{return h3(t(e))}catch{}}return null}function sK(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return h3(e);case 8:return e===AI?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function gh(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function i9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function oK(t){var e=i9(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function f5(t){t._valueTracker||(t._valueTracker=oK(t))}function s9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=i9(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function aE(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function f3(t,e){var n=e.checked;return mr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Y6(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=gh(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function o9(t,e){e=e.checked,e!=null&&EI(t,"checked",e,!1)}function p3(t,e){o9(t,e);var n=gh(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?m3(t,e.type,n):e.hasOwnProperty("defaultValue")&&m3(t,e.type,gh(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function J6(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function m3(t,e,n){(e!=="number"||aE(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var rw=Array.isArray;function Fg(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+gh(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function g3(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error($e(91));return mr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q6(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error($e(92));if(rw(n)){if(1<n.length)throw Error($e(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:gh(n)}}function a9(t,e){var n=gh(e.value),r=gh(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Z6(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function c9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function y3(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?c9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var p5,l9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(p5=p5||document.createElement("div"),p5.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=p5.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Zw(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var xw={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},aK=["Webkit","ms","Moz","O"];Object.keys(xw).forEach(function(t){aK.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),xw[e]=xw[t]})});function u9(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||xw.hasOwnProperty(t)&&xw[t]?(""+e).trim():e+"px"}function d9(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=u9(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var cK=mr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function w3(t,e){if(e){if(cK[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error($e(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error($e(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error($e(61))}if(e.style!=null&&typeof e.style!="object")throw Error($e(62))}}function v3(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var b3=null;function NI(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var x3=null,$g=null,zg=null;function X6(t){if(t=Vb(t)){if(typeof x3!="function")throw Error($e(280));var e=t.stateNode;e&&(e=qA(e),x3(t.stateNode,t.type,e))}}function h9(t){$g?zg?zg.push(t):zg=[t]:$g=t}function f9(){if($g){var t=$g,e=zg;if(zg=$g=null,X6(t),e)for(t=0;t<e.length;t++)X6(e[t])}}function p9(t,e){return t(e)}function m9(){}var HC=!1;function g9(t,e,n){if(HC)return t(e,n);HC=!0;try{return p9(t,e,n)}finally{HC=!1,($g!==null||zg!==null)&&(m9(),f9())}}function Xw(t,e){var n=t.stateNode;if(n===null)return null;var r=qA(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error($e(231,e,typeof n));return n}var E3=!1;if(Iu)try{var C1={};Object.defineProperty(C1,"passive",{get:function(){E3=!0}}),window.addEventListener("test",C1,C1),window.removeEventListener("test",C1,C1)}catch{E3=!1}function lK(t,e,n,r,i,s,o,a,c){var l=Array.prototype.slice.call(arguments,3);try{e.apply(n,l)}catch(u){this.onError(u)}}var Ew=!1,cE=null,lE=!1,A3=null,uK={onError:function(t){Ew=!0,cE=t}};function dK(t,e,n,r,i,s,o,a,c){Ew=!1,cE=null,lK.apply(uK,arguments)}function hK(t,e,n,r,i,s,o,a,c){if(dK.apply(this,arguments),Ew){if(Ew){var l=cE;Ew=!1,cE=null}else throw Error($e(198));lE||(lE=!0,A3=l)}}function Up(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function y9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eO(t){if(Up(t)!==t)throw Error($e(188))}function fK(t){var e=t.alternate;if(!e){if(e=Up(t),e===null)throw Error($e(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return eO(i),t;if(s===r)return eO(i),e;s=s.sibling}throw Error($e(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error($e(189))}}if(n.alternate!==r)throw Error($e(190))}if(n.tag!==3)throw Error($e(188));return n.stateNode.current===n?t:e}function w9(t){return t=fK(t),t!==null?v9(t):null}function v9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=v9(t);if(e!==null)return e;t=t.sibling}return null}var b9=Lo.unstable_scheduleCallback,tO=Lo.unstable_cancelCallback,pK=Lo.unstable_shouldYield,mK=Lo.unstable_requestPaint,kr=Lo.unstable_now,gK=Lo.unstable_getCurrentPriorityLevel,_I=Lo.unstable_ImmediatePriority,x9=Lo.unstable_UserBlockingPriority,uE=Lo.unstable_NormalPriority,yK=Lo.unstable_LowPriority,E9=Lo.unstable_IdlePriority,$A=null,ol=null;function wK(t){if(ol&&typeof ol.onCommitFiberRoot=="function")try{ol.onCommitFiberRoot($A,t,void 0,(t.current.flags&128)===128)}catch{}}var cc=Math.clz32?Math.clz32:xK,vK=Math.log,bK=Math.LN2;function xK(t){return t>>>=0,t===0?32:31-(vK(t)/bK|0)|0}var m5=64,g5=4194304;function iw(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dE(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=iw(a):(s&=o,s!==0&&(r=iw(s)))}else o=n&~i,o!==0?r=iw(o):s!==0&&(r=iw(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-cc(e),i=1<<n,r|=t[n],e&=~i;return r}function EK(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AK(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-cc(s),a=1<<o,c=i[o];c===-1?(!(a&n)||a&r)&&(i[o]=EK(a,e)):c<=e&&(t.expiredLanes|=a),s&=~a}}function S3(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function A9(){var t=m5;return m5<<=1,!(m5&4194240)&&(m5=64),t}function qC(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function $b(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-cc(e),t[e]=n}function SK(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-cc(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function PI(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-cc(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Tn=0;function S9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var C9,II,N9,_9,P9,C3=!1,y5=[],th=null,nh=null,rh=null,ev=new Map,tv=new Map,xd=[],CK="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nO(t,e){switch(t){case"focusin":case"focusout":th=null;break;case"dragenter":case"dragleave":nh=null;break;case"mouseover":case"mouseout":rh=null;break;case"pointerover":case"pointerout":ev.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":tv.delete(e.pointerId)}}function N1(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Vb(e),e!==null&&II(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function NK(t,e,n,r,i){switch(e){case"focusin":return th=N1(th,t,e,n,r,i),!0;case"dragenter":return nh=N1(nh,t,e,n,r,i),!0;case"mouseover":return rh=N1(rh,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return ev.set(s,N1(ev.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,tv.set(s,N1(tv.get(s)||null,t,e,n,r,i)),!0}return!1}function I9(t){var e=vf(t.target);if(e!==null){var n=Up(e);if(n!==null){if(e=n.tag,e===13){if(e=y9(n),e!==null){t.blockedOn=e,P9(t.priority,function(){N9(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=N3(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);b3=r,n.target.dispatchEvent(r),b3=null}else return e=Vb(n),e!==null&&II(e),t.blockedOn=n,!1;e.shift()}return!0}function rO(t,e,n){vx(t)&&n.delete(e)}function _K(){C3=!1,th!==null&&vx(th)&&(th=null),nh!==null&&vx(nh)&&(nh=null),rh!==null&&vx(rh)&&(rh=null),ev.forEach(rO),tv.forEach(rO)}function _1(t,e){t.blockedOn===e&&(t.blockedOn=null,C3||(C3=!0,Lo.unstable_scheduleCallback(Lo.unstable_NormalPriority,_K)))}function nv(t){function e(i){return _1(i,t)}if(0<y5.length){_1(y5[0],t);for(var n=1;n<y5.length;n++){var r=y5[n];r.blockedOn===t&&(r.blockedOn=null)}}for(th!==null&&_1(th,t),nh!==null&&_1(nh,t),rh!==null&&_1(rh,t),ev.forEach(e),tv.forEach(e),n=0;n<xd.length;n++)r=xd[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<xd.length&&(n=xd[0],n.blockedOn===null);)I9(n),n.blockedOn===null&&xd.shift()}var Vg=Mu.ReactCurrentBatchConfig,hE=!0;function PK(t,e,n,r){var i=Tn,s=Vg.transition;Vg.transition=null;try{Tn=1,TI(t,e,n,r)}finally{Tn=i,Vg.transition=s}}function IK(t,e,n,r){var i=Tn,s=Vg.transition;Vg.transition=null;try{Tn=4,TI(t,e,n,r)}finally{Tn=i,Vg.transition=s}}function TI(t,e,n,r){if(hE){var i=N3(t,e,n,r);if(i===null)tN(t,e,r,fE,n),nO(t,r);else if(NK(i,t,e,n,r))r.stopPropagation();else if(nO(t,r),e&4&&-1<CK.indexOf(t)){for(;i!==null;){var s=Vb(i);if(s!==null&&C9(s),s=N3(t,e,n,r),s===null&&tN(t,e,r,fE,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else tN(t,e,r,null,n)}}var fE=null;function N3(t,e,n,r){if(fE=null,t=NI(r),t=vf(t),t!==null)if(e=Up(t),e===null)t=null;else if(n=e.tag,n===13){if(t=y9(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return fE=t,null}function T9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gK()){case _I:return 1;case x9:return 4;case uE:case yK:return 16;case E9:return 536870912;default:return 16}default:return 16}}var Gd=null,kI=null,bx=null;function k9(){if(bx)return bx;var t,e=kI,n=e.length,r,i="value"in Gd?Gd.value:Gd.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return bx=i.slice(t,1<r?1-r:void 0)}function xx(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function w5(){return!0}function iO(){return!1}function Uo(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?w5:iO,this.isPropagationStopped=iO,this}return mr(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=w5)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=w5)},persist:function(){},isPersistent:w5}),e}var Oy={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},OI=Uo(Oy),zb=mr({},Oy,{view:0,detail:0}),TK=Uo(zb),WC,GC,P1,zA=mr({},zb,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:RI,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==P1&&(P1&&t.type==="mousemove"?(WC=t.screenX-P1.screenX,GC=t.screenY-P1.screenY):GC=WC=0,P1=t),WC)},movementY:function(t){return"movementY"in t?t.movementY:GC}}),sO=Uo(zA),kK=mr({},zA,{dataTransfer:0}),OK=Uo(kK),RK=mr({},zb,{relatedTarget:0}),KC=Uo(RK),LK=mr({},Oy,{animationName:0,elapsedTime:0,pseudoElement:0}),DK=Uo(LK),jK=mr({},Oy,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),MK=Uo(jK),BK=mr({},Oy,{data:0}),oO=Uo(BK),UK={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FK={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$K={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zK(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=$K[t])?!!e[t]:!1}function RI(){return zK}var VK=mr({},zb,{key:function(t){if(t.key){var e=UK[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=xx(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FK[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:RI,charCode:function(t){return t.type==="keypress"?xx(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?xx(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HK=Uo(VK),qK=mr({},zA,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),aO=Uo(qK),WK=mr({},zb,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:RI}),GK=Uo(WK),KK=mr({},Oy,{propertyName:0,elapsedTime:0,pseudoElement:0}),YK=Uo(KK),JK=mr({},zA,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QK=Uo(JK),ZK=[9,13,27,32],LI=Iu&&"CompositionEvent"in window,Aw=null;Iu&&"documentMode"in document&&(Aw=document.documentMode);var XK=Iu&&"TextEvent"in window&&!Aw,O9=Iu&&(!LI||Aw&&8<Aw&&11>=Aw),cO=" ",lO=!1;function R9(t,e){switch(t){case"keyup":return ZK.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function L9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var mg=!1;function eY(t,e){switch(t){case"compositionend":return L9(e);case"keypress":return e.which!==32?null:(lO=!0,cO);case"textInput":return t=e.data,t===cO&&lO?null:t;default:return null}}function tY(t,e){if(mg)return t==="compositionend"||!LI&&R9(t,e)?(t=k9(),bx=kI=Gd=null,mg=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return O9&&e.locale!=="ko"?null:e.data;default:return null}}var nY={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uO(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!nY[t.type]:e==="textarea"}function D9(t,e,n,r){h9(r),e=pE(e,"onChange"),0<e.length&&(n=new OI("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sw=null,rv=null;function rY(t){W9(t,0)}function VA(t){var e=wg(t);if(s9(e))return t}function iY(t,e){if(t==="change")return e}var j9=!1;if(Iu){var YC;if(Iu){var JC="oninput"in document;if(!JC){var dO=document.createElement("div");dO.setAttribute("oninput","return;"),JC=typeof dO.oninput=="function"}YC=JC}else YC=!1;j9=YC&&(!document.documentMode||9<document.documentMode)}function hO(){Sw&&(Sw.detachEvent("onpropertychange",M9),rv=Sw=null)}function M9(t){if(t.propertyName==="value"&&VA(rv)){var e=[];D9(e,rv,t,NI(t)),g9(rY,e)}}function sY(t,e,n){t==="focusin"?(hO(),Sw=e,rv=n,Sw.attachEvent("onpropertychange",M9)):t==="focusout"&&hO()}function oY(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return VA(rv)}function aY(t,e){if(t==="click")return VA(e)}function cY(t,e){if(t==="input"||t==="change")return VA(e)}function lY(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fc=typeof Object.is=="function"?Object.is:lY;function iv(t,e){if(fc(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!c3.call(e,i)||!fc(t[i],e[i]))return!1}return!0}function fO(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pO(t,e){var n=fO(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fO(n)}}function B9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function U9(){for(var t=window,e=aE();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=aE(t.document)}return e}function DI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function uY(t){var e=U9(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&B9(n.ownerDocument.documentElement,n)){if(r!==null&&DI(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=pO(n,s);var o=pO(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var dY=Iu&&"documentMode"in document&&11>=document.documentMode,gg=null,_3=null,Cw=null,P3=!1;function mO(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;P3||gg==null||gg!==aE(r)||(r=gg,"selectionStart"in r&&DI(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cw&&iv(Cw,r)||(Cw=r,r=pE(_3,"onSelect"),0<r.length&&(e=new OI("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=gg)))}function v5(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var yg={animationend:v5("Animation","AnimationEnd"),animationiteration:v5("Animation","AnimationIteration"),animationstart:v5("Animation","AnimationStart"),transitionend:v5("Transition","TransitionEnd")},QC={},F9={};Iu&&(F9=document.createElement("div").style,"AnimationEvent"in window||(delete yg.animationend.animation,delete yg.animationiteration.animation,delete yg.animationstart.animation),"TransitionEvent"in window||delete yg.transitionend.transition);function HA(t){if(QC[t])return QC[t];if(!yg[t])return t;var e=yg[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in F9)return QC[t]=e[n];return t}var $9=HA("animationend"),z9=HA("animationiteration"),V9=HA("animationstart"),H9=HA("transitionend"),q9=new Map,gO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function _h(t,e){q9.set(t,e),Bp(e,[t])}for(var ZC=0;ZC<gO.length;ZC++){var XC=gO[ZC],hY=XC.toLowerCase(),fY=XC[0].toUpperCase()+XC.slice(1);_h(hY,"on"+fY)}_h($9,"onAnimationEnd");_h(z9,"onAnimationIteration");_h(V9,"onAnimationStart");_h("dblclick","onDoubleClick");_h("focusin","onFocus");_h("focusout","onBlur");_h(H9,"onTransitionEnd");J0("onMouseEnter",["mouseout","mouseover"]);J0("onMouseLeave",["mouseout","mouseover"]);J0("onPointerEnter",["pointerout","pointerover"]);J0("onPointerLeave",["pointerout","pointerover"]);Bp("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Bp("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Bp("onBeforeInput",["compositionend","keypress","textInput","paste"]);Bp("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Bp("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Bp("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var sw="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),pY=new Set("cancel close invalid load scroll toggle".split(" ").concat(sw));function yO(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,hK(r,e,void 0,t),t.currentTarget=null}function W9(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,l=a.currentTarget;if(a=a.listener,c!==s&&i.isPropagationStopped())break e;yO(i,a,l),s=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,l=a.currentTarget,a=a.listener,c!==s&&i.isPropagationStopped())break e;yO(i,a,l),s=c}}}if(lE)throw t=A3,lE=!1,A3=null,t}function Xn(t,e){var n=e[R3];n===void 0&&(n=e[R3]=new Set);var r=t+"__bubble";n.has(r)||(G9(e,t,2,!1),n.add(r))}function eN(t,e,n){var r=0;e&&(r|=4),G9(n,t,r,e)}var b5="_reactListening"+Math.random().toString(36).slice(2);function sv(t){if(!t[b5]){t[b5]=!0,e9.forEach(function(n){n!=="selectionchange"&&(pY.has(n)||eN(n,!1,t),eN(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[b5]||(e[b5]=!0,eN("selectionchange",!1,e))}}function G9(t,e,n,r){switch(T9(e)){case 1:var i=PK;break;case 4:i=IK;break;default:i=TI}n=i.bind(null,e,n,t),i=void 0,!E3||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function tN(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;a!==null;){if(o=vf(a),o===null)return;if(c=o.tag,c===5||c===6){r=s=o;continue e}a=a.parentNode}}r=r.return}g9(function(){var l=s,u=NI(n),d=[];e:{var h=q9.get(t);if(h!==void 0){var f=OI,m=t;switch(t){case"keypress":if(xx(n)===0)break e;case"keydown":case"keyup":f=HK;break;case"focusin":m="focus",f=KC;break;case"focusout":m="blur",f=KC;break;case"beforeblur":case"afterblur":f=KC;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=sO;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=OK;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=GK;break;case $9:case z9:case V9:f=DK;break;case H9:f=YK;break;case"scroll":f=TK;break;case"wheel":f=QK;break;case"copy":case"cut":case"paste":f=MK;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=aO}var g=(e&4)!==0,E=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var w=l,x;w!==null;){x=w;var C=x.stateNode;if(x.tag===5&&C!==null&&(x=C,y!==null&&(C=Xw(w,y),C!=null&&g.push(ov(w,C,x)))),E)break;w=w.return}0<g.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==b3&&(m=n.relatedTarget||n.fromElement)&&(vf(m)||m[Tu]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=l,m=m?vf(m):null,m!==null&&(E=Up(m),m!==E||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=l),f!==m)){if(g=sO,C="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(g=aO,C="onPointerLeave",y="onPointerEnter",w="pointer"),E=f==null?h:wg(f),x=m==null?h:wg(m),h=new g(C,w+"leave",f,n,u),h.target=E,h.relatedTarget=x,C=null,vf(u)===l&&(g=new g(y,w+"enter",m,n,u),g.target=x,g.relatedTarget=E,C=g),E=C,f&&m)t:{for(g=f,y=m,w=0,x=g;x;x=Pm(x))w++;for(x=0,C=y;C;C=Pm(C))x++;for(;0<w-x;)g=Pm(g),w--;for(;0<x-w;)y=Pm(y),x--;for(;w--;){if(g===y||y!==null&&g===y.alternate)break t;g=Pm(g),y=Pm(y)}g=null}else g=null;f!==null&&wO(d,h,f,g,!1),m!==null&&E!==null&&wO(d,E,m,g,!0)}}e:{if(h=l?wg(l):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var N=iY;else if(uO(h))if(j9)N=cY;else{N=oY;var D=sY}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(N=aY);if(N&&(N=N(t,l))){D9(d,N,n,u);break e}D&&D(t,h,l),t==="focusout"&&(D=h._wrapperState)&&D.controlled&&h.type==="number"&&m3(h,"number",h.value)}switch(D=l?wg(l):window,t){case"focusin":(uO(D)||D.contentEditable==="true")&&(gg=D,_3=l,Cw=null);break;case"focusout":Cw=_3=gg=null;break;case"mousedown":P3=!0;break;case"contextmenu":case"mouseup":case"dragend":P3=!1,mO(d,n,u);break;case"selectionchange":if(dY)break;case"keydown":case"keyup":mO(d,n,u)}var O;if(LI)e:{switch(t){case"compositionstart":var P="onCompositionStart";break e;case"compositionend":P="onCompositionEnd";break e;case"compositionupdate":P="onCompositionUpdate";break e}P=void 0}else mg?R9(t,n)&&(P="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(P="onCompositionStart");P&&(O9&&n.locale!=="ko"&&(mg||P!=="onCompositionStart"?P==="onCompositionEnd"&&mg&&(O=k9()):(Gd=u,kI="value"in Gd?Gd.value:Gd.textContent,mg=!0)),D=pE(l,P),0<D.length&&(P=new oO(P,t,null,n,u),d.push({event:P,listeners:D}),O?P.data=O:(O=L9(n),O!==null&&(P.data=O)))),(O=XK?eY(t,n):tY(t,n))&&(l=pE(l,"onBeforeInput"),0<l.length&&(u=new oO("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:l}),u.data=O))}W9(d,e)})}function ov(t,e,n){return{instance:t,listener:e,currentTarget:n}}function pE(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xw(t,n),s!=null&&r.unshift(ov(t,s,i)),s=Xw(t,e),s!=null&&r.push(ov(t,s,i))),t=t.return}return r}function Pm(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function wO(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,l=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&l!==null&&(a=l,i?(c=Xw(n,s),c!=null&&o.unshift(ov(n,c,a))):i||(c=Xw(n,s),c!=null&&o.push(ov(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var mY=/\r\n?/g,gY=/\u0000|\uFFFD/g;function vO(t){return(typeof t=="string"?t:""+t).replace(mY,`
`).replace(gY,"")}function x5(t,e,n){if(e=vO(e),vO(t)!==e&&n)throw Error($e(425))}function mE(){}var I3=null,T3=null;function k3(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var O3=typeof setTimeout=="function"?setTimeout:void 0,yY=typeof clearTimeout=="function"?clearTimeout:void 0,bO=typeof Promise=="function"?Promise:void 0,wY=typeof queueMicrotask=="function"?queueMicrotask:typeof bO<"u"?function(t){return bO.resolve(null).then(t).catch(vY)}:O3;function vY(t){setTimeout(function(){throw t})}function nN(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),nv(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);nv(e)}function ih(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function xO(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Ry=Math.random().toString(36).slice(2),el="__reactFiber$"+Ry,av="__reactProps$"+Ry,Tu="__reactContainer$"+Ry,R3="__reactEvents$"+Ry,bY="__reactListeners$"+Ry,xY="__reactHandles$"+Ry;function vf(t){var e=t[el];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Tu]||n[el]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=xO(t);t!==null;){if(n=t[el])return n;t=xO(t)}return e}t=n,n=t.parentNode}return null}function Vb(t){return t=t[el]||t[Tu],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function wg(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error($e(33))}function qA(t){return t[av]||null}var L3=[],vg=-1;function Ph(t){return{current:t}}function rr(t){0>vg||(t.current=L3[vg],L3[vg]=null,vg--)}function Zn(t,e){vg++,L3[vg]=t.current,t.current=e}var yh={},cs=Ph(yh),Qs=Ph(!1),hp=yh;function Q0(t,e){var n=t.type.contextTypes;if(!n)return yh;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Zs(t){return t=t.childContextTypes,t!=null}function gE(){rr(Qs),rr(cs)}function EO(t,e,n){if(cs.current!==yh)throw Error($e(168));Zn(cs,e),Zn(Qs,n)}function K9(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error($e(108,sK(t)||"Unknown",i));return mr({},n,r)}function yE(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||yh,hp=cs.current,Zn(cs,t),Zn(Qs,Qs.current),!0}function AO(t,e,n){var r=t.stateNode;if(!r)throw Error($e(169));n?(t=K9(t,e,hp),r.__reactInternalMemoizedMergedChildContext=t,rr(Qs),rr(cs),Zn(cs,t)):rr(Qs),Zn(Qs,n)}var tu=null,WA=!1,rN=!1;function Y9(t){tu===null?tu=[t]:tu.push(t)}function EY(t){WA=!0,Y9(t)}function Ih(){if(!rN&&tu!==null){rN=!0;var t=0,e=Tn;try{var n=tu;for(Tn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}tu=null,WA=!1}catch(i){throw tu!==null&&(tu=tu.slice(t+1)),b9(_I,Ih),i}finally{Tn=e,rN=!1}}return null}var bg=[],xg=0,wE=null,vE=0,pa=[],ma=0,fp=null,wu=1,vu="";function ef(t,e){bg[xg++]=vE,bg[xg++]=wE,wE=t,vE=e}function J9(t,e,n){pa[ma++]=wu,pa[ma++]=vu,pa[ma++]=fp,fp=t;var r=wu;t=vu;var i=32-cc(r)-1;r&=~(1<<i),n+=1;var s=32-cc(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,wu=1<<32-cc(e)+i|n<<i|r,vu=s+t}else wu=1<<s|n<<i|r,vu=t}function jI(t){t.return!==null&&(ef(t,1),J9(t,1,0))}function MI(t){for(;t===wE;)wE=bg[--xg],bg[xg]=null,vE=bg[--xg],bg[xg]=null;for(;t===fp;)fp=pa[--ma],pa[ma]=null,vu=pa[--ma],pa[ma]=null,wu=pa[--ma],pa[ma]=null}var ko=null,Po=null,ar=!1,nc=null;function Q9(t,e){var n=ga(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function SO(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ko=t,Po=ih(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ko=t,Po=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fp!==null?{id:wu,overflow:vu}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ga(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ko=t,Po=null,!0):!1;default:return!1}}function D3(t){return(t.mode&1)!==0&&(t.flags&128)===0}function j3(t){if(ar){var e=Po;if(e){var n=e;if(!SO(t,e)){if(D3(t))throw Error($e(418));e=ih(n.nextSibling);var r=ko;e&&SO(t,e)?Q9(r,n):(t.flags=t.flags&-4097|2,ar=!1,ko=t)}}else{if(D3(t))throw Error($e(418));t.flags=t.flags&-4097|2,ar=!1,ko=t}}}function CO(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ko=t}function E5(t){if(t!==ko)return!1;if(!ar)return CO(t),ar=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!k3(t.type,t.memoizedProps)),e&&(e=Po)){if(D3(t))throw Z9(),Error($e(418));for(;e;)Q9(t,e),e=ih(e.nextSibling)}if(CO(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error($e(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Po=ih(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Po=null}}else Po=ko?ih(t.stateNode.nextSibling):null;return!0}function Z9(){for(var t=Po;t;)t=ih(t.nextSibling)}function Z0(){Po=ko=null,ar=!1}function BI(t){nc===null?nc=[t]:nc.push(t)}var AY=Mu.ReactCurrentBatchConfig;function I1(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error($e(309));var r=n.stateNode}if(!r)throw Error($e(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error($e(284));if(!n._owner)throw Error($e(290,t))}return t}function A5(t,e){throw t=Object.prototype.toString.call(e),Error($e(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function NO(t){var e=t._init;return e(t._payload)}function X9(t){function e(y,w){if(t){var x=y.deletions;x===null?(y.deletions=[w],y.flags|=16):x.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=ch(y,w),y.index=0,y.sibling=null,y}function s(y,w,x){return y.index=x,t?(x=y.alternate,x!==null?(x=x.index,x<w?(y.flags|=2,w):x):(y.flags|=2,w)):(y.flags|=1048576,w)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,w,x,C){return w===null||w.tag!==6?(w=uN(x,y.mode,C),w.return=y,w):(w=i(w,x),w.return=y,w)}function c(y,w,x,C){var N=x.type;return N===pg?u(y,w,x.props.children,C,x.key):w!==null&&(w.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===gd&&NO(N)===w.type)?(C=i(w,x.props),C.ref=I1(y,w,x),C.return=y,C):(C=Px(x.type,x.key,x.props,null,y.mode,C),C.ref=I1(y,w,x),C.return=y,C)}function l(y,w,x,C){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=dN(x,y.mode,C),w.return=y,w):(w=i(w,x.children||[]),w.return=y,w)}function u(y,w,x,C,N){return w===null||w.tag!==7?(w=tp(x,y.mode,C,N),w.return=y,w):(w=i(w,x),w.return=y,w)}function d(y,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=uN(""+w,y.mode,x),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case h5:return x=Px(w.type,w.key,w.props,null,y.mode,x),x.ref=I1(y,null,w),x.return=y,x;case fg:return w=dN(w,y.mode,x),w.return=y,w;case gd:var C=w._init;return d(y,C(w._payload),x)}if(rw(w)||S1(w))return w=tp(w,y.mode,x,null),w.return=y,w;A5(y,w)}return null}function h(y,w,x,C){var N=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return N!==null?null:a(y,w,""+x,C);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case h5:return x.key===N?c(y,w,x,C):null;case fg:return x.key===N?l(y,w,x,C):null;case gd:return N=x._init,h(y,w,N(x._payload),C)}if(rw(x)||S1(x))return N!==null?null:u(y,w,x,C,null);A5(y,x)}return null}function f(y,w,x,C,N){if(typeof C=="string"&&C!==""||typeof C=="number")return y=y.get(x)||null,a(w,y,""+C,N);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case h5:return y=y.get(C.key===null?x:C.key)||null,c(w,y,C,N);case fg:return y=y.get(C.key===null?x:C.key)||null,l(w,y,C,N);case gd:var D=C._init;return f(y,w,x,D(C._payload),N)}if(rw(C)||S1(C))return y=y.get(x)||null,u(w,y,C,N,null);A5(w,C)}return null}function m(y,w,x,C){for(var N=null,D=null,O=w,P=w=0,L=null;O!==null&&P<x.length;P++){O.index>P?(L=O,O=null):L=O.sibling;var $=h(y,O,x[P],C);if($===null){O===null&&(O=L);break}t&&O&&$.alternate===null&&e(y,O),w=s($,w,P),D===null?N=$:D.sibling=$,D=$,O=L}if(P===x.length)return n(y,O),ar&&ef(y,P),N;if(O===null){for(;P<x.length;P++)O=d(y,x[P],C),O!==null&&(w=s(O,w,P),D===null?N=O:D.sibling=O,D=O);return ar&&ef(y,P),N}for(O=r(y,O);P<x.length;P++)L=f(O,y,P,x[P],C),L!==null&&(t&&L.alternate!==null&&O.delete(L.key===null?P:L.key),w=s(L,w,P),D===null?N=L:D.sibling=L,D=L);return t&&O.forEach(function(_){return e(y,_)}),ar&&ef(y,P),N}function g(y,w,x,C){var N=S1(x);if(typeof N!="function")throw Error($e(150));if(x=N.call(x),x==null)throw Error($e(151));for(var D=N=null,O=w,P=w=0,L=null,$=x.next();O!==null&&!$.done;P++,$=x.next()){O.index>P?(L=O,O=null):L=O.sibling;var _=h(y,O,$.value,C);if(_===null){O===null&&(O=L);break}t&&O&&_.alternate===null&&e(y,O),w=s(_,w,P),D===null?N=_:D.sibling=_,D=_,O=L}if($.done)return n(y,O),ar&&ef(y,P),N;if(O===null){for(;!$.done;P++,$=x.next())$=d(y,$.value,C),$!==null&&(w=s($,w,P),D===null?N=$:D.sibling=$,D=$);return ar&&ef(y,P),N}for(O=r(y,O);!$.done;P++,$=x.next())$=f(O,y,P,$.value,C),$!==null&&(t&&$.alternate!==null&&O.delete($.key===null?P:$.key),w=s($,w,P),D===null?N=$:D.sibling=$,D=$);return t&&O.forEach(function(j){return e(y,j)}),ar&&ef(y,P),N}function E(y,w,x,C){if(typeof x=="object"&&x!==null&&x.type===pg&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case h5:e:{for(var N=x.key,D=w;D!==null;){if(D.key===N){if(N=x.type,N===pg){if(D.tag===7){n(y,D.sibling),w=i(D,x.props.children),w.return=y,y=w;break e}}else if(D.elementType===N||typeof N=="object"&&N!==null&&N.$$typeof===gd&&NO(N)===D.type){n(y,D.sibling),w=i(D,x.props),w.ref=I1(y,D,x),w.return=y,y=w;break e}n(y,D);break}else e(y,D);D=D.sibling}x.type===pg?(w=tp(x.props.children,y.mode,C,x.key),w.return=y,y=w):(C=Px(x.type,x.key,x.props,null,y.mode,C),C.ref=I1(y,w,x),C.return=y,y=C)}return o(y);case fg:e:{for(D=x.key;w!==null;){if(w.key===D)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(y,w.sibling),w=i(w,x.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=dN(x,y.mode,C),w.return=y,y=w}return o(y);case gd:return D=x._init,E(y,w,D(x._payload),C)}if(rw(x))return m(y,w,x,C);if(S1(x))return g(y,w,x,C);A5(y,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,x),w.return=y,y=w):(n(y,w),w=uN(x,y.mode,C),w.return=y,y=w),o(y)):n(y,w)}return E}var X0=X9(!0),eB=X9(!1),bE=Ph(null),xE=null,Eg=null,UI=null;function FI(){UI=Eg=xE=null}function $I(t){var e=bE.current;rr(bE),t._currentValue=e}function M3(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Hg(t,e){xE=t,UI=Eg=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Js=!0),t.firstContext=null)}function va(t){var e=t._currentValue;if(UI!==t)if(t={context:t,memoizedValue:e,next:null},Eg===null){if(xE===null)throw Error($e(308));Eg=t,xE.dependencies={lanes:0,firstContext:t}}else Eg=Eg.next=t;return e}var bf=null;function zI(t){bf===null?bf=[t]:bf.push(t)}function tB(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,zI(e)):(n.next=i.next,i.next=n),e.interleaved=n,ku(t,r)}function ku(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var yd=!1;function VI(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Eu(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sh(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,un&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,ku(t,n)}return i=r.interleaved,i===null?(e.next=e,zI(r)):(e.next=i.next,i.next=e),r.interleaved=e,ku(t,n)}function Ex(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,PI(t,n)}}function _O(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function EE(t,e,n,r){var i=t.updateQueue;yd=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var c=a,l=c.next;c.next=null,o===null?s=l:o.next=l,o=c;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==o&&(a===null?u.firstBaseUpdate=l:a.next=l,u.lastBaseUpdate=c))}if(s!==null){var d=i.baseState;o=0,u=l=c=null,a=s;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(h=e,f=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=mr({},d,h);break e;case 2:yd=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(l=u=f,c=d):u=u.next=f,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(u===null&&(c=d),i.baseState=c,i.firstBaseUpdate=l,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);mp|=o,t.lanes=o,t.memoizedState=d}}function PO(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error($e(191,i));i.call(r)}}}var Hb={},al=Ph(Hb),cv=Ph(Hb),lv=Ph(Hb);function xf(t){if(t===Hb)throw Error($e(174));return t}function HI(t,e){switch(Zn(lv,e),Zn(cv,t),Zn(al,Hb),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:y3(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=y3(e,t)}rr(al),Zn(al,e)}function ey(){rr(al),rr(cv),rr(lv)}function rB(t){xf(lv.current);var e=xf(al.current),n=y3(e,t.type);e!==n&&(Zn(cv,t),Zn(al,n))}function qI(t){cv.current===t&&(rr(al),rr(cv))}var dr=Ph(0);function AE(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var iN=[];function WI(){for(var t=0;t<iN.length;t++)iN[t]._workInProgressVersionPrimary=null;iN.length=0}var Ax=Mu.ReactCurrentDispatcher,sN=Mu.ReactCurrentBatchConfig,pp=0,pr=null,ti=null,hi=null,SE=!1,Nw=!1,uv=0,SY=0;function Vi(){throw Error($e(321))}function GI(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!fc(t[n],e[n]))return!1;return!0}function KI(t,e,n,r,i,s){if(pp=s,pr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ax.current=t===null||t.memoizedState===null?PY:IY,t=n(r,i),Nw){s=0;do{if(Nw=!1,uv=0,25<=s)throw Error($e(301));s+=1,hi=ti=null,e.updateQueue=null,Ax.current=TY,t=n(r,i)}while(Nw)}if(Ax.current=CE,e=ti!==null&&ti.next!==null,pp=0,hi=ti=pr=null,SE=!1,e)throw Error($e(300));return t}function YI(){var t=uv!==0;return uv=0,t}function Uc(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return hi===null?pr.memoizedState=hi=t:hi=hi.next=t,hi}function ba(){if(ti===null){var t=pr.alternate;t=t!==null?t.memoizedState:null}else t=ti.next;var e=hi===null?pr.memoizedState:hi.next;if(e!==null)hi=e,ti=t;else{if(t===null)throw Error($e(310));ti=t,t={memoizedState:ti.memoizedState,baseState:ti.baseState,baseQueue:ti.baseQueue,queue:ti.queue,next:null},hi===null?pr.memoizedState=hi=t:hi=hi.next=t}return hi}function dv(t,e){return typeof e=="function"?e(t):e}function oN(t){var e=ba(),n=e.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=t;var r=ti,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,c=null,l=s;do{var u=l.lane;if((pp&u)===u)c!==null&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:t(r,l.action);else{var d={lane:u,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};c===null?(a=c=d,o=r):c=c.next=d,pr.lanes|=u,mp|=u}l=l.next}while(l!==null&&l!==s);c===null?o=r:c.next=a,fc(r,e.memoizedState)||(Js=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,pr.lanes|=s,mp|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function aN(t){var e=ba(),n=e.queue;if(n===null)throw Error($e(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);fc(s,e.memoizedState)||(Js=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function iB(){}function sB(t,e){var n=pr,r=ba(),i=e(),s=!fc(r.memoizedState,i);if(s&&(r.memoizedState=i,Js=!0),r=r.queue,JI(cB.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||hi!==null&&hi.memoizedState.tag&1){if(n.flags|=2048,hv(9,aB.bind(null,n,r,i,e),void 0,null),bi===null)throw Error($e(349));pp&30||oB(n,e,i)}return i}function oB(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pr.updateQueue,e===null?(e={lastEffect:null,stores:null},pr.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function aB(t,e,n,r){e.value=n,e.getSnapshot=r,lB(e)&&uB(t)}function cB(t,e,n){return n(function(){lB(e)&&uB(t)})}function lB(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!fc(t,n)}catch{return!0}}function uB(t){var e=ku(t,1);e!==null&&lc(e,t,1,-1)}function IO(t){var e=Uc();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:dv,lastRenderedState:t},e.queue=t,t=t.dispatch=_Y.bind(null,pr,t),[e.memoizedState,t]}function hv(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pr.updateQueue,e===null?(e={lastEffect:null,stores:null},pr.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function dB(){return ba().memoizedState}function Sx(t,e,n,r){var i=Uc();pr.flags|=t,i.memoizedState=hv(1|e,n,void 0,r===void 0?null:r)}function GA(t,e,n,r){var i=ba();r=r===void 0?null:r;var s=void 0;if(ti!==null){var o=ti.memoizedState;if(s=o.destroy,r!==null&&GI(r,o.deps)){i.memoizedState=hv(e,n,s,r);return}}pr.flags|=t,i.memoizedState=hv(1|e,n,s,r)}function TO(t,e){return Sx(8390656,8,t,e)}function JI(t,e){return GA(2048,8,t,e)}function hB(t,e){return GA(4,2,t,e)}function fB(t,e){return GA(4,4,t,e)}function pB(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function mB(t,e,n){return n=n!=null?n.concat([t]):null,GA(4,4,pB.bind(null,e,t),n)}function QI(){}function gB(t,e){var n=ba();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GI(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function yB(t,e){var n=ba();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&GI(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function wB(t,e,n){return pp&21?(fc(n,e)||(n=A9(),pr.lanes|=n,mp|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Js=!0),t.memoizedState=n)}function CY(t,e){var n=Tn;Tn=n!==0&&4>n?n:4,t(!0);var r=sN.transition;sN.transition={};try{t(!1),e()}finally{Tn=n,sN.transition=r}}function vB(){return ba().memoizedState}function NY(t,e,n){var r=ah(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},bB(t))xB(e,n);else if(n=tB(t,e,n,r),n!==null){var i=Ns();lc(n,t,r,i),EB(n,e,r)}}function _Y(t,e,n){var r=ah(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(bB(t))xB(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,fc(a,o)){var c=e.interleaved;c===null?(i.next=i,zI(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}n=tB(t,e,i,r),n!==null&&(i=Ns(),lc(n,t,r,i),EB(n,e,r))}}function bB(t){var e=t.alternate;return t===pr||e!==null&&e===pr}function xB(t,e){Nw=SE=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function EB(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,PI(t,n)}}var CE={readContext:va,useCallback:Vi,useContext:Vi,useEffect:Vi,useImperativeHandle:Vi,useInsertionEffect:Vi,useLayoutEffect:Vi,useMemo:Vi,useReducer:Vi,useRef:Vi,useState:Vi,useDebugValue:Vi,useDeferredValue:Vi,useTransition:Vi,useMutableSource:Vi,useSyncExternalStore:Vi,useId:Vi,unstable_isNewReconciler:!1},PY={readContext:va,useCallback:function(t,e){return Uc().memoizedState=[t,e===void 0?null:e],t},useContext:va,useEffect:TO,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sx(4194308,4,pB.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sx(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sx(4,2,t,e)},useMemo:function(t,e){var n=Uc();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Uc();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=NY.bind(null,pr,t),[r.memoizedState,t]},useRef:function(t){var e=Uc();return t={current:t},e.memoizedState=t},useState:IO,useDebugValue:QI,useDeferredValue:function(t){return Uc().memoizedState=t},useTransition:function(){var t=IO(!1),e=t[0];return t=CY.bind(null,t[1]),Uc().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pr,i=Uc();if(ar){if(n===void 0)throw Error($e(407));n=n()}else{if(n=e(),bi===null)throw Error($e(349));pp&30||oB(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,TO(cB.bind(null,r,s,t),[t]),r.flags|=2048,hv(9,aB.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Uc(),e=bi.identifierPrefix;if(ar){var n=vu,r=wu;n=(r&~(1<<32-cc(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=uv++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=SY++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},IY={readContext:va,useCallback:gB,useContext:va,useEffect:JI,useImperativeHandle:mB,useInsertionEffect:hB,useLayoutEffect:fB,useMemo:yB,useReducer:oN,useRef:dB,useState:function(){return oN(dv)},useDebugValue:QI,useDeferredValue:function(t){var e=ba();return wB(e,ti.memoizedState,t)},useTransition:function(){var t=oN(dv)[0],e=ba().memoizedState;return[t,e]},useMutableSource:iB,useSyncExternalStore:sB,useId:vB,unstable_isNewReconciler:!1},TY={readContext:va,useCallback:gB,useContext:va,useEffect:JI,useImperativeHandle:mB,useInsertionEffect:hB,useLayoutEffect:fB,useMemo:yB,useReducer:aN,useRef:dB,useState:function(){return aN(dv)},useDebugValue:QI,useDeferredValue:function(t){var e=ba();return ti===null?e.memoizedState=t:wB(e,ti.memoizedState,t)},useTransition:function(){var t=aN(dv)[0],e=ba().memoizedState;return[t,e]},useMutableSource:iB,useSyncExternalStore:sB,useId:vB,unstable_isNewReconciler:!1};function Wa(t,e){if(t&&t.defaultProps){e=mr({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function B3(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:mr({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var KA={isMounted:function(t){return(t=t._reactInternals)?Up(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ns(),i=ah(t),s=Eu(r,i);s.payload=e,n!=null&&(s.callback=n),e=sh(t,s,i),e!==null&&(lc(e,t,i,r),Ex(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ns(),i=ah(t),s=Eu(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=sh(t,s,i),e!==null&&(lc(e,t,i,r),Ex(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ns(),r=ah(t),i=Eu(n,r);i.tag=2,e!=null&&(i.callback=e),e=sh(t,i,r),e!==null&&(lc(e,t,r,n),Ex(e,t,r))}};function kO(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!iv(n,r)||!iv(i,s):!0}function AB(t,e,n){var r=!1,i=yh,s=e.contextType;return typeof s=="object"&&s!==null?s=va(s):(i=Zs(e)?hp:cs.current,r=e.contextTypes,s=(r=r!=null)?Q0(t,i):yh),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=KA,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function OO(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&KA.enqueueReplaceState(e,e.state,null)}function U3(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},VI(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=va(s):(s=Zs(e)?hp:cs.current,i.context=Q0(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(B3(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&KA.enqueueReplaceState(i,i.state,null),EE(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ty(t,e){try{var n="",r=e;do n+=iK(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function cN(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function F3(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var kY=typeof WeakMap=="function"?WeakMap:Map;function SB(t,e,n){n=Eu(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){_E||(_E=!0,J3=r),F3(t,e)},n}function CB(t,e,n){n=Eu(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){F3(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){F3(t,e),typeof r!="function"&&(oh===null?oh=new Set([this]):oh.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function RO(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new kY;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=qY.bind(null,t,e,n),e.then(t,t))}function LO(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function DO(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Eu(-1,1),e.tag=2,sh(n,e,1))),n.lanes|=1),t)}var OY=Mu.ReactCurrentOwner,Js=!1;function vs(t,e,n,r){e.child=t===null?eB(e,null,n,r):X0(e,t.child,n,r)}function jO(t,e,n,r,i){n=n.render;var s=e.ref;return Hg(e,i),r=KI(t,e,n,r,s,i),n=YI(),t!==null&&!Js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ou(t,e,i)):(ar&&n&&jI(e),e.flags|=1,vs(t,e,r,i),e.child)}function MO(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!sT(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,NB(t,e,s,r,i)):(t=Px(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:iv,n(o,r)&&t.ref===e.ref)return Ou(t,e,i)}return e.flags|=1,t=ch(s,r),t.ref=e.ref,t.return=e,e.child=t}function NB(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(iv(s,r)&&t.ref===e.ref)if(Js=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Js=!0);else return e.lanes=t.lanes,Ou(t,e,i)}return $3(t,e,n,r,i)}function _B(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Zn(Sg,Ao),Ao|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Zn(Sg,Ao),Ao|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Zn(Sg,Ao),Ao|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Zn(Sg,Ao),Ao|=r;return vs(t,e,i,n),e.child}function PB(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $3(t,e,n,r,i){var s=Zs(n)?hp:cs.current;return s=Q0(e,s),Hg(e,i),n=KI(t,e,n,r,s,i),r=YI(),t!==null&&!Js?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ou(t,e,i)):(ar&&r&&jI(e),e.flags|=1,vs(t,e,n,i),e.child)}function BO(t,e,n,r,i){if(Zs(n)){var s=!0;yE(e)}else s=!1;if(Hg(e,i),e.stateNode===null)Cx(t,e),AB(e,n,r),U3(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,l=n.contextType;typeof l=="object"&&l!==null?l=va(l):(l=Zs(n)?hp:cs.current,l=Q0(e,l));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==l)&&OO(e,o,r,l),yd=!1;var h=e.memoizedState;o.state=h,EE(e,r,o,i),c=e.memoizedState,a!==r||h!==c||Qs.current||yd?(typeof u=="function"&&(B3(e,n,u,r),c=e.memoizedState),(a=yd||kO(e,n,a,r,h,c,l))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=l,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,nB(t,e),a=e.memoizedProps,l=e.type===e.elementType?a:Wa(e.type,a),o.props=l,d=e.pendingProps,h=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=va(c):(c=Zs(n)?hp:cs.current,c=Q0(e,c));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==c)&&OO(e,o,r,c),yd=!1,h=e.memoizedState,o.state=h,EE(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||Qs.current||yd?(typeof f=="function"&&(B3(e,n,f,r),m=e.memoizedState),(l=yd||kO(e,n,l,r,h,m,c)||!1)?(u||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=c,r=l):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return z3(t,e,n,r,s,i)}function z3(t,e,n,r,i,s){PB(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&AO(e,n,!1),Ou(t,e,s);r=e.stateNode,OY.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=X0(e,t.child,null,s),e.child=X0(e,null,a,s)):vs(t,e,a,s),e.memoizedState=r.state,i&&AO(e,n,!0),e.child}function IB(t){var e=t.stateNode;e.pendingContext?EO(t,e.pendingContext,e.pendingContext!==e.context):e.context&&EO(t,e.context,!1),HI(t,e.containerInfo)}function UO(t,e,n,r,i){return Z0(),BI(i),e.flags|=256,vs(t,e,n,r),e.child}var V3={dehydrated:null,treeContext:null,retryLane:0};function H3(t){return{baseLanes:t,cachePool:null,transitions:null}}function TB(t,e,n){var r=e.pendingProps,i=dr.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Zn(dr,i&1),t===null)return j3(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=QA(o,r,0,null),t=tp(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=H3(n),e.memoizedState=V3,t):ZI(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return RY(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=ch(i,c),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=ch(a,s):(s=tp(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?H3(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=V3,r}return s=t.child,t=s.sibling,r=ch(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function ZI(t,e){return e=QA({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function S5(t,e,n,r){return r!==null&&BI(r),X0(e,t.child,null,n),t=ZI(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function RY(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=cN(Error($e(422))),S5(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=QA({mode:"visible",children:r.children},i,0,null),s=tp(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&X0(e,t.child,null,o),e.child.memoizedState=H3(o),e.memoizedState=V3,s);if(!(e.mode&1))return S5(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error($e(419)),r=cN(s,r,void 0),S5(t,e,o,r)}if(a=(o&t.childLanes)!==0,Js||a){if(r=bi,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ku(t,i),lc(r,t,i,-1))}return iT(),r=cN(Error($e(421))),S5(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WY.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Po=ih(i.nextSibling),ko=e,ar=!0,nc=null,t!==null&&(pa[ma++]=wu,pa[ma++]=vu,pa[ma++]=fp,wu=t.id,vu=t.overflow,fp=e),e=ZI(e,r.children),e.flags|=4096,e)}function FO(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),M3(t.return,e,n)}function lN(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function kB(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(vs(t,e,r.children,n),r=dr.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&FO(t,n,e);else if(t.tag===19)FO(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Zn(dr,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&AE(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lN(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&AE(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lN(e,!0,n,null,s);break;case"together":lN(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Cx(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ou(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mp|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error($e(153));if(e.child!==null){for(t=e.child,n=ch(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=ch(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function LY(t,e,n){switch(e.tag){case 3:IB(e),Z0();break;case 5:rB(e);break;case 1:Zs(e.type)&&yE(e);break;case 4:HI(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Zn(bE,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Zn(dr,dr.current&1),e.flags|=128,null):n&e.child.childLanes?TB(t,e,n):(Zn(dr,dr.current&1),t=Ou(t,e,n),t!==null?t.sibling:null);Zn(dr,dr.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return kB(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Zn(dr,dr.current),r)break;return null;case 22:case 23:return e.lanes=0,_B(t,e,n)}return Ou(t,e,n)}var OB,q3,RB,LB;OB=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};q3=function(){};RB=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,xf(al.current);var s=null;switch(n){case"input":i=f3(t,i),r=f3(t,r),s=[];break;case"select":i=mr({},i,{value:void 0}),r=mr({},r,{value:void 0}),s=[];break;case"textarea":i=g3(t,i),r=g3(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=mE)}w3(n,r);var o;n=null;for(l in i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&i[l]!=null)if(l==="style"){var a=i[l];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else l!=="dangerouslySetInnerHTML"&&l!=="children"&&l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&l!=="autoFocus"&&(Qw.hasOwnProperty(l)?s||(s=[]):(s=s||[]).push(l,null));for(l in r){var c=r[l];if(a=i!=null?i[l]:void 0,r.hasOwnProperty(l)&&c!==a&&(c!=null||a!=null))if(l==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(s||(s=[]),s.push(l,n)),n=c;else l==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(s=s||[]).push(l,c)):l==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(l,""+c):l!=="suppressContentEditableWarning"&&l!=="suppressHydrationWarning"&&(Qw.hasOwnProperty(l)?(c!=null&&l==="onScroll"&&Xn("scroll",t),s||a===c||(s=[])):(s=s||[]).push(l,c))}n&&(s=s||[]).push("style",n);var l=s;(e.updateQueue=l)&&(e.flags|=4)}};LB=function(t,e,n,r){n!==r&&(e.flags|=4)};function T1(t,e){if(!ar)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Hi(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function DY(t,e,n){var r=e.pendingProps;switch(MI(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Hi(e),null;case 1:return Zs(e.type)&&gE(),Hi(e),null;case 3:return r=e.stateNode,ey(),rr(Qs),rr(cs),WI(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(E5(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,nc!==null&&(X3(nc),nc=null))),q3(t,e),Hi(e),null;case 5:qI(e);var i=xf(lv.current);if(n=e.type,t!==null&&e.stateNode!=null)RB(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error($e(166));return Hi(e),null}if(t=xf(al.current),E5(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[el]=e,r[av]=s,t=(e.mode&1)!==0,n){case"dialog":Xn("cancel",r),Xn("close",r);break;case"iframe":case"object":case"embed":Xn("load",r);break;case"video":case"audio":for(i=0;i<sw.length;i++)Xn(sw[i],r);break;case"source":Xn("error",r);break;case"img":case"image":case"link":Xn("error",r),Xn("load",r);break;case"details":Xn("toggle",r);break;case"input":Y6(r,s),Xn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Xn("invalid",r);break;case"textarea":Q6(r,s),Xn("invalid",r)}w3(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&x5(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&x5(r.textContent,a,t),i=["children",""+a]):Qw.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Xn("scroll",r)}switch(n){case"input":f5(r),J6(r,s,!0);break;case"textarea":f5(r),Z6(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=mE)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=c9(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[el]=e,t[av]=r,OB(t,e,!1,!1),e.stateNode=t;e:{switch(o=v3(n,r),n){case"dialog":Xn("cancel",t),Xn("close",t),i=r;break;case"iframe":case"object":case"embed":Xn("load",t),i=r;break;case"video":case"audio":for(i=0;i<sw.length;i++)Xn(sw[i],t);i=r;break;case"source":Xn("error",t),i=r;break;case"img":case"image":case"link":Xn("error",t),Xn("load",t),i=r;break;case"details":Xn("toggle",t),i=r;break;case"input":Y6(t,r),i=f3(t,r),Xn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=mr({},r,{value:void 0}),Xn("invalid",t);break;case"textarea":Q6(t,r),i=g3(t,r),Xn("invalid",t);break;default:i=r}w3(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var c=a[s];s==="style"?d9(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&l9(t,c)):s==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Zw(t,c):typeof c=="number"&&Zw(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Qw.hasOwnProperty(s)?c!=null&&s==="onScroll"&&Xn("scroll",t):c!=null&&EI(t,s,c,o))}switch(n){case"input":f5(t),J6(t,r,!1);break;case"textarea":f5(t),Z6(t);break;case"option":r.value!=null&&t.setAttribute("value",""+gh(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Fg(t,!!r.multiple,s,!1):r.defaultValue!=null&&Fg(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=mE)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Hi(e),null;case 6:if(t&&e.stateNode!=null)LB(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error($e(166));if(n=xf(lv.current),xf(al.current),E5(e)){if(r=e.stateNode,n=e.memoizedProps,r[el]=e,(s=r.nodeValue!==n)&&(t=ko,t!==null))switch(t.tag){case 3:x5(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&x5(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[el]=e,e.stateNode=r}return Hi(e),null;case 13:if(rr(dr),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ar&&Po!==null&&e.mode&1&&!(e.flags&128))Z9(),Z0(),e.flags|=98560,s=!1;else if(s=E5(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error($e(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error($e(317));s[el]=e}else Z0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Hi(e),s=!1}else nc!==null&&(X3(nc),nc=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||dr.current&1?ri===0&&(ri=3):iT())),e.updateQueue!==null&&(e.flags|=4),Hi(e),null);case 4:return ey(),q3(t,e),t===null&&sv(e.stateNode.containerInfo),Hi(e),null;case 10:return $I(e.type._context),Hi(e),null;case 17:return Zs(e.type)&&gE(),Hi(e),null;case 19:if(rr(dr),s=e.memoizedState,s===null)return Hi(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)T1(s,!1);else{if(ri!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=AE(t),o!==null){for(e.flags|=128,T1(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Zn(dr,dr.current&1|2),e.child}t=t.sibling}s.tail!==null&&kr()>ny&&(e.flags|=128,r=!0,T1(s,!1),e.lanes=4194304)}else{if(!r)if(t=AE(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),T1(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ar)return Hi(e),null}else 2*kr()-s.renderingStartTime>ny&&n!==1073741824&&(e.flags|=128,r=!0,T1(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=kr(),e.sibling=null,n=dr.current,Zn(dr,r?n&1|2:n&1),e):(Hi(e),null);case 22:case 23:return rT(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ao&1073741824&&(Hi(e),e.subtreeFlags&6&&(e.flags|=8192)):Hi(e),null;case 24:return null;case 25:return null}throw Error($e(156,e.tag))}function jY(t,e){switch(MI(e),e.tag){case 1:return Zs(e.type)&&gE(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ey(),rr(Qs),rr(cs),WI(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qI(e),null;case 13:if(rr(dr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error($e(340));Z0()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return rr(dr),null;case 4:return ey(),null;case 10:return $I(e.type._context),null;case 22:case 23:return rT(),null;case 24:return null;default:return null}}var C5=!1,rs=!1,MY=typeof WeakSet=="function"?WeakSet:Set,lt=null;function Ag(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(t,e,r)}else n.current=null}function W3(t,e,n){try{n()}catch(r){Cr(t,e,r)}}var $O=!1;function BY(t,e){if(I3=hE,t=U9(),DI(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,l=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(c=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++l===i&&(a=o),h===s&&++u===r&&(c=o),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(T3={focusedElem:t,selectionRange:n},hE=!1,lt=e;lt!==null;)if(e=lt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,lt=t;else for(;lt!==null;){e=lt;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,E=m.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:Wa(e.type,g),E);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error($e(163))}}catch(C){Cr(e,e.return,C)}if(t=e.sibling,t!==null){t.return=e.return,lt=t;break}lt=e.return}return m=$O,$O=!1,m}function _w(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&W3(e,n,s)}i=i.next}while(i!==r)}}function YA(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function G3(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function DB(t){var e=t.alternate;e!==null&&(t.alternate=null,DB(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[el],delete e[av],delete e[R3],delete e[bY],delete e[xY])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jB(t){return t.tag===5||t.tag===3||t.tag===4}function zO(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jB(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function K3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=mE));else if(r!==4&&(t=t.child,t!==null))for(K3(t,e,n),t=t.sibling;t!==null;)K3(t,e,n),t=t.sibling}function Y3(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Y3(t,e,n),t=t.sibling;t!==null;)Y3(t,e,n),t=t.sibling}var Ii=null,tc=!1;function ed(t,e,n){for(n=n.child;n!==null;)MB(t,e,n),n=n.sibling}function MB(t,e,n){if(ol&&typeof ol.onCommitFiberUnmount=="function")try{ol.onCommitFiberUnmount($A,n)}catch{}switch(n.tag){case 5:rs||Ag(n,e);case 6:var r=Ii,i=tc;Ii=null,ed(t,e,n),Ii=r,tc=i,Ii!==null&&(tc?(t=Ii,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ii.removeChild(n.stateNode));break;case 18:Ii!==null&&(tc?(t=Ii,n=n.stateNode,t.nodeType===8?nN(t.parentNode,n):t.nodeType===1&&nN(t,n),nv(t)):nN(Ii,n.stateNode));break;case 4:r=Ii,i=tc,Ii=n.stateNode.containerInfo,tc=!0,ed(t,e,n),Ii=r,tc=i;break;case 0:case 11:case 14:case 15:if(!rs&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&W3(n,e,o),i=i.next}while(i!==r)}ed(t,e,n);break;case 1:if(!rs&&(Ag(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Cr(n,e,a)}ed(t,e,n);break;case 21:ed(t,e,n);break;case 22:n.mode&1?(rs=(r=rs)||n.memoizedState!==null,ed(t,e,n),rs=r):ed(t,e,n);break;default:ed(t,e,n)}}function VO(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new MY),e.forEach(function(r){var i=GY.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Da(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Ii=a.stateNode,tc=!1;break e;case 3:Ii=a.stateNode.containerInfo,tc=!0;break e;case 4:Ii=a.stateNode.containerInfo,tc=!0;break e}a=a.return}if(Ii===null)throw Error($e(160));MB(s,o,i),Ii=null,tc=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(l){Cr(i,e,l)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BB(e,t),e=e.sibling}function BB(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Da(e,t),kc(t),r&4){try{_w(3,t,t.return),YA(3,t)}catch(g){Cr(t,t.return,g)}try{_w(5,t,t.return)}catch(g){Cr(t,t.return,g)}}break;case 1:Da(e,t),kc(t),r&512&&n!==null&&Ag(n,n.return);break;case 5:if(Da(e,t),kc(t),r&512&&n!==null&&Ag(n,n.return),t.flags&32){var i=t.stateNode;try{Zw(i,"")}catch(g){Cr(t,t.return,g)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&o9(i,s),v3(a,o);var l=v3(a,s);for(o=0;o<c.length;o+=2){var u=c[o],d=c[o+1];u==="style"?d9(i,d):u==="dangerouslySetInnerHTML"?l9(i,d):u==="children"?Zw(i,d):EI(i,u,d,l)}switch(a){case"input":p3(i,s);break;case"textarea":a9(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Fg(i,!!s.multiple,f,!1):h!==!!s.multiple&&(s.defaultValue!=null?Fg(i,!!s.multiple,s.defaultValue,!0):Fg(i,!!s.multiple,s.multiple?[]:"",!1))}i[av]=s}catch(g){Cr(t,t.return,g)}}break;case 6:if(Da(e,t),kc(t),r&4){if(t.stateNode===null)throw Error($e(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){Cr(t,t.return,g)}}break;case 3:if(Da(e,t),kc(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{nv(e.containerInfo)}catch(g){Cr(t,t.return,g)}break;case 4:Da(e,t),kc(t);break;case 13:Da(e,t),kc(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(tT=kr())),r&4&&VO(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(rs=(l=rs)||u,Da(e,t),rs=l):Da(e,t),kc(t),r&8192){if(l=t.memoizedState!==null,(t.stateNode.isHidden=l)&&!u&&t.mode&1)for(lt=t,u=t.child;u!==null;){for(d=lt=u;lt!==null;){switch(h=lt,f=h.child,h.tag){case 0:case 11:case 14:case 15:_w(4,h,h.return);break;case 1:Ag(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){Cr(r,n,g)}}break;case 5:Ag(h,h.return);break;case 22:if(h.memoizedState!==null){qO(d);continue}}f!==null?(f.return=h,lt=f):qO(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{i=d.stateNode,l?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,c=d.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=u9("display",o))}catch(g){Cr(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=l?"":d.memoizedProps}catch(g){Cr(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:Da(e,t),kc(t),r&4&&VO(t);break;case 21:break;default:Da(e,t),kc(t)}}function kc(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jB(n)){var r=n;break e}n=n.return}throw Error($e(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Zw(i,""),r.flags&=-33);var s=zO(t);Y3(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=zO(t);K3(t,a,o);break;default:throw Error($e(161))}}catch(c){Cr(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function UY(t,e,n){lt=t,UB(t)}function UB(t,e,n){for(var r=(t.mode&1)!==0;lt!==null;){var i=lt,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||C5;if(!o){var a=i.alternate,c=a!==null&&a.memoizedState!==null||rs;a=C5;var l=rs;if(C5=o,(rs=c)&&!l)for(lt=i;lt!==null;)o=lt,c=o.child,o.tag===22&&o.memoizedState!==null?WO(i):c!==null?(c.return=o,lt=c):WO(i);for(;s!==null;)lt=s,UB(s),s=s.sibling;lt=i,C5=a,rs=l}HO(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,lt=s):HO(t)}}function HO(t){for(;lt!==null;){var e=lt;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:rs||YA(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!rs)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Wa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&PO(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}PO(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var l=e.alternate;if(l!==null){var u=l.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&nv(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error($e(163))}rs||e.flags&512&&G3(e)}catch(h){Cr(e,e.return,h)}}if(e===t){lt=null;break}if(n=e.sibling,n!==null){n.return=e.return,lt=n;break}lt=e.return}}function qO(t){for(;lt!==null;){var e=lt;if(e===t){lt=null;break}var n=e.sibling;if(n!==null){n.return=e.return,lt=n;break}lt=e.return}}function WO(t){for(;lt!==null;){var e=lt;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{YA(4,e)}catch(c){Cr(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(c){Cr(e,i,c)}}var s=e.return;try{G3(e)}catch(c){Cr(e,s,c)}break;case 5:var o=e.return;try{G3(e)}catch(c){Cr(e,o,c)}}}catch(c){Cr(e,e.return,c)}if(e===t){lt=null;break}var a=e.sibling;if(a!==null){a.return=e.return,lt=a;break}lt=e.return}}var FY=Math.ceil,NE=Mu.ReactCurrentDispatcher,XI=Mu.ReactCurrentOwner,wa=Mu.ReactCurrentBatchConfig,un=0,bi=null,Kr=null,Li=0,Ao=0,Sg=Ph(0),ri=0,fv=null,mp=0,JA=0,eT=0,Pw=null,Ks=null,tT=0,ny=1/0,Ql=null,_E=!1,J3=null,oh=null,N5=!1,Kd=null,PE=0,Iw=0,Q3=null,Nx=-1,_x=0;function Ns(){return un&6?kr():Nx!==-1?Nx:Nx=kr()}function ah(t){return t.mode&1?un&2&&Li!==0?Li&-Li:AY.transition!==null?(_x===0&&(_x=A9()),_x):(t=Tn,t!==0||(t=window.event,t=t===void 0?16:T9(t.type)),t):1}function lc(t,e,n,r){if(50<Iw)throw Iw=0,Q3=null,Error($e(185));$b(t,n,r),(!(un&2)||t!==bi)&&(t===bi&&(!(un&2)&&(JA|=n),ri===4&&Ed(t,Li)),Xs(t,r),n===1&&un===0&&!(e.mode&1)&&(ny=kr()+500,WA&&Ih()))}function Xs(t,e){var n=t.callbackNode;AK(t,e);var r=dE(t,t===bi?Li:0);if(r===0)n!==null&&tO(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tO(n),e===1)t.tag===0?EY(GO.bind(null,t)):Y9(GO.bind(null,t)),wY(function(){!(un&6)&&Ih()}),n=null;else{switch(S9(r)){case 1:n=_I;break;case 4:n=x9;break;case 16:n=uE;break;case 536870912:n=E9;break;default:n=uE}n=GB(n,FB.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function FB(t,e){if(Nx=-1,_x=0,un&6)throw Error($e(327));var n=t.callbackNode;if(qg()&&t.callbackNode!==n)return null;var r=dE(t,t===bi?Li:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=IE(t,r);else{e=r;var i=un;un|=2;var s=zB();(bi!==t||Li!==e)&&(Ql=null,ny=kr()+500,ep(t,e));do try{VY();break}catch(a){$B(t,a)}while(!0);FI(),NE.current=s,un=i,Kr!==null?e=0:(bi=null,Li=0,e=ri)}if(e!==0){if(e===2&&(i=S3(t),i!==0&&(r=i,e=Z3(t,i))),e===1)throw n=fv,ep(t,0),Ed(t,r),Xs(t,kr()),n;if(e===6)Ed(t,r);else{if(i=t.current.alternate,!(r&30)&&!$Y(i)&&(e=IE(t,r),e===2&&(s=S3(t),s!==0&&(r=s,e=Z3(t,s))),e===1))throw n=fv,ep(t,0),Ed(t,r),Xs(t,kr()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error($e(345));case 2:tf(t,Ks,Ql);break;case 3:if(Ed(t,r),(r&130023424)===r&&(e=tT+500-kr(),10<e)){if(dE(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ns(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=O3(tf.bind(null,t,Ks,Ql),e);break}tf(t,Ks,Ql);break;case 4:if(Ed(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-cc(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=kr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*FY(r/1960))-r,10<r){t.timeoutHandle=O3(tf.bind(null,t,Ks,Ql),r);break}tf(t,Ks,Ql);break;case 5:tf(t,Ks,Ql);break;default:throw Error($e(329))}}}return Xs(t,kr()),t.callbackNode===n?FB.bind(null,t):null}function Z3(t,e){var n=Pw;return t.current.memoizedState.isDehydrated&&(ep(t,e).flags|=256),t=IE(t,e),t!==2&&(e=Ks,Ks=n,e!==null&&X3(e)),t}function X3(t){Ks===null?Ks=t:Ks.push.apply(Ks,t)}function $Y(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!fc(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ed(t,e){for(e&=~eT,e&=~JA,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-cc(e),r=1<<n;t[n]=-1,e&=~r}}function GO(t){if(un&6)throw Error($e(327));qg();var e=dE(t,0);if(!(e&1))return Xs(t,kr()),null;var n=IE(t,e);if(t.tag!==0&&n===2){var r=S3(t);r!==0&&(e=r,n=Z3(t,r))}if(n===1)throw n=fv,ep(t,0),Ed(t,e),Xs(t,kr()),n;if(n===6)throw Error($e(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,tf(t,Ks,Ql),Xs(t,kr()),null}function nT(t,e){var n=un;un|=1;try{return t(e)}finally{un=n,un===0&&(ny=kr()+500,WA&&Ih())}}function gp(t){Kd!==null&&Kd.tag===0&&!(un&6)&&qg();var e=un;un|=1;var n=wa.transition,r=Tn;try{if(wa.transition=null,Tn=1,t)return t()}finally{Tn=r,wa.transition=n,un=e,!(un&6)&&Ih()}}function rT(){Ao=Sg.current,rr(Sg)}function ep(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,yY(n)),Kr!==null)for(n=Kr.return;n!==null;){var r=n;switch(MI(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&gE();break;case 3:ey(),rr(Qs),rr(cs),WI();break;case 5:qI(r);break;case 4:ey();break;case 13:rr(dr);break;case 19:rr(dr);break;case 10:$I(r.type._context);break;case 22:case 23:rT()}n=n.return}if(bi=t,Kr=t=ch(t.current,null),Li=Ao=e,ri=0,fv=null,eT=JA=mp=0,Ks=Pw=null,bf!==null){for(e=0;e<bf.length;e++)if(n=bf[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}bf=null}return t}function $B(t,e){do{var n=Kr;try{if(FI(),Ax.current=CE,SE){for(var r=pr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}SE=!1}if(pp=0,hi=ti=pr=null,Nw=!1,uv=0,XI.current=null,n===null||n.return===null){ri=1,fv=e,Kr=null;break}e:{var s=t,o=n.return,a=n,c=e;if(e=Li,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var l=c,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=LO(o);if(f!==null){f.flags&=-257,DO(f,o,a,s,e),f.mode&1&&RO(s,l,e),e=f,c=l;var m=e.updateQueue;if(m===null){var g=new Set;g.add(c),e.updateQueue=g}else m.add(c);break e}else{if(!(e&1)){RO(s,l,e),iT();break e}c=Error($e(426))}}else if(ar&&a.mode&1){var E=LO(o);if(E!==null){!(E.flags&65536)&&(E.flags|=256),DO(E,o,a,s,e),BI(ty(c,a));break e}}s=c=ty(c,a),ri!==4&&(ri=2),Pw===null?Pw=[s]:Pw.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=SB(s,c,e);_O(s,y);break e;case 1:a=c;var w=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(oh===null||!oh.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var C=CB(s,a,e);_O(s,C);break e}}s=s.return}while(s!==null)}HB(n)}catch(N){e=N,Kr===n&&n!==null&&(Kr=n=n.return);continue}break}while(!0)}function zB(){var t=NE.current;return NE.current=CE,t===null?CE:t}function iT(){(ri===0||ri===3||ri===2)&&(ri=4),bi===null||!(mp&268435455)&&!(JA&268435455)||Ed(bi,Li)}function IE(t,e){var n=un;un|=2;var r=zB();(bi!==t||Li!==e)&&(Ql=null,ep(t,e));do try{zY();break}catch(i){$B(t,i)}while(!0);if(FI(),un=n,NE.current=r,Kr!==null)throw Error($e(261));return bi=null,Li=0,ri}function zY(){for(;Kr!==null;)VB(Kr)}function VY(){for(;Kr!==null&&!pK();)VB(Kr)}function VB(t){var e=WB(t.alternate,t,Ao);t.memoizedProps=t.pendingProps,e===null?HB(t):Kr=e,XI.current=null}function HB(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=jY(n,e),n!==null){n.flags&=32767,Kr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{ri=6,Kr=null;return}}else if(n=DY(n,e,Ao),n!==null){Kr=n;return}if(e=e.sibling,e!==null){Kr=e;return}Kr=e=t}while(e!==null);ri===0&&(ri=5)}function tf(t,e,n){var r=Tn,i=wa.transition;try{wa.transition=null,Tn=1,HY(t,e,n,r)}finally{wa.transition=i,Tn=r}return null}function HY(t,e,n,r){do qg();while(Kd!==null);if(un&6)throw Error($e(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error($e(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(SK(t,s),t===bi&&(Kr=bi=null,Li=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||N5||(N5=!0,GB(uE,function(){return qg(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=wa.transition,wa.transition=null;var o=Tn;Tn=1;var a=un;un|=4,XI.current=null,BY(t,n),BB(n,t),uY(T3),hE=!!I3,T3=I3=null,t.current=n,UY(n),mK(),un=a,Tn=o,wa.transition=s}else t.current=n;if(N5&&(N5=!1,Kd=t,PE=i),s=t.pendingLanes,s===0&&(oh=null),wK(n.stateNode),Xs(t,kr()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_E)throw _E=!1,t=J3,J3=null,t;return PE&1&&t.tag!==0&&qg(),s=t.pendingLanes,s&1?t===Q3?Iw++:(Iw=0,Q3=t):Iw=0,Ih(),null}function qg(){if(Kd!==null){var t=S9(PE),e=wa.transition,n=Tn;try{if(wa.transition=null,Tn=16>t?16:t,Kd===null)var r=!1;else{if(t=Kd,Kd=null,PE=0,un&6)throw Error($e(331));var i=un;for(un|=4,lt=t.current;lt!==null;){var s=lt,o=s.child;if(lt.flags&16){var a=s.deletions;if(a!==null){for(var c=0;c<a.length;c++){var l=a[c];for(lt=l;lt!==null;){var u=lt;switch(u.tag){case 0:case 11:case 15:_w(8,u,s)}var d=u.child;if(d!==null)d.return=u,lt=d;else for(;lt!==null;){u=lt;var h=u.sibling,f=u.return;if(DB(u),u===l){lt=null;break}if(h!==null){h.return=f,lt=h;break}lt=f}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var E=g.sibling;g.sibling=null,g=E}while(g!==null)}}lt=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,lt=o;else e:for(;lt!==null;){if(s=lt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:_w(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,lt=y;break e}lt=s.return}}var w=t.current;for(lt=w;lt!==null;){o=lt;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,lt=x;else e:for(o=w;lt!==null;){if(a=lt,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:YA(9,a)}}catch(N){Cr(a,a.return,N)}if(a===o){lt=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,lt=C;break e}lt=a.return}}if(un=i,Ih(),ol&&typeof ol.onPostCommitFiberRoot=="function")try{ol.onPostCommitFiberRoot($A,t)}catch{}r=!0}return r}finally{Tn=n,wa.transition=e}}return!1}function KO(t,e,n){e=ty(n,e),e=SB(t,e,1),t=sh(t,e,1),e=Ns(),t!==null&&($b(t,1,e),Xs(t,e))}function Cr(t,e,n){if(t.tag===3)KO(t,t,n);else for(;e!==null;){if(e.tag===3){KO(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oh===null||!oh.has(r))){t=ty(n,t),t=CB(e,t,1),e=sh(e,t,1),t=Ns(),e!==null&&($b(e,1,t),Xs(e,t));break}}e=e.return}}function qY(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ns(),t.pingedLanes|=t.suspendedLanes&n,bi===t&&(Li&n)===n&&(ri===4||ri===3&&(Li&130023424)===Li&&500>kr()-tT?ep(t,0):eT|=n),Xs(t,e)}function qB(t,e){e===0&&(t.mode&1?(e=g5,g5<<=1,!(g5&130023424)&&(g5=4194304)):e=1);var n=Ns();t=ku(t,e),t!==null&&($b(t,e,n),Xs(t,n))}function WY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),qB(t,n)}function GY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error($e(314))}r!==null&&r.delete(e),qB(t,n)}var WB;WB=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Qs.current)Js=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Js=!1,LY(t,e,n);Js=!!(t.flags&131072)}else Js=!1,ar&&e.flags&1048576&&J9(e,vE,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Cx(t,e),t=e.pendingProps;var i=Q0(e,cs.current);Hg(e,n),i=KI(null,e,r,t,i,n);var s=YI();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Zs(r)?(s=!0,yE(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,VI(e),i.updater=KA,e.stateNode=i,i._reactInternals=e,U3(e,r,t,n),e=z3(null,e,r,!0,s,n)):(e.tag=0,ar&&s&&jI(e),vs(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Cx(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=YY(r),t=Wa(r,t),i){case 0:e=$3(null,e,r,t,n);break e;case 1:e=BO(null,e,r,t,n);break e;case 11:e=jO(null,e,r,t,n);break e;case 14:e=MO(null,e,r,Wa(r.type,t),n);break e}throw Error($e(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wa(r,i),$3(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wa(r,i),BO(t,e,r,i,n);case 3:e:{if(IB(e),t===null)throw Error($e(387));r=e.pendingProps,s=e.memoizedState,i=s.element,nB(t,e),EE(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ty(Error($e(423)),e),e=UO(t,e,r,n,i);break e}else if(r!==i){i=ty(Error($e(424)),e),e=UO(t,e,r,n,i);break e}else for(Po=ih(e.stateNode.containerInfo.firstChild),ko=e,ar=!0,nc=null,n=eB(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Z0(),r===i){e=Ou(t,e,n);break e}vs(t,e,r,n)}e=e.child}return e;case 5:return rB(e),t===null&&j3(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,k3(r,i)?o=null:s!==null&&k3(r,s)&&(e.flags|=32),PB(t,e),vs(t,e,o,n),e.child;case 6:return t===null&&j3(e),null;case 13:return TB(t,e,n);case 4:return HI(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=X0(e,null,r,n):vs(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wa(r,i),jO(t,e,r,i,n);case 7:return vs(t,e,e.pendingProps,n),e.child;case 8:return vs(t,e,e.pendingProps.children,n),e.child;case 12:return vs(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,Zn(bE,r._currentValue),r._currentValue=o,s!==null)if(fc(s.value,o)){if(s.children===i.children&&!Qs.current){e=Ou(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(s.tag===1){c=Eu(-1,n&-n),c.tag=2;var l=s.updateQueue;if(l!==null){l=l.shared;var u=l.pending;u===null?c.next=c:(c.next=u.next,u.next=c),l.pending=c}}s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),M3(s.return,n,e),a.lanes|=n;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error($e(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),M3(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}vs(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Hg(e,n),i=va(i),r=r(i),e.flags|=1,vs(t,e,r,n),e.child;case 14:return r=e.type,i=Wa(r,e.pendingProps),i=Wa(r.type,i),MO(t,e,r,i,n);case 15:return NB(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Wa(r,i),Cx(t,e),e.tag=1,Zs(r)?(t=!0,yE(e)):t=!1,Hg(e,n),AB(e,r,i),U3(e,r,i,n),z3(null,e,r,!0,t,n);case 19:return kB(t,e,n);case 22:return _B(t,e,n)}throw Error($e(156,e.tag))};function GB(t,e){return b9(t,e)}function KY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ga(t,e,n,r){return new KY(t,e,n,r)}function sT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function YY(t){if(typeof t=="function")return sT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===SI)return 11;if(t===CI)return 14}return 2}function ch(t,e){var n=t.alternate;return n===null?(n=ga(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Px(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")sT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case pg:return tp(n.children,i,s,e);case AI:o=8,i|=8;break;case l3:return t=ga(12,n,e,i|2),t.elementType=l3,t.lanes=s,t;case u3:return t=ga(13,n,e,i),t.elementType=u3,t.lanes=s,t;case d3:return t=ga(19,n,e,i),t.elementType=d3,t.lanes=s,t;case r9:return QA(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case t9:o=10;break e;case n9:o=9;break e;case SI:o=11;break e;case CI:o=14;break e;case gd:o=16,r=null;break e}throw Error($e(130,t==null?t:typeof t,""))}return e=ga(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function tp(t,e,n,r){return t=ga(7,t,r,e),t.lanes=n,t}function QA(t,e,n,r){return t=ga(22,t,r,e),t.elementType=r9,t.lanes=n,t.stateNode={isHidden:!1},t}function uN(t,e,n){return t=ga(6,t,null,e),t.lanes=n,t}function dN(t,e,n){return e=ga(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function JY(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=qC(0),this.expirationTimes=qC(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=qC(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function oT(t,e,n,r,i,s,o,a,c){return t=new JY(t,e,n,a,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ga(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},VI(s),t}function QY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fg,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function KB(t){if(!t)return yh;t=t._reactInternals;e:{if(Up(t)!==t||t.tag!==1)throw Error($e(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Zs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error($e(171))}if(t.tag===1){var n=t.type;if(Zs(n))return K9(t,n,e)}return e}function YB(t,e,n,r,i,s,o,a,c){return t=oT(n,r,!0,t,i,s,o,a,c),t.context=KB(null),n=t.current,r=Ns(),i=ah(n),s=Eu(r,i),s.callback=e??null,sh(n,s,i),t.current.lanes=i,$b(t,i,r),Xs(t,r),t}function ZA(t,e,n,r){var i=e.current,s=Ns(),o=ah(i);return n=KB(n),e.context===null?e.context=n:e.pendingContext=n,e=Eu(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=sh(i,e,o),t!==null&&(lc(t,i,o,s),Ex(t,i,o)),o}function TE(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YO(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function aT(t,e){YO(t,e),(t=t.alternate)&&YO(t,e)}function ZY(){return null}var JB=typeof reportError=="function"?reportError:function(t){console.error(t)};function cT(t){this._internalRoot=t}XA.prototype.render=cT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error($e(409));ZA(t,e,null,null)};XA.prototype.unmount=cT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gp(function(){ZA(null,t,null,null)}),e[Tu]=null}};function XA(t){this._internalRoot=t}XA.prototype.unstable_scheduleHydration=function(t){if(t){var e=_9();t={blockedOn:null,target:t,priority:e};for(var n=0;n<xd.length&&e!==0&&e<xd[n].priority;n++);xd.splice(n,0,t),n===0&&I9(t)}};function lT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function eS(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function JO(){}function XY(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var l=TE(o);s.call(l)}}var o=YB(e,r,t,0,null,!1,!1,"",JO);return t._reactRootContainer=o,t[Tu]=o.current,sv(t.nodeType===8?t.parentNode:t),gp(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var l=TE(c);a.call(l)}}var c=oT(t,0,!1,null,null,!1,!1,"",JO);return t._reactRootContainer=c,t[Tu]=c.current,sv(t.nodeType===8?t.parentNode:t),gp(function(){ZA(e,c,n,r)}),c}function tS(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var c=TE(o);a.call(c)}}ZA(e,o,t,i)}else o=XY(n,e,t,i,r);return TE(o)}C9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=iw(e.pendingLanes);n!==0&&(PI(e,n|1),Xs(e,kr()),!(un&6)&&(ny=kr()+500,Ih()))}break;case 13:gp(function(){var r=ku(t,1);if(r!==null){var i=Ns();lc(r,t,1,i)}}),aT(t,1)}};II=function(t){if(t.tag===13){var e=ku(t,134217728);if(e!==null){var n=Ns();lc(e,t,134217728,n)}aT(t,134217728)}};N9=function(t){if(t.tag===13){var e=ah(t),n=ku(t,e);if(n!==null){var r=Ns();lc(n,t,e,r)}aT(t,e)}};_9=function(){return Tn};P9=function(t,e){var n=Tn;try{return Tn=t,e()}finally{Tn=n}};x3=function(t,e,n){switch(e){case"input":if(p3(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=qA(r);if(!i)throw Error($e(90));s9(r),p3(r,i)}}}break;case"textarea":a9(t,n);break;case"select":e=n.value,e!=null&&Fg(t,!!n.multiple,e,!1)}};p9=nT;m9=gp;var eJ={usingClientEntryPoint:!1,Events:[Vb,wg,qA,h9,f9,nT]},k1={findFiberByHostInstance:vf,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},tJ={bundleType:k1.bundleType,version:k1.version,rendererPackageName:k1.rendererPackageName,rendererConfig:k1.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Mu.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=w9(t),t===null?null:t.stateNode},findFiberByHostInstance:k1.findFiberByHostInstance||ZY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var _5=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!_5.isDisabled&&_5.supportsFiber)try{$A=_5.inject(tJ),ol=_5}catch{}}Bo.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eJ;Bo.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!lT(e))throw Error($e(200));return QY(t,e,null,n)};Bo.createRoot=function(t,e){if(!lT(t))throw Error($e(299));var n=!1,r="",i=JB;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=oT(t,1,!1,null,null,n,!1,r,i),t[Tu]=e.current,sv(t.nodeType===8?t.parentNode:t),new cT(e)};Bo.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error($e(188)):(t=Object.keys(t).join(","),Error($e(268,t)));return t=w9(e),t=t===null?null:t.stateNode,t};Bo.flushSync=function(t){return gp(t)};Bo.hydrate=function(t,e,n){if(!eS(e))throw Error($e(200));return tS(null,t,e,!0,n)};Bo.hydrateRoot=function(t,e,n){if(!lT(t))throw Error($e(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=JB;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=YB(e,null,t,1,n??null,i,!1,s,o),t[Tu]=e.current,sv(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new XA(e)};Bo.render=function(t,e,n){if(!eS(e))throw Error($e(200));return tS(null,t,e,!1,n)};Bo.unmountComponentAtNode=function(t){if(!eS(t))throw Error($e(40));return t._reactRootContainer?(gp(function(){tS(null,null,t,!1,function(){t._reactRootContainer=null,t[Tu]=null})}),!0):!1};Bo.unstable_batchedUpdates=nT;Bo.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!eS(n))throw Error($e(200));if(t==null||t._reactInternals===void 0)throw Error($e(38));return tS(t,e,n,!1,r)};Bo.version="18.3.1-next-f1338f8080-20240426";function QB(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(QB)}catch(t){console.error(t)}}QB(),Q7.exports=Bo;var nJ=Q7.exports,QO=nJ;a3.createRoot=QO.createRoot,a3.hydrateRoot=QO.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pv.apply(this,arguments)}var Yd;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Yd||(Yd={}));const ZO="popstate";function rJ(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return eP("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:kE(i)}return sJ(e,n,null,t)}function Jr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ZB(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iJ(){return Math.random().toString(36).substr(2,8)}function XO(t,e){return{usr:t.state,key:t.key,idx:e}}function eP(t,e,n,r){return n===void 0&&(n=null),pv({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ly(e):e,{state:n,key:e&&e.key||r||iJ()})}function kE(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Ly(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function sJ(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=Yd.Pop,c=null,l=u();l==null&&(l=0,o.replaceState(pv({},o.state,{idx:l}),""));function u(){return(o.state||{idx:null}).idx}function d(){a=Yd.Pop;let E=u(),y=E==null?null:E-l;l=E,c&&c({action:a,location:g.location,delta:y})}function h(E,y){a=Yd.Push;let w=eP(g.location,E,y);l=u()+1;let x=XO(w,l),C=g.createHref(w);try{o.pushState(x,"",C)}catch(N){if(N instanceof DOMException&&N.name==="DataCloneError")throw N;i.location.assign(C)}s&&c&&c({action:a,location:g.location,delta:1})}function f(E,y){a=Yd.Replace;let w=eP(g.location,E,y);l=u();let x=XO(w,l),C=g.createHref(w);o.replaceState(x,"",C),s&&c&&c({action:a,location:g.location,delta:0})}function m(E){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof E=="string"?E:kE(E);return w=w.replace(/ $/,"%20"),Jr(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let g={get action(){return a},get location(){return t(i,o)},listen(E){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(ZO,d),c=E,()=>{i.removeEventListener(ZO,d),c=null}},createHref(E){return e(i,E)},createURL:m,encodeLocation(E){let y=m(E);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(E){return o.go(E)}};return g}var eR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eR||(eR={}));function oJ(t,e,n){return n===void 0&&(n="/"),aJ(t,e,n,!1)}function aJ(t,e,n,r){let i=typeof e=="string"?Ly(e):e,s=uT(i.pathname||"/",n);if(s==null)return null;let o=XB(t);cJ(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let l=vJ(s);a=yJ(o[c],l,r)}return a}function XB(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let c={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Jr(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let l=lh([r,c.relativePath]),u=n.concat(c);s.children&&s.children.length>0&&(Jr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+l+'".')),XB(s.children,e,u,l)),!(s.path==null&&!s.index)&&e.push({path:l,score:mJ(l,s.index),routesMeta:u})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let c of eU(s.path))i(s,o,c)}),e}function eU(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=eU(r.join("/")),a=[];return a.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function cJ(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:gJ(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const lJ=/^:[\w-]+$/,uJ=3,dJ=2,hJ=1,fJ=10,pJ=-2,tR=t=>t==="*";function mJ(t,e){let n=t.split("/"),r=n.length;return n.some(tR)&&(r+=pJ),e&&(r+=dJ),n.filter(i=>!tR(i)).reduce((i,s)=>i+(lJ.test(s)?uJ:s===""?hJ:fJ),r)}function gJ(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function yJ(t,e,n){let{routesMeta:r}=t,i={},s="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],l=a===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",d=nR({path:c.relativePath,caseSensitive:c.caseSensitive,end:l},u),h=c.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=nR({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},u)),!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:lh([s,d.pathname]),pathnameBase:AJ(lh([s,d.pathnameBase])),route:h}),d.pathnameBase!=="/"&&(s=lh([s,d.pathnameBase]))}return o}function nR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=wJ(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((l,u,d)=>{let{paramName:h,isOptional:f}=u;if(h==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return f&&!m?l[h]=void 0:l[h]=(m||"").replace(/%2F/g,"/"),l},{}),pathname:s,pathnameBase:o,pattern:t}}function wJ(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),ZB(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function vJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ZB(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function uT(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function bJ(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?Ly(t):t;return{pathname:n?n.startsWith("/")?n:xJ(n,e):e,search:SJ(r),hash:CJ(i)}}function xJ(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function hN(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function EJ(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function tU(t,e){let n=EJ(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function nU(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=Ly(t):(i=pv({},t),Jr(!i.pathname||!i.pathname.includes("?"),hN("?","pathname","search",i)),Jr(!i.pathname||!i.pathname.includes("#"),hN("#","pathname","hash",i)),Jr(!i.search||!i.search.includes("#"),hN("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else{let d=e.length-1;if(!r&&o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let c=bJ(i,a),l=o&&o!=="/"&&o.endsWith("/"),u=(s||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(l||u)&&(c.pathname+="/"),c}const lh=t=>t.join("/").replace(/\/\/+/g,"/"),AJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),SJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,CJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function NJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const rU=["post","put","patch","delete"];new Set(rU);const _J=["get",...rU];new Set(_J);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mv.apply(this,arguments)}const dT=ce.createContext(null),PJ=ce.createContext(null),Fp=ce.createContext(null),nS=ce.createContext(null),Th=ce.createContext({outlet:null,matches:[],isDataRoute:!1}),iU=ce.createContext(null);function IJ(t,e){let{relative:n}=e===void 0?{}:e;qb()||Jr(!1);let{basename:r,navigator:i}=ce.useContext(Fp),{hash:s,pathname:o,search:a}=aU(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:lh([r,o])),i.createHref({pathname:c,search:a,hash:s})}function qb(){return ce.useContext(nS)!=null}function $p(){return qb()||Jr(!1),ce.useContext(nS).location}function sU(t){ce.useContext(Fp).static||ce.useLayoutEffect(t)}function El(){let{isDataRoute:t}=ce.useContext(Th);return t?zJ():TJ()}function TJ(){qb()||Jr(!1);let t=ce.useContext(dT),{basename:e,future:n,navigator:r}=ce.useContext(Fp),{matches:i}=ce.useContext(Th),{pathname:s}=$p(),o=JSON.stringify(tU(i,n.v7_relativeSplatPath)),a=ce.useRef(!1);return sU(()=>{a.current=!0}),ce.useCallback(function(l,u){if(u===void 0&&(u={}),!a.current)return;if(typeof l=="number"){r.go(l);return}let d=nU(l,JSON.parse(o),s,u.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:lh([e,d.pathname])),(u.replace?r.replace:r.push)(d,u.state,u)},[e,r,o,s,t])}function oU(){let{matches:t}=ce.useContext(Th),e=t[t.length-1];return e?e.params:{}}function aU(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ce.useContext(Fp),{matches:i}=ce.useContext(Th),{pathname:s}=$p(),o=JSON.stringify(tU(i,r.v7_relativeSplatPath));return ce.useMemo(()=>nU(t,JSON.parse(o),s,n==="path"),[t,o,s,n])}function kJ(t,e){return OJ(t,e)}function OJ(t,e,n,r){qb()||Jr(!1);let{navigator:i,static:s}=ce.useContext(Fp),{matches:o}=ce.useContext(Th),a=o[o.length-1],c=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=$p(),d;if(e){var h;let y=typeof e=="string"?Ly(e):e;l==="/"||(h=y.pathname)!=null&&h.startsWith(l)||Jr(!1),d=y}else d=u;let f=d.pathname||"/",m=f;if(l!=="/"){let y=l.replace(/^\//,"").split("/");m="/"+f.replace(/^\//,"").split("/").slice(y.length).join("/")}let g=!s&&n&&n.matches&&n.matches.length>0?n.matches:oJ(t,{pathname:m}),E=MJ(g&&g.map(y=>Object.assign({},y,{params:Object.assign({},c,y.params),pathname:lh([l,i.encodeLocation?i.encodeLocation(y.pathname).pathname:y.pathname]),pathnameBase:y.pathnameBase==="/"?l:lh([l,i.encodeLocation?i.encodeLocation(y.pathnameBase).pathname:y.pathnameBase])})),o,n,r);return e&&E?ce.createElement(nS.Provider,{value:{location:mv({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Yd.Pop}},E):E}function RJ(){let t=$J(),e=NJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ce.createElement(ce.Fragment,null,ce.createElement("h2",null,"Unexpected Application Error!"),ce.createElement("h3",{style:{fontStyle:"italic"}},e),n?ce.createElement("pre",{style:i},n):null,null)}const LJ=ce.createElement(RJ,null);class DJ extends ce.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ce.createElement(Th.Provider,{value:this.props.routeContext},ce.createElement(iU.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function jJ(t){let{routeContext:e,match:n,children:r}=t,i=ce.useContext(dT);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ce.createElement(Th.Provider,{value:e},r)}function MJ(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(i=n)==null?void 0:i.errors;if(a!=null){let u=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);u>=0||Jr(!1),o=o.slice(0,Math.min(o.length,u+1))}let c=!1,l=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<o.length;u++){let d=o[u];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(l=u),d.route.id){let{loaderData:h,errors:f}=n,m=d.route.loader&&h[d.route.id]===void 0&&(!f||f[d.route.id]===void 0);if(d.route.lazy||m){c=!0,l>=0?o=o.slice(0,l+1):o=[o[0]];break}}}return o.reduceRight((u,d,h)=>{let f,m=!1,g=null,E=null;n&&(f=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||LJ,c&&(l<0&&h===0?(m=!0,E=null):l===h&&(m=!0,E=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,h+1)),w=()=>{let x;return f?x=g:m?x=E:d.route.Component?x=ce.createElement(d.route.Component,null):d.route.element?x=d.route.element:x=u,ce.createElement(jJ,{match:d,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:x})};return n&&(d.route.ErrorBoundary||d.route.errorElement||h===0)?ce.createElement(DJ,{location:n.location,revalidation:n.revalidation,component:g,error:f,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var cU=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(cU||{}),OE=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(OE||{});function BJ(t){let e=ce.useContext(dT);return e||Jr(!1),e}function UJ(t){let e=ce.useContext(PJ);return e||Jr(!1),e}function FJ(t){let e=ce.useContext(Th);return e||Jr(!1),e}function lU(t){let e=FJ(),n=e.matches[e.matches.length-1];return n.route.id||Jr(!1),n.route.id}function $J(){var t;let e=ce.useContext(iU),n=UJ(OE.UseRouteError),r=lU(OE.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function zJ(){let{router:t}=BJ(cU.UseNavigateStable),e=lU(OE.UseNavigateStable),n=ce.useRef(!1);return sU(()=>{n.current=!0}),ce.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,mv({fromRouteId:e},s)))},[t,e])}function VJ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function mo(t){Jr(!1)}function HJ(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Yd.Pop,navigator:s,static:o=!1,future:a}=t;qb()&&Jr(!1);let c=e.replace(/^\/*/,"/"),l=ce.useMemo(()=>({basename:c,navigator:s,static:o,future:mv({v7_relativeSplatPath:!1},a)}),[c,a,s,o]);typeof r=="string"&&(r=Ly(r));let{pathname:u="/",search:d="",hash:h="",state:f=null,key:m="default"}=r,g=ce.useMemo(()=>{let E=uT(u,c);return E==null?null:{location:{pathname:E,search:d,hash:h,state:f,key:m},navigationType:i}},[c,u,d,h,f,m,i]);return g==null?null:ce.createElement(Fp.Provider,{value:l},ce.createElement(nS.Provider,{children:n,value:g}))}function qJ(t){let{children:e,location:n}=t;return kJ(tP(e),n)}new Promise(()=>{});function tP(t,e){e===void 0&&(e=[]);let n=[];return ce.Children.forEach(t,(r,i)=>{if(!ce.isValidElement(r))return;let s=[...e,i];if(r.type===ce.Fragment){n.push.apply(n,tP(r.props.children,s));return}r.type!==mo&&Jr(!1),!r.props.index||!r.props.children||Jr(!1);let o={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=tP(r.props.children,s)),n.push(o)}),n}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nP(){return nP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nP.apply(this,arguments)}function WJ(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function GJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function KJ(t,e){return t.button===0&&(!e||e==="_self")&&!GJ(t)}const YJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],JJ="6";try{window.__reactRouterVersion=JJ}catch{}const QJ="startTransition",rR=qG[QJ];function ZJ(t){let{basename:e,children:n,future:r,window:i}=t,s=ce.useRef();s.current==null&&(s.current=rJ({window:i,v5Compat:!0}));let o=s.current,[a,c]=ce.useState({action:o.action,location:o.location}),{v7_startTransition:l}=r||{},u=ce.useCallback(d=>{l&&rR?rR(()=>c(d)):c(d)},[c,l]);return ce.useLayoutEffect(()=>o.listen(u),[o,u]),ce.useEffect(()=>VJ(r),[r]),ce.createElement(HJ,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const XJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",eQ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,es=ce.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:c,to:l,preventScrollReset:u,viewTransition:d}=e,h=WJ(e,YJ),{basename:f}=ce.useContext(Fp),m,g=!1;if(typeof l=="string"&&eQ.test(l)&&(m=l,XJ))try{let x=new URL(window.location.href),C=l.startsWith("//")?new URL(x.protocol+l):new URL(l),N=uT(C.pathname,f);C.origin===x.origin&&N!=null?l=N+C.search+C.hash:g=!0}catch{}let E=IJ(l,{relative:i}),y=tQ(l,{replace:o,state:a,target:c,preventScrollReset:u,relative:i,viewTransition:d});function w(x){r&&r(x),x.defaultPrevented||y(x)}return ce.createElement("a",nP({},h,{href:m||E,onClick:g||s?r:w,ref:n,target:c}))});var iR;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(iR||(iR={}));var sR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sR||(sR={}));function tQ(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,c=El(),l=$p(),u=aU(t,{relative:o});return ce.useCallback(d=>{if(KJ(d,n)){d.preventDefault();let h=r!==void 0?r:kE(l)===kE(u);c(t,{replace:h,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[l,c,u,r,i,n,t,s,o,a])}const hT=ce.createContext({});function fT(t){const e=ce.useRef(null);return e.current===null&&(e.current=t()),e.current}const rS=ce.createContext(null),pT=ce.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class nQ extends ce.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function rQ({children:t,isPresent:e}){const n=ce.useId(),r=ce.useRef(null),i=ce.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=ce.useContext(pT);return ce.useInsertionEffect(()=>{const{width:o,height:a,top:c,left:l}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return s&&(u.nonce=s),document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${c}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[e]),v.jsx(nQ,{isPresent:e,childRef:r,sizeRef:i,children:ce.cloneElement(t,{ref:r})})}const iQ=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=fT(sQ),c=ce.useId(),l=ce.useCallback(d=>{a.set(d,!0);for(const h of a.values())if(!h)return;r&&r()},[a,r]),u=ce.useMemo(()=>({id:c,initial:e,isPresent:n,custom:i,onExitComplete:l,register:d=>(a.set(d,!1),()=>a.delete(d))}),s?[Math.random(),l]:[n,l]);return ce.useMemo(()=>{a.forEach((d,h)=>a.set(h,!1))},[n]),ce.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=v.jsx(rQ,{isPresent:n,children:t})),v.jsx(rS.Provider,{value:u,children:t})};function sQ(){return new Map}function uU(t=!0){const e=ce.useContext(rS);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=ce.useId();ce.useEffect(()=>{t&&i(s)},[t]);const o=ce.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const P5=t=>t.key||"";function oR(t){const e=[];return ce.Children.forEach(t,n=>{ce.isValidElement(n)&&e.push(n)}),e}const mT=typeof window<"u",dU=mT?ce.useLayoutEffect:ce.useEffect,fa=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,c]=uU(o),l=ce.useMemo(()=>oR(t),[t]),u=o&&!a?[]:l.map(P5),d=ce.useRef(!0),h=ce.useRef(l),f=fT(()=>new Map),[m,g]=ce.useState(l),[E,y]=ce.useState(l);dU(()=>{d.current=!1,h.current=l;for(let C=0;C<E.length;C++){const N=P5(E[C]);u.includes(N)?f.delete(N):f.get(N)!==!0&&f.set(N,!1)}},[E,u.length,u.join("-")]);const w=[];if(l!==m){let C=[...l];for(let N=0;N<E.length;N++){const D=E[N],O=P5(D);u.includes(O)||(C.splice(N,0,D),w.push(D))}s==="wait"&&w.length&&(C=w),y(oR(C)),g(l);return}const{forceRender:x}=ce.useContext(hT);return v.jsx(v.Fragment,{children:E.map(C=>{const N=P5(C),D=o&&!a?!1:l===E||u.includes(N),O=()=>{if(f.has(N))f.set(N,!0);else return;let P=!0;f.forEach(L=>{L||(P=!1)}),P&&(x==null||x(),y(h.current),o&&(c==null||c()),r&&r())};return v.jsx(iQ,{isPresent:D,initial:!d.current||n?void 0:!1,custom:D?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:D?void 0:O,children:C},N)})})},Oo=t=>t;let rP=Oo;function gT(t){let e;return()=>(e===void 0&&(e=t()),e)}const ry=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},Au=t=>t*1e3,Su=t=>t/1e3,oQ={skipAnimations:!1,useManualTiming:!1};function aQ(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(l){s.has(l)&&(c.schedule(l),t()),l(o)}const c={schedule:(l,u=!1,d=!1)=>{const f=d&&r?e:n;return u&&s.add(l),f.has(l)||f.add(l),l},cancel:l=>{n.delete(l),s.delete(l)},process:l=>{if(o=l,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,c.process(l))}};return c}const I5=["read","resolveKeyframes","update","preRender","render","postRender"],cQ=40;function hU(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=I5.reduce((y,w)=>(y[w]=aQ(s),y),{}),{read:a,resolveKeyframes:c,update:l,preRender:u,render:d,postRender:h}=o,f=()=>{const y=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(y-i.timestamp,cQ),1),i.timestamp=y,i.isProcessing=!0,a.process(i),c.process(i),l.process(i),u.process(i),d.process(i),h.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(f))},m=()=>{n=!0,r=!0,i.isProcessing||t(f)};return{schedule:I5.reduce((y,w)=>{const x=o[w];return y[w]=(C,N=!1,D=!1)=>(n||m(),x.schedule(C,N,D)),y},{}),cancel:y=>{for(let w=0;w<I5.length;w++)o[I5[w]].cancel(y)},state:i,steps:o}}const{schedule:ir,cancel:wh,state:Ti,steps:fN}=hU(typeof requestAnimationFrame<"u"?requestAnimationFrame:Oo,!0),fU=ce.createContext({strict:!1}),aR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},iy={};for(const t in aR)iy[t]={isEnabled:e=>aR[t].some(n=>!!e[n])};function lQ(t){for(const e in t)iy[e]={...iy[e],...t[e]}}const uQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function RE(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||uQ.has(t)}let pU=t=>!RE(t);function dQ(t){t&&(pU=e=>e.startsWith("on")?!RE(e):t(e))}try{dQ(require("@emotion/is-prop-valid").default)}catch{}function hQ(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(pU(i)||n===!0&&RE(i)||!e&&!RE(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function fQ(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const iS=ce.createContext({});function gv(t){return typeof t=="string"||Array.isArray(t)}function sS(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const yT=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],wT=["initial",...yT];function oS(t){return sS(t.animate)||wT.some(e=>gv(t[e]))}function mU(t){return!!(oS(t)||t.variants)}function pQ(t,e){if(oS(t)){const{initial:n,animate:r}=t;return{initial:n===!1||gv(n)?n:void 0,animate:gv(r)?r:void 0}}return t.inherit!==!1?e:{}}function mQ(t){const{initial:e,animate:n}=pQ(t,ce.useContext(iS));return ce.useMemo(()=>({initial:e,animate:n}),[cR(e),cR(n)])}function cR(t){return Array.isArray(t)?t.join(" "):t}const gQ=Symbol.for("motionComponentSymbol");function Cg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yQ(t,e,n){return ce.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Cg(n)&&(n.current=r))},[e])}const vT=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),wQ="framerAppearId",gU="data-"+vT(wQ),{schedule:bT,cancel:G_e}=hU(queueMicrotask,!1),yU=ce.createContext({});function vQ(t,e,n,r,i){var s,o;const{visualElement:a}=ce.useContext(iS),c=ce.useContext(fU),l=ce.useContext(rS),u=ce.useContext(pT).reducedMotion,d=ce.useRef(null);r=r||c.renderer,!d.current&&r&&(d.current=r(t,{visualState:e,parent:a,props:n,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:u}));const h=d.current,f=ce.useContext(yU);h&&!h.projection&&i&&(h.type==="html"||h.type==="svg")&&bQ(d.current,n,i,f);const m=ce.useRef(!1);ce.useInsertionEffect(()=>{h&&m.current&&h.update(n,l)});const g=n[gU],E=ce.useRef(!!g&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,g))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,g)));return dU(()=>{h&&(m.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),bT.render(h.render),E.current&&h.animationState&&h.animationState.animateChanges())}),ce.useEffect(()=>{h&&(!E.current&&h.animationState&&h.animationState.animateChanges(),E.current&&(queueMicrotask(()=>{var y;(y=window.MotionHandoffMarkAsComplete)===null||y===void 0||y.call(window,g)}),E.current=!1))}),h}function bQ(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:c,layoutRoot:l}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:wU(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&Cg(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:c,layoutRoot:l})}function wU(t){if(t)return t.options.allowProjection!==!1?t.projection:wU(t.parent)}function xQ({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&lQ(t);function a(l,u){let d;const h={...ce.useContext(pT),...l,layoutId:EQ(l)},{isStatic:f}=h,m=mQ(l),g=r(l,f);if(!f&&mT){AQ();const E=SQ(h);d=E.MeasureLayout,m.visualElement=vQ(i,g,h,e,E.ProjectionNode)}return v.jsxs(iS.Provider,{value:m,children:[d&&m.visualElement?v.jsx(d,{visualElement:m.visualElement,...h}):null,n(i,l,yQ(g,m.visualElement,u),g,f,m.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const c=ce.forwardRef(a);return c[gQ]=i,c}function EQ({layoutId:t}){const e=ce.useContext(hT).id;return e&&t!==void 0?e+"-"+t:t}function AQ(t,e){ce.useContext(fU).strict}function SQ(t){const{drag:e,layout:n}=iy;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const CQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xT(t){return typeof t!="string"||t.includes("-")?!1:!!(CQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function lR(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function ET(t,e,n,r){if(typeof e=="function"){const[i,s]=lR(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=lR(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const iP=t=>Array.isArray(t),NQ=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),_Q=t=>iP(t)?t[t.length-1]||0:t,ss=t=>!!(t&&t.getVelocity);function Ix(t){const e=ss(t)?t.get():t;return NQ(e)?e.toValue():e}function PQ({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:IQ(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const vU=t=>(e,n)=>{const r=ce.useContext(iS),i=ce.useContext(rS),s=()=>PQ(t,e,r,i);return n?s():fT(s)};function IQ(t,e,n,r){const i={},s=r(t,{});for(const h in s)i[h]=Ix(s[h]);let{initial:o,animate:a}=t;const c=oS(t),l=mU(t);e&&l&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||o===!1;const d=u?a:o;if(d&&typeof d!="boolean"&&!sS(d)){const h=Array.isArray(d)?d:[d];for(let f=0;f<h.length;f++){const m=ET(t,h[f]);if(m){const{transitionEnd:g,transition:E,...y}=m;for(const w in y){let x=y[w];if(Array.isArray(x)){const C=u?x.length-1:0;x=x[C]}x!==null&&(i[w]=x)}for(const w in g)i[w]=g[w]}}}return i}const Dy=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],zp=new Set(Dy),bU=t=>e=>typeof e=="string"&&e.startsWith(t),xU=bU("--"),TQ=bU("var(--"),AT=t=>TQ(t)?kQ.test(t.split("/*")[0].trim()):!1,kQ=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,EU=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Ru=(t,e,n)=>n>e?e:n<t?t:n,jy={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},yv={...jy,transform:t=>Ru(0,1,t)},T5={...jy,default:1},Wb=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),fd=Wb("deg"),cl=Wb("%"),xt=Wb("px"),OQ=Wb("vh"),RQ=Wb("vw"),uR={...cl,parse:t=>cl.parse(t)/100,transform:t=>cl.transform(t*100)},LQ={borderWidth:xt,borderTopWidth:xt,borderRightWidth:xt,borderBottomWidth:xt,borderLeftWidth:xt,borderRadius:xt,radius:xt,borderTopLeftRadius:xt,borderTopRightRadius:xt,borderBottomRightRadius:xt,borderBottomLeftRadius:xt,width:xt,maxWidth:xt,height:xt,maxHeight:xt,top:xt,right:xt,bottom:xt,left:xt,padding:xt,paddingTop:xt,paddingRight:xt,paddingBottom:xt,paddingLeft:xt,margin:xt,marginTop:xt,marginRight:xt,marginBottom:xt,marginLeft:xt,backgroundPositionX:xt,backgroundPositionY:xt},DQ={rotate:fd,rotateX:fd,rotateY:fd,rotateZ:fd,scale:T5,scaleX:T5,scaleY:T5,scaleZ:T5,skew:fd,skewX:fd,skewY:fd,distance:xt,translateX:xt,translateY:xt,translateZ:xt,x:xt,y:xt,z:xt,perspective:xt,transformPerspective:xt,opacity:yv,originX:uR,originY:uR,originZ:xt},dR={...jy,transform:Math.round},ST={...LQ,...DQ,zIndex:dR,size:xt,fillOpacity:yv,strokeOpacity:yv,numOctaves:dR},jQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},MQ=Dy.length;function BQ(t,e,n){let r="",i=!0;for(let s=0;s<MQ;s++){const o=Dy[s],a=t[o];if(a===void 0)continue;let c=!0;if(typeof a=="number"?c=a===(o.startsWith("scale")?1:0):c=parseFloat(a)===0,!c||n){const l=EU(a,ST[o]);if(!c){i=!1;const u=jQ[o]||o;r+=`${u}(${l}) `}n&&(e[o]=l)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function CT(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const c in e){const l=e[c];if(zp.has(c)){o=!0;continue}else if(xU(c)){i[c]=l;continue}else{const u=EU(l,ST[c]);c.startsWith("origin")?(a=!0,s[c]=u):r[c]=u}}if(e.transform||(o||n?r.transform=BQ(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:c="50%",originY:l="50%",originZ:u=0}=s;r.transformOrigin=`${c} ${l} ${u}`}}const UQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},FQ={offset:"strokeDashoffset",array:"strokeDasharray"};function $Q(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?UQ:FQ;t[s.offset]=xt.transform(-r);const o=xt.transform(e),a=xt.transform(n);t[s.array]=`${o} ${a}`}function hR(t,e,n){return typeof t=="string"?t:xt.transform(e+n*t)}function zQ(t,e,n){const r=hR(e,t.x,t.width),i=hR(n,t.y,t.height);return`${r} ${i}`}function NT(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:c=0,...l},u,d){if(CT(t,l,d),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:f,dimensions:m}=t;h.transform&&(m&&(f.transform=h.transform),delete h.transform),m&&(i!==void 0||s!==void 0||f.transform)&&(f.transformOrigin=zQ(m,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(h.x=e),n!==void 0&&(h.y=n),r!==void 0&&(h.scale=r),o!==void 0&&$Q(h,o,a,c,!1)}const _T=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),AU=()=>({..._T(),attrs:{}}),PT=t=>typeof t=="string"&&t.toLowerCase()==="svg";function SU(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const CU=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function NU(t,e,n,r){SU(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(CU.has(i)?i:vT(i),e.attrs[i])}const LE={};function VQ(t){Object.assign(LE,t)}function _U(t,{layout:e,layoutId:n}){return zp.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!LE[t]||t==="opacity")}function IT(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(ss(i[o])||e.style&&ss(e.style[o])||_U(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function PU(t,e,n){const r=IT(t,e,n);for(const i in t)if(ss(t[i])||ss(e[i])){const s=Dy.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function HQ(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const fR=["x","y","width","height","cx","cy","r"],qQ={useVisualState:vU({scrapeMotionValuesFromProps:PU,createRenderState:AU,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(zp.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<fR.length;a++){const c=fR[a];t[c]!==e[c]&&(o=!0)}o&&ir.read(()=>{HQ(n,r),ir.render(()=>{NT(r,i,PT(n.tagName),t.transformTemplate),NU(n,r)})})}})},WQ={useVisualState:vU({scrapeMotionValuesFromProps:IT,createRenderState:_T})};function IU(t,e,n){for(const r in e)!ss(e[r])&&!_U(r,n)&&(t[r]=e[r])}function GQ({transformTemplate:t},e){return ce.useMemo(()=>{const n=_T();return CT(n,e,t),Object.assign({},n.vars,n.style)},[e])}function KQ(t,e){const n=t.style||{},r={};return IU(r,n,t),Object.assign(r,GQ(t,e)),r}function YQ(t,e){const n={},r=KQ(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function JQ(t,e,n,r){const i=ce.useMemo(()=>{const s=AU();return NT(s,e,PT(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};IU(s,t.style,t),i.style={...s,...i.style}}return i}function QQ(t=!1){return(n,r,i,{latestValues:s},o)=>{const c=(xT(n)?JQ:YQ)(r,s,o,n),l=hQ(r,typeof n=="string",t),u=n!==ce.Fragment?{...l,...c,ref:i}:{},{children:d}=r,h=ce.useMemo(()=>ss(d)?d.get():d,[d]);return ce.createElement(n,{...u,children:h})}}function ZQ(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...xT(r)?qQ:WQ,preloadedFeatures:t,useRender:QQ(i),createVisualElement:e,Component:r};return xQ(o)}}function TU(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function aS(t,e,n){const r=t.getProps();return ET(r,e,n!==void 0?n:r.custom,t)}const XQ=gT(()=>window.ScrollTimeline!==void 0);class eZ{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(XQ()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class tZ extends eZ{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function TT(t,e){return t?t[e]||t.default||t:void 0}const sP=2e4;function kU(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<sP;)e+=n,r=t.next(e);return e>=sP?1/0:e}function kT(t){return typeof t=="function"}function pR(t,e){t.timeline=e,t.onfinish=null}const OT=t=>Array.isArray(t)&&typeof t[0]=="number",nZ={linearEasing:void 0};function rZ(t,e){const n=gT(t);return()=>{var r;return(r=nZ[e])!==null&&r!==void 0?r:n()}}const DE=rZ(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),OU=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(ry(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function RU(t){return!!(typeof t=="function"&&DE()||!t||typeof t=="string"&&(t in oP||DE())||OT(t)||Array.isArray(t)&&t.every(RU))}const ow=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,oP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ow([0,.65,.55,1]),circOut:ow([.55,0,1,.45]),backIn:ow([.31,.01,.66,-.59]),backOut:ow([.33,1.53,.69,.99])};function LU(t,e){if(t)return typeof t=="function"&&DE()?OU(t,e):OT(t)?ow(t):Array.isArray(t)?t.map(n=>LU(n,e)||oP.easeOut):oP[t]}const Va={x:!1,y:!1};function DU(){return Va.x||Va.y}function iZ(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function jU(t,e){const n=iZ(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function mR(t){return e=>{e.pointerType==="touch"||DU()||t(e)}}function sZ(t,e,n={}){const[r,i,s]=jU(t,n),o=mR(a=>{const{target:c}=a,l=e(a);if(typeof l!="function"||!c)return;const u=mR(d=>{l(d),c.removeEventListener("pointerleave",u)});c.addEventListener("pointerleave",u,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const MU=(t,e)=>e?t===e?!0:MU(t,e.parentElement):!1,RT=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,oZ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function aZ(t){return oZ.has(t.tagName)||t.tabIndex!==-1}const aw=new WeakSet;function gR(t){return e=>{e.key==="Enter"&&t(e)}}function pN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const cZ=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=gR(()=>{if(aw.has(n))return;pN(n,"down");const i=gR(()=>{pN(n,"up")}),s=()=>pN(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function yR(t){return RT(t)&&!DU()}function lZ(t,e,n={}){const[r,i,s]=jU(t,n),o=a=>{const c=a.currentTarget;if(!yR(a)||aw.has(c))return;aw.add(c);const l=e(a),u=(f,m)=>{window.removeEventListener("pointerup",d),window.removeEventListener("pointercancel",h),!(!yR(f)||!aw.has(c))&&(aw.delete(c),typeof l=="function"&&l(f,{success:m}))},d=f=>{u(f,n.useGlobalTarget||MU(c,f.target))},h=f=>{u(f,!1)};window.addEventListener("pointerup",d,i),window.addEventListener("pointercancel",h,i)};return r.forEach(a=>{!aZ(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",l=>cZ(l,i),i)}),s}function uZ(t){return t==="x"||t==="y"?Va[t]?null:(Va[t]=!0,()=>{Va[t]=!1}):Va.x||Va.y?null:(Va.x=Va.y=!0,()=>{Va.x=Va.y=!1})}const BU=new Set(["width","height","top","left","right","bottom",...Dy]);let Tx;function dZ(){Tx=void 0}const ll={now:()=>(Tx===void 0&&ll.set(Ti.isProcessing||oQ.useManualTiming?Ti.timestamp:performance.now()),Tx),set:t=>{Tx=t,queueMicrotask(dZ)}};function LT(t,e){t.indexOf(e)===-1&&t.push(e)}function DT(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class jT{constructor(){this.subscriptions=[]}add(e){return LT(this.subscriptions,e),()=>DT(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function UU(t,e){return e?t*(1e3/e):0}const wR=30,hZ=t=>!isNaN(parseFloat(t));class fZ{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=ll.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=ll.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=hZ(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new jT);const r=this.events[e].add(n);return e==="change"?()=>{r(),ir.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ll.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>wR)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,wR);return UU(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function wv(t,e){return new fZ(t,e)}function pZ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,wv(n))}function mZ(t,e){const n=aS(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=_Q(s[o]);pZ(t,o,a)}}function gZ(t){return!!(ss(t)&&t.add)}function aP(t,e){const n=t.getValue("willChange");if(gZ(n))return n.add(e)}function FU(t){return t.props[gU]}const $U=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,yZ=1e-7,wZ=12;function vZ(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=$U(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>yZ&&++a<wZ);return o}function Gb(t,e,n,r){if(t===e&&n===r)return Oo;const i=s=>vZ(s,0,1,t,n);return s=>s===0||s===1?s:$U(i(s),e,r)}const zU=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,VU=t=>e=>1-t(1-e),HU=Gb(.33,1.53,.69,.99),MT=VU(HU),qU=zU(MT),WU=t=>(t*=2)<1?.5*MT(t):.5*(2-Math.pow(2,-10*(t-1))),BT=t=>1-Math.sin(Math.acos(t)),GU=VU(BT),KU=zU(BT),YU=t=>/^0[^.\s]+$/u.test(t);function bZ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||YU(t):!0}const Tw=t=>Math.round(t*1e5)/1e5,UT=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function xZ(t){return t==null}const EZ=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,FT=(t,e)=>n=>!!(typeof n=="string"&&EZ.test(n)&&n.startsWith(t)||e&&!xZ(n)&&Object.prototype.hasOwnProperty.call(n,e)),JU=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(UT);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},AZ=t=>Ru(0,255,t),mN={...jy,transform:t=>Math.round(AZ(t))},Ef={test:FT("rgb","red"),parse:JU("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+mN.transform(t)+", "+mN.transform(e)+", "+mN.transform(n)+", "+Tw(yv.transform(r))+")"};function SZ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const cP={test:FT("#"),parse:SZ,transform:Ef.transform},Ng={test:FT("hsl","hue"),parse:JU("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+cl.transform(Tw(e))+", "+cl.transform(Tw(n))+", "+Tw(yv.transform(r))+")"},Xi={test:t=>Ef.test(t)||cP.test(t)||Ng.test(t),parse:t=>Ef.test(t)?Ef.parse(t):Ng.test(t)?Ng.parse(t):cP.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Ef.transform(t):Ng.transform(t)},CZ=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function NZ(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(UT))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(CZ))===null||n===void 0?void 0:n.length)||0)>0}const QU="number",ZU="color",_Z="var",PZ="var(",vR="${}",IZ=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function vv(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace(IZ,c=>(Xi.test(c)?(r.color.push(s),i.push(ZU),n.push(Xi.parse(c))):c.startsWith(PZ)?(r.var.push(s),i.push(_Z),n.push(c)):(r.number.push(s),i.push(QU),n.push(parseFloat(c))),++s,vR)).split(vR);return{values:n,split:a,indexes:r,types:i}}function XU(t){return vv(t).values}function eF(t){const{split:e,types:n}=vv(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===QU?s+=Tw(i[o]):a===ZU?s+=Xi.transform(i[o]):s+=i[o]}return s}}const TZ=t=>typeof t=="number"?0:t;function kZ(t){const e=XU(t);return eF(t)(e.map(TZ))}const vh={test:NZ,parse:XU,createTransformer:eF,getAnimatableNone:kZ},OZ=new Set(["brightness","contrast","saturate","opacity"]);function RZ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(UT)||[];if(!r)return t;const i=n.replace(r,"");let s=OZ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const LZ=/\b([a-z-]*)\(.*?\)/gu,lP={...vh,getAnimatableNone:t=>{const e=t.match(LZ);return e?e.map(RZ).join(" "):t}},DZ={...ST,color:Xi,backgroundColor:Xi,outlineColor:Xi,fill:Xi,stroke:Xi,borderColor:Xi,borderTopColor:Xi,borderRightColor:Xi,borderBottomColor:Xi,borderLeftColor:Xi,filter:lP,WebkitFilter:lP},$T=t=>DZ[t];function tF(t,e){let n=$T(t);return n!==lP&&(n=vh),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const jZ=new Set(["auto","none","0"]);function MZ(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!jZ.has(s)&&vv(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=tF(n,i)}const bR=t=>t===jy||t===xt,xR=(t,e)=>parseFloat(t.split(", ")[e]),ER=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return xR(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?xR(s[1],t):0}},BZ=new Set(["x","y","z"]),UZ=Dy.filter(t=>!BZ.has(t));function FZ(t){const e=[];return UZ.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const sy={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ER(4,13),y:ER(5,14)};sy.translateX=sy.x;sy.translateY=sy.y;const np=new Set;let uP=!1,dP=!1;function nF(){if(dP){const t=Array.from(np).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=FZ(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}dP=!1,uP=!1,np.forEach(t=>t.complete()),np.clear()}function rF(){np.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dP=!0)})}function $Z(){rF(),nF()}class zT{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(np.add(this),uP||(uP=!0,ir.read(rF),ir.resolveKeyframes(nF))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const c=r.readValue(n,a);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),np.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,np.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const iF=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),zZ=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function VZ(t){const e=zZ.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function sF(t,e,n=1){const[r,i]=VZ(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return iF(o)?parseFloat(o):o}return AT(i)?sF(i,e,n+1):i}const oF=t=>e=>e.test(t),HZ={test:t=>t==="auto",parse:t=>t},aF=[jy,xt,cl,fd,RQ,OQ,HZ],AR=t=>aF.find(oF(t));class cF extends zT{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let l=e[c];if(typeof l=="string"&&(l=l.trim(),AT(l))){const u=sF(l,n.current);u!==void 0&&(e[c]=u),c===e.length-1&&(this.finalKeyframe=l)}}if(this.resolveNoneKeyframes(),!BU.has(r)||e.length!==2)return;const[i,s]=e,o=AR(i),a=AR(s);if(o!==a)if(bR(o)&&bR(a))for(let c=0;c<e.length;c++){const l=e[c];typeof l=="string"&&(e[c]=parseFloat(l))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)bZ(e[i])&&r.push(i);r.length&&MZ(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sy[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=sy[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([c,l])=>{n.getValue(c).set(l)}),this.resolveNoneKeyframes()}}const SR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vh.test(t)||t==="0")&&!t.startsWith("url("));function qZ(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function WZ(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=SR(i,e),a=SR(s,e);return!o||!a?!1:qZ(t)||(n==="spring"||kT(n))&&r}const GZ=t=>t!==null;function cS(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(GZ),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const KZ=40;class lF{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=ll.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>KZ?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$Z(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=ll.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:c,isGenerator:l}=this.options;if(!l&&!WZ(e,r,i,s))if(o)this.options.duration=0;else{c&&c(cS(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const u=this.initPlayback(e,n);u!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...u},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const fr=(t,e,n)=>t+(e-t)*n;function gN(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function YZ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,c=2*n-a;i=gN(c,a,t+1/3),s=gN(c,a,t),o=gN(c,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function jE(t,e){return n=>n>0?e:t}const yN=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},JZ=[cP,Ef,Ng],QZ=t=>JZ.find(e=>e.test(t));function CR(t){const e=QZ(t);if(!e)return!1;let n=e.parse(t);return e===Ng&&(n=YZ(n)),n}const NR=(t,e)=>{const n=CR(t),r=CR(e);if(!n||!r)return jE(t,e);const i={...n};return s=>(i.red=yN(n.red,r.red,s),i.green=yN(n.green,r.green,s),i.blue=yN(n.blue,r.blue,s),i.alpha=fr(n.alpha,r.alpha,s),Ef.transform(i))},ZZ=(t,e)=>n=>e(t(n)),Kb=(...t)=>t.reduce(ZZ),hP=new Set(["none","hidden"]);function XZ(t,e){return hP.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function eX(t,e){return n=>fr(t,e,n)}function VT(t){return typeof t=="number"?eX:typeof t=="string"?AT(t)?jE:Xi.test(t)?NR:rX:Array.isArray(t)?uF:typeof t=="object"?Xi.test(t)?NR:tX:jE}function uF(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>VT(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function tX(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=VT(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function nX(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],c=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=c,i[o]++}return r}const rX=(t,e)=>{const n=vh.createTransformer(e),r=vv(t),i=vv(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?hP.has(t)&&!i.values.length||hP.has(e)&&!r.values.length?XZ(t,e):Kb(uF(nX(r,i),i.values),n):jE(t,e)};function dF(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?fr(t,e,n):VT(t)(t,e)}const iX=5;function hF(t,e,n){const r=Math.max(e-iX,0);return UU(n-t(r),e-r)}const Ar={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},wN=.001;function sX({duration:t=Ar.duration,bounce:e=Ar.bounce,velocity:n=Ar.velocity,mass:r=Ar.mass}){let i,s,o=1-e;o=Ru(Ar.minDamping,Ar.maxDamping,o),t=Ru(Ar.minDuration,Ar.maxDuration,Su(t)),o<1?(i=l=>{const u=l*o,d=u*t,h=u-n,f=fP(l,o),m=Math.exp(-d);return wN-h/f*m},s=l=>{const d=l*o*t,h=d*n+n,f=Math.pow(o,2)*Math.pow(l,2)*t,m=Math.exp(-d),g=fP(Math.pow(l,2),o);return(-i(l)+wN>0?-1:1)*((h-f)*m)/g}):(i=l=>{const u=Math.exp(-l*t),d=(l-n)*t+1;return-wN+u*d},s=l=>{const u=Math.exp(-l*t),d=(n-l)*(t*t);return u*d});const a=5/t,c=aX(i,s,a);if(t=Au(t),isNaN(c))return{stiffness:Ar.stiffness,damping:Ar.damping,duration:t};{const l=Math.pow(c,2)*r;return{stiffness:l,damping:o*2*Math.sqrt(r*l),duration:t}}}const oX=12;function aX(t,e,n){let r=n;for(let i=1;i<oX;i++)r=r-t(r)/e(r);return r}function fP(t,e){return t*Math.sqrt(1-e*e)}const cX=["duration","bounce"],lX=["stiffness","damping","mass"];function _R(t,e){return e.some(n=>t[n]!==void 0)}function uX(t){let e={velocity:Ar.velocity,stiffness:Ar.stiffness,damping:Ar.damping,mass:Ar.mass,isResolvedFromDuration:!1,...t};if(!_R(t,lX)&&_R(t,cX))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Ru(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Ar.mass,stiffness:i,damping:s}}else{const n=sX(t);e={...e,...n,mass:Ar.mass},e.isResolvedFromDuration=!0}return e}function fF(t=Ar.visualDuration,e=Ar.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:c,damping:l,mass:u,duration:d,velocity:h,isResolvedFromDuration:f}=uX({...n,velocity:-Su(n.velocity||0)}),m=h||0,g=l/(2*Math.sqrt(c*u)),E=o-s,y=Su(Math.sqrt(c/u)),w=Math.abs(E)<5;r||(r=w?Ar.restSpeed.granular:Ar.restSpeed.default),i||(i=w?Ar.restDelta.granular:Ar.restDelta.default);let x;if(g<1){const N=fP(y,g);x=D=>{const O=Math.exp(-g*y*D);return o-O*((m+g*y*E)/N*Math.sin(N*D)+E*Math.cos(N*D))}}else if(g===1)x=N=>o-Math.exp(-y*N)*(E+(m+y*E)*N);else{const N=y*Math.sqrt(g*g-1);x=D=>{const O=Math.exp(-g*y*D),P=Math.min(N*D,300);return o-O*((m+g*y*E)*Math.sinh(P)+N*E*Math.cosh(P))/N}}const C={calculatedDuration:f&&d||null,next:N=>{const D=x(N);if(f)a.done=N>=d;else{let O=0;g<1&&(O=N===0?Au(m):hF(x,N,D));const P=Math.abs(O)<=r,L=Math.abs(o-D)<=i;a.done=P&&L}return a.value=a.done?o:D,a},toString:()=>{const N=Math.min(kU(C),sP),D=OU(O=>C.next(N*O).value,N,30);return N+"ms "+D}};return C}function PR({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:c,restDelta:l=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=P=>a!==void 0&&P<a||c!==void 0&&P>c,m=P=>a===void 0?c:c===void 0||Math.abs(a-P)<Math.abs(c-P)?a:c;let g=n*e;const E=d+g,y=o===void 0?E:o(E);y!==E&&(g=y-d);const w=P=>-g*Math.exp(-P/r),x=P=>y+w(P),C=P=>{const L=w(P),$=x(P);h.done=Math.abs(L)<=l,h.value=h.done?y:$};let N,D;const O=P=>{f(h.value)&&(N=P,D=fF({keyframes:[h.value,m(h.value)],velocity:hF(x,P,h.value),damping:i,stiffness:s,restDelta:l,restSpeed:u}))};return O(0),{calculatedDuration:null,next:P=>{let L=!1;return!D&&N===void 0&&(L=!0,C(P),O(P)),N!==void 0&&P>=N?D.next(P-N):(!L&&C(P),h)}}}const dX=Gb(.42,0,1,1),hX=Gb(0,0,.58,1),pF=Gb(.42,0,.58,1),fX=t=>Array.isArray(t)&&typeof t[0]!="number",IR={linear:Oo,easeIn:dX,easeInOut:pF,easeOut:hX,circIn:BT,circInOut:KU,circOut:GU,backIn:MT,backInOut:qU,backOut:HU,anticipate:WU},TR=t=>{if(OT(t)){rP(t.length===4);const[e,n,r,i]=t;return Gb(e,n,r,i)}else if(typeof t=="string")return rP(IR[t]!==void 0),IR[t];return t};function pX(t,e,n){const r=[],i=n||dF,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||Oo:e;a=Kb(c,a)}r.push(a)}return r}function mX(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(rP(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=pX(e,r,i),c=a.length,l=u=>{if(o&&u<t[0])return e[0];let d=0;if(c>1)for(;d<t.length-2&&!(u<t[d+1]);d++);const h=ry(t[d],t[d+1],u);return a[d](h)};return n?u=>l(Ru(t[0],t[s-1],u)):l}function gX(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ry(0,e,r);t.push(fr(n,1,i))}}function yX(t){const e=[0];return gX(e,t.length-1),e}function wX(t,e){return t.map(n=>n*e)}function vX(t,e){return t.map(()=>e||pF).splice(0,t.length-1)}function ME({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=fX(r)?r.map(TR):TR(r),s={done:!1,value:e[0]},o=wX(n&&n.length===e.length?n:yX(e),t),a=mX(o,e,{ease:Array.isArray(i)?i:vX(e,i)});return{calculatedDuration:t,next:c=>(s.value=a(c),s.done=c>=t,s)}}const bX=t=>{const e=({timestamp:n})=>t(n);return{start:()=>ir.update(e,!0),stop:()=>wh(e),now:()=>Ti.isProcessing?Ti.timestamp:ll.now()}},xX={decay:PR,inertia:PR,tween:ME,keyframes:ME,spring:fF},EX=t=>t/100;class HT extends lF{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:c}=this.options;c&&c()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||zT,a=(c,l)=>this.onKeyframesResolved(c,l);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=kT(n)?n:xX[n]||ME;let c,l;a!==ME&&typeof e[0]!="number"&&(c=Kb(EX,dF(e[0],e[1])),e=[0,100]);const u=a({...this.options,keyframes:e});s==="mirror"&&(l=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=kU(u));const{calculatedDuration:d}=u,h=d+i,f=h*(r+1)-i;return{generator:u,mirroredGenerator:l,mapPercentToKeyframes:c,calculatedDuration:d,resolvedDuration:h,totalDuration:f}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:P}=this.options;return{done:!0,value:P[P.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:c,calculatedDuration:l,totalDuration:u,resolvedDuration:d}=r;if(this.startTime===null)return s.next(0);const{delay:h,repeat:f,repeatType:m,repeatDelay:g,onUpdate:E}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-u/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const y=this.currentTime-h*(this.speed>=0?1:-1),w=this.speed>=0?y<0:y>u;this.currentTime=Math.max(y,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=u);let x=this.currentTime,C=s;if(f){const P=Math.min(this.currentTime,u)/d;let L=Math.floor(P),$=P%1;!$&&P>=1&&($=1),$===1&&L--,L=Math.min(L,f+1),!!(L%2)&&(m==="reverse"?($=1-$,g&&($-=g/d)):m==="mirror"&&(C=o)),x=Ru(0,1,$)*d}const N=w?{done:!1,value:c[0]}:C.next(x);a&&(N.value=a(N.value));let{done:D}=N;!w&&l!==null&&(D=this.speed>=0?this.currentTime>=u:this.currentTime<=0);const O=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&D);return O&&i!==void 0&&(N.value=cS(c,this.options,i)),E&&E(N.value),O&&this.finish(),N}get duration(){const{resolved:e}=this;return e?Su(e.calculatedDuration):0}get time(){return Su(this.currentTime)}set time(e){e=Au(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Su(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=bX,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const AX=new Set(["opacity","clipPath","filter","transform"]);function SX(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:c}={}){const l={[e]:n};c&&(l.offset=c);const u=LU(a,i);return Array.isArray(u)&&(l.easing=u),t.animate(l,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const CX=gT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),BE=10,NX=2e4;function _X(t){return kT(t.type)||t.type==="spring"||!RU(t.ease)}function PX(t,e){const n=new HT({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<NX;)r=n.sample(s),i.push(r.value),s+=BE;return{times:void 0,keyframes:i,duration:s-BE,ease:"linear"}}const mF={anticipate:WU,backInOut:qU,circInOut:KU};function IX(t){return t in mF}class kR extends lF{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new cF(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:c,startTime:l}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&DE()&&IX(s)&&(s=mF[s]),_X(this.options)){const{onComplete:d,onUpdate:h,motionValue:f,element:m,...g}=this.options,E=PX(e,g);e=E.keyframes,e.length===1&&(e[1]=e[0]),r=E.duration,i=E.times,s=E.ease,o="keyframes"}const u=SX(a.owner.current,c,e,{...this.options,duration:r,times:i,ease:s});return u.startTime=l??this.calcStartTime(),this.pendingTimeline?(pR(u,this.pendingTimeline),this.pendingTimeline=void 0):u.onfinish=()=>{const{onComplete:d}=this.options;a.set(cS(e,this.options,n)),d&&d(),this.cancel(),this.resolveFinishedPromise()},{animation:u,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Su(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Su(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=Au(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return Oo;const{animation:r}=n;pR(r,e)}return Oo}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:l,onUpdate:u,onComplete:d,element:h,...f}=this.options,m=new HT({...f,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),g=Au(this.time);l.setWithVelocity(m.sample(g-BE).value,m.sample(g).value,BE)}const{onStop:c}=this.options;c&&c(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:l}=n.owner.getProps();return CX()&&r&&AX.has(r)&&!c&&!l&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const TX={type:"spring",stiffness:500,damping:25,restSpeed:10},kX=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),OX={type:"keyframes",duration:.8},RX={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},LX=(t,{keyframes:e})=>e.length>2?OX:zp.has(t)?t.startsWith("scale")?kX(e[1]):TX:RX;function DX({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:c,elapsed:l,...u}){return!!Object.keys(u).length}const qT=(t,e,n,r={},i,s)=>o=>{const a=TT(r,t)||{},c=a.delay||r.delay||0;let{elapsed:l=0}=r;l=l-Au(c);let u={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-l,onUpdate:h=>{e.set(h),a.onUpdate&&a.onUpdate(h)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};DX(a)||(u={...u,...LX(t,u)}),u.duration&&(u.duration=Au(u.duration)),u.repeatDelay&&(u.repeatDelay=Au(u.repeatDelay)),u.from!==void 0&&(u.keyframes[0]=u.from);let d=!1;if((u.type===!1||u.duration===0&&!u.repeatDelay)&&(u.duration=0,u.delay===0&&(d=!0)),d&&!s&&e.get()!==void 0){const h=cS(u.keyframes,a);if(h!==void 0)return ir.update(()=>{u.onUpdate(h),u.onComplete()}),new tZ([])}return!s&&kR.supports(u)?new kR(u):new HT(u)};function jX({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function gF(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...c}=e;r&&(o=r);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in c){const h=t.getValue(d,(s=t.latestValues[d])!==null&&s!==void 0?s:null),f=c[d];if(f===void 0||u&&jX(u,d))continue;const m={delay:n,...TT(o||{},d)};let g=!1;if(window.MotionHandoffAnimation){const y=FU(t);if(y){const w=window.MotionHandoffAnimation(y,d,ir);w!==null&&(m.startTime=w,g=!0)}}aP(t,d),h.start(qT(d,h,f,t.shouldReduceMotion&&BU.has(d)?{type:!1}:m,t,g));const E=h.animation;E&&l.push(E)}return a&&Promise.all(l).then(()=>{ir.update(()=>{a&&mZ(t,a)})}),l}function pP(t,e,n={}){var r;const i=aS(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(gF(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:h}=s;return MX(t,e,u+l,d,h,n)}:()=>Promise.resolve(),{when:c}=s;if(c){const[l,u]=c==="beforeChildren"?[o,a]:[a,o];return l().then(()=>u())}else return Promise.all([o(),a(n.delay)])}function MX(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,c=i===1?(l=0)=>l*r:(l=0)=>a-l*r;return Array.from(t.variantChildren).sort(BX).forEach((l,u)=>{l.notify("AnimationStart",e),o.push(pP(l,e,{...s,delay:n+c(u)}).then(()=>l.notify("AnimationComplete",e)))}),Promise.all(o)}function BX(t,e){return t.sortNodePosition(e)}function UX(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>pP(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=pP(t,e,n);else{const i=typeof e=="function"?aS(t,e,n.custom):e;r=Promise.all(gF(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const FX=wT.length;function yF(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?yF(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<FX;n++){const r=wT[n],i=t.props[r];(gv(i)||i===!1)&&(e[r]=i)}return e}const $X=[...yT].reverse(),zX=yT.length;function VX(t){return e=>Promise.all(e.map(({animation:n,options:r})=>UX(t,n,r)))}function HX(t){let e=VX(t),n=OR(),r=!0;const i=c=>(l,u)=>{var d;const h=aS(t,u,c==="exit"?(d=t.presenceContext)===null||d===void 0?void 0:d.custom:void 0);if(h){const{transition:f,transitionEnd:m,...g}=h;l={...l,...g,...m}}return l};function s(c){e=c(t)}function o(c){const{props:l}=t,u=yF(t.parent)||{},d=[],h=new Set;let f={},m=1/0;for(let E=0;E<zX;E++){const y=$X[E],w=n[y],x=l[y]!==void 0?l[y]:u[y],C=gv(x),N=y===c?w.isActive:null;N===!1&&(m=E);let D=x===u[y]&&x!==l[y]&&C;if(D&&r&&t.manuallyAnimateOnMount&&(D=!1),w.protectedKeys={...f},!w.isActive&&N===null||!x&&!w.prevProp||sS(x)||typeof x=="boolean")continue;const O=qX(w.prevProp,x);let P=O||y===c&&w.isActive&&!D&&C||E>m&&C,L=!1;const $=Array.isArray(x)?x:[x];let _=$.reduce(i(y),{});N===!1&&(_={});const{prevResolvedValues:j={}}=w,K={...j,..._},V=W=>{P=!0,h.has(W)&&(L=!0,h.delete(W)),w.needsAnimating[W]=!0;const B=t.getValue(W);B&&(B.liveStyle=!1)};for(const W in K){const B=_[W],z=j[W];if(f.hasOwnProperty(W))continue;let Z=!1;iP(B)&&iP(z)?Z=!TU(B,z):Z=B!==z,Z?B!=null?V(W):h.add(W):B!==void 0&&h.has(W)?V(W):w.protectedKeys[W]=!0}w.prevProp=x,w.prevResolvedValues=_,w.isActive&&(f={...f,..._}),r&&t.blockInitialAnimation&&(P=!1),P&&(!(D&&O)||L)&&d.push(...$.map(W=>({animation:W,options:{type:y}})))}if(h.size){const E={};h.forEach(y=>{const w=t.getBaseTarget(y),x=t.getValue(y);x&&(x.liveStyle=!0),E[y]=w??null}),d.push({animation:E})}let g=!!d.length;return r&&(l.initial===!1||l.initial===l.animate)&&!t.manuallyAnimateOnMount&&(g=!1),r=!1,g?e(d):Promise.resolve()}function a(c,l){var u;if(n[c].isActive===l)return Promise.resolve();(u=t.variantChildren)===null||u===void 0||u.forEach(h=>{var f;return(f=h.animationState)===null||f===void 0?void 0:f.setActive(c,l)}),n[c].isActive=l;const d=o(c);for(const h in n)n[h].protectedKeys={};return d}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=OR(),r=!0}}}function qX(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!TU(e,t):!1}function Gh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function OR(){return{animate:Gh(!0),whileInView:Gh(),whileHover:Gh(),whileTap:Gh(),whileDrag:Gh(),whileFocus:Gh(),exit:Gh()}}class kh{constructor(e){this.isMounted=!1,this.node=e}update(){}}class WX extends kh{constructor(e){super(e),e.animationState||(e.animationState=HX(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();sS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let GX=0;class KX extends kh{constructor(){super(...arguments),this.id=GX++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const YX={animation:{Feature:WX},exit:{Feature:KX}};function bv(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function Yb(t){return{point:{x:t.pageX,y:t.pageY}}}const JX=t=>e=>RT(e)&&t(e,Yb(e));function kw(t,e,n,r){return bv(t,e,JX(n),r)}const RR=(t,e)=>Math.abs(t-e);function QX(t,e){const n=RR(t.x,e.x),r=RR(t.y,e.y);return Math.sqrt(n**2+r**2)}class wF{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const d=bN(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,f=QX(d.offset,{x:0,y:0})>=3;if(!h&&!f)return;const{point:m}=d,{timestamp:g}=Ti;this.history.push({...m,timestamp:g});const{onStart:E,onMove:y}=this.handlers;h||(E&&E(this.lastMoveEvent,d),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,d)},this.handlePointerMove=(d,h)=>{this.lastMoveEvent=d,this.lastMoveEventInfo=vN(h,this.transformPagePoint),ir.update(this.updatePoint,!0)},this.handlePointerUp=(d,h)=>{this.end();const{onEnd:f,onSessionEnd:m,resumeAnimation:g}=this.handlers;if(this.dragSnapToOrigin&&g&&g(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=bN(d.type==="pointercancel"?this.lastMoveEventInfo:vN(h,this.transformPagePoint),this.history);this.startEvent&&f&&f(d,E),m&&m(d,E)},!RT(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=Yb(e),a=vN(o,this.transformPagePoint),{point:c}=a,{timestamp:l}=Ti;this.history=[{...c,timestamp:l}];const{onSessionStart:u}=n;u&&u(e,bN(a,this.history)),this.removeListeners=Kb(kw(this.contextWindow,"pointermove",this.handlePointerMove),kw(this.contextWindow,"pointerup",this.handlePointerUp),kw(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),wh(this.updatePoint)}}function vN(t,e){return e?{point:e(t.point)}:t}function LR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function bN({point:t},e){return{point:t,delta:LR(t,vF(e)),offset:LR(t,ZX(e)),velocity:XX(e,.1)}}function ZX(t){return t[0]}function vF(t){return t[t.length-1]}function XX(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=vF(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>Au(e)));)n--;if(!r)return{x:0,y:0};const s=Su(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const bF=1e-4,eee=1-bF,tee=1+bF,xF=.01,nee=0-xF,ree=0+xF;function Do(t){return t.max-t.min}function iee(t,e,n){return Math.abs(t-e)<=n}function DR(t,e,n,r=.5){t.origin=r,t.originPoint=fr(e.min,e.max,t.origin),t.scale=Do(n)/Do(e),t.translate=fr(n.min,n.max,t.origin)-t.originPoint,(t.scale>=eee&&t.scale<=tee||isNaN(t.scale))&&(t.scale=1),(t.translate>=nee&&t.translate<=ree||isNaN(t.translate))&&(t.translate=0)}function Ow(t,e,n,r){DR(t.x,e.x,n.x,r?r.originX:void 0),DR(t.y,e.y,n.y,r?r.originY:void 0)}function jR(t,e,n){t.min=n.min+e.min,t.max=t.min+Do(e)}function see(t,e,n){jR(t.x,e.x,n.x),jR(t.y,e.y,n.y)}function MR(t,e,n){t.min=e.min-n.min,t.max=t.min+Do(e)}function Rw(t,e,n){MR(t.x,e.x,n.x),MR(t.y,e.y,n.y)}function oee(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?fr(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?fr(n,t,r.max):Math.min(t,n)),t}function BR(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function aee(t,{top:e,left:n,bottom:r,right:i}){return{x:BR(t.x,n,i),y:BR(t.y,e,r)}}function UR(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function cee(t,e){return{x:UR(t.x,e.x),y:UR(t.y,e.y)}}function lee(t,e){let n=.5;const r=Do(t),i=Do(e);return i>r?n=ry(e.min,e.max-r,t.min):r>i&&(n=ry(t.min,t.max-i,e.min)),Ru(0,1,n)}function uee(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const mP=.35;function dee(t=mP){return t===!1?t=0:t===!0&&(t=mP),{x:FR(t,"left","right"),y:FR(t,"top","bottom")}}function FR(t,e,n){return{min:$R(t,e),max:$R(t,n)}}function $R(t,e){return typeof t=="number"?t:t[e]||0}const zR=()=>({translate:0,scale:1,origin:0,originPoint:0}),_g=()=>({x:zR(),y:zR()}),VR=()=>({min:0,max:0}),Ir=()=>({x:VR(),y:VR()});function ra(t){return[t("x"),t("y")]}function EF({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function hee({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fee(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function xN(t){return t===void 0||t===1}function gP({scale:t,scaleX:e,scaleY:n}){return!xN(t)||!xN(e)||!xN(n)}function nf(t){return gP(t)||AF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function AF(t){return HR(t.x)||HR(t.y)}function HR(t){return t&&t!=="0%"}function UE(t,e,n){const r=t-n,i=e*r;return n+i}function qR(t,e,n,r,i){return i!==void 0&&(t=UE(t,i,r)),UE(t,n,r)+e}function yP(t,e=0,n=1,r,i){t.min=qR(t.min,e,n,r,i),t.max=qR(t.max,e,n,r,i)}function SF(t,{x:e,y:n}){yP(t.x,e.translate,e.scale,e.originPoint),yP(t.y,n.translate,n.scale,n.originPoint)}const WR=.999999999999,GR=1.0000000000001;function pee(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Ig(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,SF(t,o)),r&&nf(s.latestValues)&&Ig(t,s.latestValues))}e.x<GR&&e.x>WR&&(e.x=1),e.y<GR&&e.y>WR&&(e.y=1)}function Pg(t,e){t.min=t.min+e,t.max=t.max+e}function KR(t,e,n,r,i=.5){const s=fr(t.min,t.max,i);yP(t,e,n,s,r)}function Ig(t,e){KR(t.x,e.x,e.scaleX,e.scale,e.originX),KR(t.y,e.y,e.scaleY,e.scale,e.originY)}function CF(t,e){return EF(fee(t.getBoundingClientRect(),e))}function mee(t,e,n){const r=CF(t,n),{scroll:i}=e;return i&&(Pg(r.x,i.offset.x),Pg(r.y,i.offset.y)),r}const NF=({current:t})=>t?t.ownerDocument.defaultView:null,gee=new WeakMap;class yee{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ir(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:d}=this.getProps();d?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(Yb(u).point)},s=(u,d)=>{const{drag:h,dragPropagation:f,onDragStart:m}=this.getProps();if(h&&!f&&(this.openDragLock&&this.openDragLock(),this.openDragLock=uZ(h),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ra(E=>{let y=this.getAxisMotionValue(E).get()||0;if(cl.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const x=w.layout.layoutBox[E];x&&(y=Do(x)*(parseFloat(y)/100))}}this.originPoint[E]=y}),m&&ir.postRender(()=>m(u,d)),aP(this.visualElement,"transform");const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,d)=>{const{dragPropagation:h,dragDirectionLock:f,onDirectionLock:m,onDrag:g}=this.getProps();if(!h&&!this.openDragLock)return;const{offset:E}=d;if(f&&this.currentDirection===null){this.currentDirection=wee(E),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",d.point,E),this.updateAxis("y",d.point,E),this.visualElement.render(),g&&g(u,d)},a=(u,d)=>this.stop(u,d),c=()=>ra(u=>{var d;return this.getAnimationState(u)==="paused"&&((d=this.getAxisMotionValue(u).animation)===null||d===void 0?void 0:d.play())}),{dragSnapToOrigin:l}=this.getProps();this.panSession=new wF(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:l,contextWindow:NF(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&ir.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!k5(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=oee(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Cg(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=aee(i.layoutBox,n):this.constraints=!1,this.elastic=dee(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ra(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=uee(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Cg(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=mee(r,i.root,this.visualElement.getTransformPagePoint());let o=cee(i.layout.layoutBox,s);if(n){const a=n(hee(o));this.hasMutatedConstraints=!!a,a&&(o=EF(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),c=this.constraints||{},l=ra(u=>{if(!k5(u,n,this.currentDirection))return;let d=c&&c[u]||{};o&&(d={min:0,max:0});const h=i?200:1e6,f=i?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...s,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(l).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return aP(this.visualElement,e),r.start(qT(e,r,0,n,this.visualElement,!1))}stopAnimation(){ra(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ra(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){ra(n=>{const{drag:r}=this.getProps();if(!k5(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-fr(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Cg(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ra(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const c=a.get();i[o]=lee({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ra(o=>{if(!k5(o,e,null))return;const a=this.getAxisMotionValue(o),{min:c,max:l}=this.constraints[o];a.set(fr(c,l,i[o]))})}addListeners(){if(!this.visualElement.current)return;gee.set(this.visualElement,this);const e=this.visualElement.current,n=kw(e,"pointerdown",c=>{const{drag:l,dragListener:u=!0}=this.getProps();l&&u&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();Cg(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ir.read(r);const o=bv(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:l})=>{this.isDragging&&l&&(ra(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=c[u].translate,d.set(d.get()+c[u].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=mP,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function k5(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function wee(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class vee extends kh{constructor(e){super(e),this.removeGroupControls=Oo,this.removeListeners=Oo,this.controls=new yee(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Oo}unmount(){this.removeGroupControls(),this.removeListeners()}}const YR=t=>(e,n)=>{t&&ir.postRender(()=>t(e,n))};class bee extends kh{constructor(){super(...arguments),this.removePointerDownListener=Oo}onPointerDown(e){this.session=new wF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:NF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:YR(e),onStart:YR(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&ir.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=kw(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const kx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function JR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const O1={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(xt.test(t))t=parseFloat(t);else return t;const n=JR(t,e.target.x),r=JR(t,e.target.y);return`${n}% ${r}%`}},xee={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=vh.parse(t);if(i.length>5)return r;const s=vh.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,c=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=c;const l=fr(a,c,.5);return typeof i[2+o]=="number"&&(i[2+o]/=l),typeof i[3+o]=="number"&&(i[3+o]/=l),s(i)}};class Eee extends ce.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;VQ(Aee),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),kx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ir.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),bT.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function _F(t){const[e,n]=uU(),r=ce.useContext(hT);return v.jsx(Eee,{...t,layoutGroup:r,switchLayoutGroup:ce.useContext(yU),isPresent:e,safeToRemove:n})}const Aee={borderRadius:{...O1,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:O1,borderTopRightRadius:O1,borderBottomLeftRadius:O1,borderBottomRightRadius:O1,boxShadow:xee};function See(t,e,n){const r=ss(t)?t:wv(t);return r.start(qT("",r,e,n)),r.animation}function Cee(t){return t instanceof SVGElement&&t.tagName!=="svg"}const Nee=(t,e)=>t.depth-e.depth;class _ee{constructor(){this.children=[],this.isDirty=!1}add(e){LT(this.children,e),this.isDirty=!0}remove(e){DT(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Nee),this.isDirty=!1,this.children.forEach(e)}}function Pee(t,e){const n=ll.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(wh(r),t(s-e))};return ir.read(r,!0),()=>wh(r)}const PF=["TopLeft","TopRight","BottomLeft","BottomRight"],Iee=PF.length,QR=t=>typeof t=="string"?parseFloat(t):t,ZR=t=>typeof t=="number"||xt.test(t);function Tee(t,e,n,r,i,s){i?(t.opacity=fr(0,n.opacity!==void 0?n.opacity:1,kee(r)),t.opacityExit=fr(e.opacity!==void 0?e.opacity:1,0,Oee(r))):s&&(t.opacity=fr(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<Iee;o++){const a=`border${PF[o]}Radius`;let c=XR(e,a),l=XR(n,a);if(c===void 0&&l===void 0)continue;c||(c=0),l||(l=0),c===0||l===0||ZR(c)===ZR(l)?(t[a]=Math.max(fr(QR(c),QR(l),r),0),(cl.test(l)||cl.test(c))&&(t[a]+="%")):t[a]=l}(e.rotate||n.rotate)&&(t.rotate=fr(e.rotate||0,n.rotate||0,r))}function XR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const kee=IF(0,.5,GU),Oee=IF(.5,.95,Oo);function IF(t,e,n){return r=>r<t?0:r>e?1:n(ry(t,e,r))}function e8(t,e){t.min=e.min,t.max=e.max}function Yo(t,e){e8(t.x,e.x),e8(t.y,e.y)}function t8(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function n8(t,e,n,r,i){return t-=e,t=UE(t,1/n,r),i!==void 0&&(t=UE(t,1/i,r)),t}function Ree(t,e=0,n=1,r=.5,i,s=t,o=t){if(cl.test(e)&&(e=parseFloat(e),e=fr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=fr(s.min,s.max,r);t===s&&(a-=e),t.min=n8(t.min,e,n,a,i),t.max=n8(t.max,e,n,a,i)}function r8(t,e,[n,r,i],s,o){Ree(t,e[n],e[r],e[i],e.scale,s,o)}const Lee=["x","scaleX","originX"],Dee=["y","scaleY","originY"];function i8(t,e,n,r){r8(t.x,e,Lee,n?n.x:void 0,r?r.x:void 0),r8(t.y,e,Dee,n?n.y:void 0,r?r.y:void 0)}function s8(t){return t.translate===0&&t.scale===1}function TF(t){return s8(t.x)&&s8(t.y)}function o8(t,e){return t.min===e.min&&t.max===e.max}function jee(t,e){return o8(t.x,e.x)&&o8(t.y,e.y)}function a8(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function kF(t,e){return a8(t.x,e.x)&&a8(t.y,e.y)}function c8(t){return Do(t.x)/Do(t.y)}function l8(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Mee{constructor(){this.members=[]}add(e){LT(this.members,e),e.scheduleRender()}remove(e){if(DT(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Bee(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:l,rotate:u,rotateX:d,rotateY:h,skewX:f,skewY:m}=n;l&&(r=`perspective(${l}px) ${r}`),u&&(r+=`rotate(${u}deg) `),d&&(r+=`rotateX(${d}deg) `),h&&(r+=`rotateY(${h}deg) `),f&&(r+=`skewX(${f}deg) `),m&&(r+=`skewY(${m}deg) `)}const a=t.x.scale*e.x,c=t.y.scale*e.y;return(a!==1||c!==1)&&(r+=`scale(${a}, ${c})`),r||"none"}const rf={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},cw=typeof window<"u"&&window.MotionDebug!==void 0,EN=["","X","Y","Z"],Uee={visibility:"hidden"},u8=1e3;let Fee=0;function AN(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function OF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=FU(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",ir,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&OF(r)}function RF({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=Fee++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,cw&&(rf.totalNodes=rf.resolvedTargetDeltas=rf.recalculatedProjection=0),this.nodes.forEach(Vee),this.nodes.forEach(Kee),this.nodes.forEach(Yee),this.nodes.forEach(Hee),cw&&window.MotionDebug.record(rf)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new _ee)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new jT),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const c=this.eventHandlers.get(o);c&&c.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=Cee(o),this.instance=o;const{layoutId:c,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(l||c)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=Pee(h,250),kx.hasAnimatedSinceResize&&(kx.hasAnimatedSinceResize=!1,this.nodes.forEach(h8))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&u&&(c||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||ete,{onLayoutAnimationStart:E,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!kF(this.targetLayout,m)||f,x=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||x||h&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,x);const C={...TT(g,"layout"),onPlay:E,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(C.delay=0,C.type=!1),this.startAnimation(C)}else h||h8(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,wh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Jee),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&OF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:c}=this.options;if(a===void 0&&!c)return;const l=this.getTransformTemplate();this.prevTransformTemplateValue=l?l(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(d8);return}this.isUpdating||this.nodes.forEach(Wee),this.isUpdating=!1,this.nodes.forEach(Gee),this.nodes.forEach($ee),this.nodes.forEach(zee),this.clearAllSnapshots();const a=ll.now();Ti.delta=Ru(0,1e3/60,a-Ti.timestamp),Ti.timestamp=a,Ti.isProcessing=!0,fN.update.process(Ti),fN.preRender.process(Ti),fN.render.process(Ti),Ti.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,bT.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(qee),this.sharedNodes.forEach(Qee)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ir.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ir.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ir(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const c=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!TF(this.projectionDelta),c=this.getTransformTemplate(),l=c?c(this.latestValues,""):void 0,u=l!==this.prevTransformTemplateValue;o&&(a||nf(this.latestValues)||u)&&(i(this.instance,l),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let c=this.removeElementScroll(a);return o&&(c=this.removeTransform(c)),tte(c),{animationId:this.root.animationId,measuredBox:a,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ir();const c=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(nte))){const{scroll:u}=this.root;u&&(Pg(c.x,u.offset.x),Pg(c.y,u.offset.y))}return c}removeElementScroll(o){var a;const c=Ir();if(Yo(c,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return c;for(let l=0;l<this.path.length;l++){const u=this.path[l],{scroll:d,options:h}=u;u!==this.root&&d&&h.layoutScroll&&(d.wasRoot&&Yo(c,o),Pg(c.x,d.offset.x),Pg(c.y,d.offset.y))}return c}applyTransform(o,a=!1){const c=Ir();Yo(c,o);for(let l=0;l<this.path.length;l++){const u=this.path[l];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Ig(c,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),nf(u.latestValues)&&Ig(c,u.latestValues)}return nf(this.latestValues)&&Ig(c,this.latestValues),c}removeTransform(o){const a=Ir();Yo(a,o);for(let c=0;c<this.path.length;c++){const l=this.path[c];if(!l.instance||!nf(l.latestValues))continue;gP(l.latestValues)&&l.updateSnapshot();const u=Ir(),d=l.measurePageBox();Yo(u,d),i8(a,l.latestValues,l.snapshot?l.snapshot.layoutBox:void 0,u)}return nf(this.latestValues)&&i8(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ti.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==c;if(!(o||l&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Ti.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),Rw(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ir(),this.targetWithTransforms=Ir()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),see(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Yo(this.target,this.layout.layoutBox),SF(this.target,this.targetDelta)):Yo(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ir(),this.relativeTargetOrigin=Ir(),Rw(this.relativeTargetOrigin,this.target,f.target),Yo(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}cw&&rf.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||gP(this.parent.latestValues)||AF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),c=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(l=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Ti.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Yo(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;pee(this.layoutCorrected,this.treeScale,this.path,c),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ir());const{target:m}=a;if(!m){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(t8(this.prevProjectionDelta.x,this.projectionDelta.x),t8(this.prevProjectionDelta.y,this.projectionDelta.y)),Ow(this.projectionDelta,this.layoutCorrected,m,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==f||!l8(this.projectionDelta.x,this.prevProjectionDelta.x)||!l8(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),cw&&rf.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=_g(),this.projectionDelta=_g(),this.projectionDeltaWithTransform=_g()}setAnimationOrigin(o,a=!1){const c=this.snapshot,l=c?c.latestValues:{},u={...this.latestValues},d=_g();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=Ir(),f=c?c.source:void 0,m=this.layout?this.layout.source:void 0,g=f!==m,E=this.getStack(),y=!E||E.members.length<=1,w=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(Xee));this.animationProgress=0;let x;this.mixTargetDelta=C=>{const N=C/1e3;f8(d.x,o.x,N),f8(d.y,o.y,N),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Rw(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Zee(this.relativeTarget,this.relativeTargetOrigin,h,N),x&&jee(this.relativeTarget,x)&&(this.isProjectionDirty=!1),x||(x=Ir()),Yo(x,this.relativeTarget)),g&&(this.animationValues=u,Tee(u,l,this.latestValues,N,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=N},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(wh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ir.update(()=>{kx.hasAnimatedSinceResize=!0,this.currentAnimation=See(0,u8,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(u8),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:c,layout:l,latestValues:u}=o;if(!(!a||!c||!l)){if(this!==o&&this.layout&&l&&LF(this.options.animationType,this.layout.layoutBox,l.layoutBox)){c=this.target||Ir();const d=Do(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+d;const h=Do(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+h}Yo(a,c),Ig(a,u),Ow(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Mee),this.sharedNodes.get(o).add(a);const l=a.options.initialPromotionConfig;a.promote({transition:l?l.transition:void 0,preserveFollowOpacity:l&&l.shouldPreserveFollowOpacity?l.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:c}={}){const l=this.getStack();l&&l.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(a=!0),!a)return;const l={};c.z&&AN("z",o,l,this.animationValues);for(let u=0;u<EN.length;u++)AN(`rotate${EN[u]}`,o,l,this.animationValues),AN(`skew${EN[u]}`,o,l,this.animationValues);o.render();for(const u in l)o.setStaticValue(u,l[u]),this.animationValues&&(this.animationValues[u]=l[u]);o.scheduleRender()}getProjectionStyles(o){var a,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return Uee;const l={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,l.opacity="",l.pointerEvents=Ix(o==null?void 0:o.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none",l;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=Ix(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!nf(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),l.transform=Bee(this.projectionDeltaWithTransform,this.treeScale,h),u&&(l.transform=u(h,l.transform));const{x:f,y:m}=this.projectionDelta;l.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?l.opacity=d===this?(c=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:l.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in LE){if(h[g]===void 0)continue;const{correct:E,applyTo:y}=LE[g],w=l.transform==="none"?h[g]:E(h[g],d);if(y){const x=y.length;for(let C=0;C<x;C++)l[y[C]]=w}else l[g]=w}return this.options.layoutId&&(l.pointerEvents=d===this?Ix(o==null?void 0:o.pointerEvents)||"":"none"),l}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(d8),this.root.sharedNodes.clear()}}}function $ee(t){t.updateLayout()}function zee(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?ra(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Do(h);h.min=r[d].min,h.max=h.min+f}):LF(s,n.layoutBox,r)&&ra(d=>{const h=o?n.measuredBox[d]:n.layoutBox[d],f=Do(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=_g();Ow(a,r,n.layoutBox);const c=_g();o?Ow(c,t.applyTransform(i,!0),n.measuredBox):Ow(c,r,n.layoutBox);const l=!TF(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const m=Ir();Rw(m,n.layoutBox,h.layoutBox);const g=Ir();Rw(g,r,f.layoutBox),kF(m,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:a,hasLayoutChanged:l,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Vee(t){cw&&rf.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Hee(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function qee(t){t.clearSnapshot()}function d8(t){t.clearMeasurements()}function Wee(t){t.isLayoutDirty=!1}function Gee(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function h8(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Kee(t){t.resolveTargetDelta()}function Yee(t){t.calcProjection()}function Jee(t){t.resetSkewAndRotation()}function Qee(t){t.removeLeadSnapshot()}function f8(t,e,n){t.translate=fr(e.translate,0,n),t.scale=fr(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function p8(t,e,n,r){t.min=fr(e.min,n.min,r),t.max=fr(e.max,n.max,r)}function Zee(t,e,n,r){p8(t.x,e.x,n.x,r),p8(t.y,e.y,n.y,r)}function Xee(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const ete={duration:.45,ease:[.4,0,.1,1]},m8=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),g8=m8("applewebkit/")&&!m8("chrome/")?Math.round:Oo;function y8(t){t.min=g8(t.min),t.max=g8(t.max)}function tte(t){y8(t.x),y8(t.y)}function LF(t,e,n){return t==="position"||t==="preserve-aspect"&&!iee(c8(e),c8(n),.2)}function nte(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const rte=RF({attachResizeListener:(t,e)=>bv(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),SN={current:void 0},DF=RF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!SN.current){const t=new rte({});t.mount(window),t.setOptions({layoutScroll:!0}),SN.current=t}return SN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ite={pan:{Feature:bee},drag:{Feature:vee,ProjectionNode:DF,MeasureLayout:_F}};function w8(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&ir.postRender(()=>s(e,Yb(e)))}class ste extends kh{mount(){const{current:e}=this.node;e&&(this.unmount=sZ(e,n=>(w8(this.node,n,"Start"),r=>w8(this.node,r,"End"))))}unmount(){}}class ote extends kh{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kb(bv(this.node.current,"focus",()=>this.onFocus()),bv(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function v8(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&ir.postRender(()=>s(e,Yb(e)))}class ate extends kh{mount(){const{current:e}=this.node;e&&(this.unmount=lZ(e,n=>(v8(this.node,n,"Start"),(r,{success:i})=>v8(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const wP=new WeakMap,CN=new WeakMap,cte=t=>{const e=wP.get(t.target);e&&e(t)},lte=t=>{t.forEach(cte)};function ute({root:t,...e}){const n=t||document;CN.has(n)||CN.set(n,{});const r=CN.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(lte,{root:t,...e})),r[i]}function dte(t,e,n){const r=ute(e);return wP.set(t,n),r.observe(t),()=>{wP.delete(t),r.unobserve(t)}}const hte={some:0,all:1};class fte extends kh{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hte[i]},a=c=>{const{isIntersecting:l}=c;if(this.isInView===l||(this.isInView=l,s&&!l&&this.hasEnteredView))return;l&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",l);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=l?u:d;h&&h(c)};return dte(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(pte(e,n))&&this.startObserver()}unmount(){}}function pte({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const mte={inView:{Feature:fte},tap:{Feature:ate},focus:{Feature:ote},hover:{Feature:ste}},gte={layout:{ProjectionNode:DF,MeasureLayout:_F}},vP={current:null},jF={current:!1};function yte(){if(jF.current=!0,!!mT)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vP.current=t.matches;t.addListener(e),e()}else vP.current=!1}const wte=[...aF,Xi,vh],vte=t=>wte.find(oF(t)),b8=new WeakMap;function bte(t,e,n){for(const r in e){const i=e[r],s=n[r];if(ss(i))t.addValue(r,i);else if(ss(s))t.addValue(r,wv(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,wv(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const x8=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xte{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=zT,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const f=ll.now();this.renderScheduledAt<f&&(this.renderScheduledAt=f,ir.render(this.render,!1,!0))};const{latestValues:c,renderState:l,onUpdate:u}=o;this.onUpdate=u,this.latestValues=c,this.baseTarget={...c},this.initialValues=n.initial?{...c}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=oS(n),this.isVariantNode=mU(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...h}=this.scrapeMotionValuesFromProps(n,{},this);for(const f in h){const m=h[f];c[f]!==void 0&&ss(m)&&m.set(c[f],!1)}}mount(e){this.current=e,b8.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),jF.current||yte(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vP.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){b8.delete(this.current),this.projection&&this.projection.unmount(),wh(this.notifyUpdate),wh(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=zp.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ir.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in iy){const n=iy[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ir()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<x8.length;r++){const i=x8[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=bte(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=wv(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(iF(i)||YU(i))?i=parseFloat(i):!vte(i)&&vh.test(n)&&(i=tF(e,n)),this.setBaseTarget(e,ss(i)?i.get():i)),ss(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=ET(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!ss(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new jT),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class MF extends xte{constructor(){super(...arguments),this.KeyframeResolver=cF}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ss(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Ete(t){return window.getComputedStyle(t)}class Ate extends MF{constructor(){super(...arguments),this.type="html",this.renderInstance=SU}readValueFromInstance(e,n){if(zp.has(n)){const r=$T(n);return r&&r.default||0}else{const r=Ete(e),i=(xU(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return CF(e,n)}build(e,n,r){CT(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return IT(e,n,r)}}class Ste extends MF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ir}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(zp.has(n)){const r=$T(n);return r&&r.default||0}return n=CU.has(n)?n:vT(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return PU(e,n,r)}build(e,n,r){NT(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){NU(e,n,r,i)}mount(e){this.isSVGTag=PT(e.tagName),super.mount(e)}}const Cte=(t,e)=>xT(t)?new Ste(e):new Ate(e,{allowProjection:t!==ce.Fragment}),Nte=ZQ({...YX,...mte,...ite,...gte},Cte),Qe=fQ(Nte);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _te={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ot=(t,e)=>{const n=ce.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:c,...l},u)=>ce.createElement("svg",{ref:u,..._te,width:i,height:i,stroke:r,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Pte(t)}`,a].join(" "),...l},[...e.map(([d,h])=>ce.createElement(d,h)),...Array.isArray(c)?c:[c]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ite=Ot("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=Ot("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ad=Ot("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BF=Ot("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=Ot("Award",[["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}],["path",{d:"M15.477 12.89 17 22l-5-3-5 3 1.523-9.11",key:"em7aur"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=Ot("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FE=Ot("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=Ot("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E8=Ot("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xv=Ot("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Ot("Cloud",[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rte=Ot("Cpu",[["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"9",y:"9",width:"6",height:"6",key:"o3kz5p"}],["path",{d:"M15 2v2",key:"13l42r"}],["path",{d:"M15 20v2",key:"15mkzm"}],["path",{d:"M2 15h2",key:"1gxd5l"}],["path",{d:"M2 9h2",key:"1bbxkp"}],["path",{d:"M20 15h2",key:"19e6y8"}],["path",{d:"M20 9h2",key:"19tzq7"}],["path",{d:"M9 2v2",key:"165o2o"}],["path",{d:"M9 20v2",key:"i2bqo8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=Ot("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=Ot("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Ot("GlobeLock",[["path",{d:"M15.686 15A14.5 14.5 0 0 1 12 22a14.5 14.5 0 0 1 0-20 10 10 0 1 0 9.542 13",key:"qkt0x6"}],["path",{d:"M2 12h8.5",key:"ovaggd"}],["path",{d:"M20 6V4a2 2 0 1 0-4 0v2",key:"1of5e8"}],["rect",{width:"8",height:"5",x:"14",y:"6",rx:"1",key:"1fmf51"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bu=Ot("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jte=Ot("Headphones",[["path",{d:"M3 14h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-7a9 9 0 0 1 18 0v7a2 2 0 0 1-2 2h-1a2 2 0 0 1-2-2v-3a2 2 0 0 1 2-2h3",key:"1xhozi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $E=Ot("HelpCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=Ot("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wg=Ot("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UF=Ot("Laptop",[["path",{d:"M20 16V7a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v9m16 0H4m16 0 1.28 2.55a1 1 0 0 1-.9 1.45H3.62a1 1 0 0 1-.9-1.45L4 16",key:"tarvll"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=Ot("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uc=Ot("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FF=Ot("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=Ot("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=Ot("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $F=Ot("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=Ot("MousePointerClick",[["path",{d:"m9 9 5 12 1.8-5.2L21 14Z",key:"1b76lo"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=Ot("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=Ot("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=Ot("ScanSearch",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}],["path",{d:"m16 16-1.9-1.9",key:"1dq9hf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yp=Ot("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KT=Ot("ShieldOff",[["path",{d:"m2 2 20 20",key:"1ooewy"}],["path",{d:"M5 5a1 1 0 0 0-1 1v7c0 5 3.5 7.5 7.67 8.94a1 1 0 0 0 .67.01c2.35-.82 4.48-1.97 5.9-3.71",key:"1jlk70"}],["path",{d:"M9.309 3.652A12.252 12.252 0 0 0 11.24 2.28a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1v7a9.784 9.784 0 0 1-.08 1.264",key:"18rp1v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=Ot("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oy=Ot("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A8=Ot("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=Ot("TabletSmartphone",[["rect",{width:"10",height:"14",x:"3",y:"8",rx:"2",key:"1vrsiq"}],["path",{d:"M5 4a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v16a2 2 0 0 1-2 2h-2.4",key:"1j4zmg"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YT=Ot("Tablet",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["line",{x1:"12",x2:"12.01",y1:"18",y2:"18",key:"1dp563"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=Ot("Unlock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 9.9-1",key:"1mm8w8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zF=Ot("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=Ot("Wallet",[["path",{d:"M21 12V7H5a2 2 0 0 1 0-4h14v4",key:"195gfw"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h16v-5",key:"195n9w"}],["path",{d:"M18 12a2 2 0 0 0 0 4h4v-4Z",key:"vllfpd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=Ot("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=Ot("Wrench",[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=Ot("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=Ot("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=Ot("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function VF({value:t,onChange:e}){return v.jsx("div",{className:"max-w-2xl mx-auto",children:v.jsxs("div",{className:"relative",children:[v.jsx(yp,{className:"absolute left-3 md:left-4 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4 md:w-5 md:h-5"}),v.jsx("input",{type:"text",placeholder:"Search your device model...",className:"w-full pl-10 md:pl-12 pr-3 md:pr-4 py-2 md:py-3 text-sm md:text-base border rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",value:t,onChange:n=>e(n.target.value)})]})})}function S8(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function JT(t,e){t===void 0&&(t={}),e===void 0&&(e={});const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:S8(e[r])&&S8(t[r])&&Object.keys(e[r]).length>0&&JT(t[r],e[r])})}const HF={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function dl(){const t=typeof document<"u"?document:{};return JT(t,HF),t}const Qte={document:HF,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function ks(){const t=typeof window<"u"?window:{};return JT(t,Qte),t}function Zte(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function Xte(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function bP(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function zE(){return Date.now()}function ene(t){const e=ks();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function tne(t,e){e===void 0&&(e="x");const n=ks();let r,i,s;const o=ene(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(a=>a.replace(",",".")).join(", ")),s=new n.WebKitCSSMatrix(i==="none"?"":i)):(s=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),r=s.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=s.m41:r.length===16?i=parseFloat(r[12]):i=parseFloat(r[4])),e==="y"&&(n.WebKitCSSMatrix?i=s.m42:r.length===16?i=parseFloat(r[13]):i=parseFloat(r[5])),i||0}function O5(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function nne(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function Co(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const r=n<0||arguments.length<=n?void 0:arguments[n];if(r!=null&&!nne(r)){const i=Object.keys(Object(r)).filter(s=>e.indexOf(s)<0);for(let s=0,o=i.length;s<o;s+=1){const a=i[s],c=Object.getOwnPropertyDescriptor(r,a);c!==void 0&&c.enumerable&&(O5(t[a])&&O5(r[a])?r[a].__swiper__?t[a]=r[a]:Co(t[a],r[a]):!O5(t[a])&&O5(r[a])?(t[a]={},r[a].__swiper__?t[a]=r[a]:Co(t[a],r[a])):t[a]=r[a])}}}return t}function R5(t,e,n){t.style.setProperty(e,n)}function qF(t){let{swiper:e,targetPosition:n,side:r}=t;const i=ks(),s=-e.translate;let o=null,a;const c=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const l=n>s?"next":"prev",u=(h,f)=>l==="next"&&h>=f||l==="prev"&&h<=f,d=()=>{a=new Date().getTime(),o===null&&(o=a);const h=Math.max(Math.min((a-o)/c,1),0),f=.5-Math.cos(h*Math.PI)/2;let m=s+f*(n-s);if(u(m,n)&&(m=n),e.wrapperEl.scrollTo({[r]:m}),u(m,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[r]:m})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function il(t,e){e===void 0&&(e="");const n=ks(),r=[...t.children];return n.HTMLSlotElement&&t instanceof HTMLSlotElement&&r.push(...t.assignedElements()),e?r.filter(i=>i.matches(e)):r}function rne(t,e){const n=[e];for(;n.length>0;){const r=n.shift();if(t===r)return!0;n.push(...r.children,...r.shadowRoot?r.shadowRoot.children:[],...r.assignedElements?r.assignedElements():[])}}function ine(t,e){const n=ks();let r=e.contains(t);return!r&&n.HTMLSlotElement&&e instanceof HTMLSlotElement&&(r=[...e.assignedElements()].includes(t),r||(r=rne(t,e))),r}function VE(t){try{console.warn(t);return}catch{}}function HE(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:Zte(e)),n}function sne(t,e){const n=[];for(;t.previousElementSibling;){const r=t.previousElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function one(t,e){const n=[];for(;t.nextElementSibling;){const r=t.nextElementSibling;e?r.matches(e)&&n.push(r):n.push(r),t=r}return n}function Jd(t,e){return ks().getComputedStyle(t,null).getPropertyValue(e)}function qE(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function WF(t,e){const n=[];let r=t.parentElement;for(;r;)e?r.matches(e)&&n.push(r):n.push(r),r=r.parentElement;return n}function xP(t,e,n){const r=ks();return t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(r.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom"))}function Ml(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let NN;function ane(){const t=ks(),e=dl();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function GF(){return NN||(NN=ane()),NN}let _N;function cne(t){let{userAgent:e}=t===void 0?{}:t;const n=GF(),r=ks(),i=r.navigator.platform,s=e||r.navigator.userAgent,o={ios:!1,android:!1},a=r.screen.width,c=r.screen.height,l=s.match(/(Android);?[\s\/]+([\d.]+)?/);let u=s.match(/(iPad).*OS\s([\d_]+)/);const d=s.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&s.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=i==="Win32";let m=i==="MacIntel";const g=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&m&&n.touch&&g.indexOf(`${a}x${c}`)>=0&&(u=s.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),m=!1),l&&!f&&(o.os="android",o.android=!0),(u||h||d)&&(o.os="ios",o.ios=!0),o}function KF(t){return t===void 0&&(t={}),_N||(_N=cne(t)),_N}let PN;function lne(){const t=ks(),e=KF();let n=!1;function r(){const a=t.navigator.userAgent.toLowerCase();return a.indexOf("safari")>=0&&a.indexOf("chrome")<0&&a.indexOf("android")<0}if(r()){const a=String(t.navigator.userAgent);if(a.includes("Version/")){const[c,l]=a.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=c<16||c===16&&l<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),s=r(),o=s||i&&e.ios;return{isSafari:n||s,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function YF(){return PN||(PN=lne()),PN}function une(t){let{swiper:e,on:n,emit:r}=t;const i=ks();let s=null,o=null;const a=()=>{!e||e.destroyed||!e.initialized||(r("beforeResize"),r("resize"))},c=()=>{!e||e.destroyed||!e.initialized||(s=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:h,height:f}=e;let m=h,g=f;d.forEach(E=>{let{contentBoxSize:y,contentRect:w,target:x}=E;x&&x!==e.el||(m=w?w.width:(y[0]||y).inlineSize,g=w?w.height:(y[0]||y).blockSize)}),(m!==h||g!==f)&&a()})}),s.observe(e.el))},l=()=>{o&&i.cancelAnimationFrame(o),s&&s.unobserve&&e.el&&(s.unobserve(e.el),s=null)},u=()=>{!e||e.destroyed||!e.initialized||r("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){c();return}i.addEventListener("resize",a),i.addEventListener("orientationchange",u)}),n("destroy",()=>{l(),i.removeEventListener("resize",a),i.removeEventListener("orientationchange",u)})}function dne(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s=[],o=ks(),a=function(u,d){d===void 0&&(d={});const h=o.MutationObserver||o.WebkitMutationObserver,f=new h(m=>{if(e.__preventObserver__)return;if(m.length===1){i("observerUpdate",m[0]);return}const g=function(){i("observerUpdate",m[0])};o.requestAnimationFrame?o.requestAnimationFrame(g):o.setTimeout(g,0)});f.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),s.push(f)},c=()=>{if(e.params.observer){if(e.params.observeParents){const u=WF(e.hostEl);for(let d=0;d<u.length;d+=1)a(u[d])}a(e.hostEl,{childList:e.params.observeSlideChildren}),a(e.wrapperEl,{attributes:!1})}},l=()=>{s.forEach(u=>{u.disconnect()}),s.splice(0,s.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),r("init",c),r("destroy",l)}var hne={on(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;const i=n?"unshift":"push";return t.split(" ").forEach(s=>{r.eventsListeners[s]||(r.eventsListeners[s]=[]),r.eventsListeners[s][i](e)}),r},once(t,e,n){const r=this;if(!r.eventsListeners||r.destroyed||typeof e!="function")return r;function i(){r.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];e.apply(r,o)}return i.__emitterProxy=e,r.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const r=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[r](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(r=>{typeof e>"u"?n.eventsListeners[r]=[]:n.eventsListeners[r]&&n.eventsListeners[r].forEach((i,s)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[r].splice(s,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,r;for(var i=arguments.length,s=new Array(i),o=0;o<i;o++)s[o]=arguments[o];return typeof s[0]=="string"||Array.isArray(s[0])?(e=s[0],n=s.slice(1,s.length),r=t):(e=s[0].events,n=s[0].data,r=s[0].context||t),n.unshift(r),(Array.isArray(e)?e:e.split(" ")).forEach(c=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(l=>{l.apply(r,[c,...n])}),t.eventsListeners&&t.eventsListeners[c]&&t.eventsListeners[c].forEach(l=>{l.apply(r,n)})}),t}};function fne(){const t=this;let e,n;const r=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=r.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=r.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Jd(r,"padding-left")||0,10)-parseInt(Jd(r,"padding-right")||0,10),n=n-parseInt(Jd(r,"padding-top")||0,10)-parseInt(Jd(r,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function pne(){const t=this;function e($,_){return parseFloat($.getPropertyValue(t.getDirectionLabel(_))||0)}const n=t.params,{wrapperEl:r,slidesEl:i,size:s,rtlTranslate:o,wrongRTL:a}=t,c=t.virtual&&n.virtual.enabled,l=c?t.virtual.slides.length:t.slides.length,u=il(i,`.${t.params.slideClass}, swiper-slide`),d=c?t.virtual.slides.length:u.length;let h=[];const f=[],m=[];let g=n.slidesOffsetBefore;typeof g=="function"&&(g=n.slidesOffsetBefore.call(t));let E=n.slidesOffsetAfter;typeof E=="function"&&(E=n.slidesOffsetAfter.call(t));const y=t.snapGrid.length,w=t.slidesGrid.length;let x=n.spaceBetween,C=-g,N=0,D=0;if(typeof s>"u")return;typeof x=="string"&&x.indexOf("%")>=0?x=parseFloat(x.replace("%",""))/100*s:typeof x=="string"&&(x=parseFloat(x)),t.virtualSize=-x,u.forEach($=>{o?$.style.marginLeft="":$.style.marginRight="",$.style.marginBottom="",$.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(R5(r,"--swiper-centered-offset-before",""),R5(r,"--swiper-centered-offset-after",""));const O=n.grid&&n.grid.rows>1&&t.grid;O?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let P;const L=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter($=>typeof n.breakpoints[$].slidesPerView<"u").length>0;for(let $=0;$<d;$+=1){P=0;let _;if(u[$]&&(_=u[$]),O&&t.grid.updateSlide($,_,u),!(u[$]&&Jd(_,"display")==="none")){if(n.slidesPerView==="auto"){L&&(u[$].style[t.getDirectionLabel("width")]="");const j=getComputedStyle(_),K=_.style.transform,V=_.style.webkitTransform;if(K&&(_.style.transform="none"),V&&(_.style.webkitTransform="none"),n.roundLengths)P=t.isHorizontal()?xP(_,"width"):xP(_,"height");else{const T=e(j,"width"),k=e(j,"padding-left"),W=e(j,"padding-right"),B=e(j,"margin-left"),z=e(j,"margin-right"),Z=j.getPropertyValue("box-sizing");if(Z&&Z==="border-box")P=T+B+z;else{const{clientWidth:he,offsetWidth:R}=_;P=T+k+W+B+z+(R-he)}}K&&(_.style.transform=K),V&&(_.style.webkitTransform=V),n.roundLengths&&(P=Math.floor(P))}else P=(s-(n.slidesPerView-1)*x)/n.slidesPerView,n.roundLengths&&(P=Math.floor(P)),u[$]&&(u[$].style[t.getDirectionLabel("width")]=`${P}px`);u[$]&&(u[$].swiperSlideSize=P),m.push(P),n.centeredSlides?(C=C+P/2+N/2+x,N===0&&$!==0&&(C=C-s/2-x),$===0&&(C=C-s/2-x),Math.abs(C)<1/1e3&&(C=0),n.roundLengths&&(C=Math.floor(C)),D%n.slidesPerGroup===0&&h.push(C),f.push(C)):(n.roundLengths&&(C=Math.floor(C)),(D-Math.min(t.params.slidesPerGroupSkip,D))%t.params.slidesPerGroup===0&&h.push(C),f.push(C),C=C+P+x),t.virtualSize+=P+x,N=P,D+=1}}if(t.virtualSize=Math.max(t.virtualSize,s)+E,o&&a&&(n.effect==="slide"||n.effect==="coverflow")&&(r.style.width=`${t.virtualSize+x}px`),n.setWrapperSize&&(r.style[t.getDirectionLabel("width")]=`${t.virtualSize+x}px`),O&&t.grid.updateWrapperSize(P,h),!n.centeredSlides){const $=[];for(let _=0;_<h.length;_+=1){let j=h[_];n.roundLengths&&(j=Math.floor(j)),h[_]<=t.virtualSize-s&&$.push(j)}h=$,Math.floor(t.virtualSize-s)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-s)}if(c&&n.loop){const $=m[0]+x;if(n.slidesPerGroup>1){const _=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),j=$*n.slidesPerGroup;for(let K=0;K<_;K+=1)h.push(h[h.length-1]+j)}for(let _=0;_<t.virtual.slidesBefore+t.virtual.slidesAfter;_+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+$),f.push(f[f.length-1]+$),t.virtualSize+=$}if(h.length===0&&(h=[0]),x!==0){const $=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((_,j)=>!n.cssMode||n.loop?!0:j!==u.length-1).forEach(_=>{_.style[$]=`${x}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let $=0;m.forEach(j=>{$+=j+(x||0)}),$-=x;const _=$>s?$-s:0;h=h.map(j=>j<=0?-g:j>_?_+E:j)}if(n.centerInsufficientSlides){let $=0;m.forEach(j=>{$+=j+(x||0)}),$-=x;const _=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if($+_<s){const j=(s-$-_)/2;h.forEach((K,V)=>{h[V]=K-j}),f.forEach((K,V)=>{f[V]=K+j})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:f,slidesSizesGrid:m}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){R5(r,"--swiper-centered-offset-before",`${-h[0]}px`),R5(r,"--swiper-centered-offset-after",`${t.size/2-m[m.length-1]/2}px`);const $=-t.snapGrid[0],_=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(j=>j+$),t.slidesGrid=t.slidesGrid.map(j=>j+_)}if(d!==l&&t.emit("slidesLengthChange"),h.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==w&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!c&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const $=`${n.containerModifierClass}backface-hidden`,_=t.el.classList.contains($);d<=n.maxBackfaceHiddenSlides?_||t.el.classList.add($):_&&t.el.classList.remove($)}}function mne(t){const e=this,n=[],r=e.virtual&&e.params.virtual.enabled;let i=0,s;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=a=>r?e.slides[e.getSlideIndexByData(a)]:e.slides[a];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(a=>{n.push(a)});else for(s=0;s<Math.ceil(e.params.slidesPerView);s+=1){const a=e.activeIndex+s;if(a>e.slides.length&&!r)break;n.push(o(a))}else n.push(o(e.activeIndex));for(s=0;s<n.length;s+=1)if(typeof n[s]<"u"){const a=n[s].offsetHeight;i=a>i?a:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function gne(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let r=0;r<e.length;r+=1)e[r].swiperSlideOffset=(t.isHorizontal()?e[r].offsetLeft:e[r].offsetTop)-n-t.cssOverflowAdjustment()}const C8=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function yne(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:r,rtlTranslate:i,snapGrid:s}=e;if(r.length===0)return;typeof r[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let a=n.spaceBetween;typeof a=="string"&&a.indexOf("%")>=0?a=parseFloat(a.replace("%",""))/100*e.size:typeof a=="string"&&(a=parseFloat(a));for(let c=0;c<r.length;c+=1){const l=r[c];let u=l.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=r[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+a),h=(o-s[0]+(n.centeredSlides?e.minTranslate():0)-u)/(l.swiperSlideSize+a),f=-(o-u),m=f+e.slidesSizesGrid[c],g=f>=0&&f<=e.size-e.slidesSizesGrid[c],E=f>=0&&f<e.size-1||m>1&&m<=e.size||f<=0&&m>=e.size;E&&(e.visibleSlides.push(l),e.visibleSlidesIndexes.push(c)),C8(l,E,n.slideVisibleClass),C8(l,g,n.slideFullyVisibleClass),l.progress=i?-d:d,l.originalProgress=i?-h:h}}function wne(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,r=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:s,isEnd:o,progressLoop:a}=e;const c=s,l=o;if(r===0)i=0,s=!0,o=!0;else{i=(t-e.minTranslate())/r;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;s=u||i<=0,o=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],f=e.slidesGrid[d],m=e.slidesGrid[e.slidesGrid.length-1],g=Math.abs(t);g>=h?a=(g-h)/m:a=(g+m-f)/m,a>1&&(a-=1)}Object.assign(e,{progress:i,progressLoop:a,isBeginning:s,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),s&&!c&&e.emit("reachBeginning toEdge"),o&&!l&&e.emit("reachEnd toEdge"),(c&&!s||l&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const IN=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function vne(){const t=this,{slides:e,params:n,slidesEl:r,activeIndex:i}=t,s=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,a=d=>il(r,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let c,l,u;if(s)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),c=a(`[data-swiper-slide-index="${d}"]`)}else c=a(`[data-swiper-slide-index="${i}"]`);else o?(c=e.find(d=>d.column===i),u=e.find(d=>d.column===i+1),l=e.find(d=>d.column===i-1)):c=e[i];c&&(o||(u=one(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),l=sne(c,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!l===0&&(l=e[e.length-1]))),e.forEach(d=>{IN(d,d===c,n.slideActiveClass),IN(d,d===u,n.slideNextClass),IN(d,d===l,n.slidePrevClass)}),t.emitSlidesClasses()}const Ox=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,r=e.closest(n());if(r){let i=r.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(r.shadowRoot?i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{r.shadowRoot&&(i=r.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},TN=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},EP=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const r=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,a=[o-e];a.push(...Array.from({length:e}).map((c,l)=>o+r+l)),t.slides.forEach((c,l)=>{a.includes(c.column)&&TN(t,l)});return}const s=i+r-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=s+e;o+=1){const a=(o%n+n)%n;(a<i||a>s)&&TN(t,a)}else for(let o=Math.max(i-e,0);o<=Math.min(s+e,n-1);o+=1)o!==i&&(o>s||o<i)&&TN(t,o)};function bne(t){const{slidesGrid:e,params:n}=t,r=t.rtlTranslate?t.translate:-t.translate;let i;for(let s=0;s<e.length;s+=1)typeof e[s+1]<"u"?r>=e[s]&&r<e[s+1]-(e[s+1]-e[s])/2?i=s:r>=e[s]&&r<e[s+1]&&(i=s+1):r>=e[s]&&(i=s);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function xne(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:r,params:i,activeIndex:s,realIndex:o,snapIndex:a}=e;let c=t,l;const u=f=>{let m=f-e.virtual.slidesBefore;return m<0&&(m=e.virtual.slides.length+m),m>=e.virtual.slides.length&&(m-=e.virtual.slides.length),m};if(typeof c>"u"&&(c=bne(e)),r.indexOf(n)>=0)l=r.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,c);l=f+Math.floor((c-f)/i.slidesPerGroup)}if(l>=r.length&&(l=r.length-1),c===s&&!e.params.loop){l!==a&&(e.snapIndex=l,e.emit("snapIndexChange"));return}if(c===s&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(c);return}const d=e.grid&&i.grid&&i.grid.rows>1;let h;if(e.virtual&&i.virtual.enabled&&i.loop)h=u(c);else if(d){const f=e.slides.find(g=>g.column===c);let m=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(m)&&(m=Math.max(e.slides.indexOf(f),0)),h=Math.floor(m/i.grid.rows)}else if(e.slides[c]){const f=e.slides[c].getAttribute("data-swiper-slide-index");f?h=parseInt(f,10):h=c}else h=c;Object.assign(e,{previousSnapIndex:a,snapIndex:l,previousRealIndex:o,realIndex:h,previousIndex:s,activeIndex:c}),e.initialized&&EP(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function Ene(t,e){const n=this,r=n.params;let i=t.closest(`.${r.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(a=>{!i&&a.matches&&a.matches(`.${r.slideClass}, swiper-slide`)&&(i=a)});let s=!1,o;if(i){for(let a=0;a<n.slides.length;a+=1)if(n.slides[a]===i){s=!0,o=a;break}}if(i&&s)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}r.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var Ane={updateSize:fne,updateSlides:pne,updateAutoHeight:mne,updateSlidesOffset:gne,updateSlidesProgress:yne,updateProgress:wne,updateSlidesClasses:vne,updateActiveIndex:xne,updateClickedSlide:Ene};function Sne(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:r,translate:i,wrapperEl:s}=e;if(n.virtualTranslate)return r?-i:i;if(n.cssMode)return i;let o=tne(s,t);return o+=e.cssOverflowAdjustment(),r&&(o=-o),o||0}function Cne(t,e){const n=this,{rtlTranslate:r,params:i,wrapperEl:s,progress:o}=n;let a=0,c=0;const l=0;n.isHorizontal()?a=r?-t:t:c=t,i.roundLengths&&(a=Math.floor(a),c=Math.floor(c)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?a:c,i.cssMode?s[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-a:-c:i.virtualTranslate||(n.isHorizontal()?a-=n.cssOverflowAdjustment():c-=n.cssOverflowAdjustment(),s.style.transform=`translate3d(${a}px, ${c}px, ${l}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function Nne(){return-this.snapGrid[0]}function _ne(){return-this.snapGrid[this.snapGrid.length-1]}function Pne(t,e,n,r,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),r===void 0&&(r=!0);const s=this,{params:o,wrapperEl:a}=s;if(s.animating&&o.preventInteractionOnTransition)return!1;const c=s.minTranslate(),l=s.maxTranslate();let u;if(r&&t>c?u=c:r&&t<l?u=l:u=t,s.updateProgress(u),o.cssMode){const d=s.isHorizontal();if(e===0)a[d?"scrollLeft":"scrollTop"]=-u;else{if(!s.support.smoothScroll)return qF({swiper:s,targetPosition:-u,side:d?"left":"top"}),!0;a.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(s.setTransition(0),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionEnd"))):(s.setTransition(e),s.setTranslate(u),n&&(s.emit("beforeTransitionStart",e,i),s.emit("transitionStart")),s.animating||(s.animating=!0,s.onTranslateToWrapperTransitionEnd||(s.onTranslateToWrapperTransitionEnd=function(h){!s||s.destroyed||h.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onTranslateToWrapperTransitionEnd),s.onTranslateToWrapperTransitionEnd=null,delete s.onTranslateToWrapperTransitionEnd,s.animating=!1,n&&s.emit("transitionEnd"))}),s.wrapperEl.addEventListener("transitionend",s.onTranslateToWrapperTransitionEnd))),!0}var Ine={getTranslate:Sne,setTranslate:Cne,minTranslate:Nne,maxTranslate:_ne,translateTo:Pne};function Tne(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function JF(t){let{swiper:e,runCallbacks:n,direction:r,step:i}=t;const{activeIndex:s,previousIndex:o}=e;let a=r;if(a||(s>o?a="next":s<o?a="prev":a="reset"),e.emit(`transition${i}`),n&&s!==o){if(a==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),a==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function kne(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;r.cssMode||(r.autoHeight&&n.updateAutoHeight(),JF({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function One(t,e){t===void 0&&(t=!0);const n=this,{params:r}=n;n.animating=!1,!r.cssMode&&(n.setTransition(0),JF({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var Rne={setTransition:Tne,transitionStart:kne,transitionEnd:One};function Lne(t,e,n,r,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const s=this;let o=t;o<0&&(o=0);const{params:a,snapGrid:c,slidesGrid:l,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:f,enabled:m}=s;if(!m&&!r&&!i||s.destroyed||s.animating&&a.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=s.params.speed);const g=Math.min(s.params.slidesPerGroupSkip,o);let E=g+Math.floor((o-g)/s.params.slidesPerGroup);E>=c.length&&(E=c.length-1);const y=-c[E];if(a.normalizeSlideIndex)for(let O=0;O<l.length;O+=1){const P=-Math.floor(y*100),L=Math.floor(l[O]*100),$=Math.floor(l[O+1]*100);typeof l[O+1]<"u"?P>=L&&P<$-($-L)/2?o=O:P>=L&&P<$&&(o=O+1):P>=L&&(o=O)}if(s.initialized&&o!==d&&(!s.allowSlideNext&&(h?y>s.translate&&y>s.minTranslate():y<s.translate&&y<s.minTranslate())||!s.allowSlidePrev&&y>s.translate&&y>s.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&s.emit("beforeSlideChangeStart"),s.updateProgress(y);let w;o>d?w="next":o<d?w="prev":w="reset";const x=s.virtual&&s.params.virtual.enabled;if(!(x&&i)&&(h&&-y===s.translate||!h&&y===s.translate))return s.updateActiveIndex(o),a.autoHeight&&s.updateAutoHeight(),s.updateSlidesClasses(),a.effect!=="slide"&&s.setTranslate(y),w!=="reset"&&(s.transitionStart(n,w),s.transitionEnd(n,w)),!1;if(a.cssMode){const O=s.isHorizontal(),P=h?y:-y;if(e===0)x&&(s.wrapperEl.style.scrollSnapType="none",s._immediateVirtual=!0),x&&!s._cssModeVirtualInitialSet&&s.params.initialSlide>0?(s._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[O?"scrollLeft":"scrollTop"]=P})):f[O?"scrollLeft":"scrollTop"]=P,x&&requestAnimationFrame(()=>{s.wrapperEl.style.scrollSnapType="",s._immediateVirtual=!1});else{if(!s.support.smoothScroll)return qF({swiper:s,targetPosition:P,side:O?"left":"top"}),!0;f.scrollTo({[O?"left":"top"]:P,behavior:"smooth"})}return!0}const D=YF().isSafari;return x&&!i&&D&&s.isElement&&s.virtual.update(!1,!1,o),s.setTransition(e),s.setTranslate(y),s.updateActiveIndex(o),s.updateSlidesClasses(),s.emit("beforeTransitionStart",e,r),s.transitionStart(n,w),e===0?s.transitionEnd(n,w):s.animating||(s.animating=!0,s.onSlideToWrapperTransitionEnd||(s.onSlideToWrapperTransitionEnd=function(P){!s||s.destroyed||P.target===this&&(s.wrapperEl.removeEventListener("transitionend",s.onSlideToWrapperTransitionEnd),s.onSlideToWrapperTransitionEnd=null,delete s.onSlideToWrapperTransitionEnd,s.transitionEnd(n,w))}),s.wrapperEl.addEventListener("transitionend",s.onSlideToWrapperTransitionEnd)),!0}function Dne(t,e,n,r){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const s=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let a;if(s){const h=o*i.params.grid.rows;a=i.slides.find(f=>f.getAttribute("data-swiper-slide-index")*1===h).column}else a=i.getSlideIndexByData(o);const c=s?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:l}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),l&&u%2===0&&(u=u+1));let d=c-a<u;if(l&&(d=d||a<Math.ceil(u/2)),r&&l&&i.params.slidesPerView!=="auto"&&!s&&(d=!1),d){const h=l?a<i.activeIndex?"prev":"next":a-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?a+1:a-c+1,slideRealIndex:h==="next"?i.realIndex:void 0})}if(s){const h=o*i.params.grid.rows;o=i.slides.find(f=>f.getAttribute("data-swiper-slide-index")*1===h).column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,r)}),i}function jne(t,e,n){e===void 0&&(e=!0);const r=this,{enabled:i,params:s,animating:o}=r;if(!i||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);let a=s.slidesPerGroup;s.slidesPerView==="auto"&&s.slidesPerGroup===1&&s.slidesPerGroupAuto&&(a=Math.max(r.slidesPerViewDynamic("current",!0),1));const c=r.activeIndex<s.slidesPerGroupSkip?1:a,l=r.virtual&&s.virtual.enabled;if(s.loop){if(o&&!l&&s.loopPreventsSliding)return!1;if(r.loopFix({direction:"next"}),r._clientLeft=r.wrapperEl.clientLeft,r.activeIndex===r.slides.length-1&&s.cssMode)return requestAnimationFrame(()=>{r.slideTo(r.activeIndex+c,t,e,n)}),!0}return s.rewind&&r.isEnd?r.slideTo(0,t,e,n):r.slideTo(r.activeIndex+c,t,e,n)}function Mne(t,e,n){e===void 0&&(e=!0);const r=this,{params:i,snapGrid:s,slidesGrid:o,rtlTranslate:a,enabled:c,animating:l}=r;if(!c||r.destroyed)return r;typeof t>"u"&&(t=r.params.speed);const u=r.virtual&&i.virtual.enabled;if(i.loop){if(l&&!u&&i.loopPreventsSliding)return!1;r.loopFix({direction:"prev"}),r._clientLeft=r.wrapperEl.clientLeft}const d=a?r.translate:-r.translate;function h(w){return w<0?-Math.floor(Math.abs(w)):Math.floor(w)}const f=h(d),m=s.map(w=>h(w)),g=i.freeMode&&i.freeMode.enabled;let E=s[m.indexOf(f)-1];if(typeof E>"u"&&(i.cssMode||g)){let w;s.forEach((x,C)=>{f>=x&&(w=C)}),typeof w<"u"&&(E=g?s[w]:s[w>0?w-1:w])}let y=0;if(typeof E<"u"&&(y=o.indexOf(E),y<0&&(y=r.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(y=y-r.slidesPerViewDynamic("previous",!0)+1,y=Math.max(y,0))),i.rewind&&r.isBeginning){const w=r.params.virtual&&r.params.virtual.enabled&&r.virtual?r.virtual.slides.length-1:r.slides.length-1;return r.slideTo(w,t,e,n)}else if(i.loop&&r.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{r.slideTo(y,t,e,n)}),!0;return r.slideTo(y,t,e,n)}function Bne(t,e,n){e===void 0&&(e=!0);const r=this;if(!r.destroyed)return typeof t>"u"&&(t=r.params.speed),r.slideTo(r.activeIndex,t,e,n)}function Une(t,e,n,r){e===void 0&&(e=!0),r===void 0&&(r=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let s=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,s),a=o+Math.floor((s-o)/i.params.slidesPerGroup),c=i.rtlTranslate?i.translate:-i.translate;if(c>=i.snapGrid[a]){const l=i.snapGrid[a],u=i.snapGrid[a+1];c-l>(u-l)*r&&(s+=i.params.slidesPerGroup)}else{const l=i.snapGrid[a-1],u=i.snapGrid[a];c-l<=(u-l)*r&&(s-=i.params.slidesPerGroup)}return s=Math.max(s,0),s=Math.min(s,i.slidesGrid.length-1),i.slideTo(s,t,e,n)}function Fne(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,r=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,s;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;s=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-r/2||i>t.slides.length-t.loopedSlides+r/2?(t.loopFix(),i=t.getSlideIndex(il(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),bP(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-r?(t.loopFix(),i=t.getSlideIndex(il(n,`${o}[data-swiper-slide-index="${s}"]`)[0]),bP(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var $ne={slideTo:Lne,slideToLoop:Dne,slideNext:jne,slidePrev:Mne,slideReset:Bne,slideToClosest:Une,slideToClickedSlide:Fne};function zne(t,e){const n=this,{params:r,slidesEl:i}=n;if(!r.loop||n.virtual&&n.params.virtual.enabled)return;const s=()=>{il(i,`.${r.slideClass}, swiper-slide`).forEach((h,f)=>{h.setAttribute("data-swiper-slide-index",f)})},o=n.grid&&r.grid&&r.grid.rows>1,a=r.slidesPerGroup*(o?r.grid.rows:1),c=n.slides.length%a!==0,l=o&&n.slides.length%r.grid.rows!==0,u=d=>{for(let h=0;h<d;h+=1){const f=n.isElement?HE("swiper-slide",[r.slideBlankClass]):HE("div",[r.slideClass,r.slideBlankClass]);n.slidesEl.append(f)}};if(c){if(r.loopAddBlankSlides){const d=a-n.slides.length%a;u(d),n.recalcSlides(),n.updateSlides()}else VE("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else if(l){if(r.loopAddBlankSlides){const d=r.grid.rows-n.slides.length%r.grid.rows;u(d),n.recalcSlides(),n.updateSlides()}else VE("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");s()}else s();n.loopFix({slideRealIndex:t,direction:r.centeredSlides?void 0:"next",initial:e})}function Vne(t){let{slideRealIndex:e,slideTo:n=!0,direction:r,setTranslate:i,activeSlideIndex:s,initial:o,byController:a,byMousewheel:c}=t===void 0?{}:t;const l=this;if(!l.params.loop)return;l.emit("beforeLoopFix");const{slides:u,allowSlidePrev:d,allowSlideNext:h,slidesEl:f,params:m}=l,{centeredSlides:g,initialSlide:E}=m;if(l.allowSlidePrev=!0,l.allowSlideNext=!0,l.virtual&&m.virtual.enabled){n&&(!m.centeredSlides&&l.snapIndex===0?l.slideTo(l.virtual.slides.length,0,!1,!0):m.centeredSlides&&l.snapIndex<m.slidesPerView?l.slideTo(l.virtual.slides.length+l.snapIndex,0,!1,!0):l.snapIndex===l.snapGrid.length-1&&l.slideTo(l.virtual.slidesBefore,0,!1,!0)),l.allowSlidePrev=d,l.allowSlideNext=h,l.emit("loopFix");return}let y=m.slidesPerView;y==="auto"?y=l.slidesPerViewDynamic():(y=Math.ceil(parseFloat(m.slidesPerView,10)),g&&y%2===0&&(y=y+1));const w=m.slidesPerGroupAuto?y:m.slidesPerGroup;let x=w;x%w!==0&&(x+=w-x%w),x+=m.loopAdditionalSlides,l.loopedSlides=x;const C=l.grid&&m.grid&&m.grid.rows>1;u.length<y+x||l.params.effect==="cards"&&u.length<y+x*2?VE("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled or not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):C&&m.grid.fill==="row"&&VE("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const N=[],D=[],O=C?Math.ceil(u.length/m.grid.rows):u.length,P=o&&O-E<y&&!g;let L=P?E:l.activeIndex;typeof s>"u"?s=l.getSlideIndex(u.find(k=>k.classList.contains(m.slideActiveClass))):L=s;const $=r==="next"||!r,_=r==="prev"||!r;let j=0,K=0;const T=(C?u[s].column:s)+(g&&typeof i>"u"?-y/2+.5:0);if(T<x){j=Math.max(x-T,w);for(let k=0;k<x-T;k+=1){const W=k-Math.floor(k/O)*O;if(C){const B=O-W-1;for(let z=u.length-1;z>=0;z-=1)u[z].column===B&&N.push(z)}else N.push(O-W-1)}}else if(T+y>O-x){K=Math.max(T-(O-x*2),w),P&&(K=Math.max(K,y-O+E+1));for(let k=0;k<K;k+=1){const W=k-Math.floor(k/O)*O;C?u.forEach((B,z)=>{B.column===W&&D.push(z)}):D.push(W)}}if(l.__preventObserver__=!0,requestAnimationFrame(()=>{l.__preventObserver__=!1}),l.params.effect==="cards"&&u.length<y+x*2&&(D.includes(s)&&D.splice(D.indexOf(s),1),N.includes(s)&&N.splice(N.indexOf(s),1)),_&&N.forEach(k=>{u[k].swiperLoopMoveDOM=!0,f.prepend(u[k]),u[k].swiperLoopMoveDOM=!1}),$&&D.forEach(k=>{u[k].swiperLoopMoveDOM=!0,f.append(u[k]),u[k].swiperLoopMoveDOM=!1}),l.recalcSlides(),m.slidesPerView==="auto"?l.updateSlides():C&&(N.length>0&&_||D.length>0&&$)&&l.slides.forEach((k,W)=>{l.grid.updateSlide(W,k,l.slides)}),m.watchSlidesProgress&&l.updateSlidesOffset(),n){if(N.length>0&&_){if(typeof e>"u"){const k=l.slidesGrid[L],B=l.slidesGrid[L+j]-k;c?l.setTranslate(l.translate-B):(l.slideTo(L+Math.ceil(j),0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-B,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-B))}else if(i){const k=C?N.length/m.grid.rows:N.length;l.slideTo(l.activeIndex+k,0,!1,!0),l.touchEventsData.currentTranslate=l.translate}}else if(D.length>0&&$)if(typeof e>"u"){const k=l.slidesGrid[L],B=l.slidesGrid[L-K]-k;c?l.setTranslate(l.translate-B):(l.slideTo(L-K,0,!1,!0),i&&(l.touchEventsData.startTranslate=l.touchEventsData.startTranslate-B,l.touchEventsData.currentTranslate=l.touchEventsData.currentTranslate-B))}else{const k=C?D.length/m.grid.rows:D.length;l.slideTo(l.activeIndex-k,0,!1,!0)}}if(l.allowSlidePrev=d,l.allowSlideNext=h,l.controller&&l.controller.control&&!a){const k={slideRealIndex:e,direction:r,setTranslate:i,activeSlideIndex:s,byController:!0};Array.isArray(l.controller.control)?l.controller.control.forEach(W=>{!W.destroyed&&W.params.loop&&W.loopFix({...k,slideTo:W.params.slidesPerView===m.slidesPerView?n:!1})}):l.controller.control instanceof l.constructor&&l.controller.control.params.loop&&l.controller.control.loopFix({...k,slideTo:l.controller.control.params.slidesPerView===m.slidesPerView?n:!1})}l.emit("loopFix")}function Hne(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||!n||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const r=[];t.slides.forEach(i=>{const s=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;r[s]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),r.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var qne={loopCreate:zne,loopFix:Vne,loopDestroy:Hne};function Wne(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function Gne(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var Kne={setGrabCursor:Wne,unsetGrabCursor:Gne};function Yne(t,e){e===void 0&&(e=this);function n(r){if(!r||r===dl()||r===ks())return null;r.assignedSlot&&(r=r.assignedSlot);const i=r.closest(t);return!i&&!r.getRootNode?null:i||n(r.getRootNode().host)}return n(e)}function N8(t,e,n){const r=ks(),{params:i}=t,s=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return s&&(n<=o||n>=r.innerWidth-o)?s==="prevent"?(e.preventDefault(),!0):!1:!0}function Jne(t){const e=this,n=dl();let r=t;r.originalEvent&&(r=r.originalEvent);const i=e.touchEventsData;if(r.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==r.pointerId)return;i.pointerId=r.pointerId}else r.type==="touchstart"&&r.targetTouches.length===1&&(i.touchId=r.targetTouches[0].identifier);if(r.type==="touchstart"){N8(e,r,r.targetTouches[0].pageX);return}const{params:s,touches:o,enabled:a}=e;if(!a||!s.simulateTouch&&r.pointerType==="mouse"||e.animating&&s.preventInteractionOnTransition)return;!e.animating&&s.cssMode&&s.loop&&e.loopFix();let c=r.target;if(s.touchEventsTarget==="wrapper"&&!ine(c,e.wrapperEl)||"which"in r&&r.which===3||"button"in r&&r.button>0||i.isTouched&&i.isMoved)return;const l=!!s.noSwipingClass&&s.noSwipingClass!=="",u=r.composedPath?r.composedPath():r.path;l&&r.target&&r.target.shadowRoot&&u&&(c=u[0]);const d=s.noSwipingSelector?s.noSwipingSelector:`.${s.noSwipingClass}`,h=!!(r.target&&r.target.shadowRoot);if(s.noSwiping&&(h?Yne(d,c):c.closest(d))){e.allowClick=!0;return}if(s.swipeHandler&&!c.closest(s.swipeHandler))return;o.currentX=r.pageX,o.currentY=r.pageY;const f=o.currentX,m=o.currentY;if(!N8(e,r,f))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=m,i.touchStartTime=zE(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,s.threshold>0&&(i.allowThresholdMove=!1);let g=!0;c.matches(i.focusableElements)&&(g=!1,c.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==c&&(r.pointerType==="mouse"||r.pointerType!=="mouse"&&!c.matches(i.focusableElements))&&n.activeElement.blur();const E=g&&e.allowTouchMove&&s.touchStartPreventDefault;(s.touchStartForcePreventDefault||E)&&!c.isContentEditable&&r.preventDefault(),s.freeMode&&s.freeMode.enabled&&e.freeMode&&e.animating&&!s.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",r)}function Qne(t){const e=dl(),n=this,r=n.touchEventsData,{params:i,touches:s,rtlTranslate:o,enabled:a}=n;if(!a||!i.simulateTouch&&t.pointerType==="mouse")return;let c=t;if(c.originalEvent&&(c=c.originalEvent),c.type==="pointermove"&&(r.touchId!==null||c.pointerId!==r.pointerId))return;let l;if(c.type==="touchmove"){if(l=[...c.changedTouches].find(D=>D.identifier===r.touchId),!l||l.identifier!==r.touchId)return}else l=c;if(!r.isTouched){r.startMoving&&r.isScrolling&&n.emit("touchMoveOpposite",c);return}const u=l.pageX,d=l.pageY;if(c.preventedByNestedSwiper){s.startX=u,s.startY=d;return}if(!n.allowTouchMove){c.target.matches(r.focusableElements)||(n.allowClick=!1),r.isTouched&&(Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d}),r.touchStartTime=zE());return}if(i.touchReleaseOnEdges&&!i.loop)if(n.isVertical()){if(d<s.startY&&n.translate<=n.maxTranslate()||d>s.startY&&n.translate>=n.minTranslate()){r.isTouched=!1,r.isMoved=!1;return}}else{if(o&&(u>s.startX&&-n.translate<=n.maxTranslate()||u<s.startX&&-n.translate>=n.minTranslate()))return;if(!o&&(u<s.startX&&n.translate<=n.maxTranslate()||u>s.startX&&n.translate>=n.minTranslate()))return}if(e.activeElement&&e.activeElement.matches(r.focusableElements)&&e.activeElement!==c.target&&c.pointerType!=="mouse"&&e.activeElement.blur(),e.activeElement&&c.target===e.activeElement&&c.target.matches(r.focusableElements)){r.isMoved=!0,n.allowClick=!1;return}r.allowTouchCallbacks&&n.emit("touchMove",c),s.previousX=s.currentX,s.previousY=s.currentY,s.currentX=u,s.currentY=d;const h=s.currentX-s.startX,f=s.currentY-s.startY;if(n.params.threshold&&Math.sqrt(h**2+f**2)<n.params.threshold)return;if(typeof r.isScrolling>"u"){let D;n.isHorizontal()&&s.currentY===s.startY||n.isVertical()&&s.currentX===s.startX?r.isScrolling=!1:h*h+f*f>=25&&(D=Math.atan2(Math.abs(f),Math.abs(h))*180/Math.PI,r.isScrolling=n.isHorizontal()?D>i.touchAngle:90-D>i.touchAngle)}if(r.isScrolling&&n.emit("touchMoveOpposite",c),typeof r.startMoving>"u"&&(s.currentX!==s.startX||s.currentY!==s.startY)&&(r.startMoving=!0),r.isScrolling||c.type==="touchmove"&&r.preventTouchMoveFromPointerMove){r.isTouched=!1;return}if(!r.startMoving)return;n.allowClick=!1,!i.cssMode&&c.cancelable&&c.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&c.stopPropagation();let m=n.isHorizontal()?h:f,g=n.isHorizontal()?s.currentX-s.previousX:s.currentY-s.previousY;i.oneWayMovement&&(m=Math.abs(m)*(o?1:-1),g=Math.abs(g)*(o?1:-1)),s.diff=m,m*=i.touchRatio,o&&(m=-m,g=-g);const E=n.touchesDirection;n.swipeDirection=m>0?"prev":"next",n.touchesDirection=g>0?"prev":"next";const y=n.params.loop&&!i.cssMode,w=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!r.isMoved){if(y&&w&&n.loopFix({direction:n.swipeDirection}),r.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const D=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(D)}r.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",c)}let x;if(new Date().getTime(),i._loopSwapReset!==!1&&r.isMoved&&r.allowThresholdMove&&E!==n.touchesDirection&&y&&w&&Math.abs(m)>=1){Object.assign(s,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:r.currentTranslate}),r.loopSwapReset=!0,r.startTranslate=r.currentTranslate;return}n.emit("sliderMove",c),r.isMoved=!0,r.currentTranslate=m+r.startTranslate;let C=!0,N=i.resistanceRatio;if(i.touchReleaseOnEdges&&(N=0),m>0?(y&&w&&!x&&r.allowThresholdMove&&r.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]-(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.activeIndex+1]+n.params.spaceBetween:0)-n.params.spaceBetween:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),r.currentTranslate>n.minTranslate()&&(C=!1,i.resistance&&(r.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+r.startTranslate+m)**N))):m<0&&(y&&w&&!x&&r.allowThresholdMove&&r.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween+(i.slidesPerView!=="auto"&&n.slides.length-i.slidesPerView>=2?n.slidesSizesGrid[n.slidesSizesGrid.length-1]+n.params.spaceBetween:0):n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),r.currentTranslate<n.maxTranslate()&&(C=!1,i.resistance&&(r.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-r.startTranslate-m)**N))),C&&(c.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&r.currentTranslate<r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&r.currentTranslate>r.startTranslate&&(r.currentTranslate=r.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(r.currentTranslate=r.startTranslate),i.threshold>0)if(Math.abs(m)>i.threshold||r.allowThresholdMove){if(!r.allowThresholdMove){r.allowThresholdMove=!0,s.startX=s.currentX,s.startY=s.currentY,r.currentTranslate=r.startTranslate,s.diff=n.isHorizontal()?s.currentX-s.startX:s.currentY-s.startY;return}}else{r.currentTranslate=r.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(r.currentTranslate),n.setTranslate(r.currentTranslate))}function Zne(t){const e=this,n=e.touchEventsData;let r=t;r.originalEvent&&(r=r.originalEvent);let i;if(r.type==="touchend"||r.type==="touchcancel"){if(i=[...r.changedTouches].find(N=>N.identifier===n.touchId),!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||r.pointerId!==n.pointerId)return;i=r}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(r.type)&&!(["pointercancel","contextmenu"].includes(r.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:a,rtlTranslate:c,slidesGrid:l,enabled:u}=e;if(!u||!o.simulateTouch&&r.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",r),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=zE(),h=d-n.touchStartTime;if(e.allowClick){const N=r.path||r.composedPath&&r.composedPath();e.updateClickedSlide(N&&N[0]||r.target,N),e.emit("tap click",r),h<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",r)}if(n.lastClickTime=zE(),bP(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||a.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(o.followFinger?f=c?e.translate:-e.translate:f=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}const m=f>=-e.maxTranslate()&&!e.params.loop;let g=0,E=e.slidesSizesGrid[0];for(let N=0;N<l.length;N+=N<o.slidesPerGroupSkip?1:o.slidesPerGroup){const D=N<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof l[N+D]<"u"?(m||f>=l[N]&&f<l[N+D])&&(g=N,E=l[N+D]-l[N]):(m||f>=l[N])&&(g=N,E=l[l.length-1]-l[l.length-2])}let y=null,w=null;o.rewind&&(e.isBeginning?w=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const x=(f-l[g])/E,C=g<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(x>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?y:g+C):e.slideTo(g)),e.swipeDirection==="prev"&&(x>1-o.longSwipesRatio?e.slideTo(g+C):w!==null&&x<0&&Math.abs(x)>o.longSwipesRatio?e.slideTo(w):e.slideTo(g))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(r.target===e.navigation.nextEl||r.target===e.navigation.prevEl)?r.target===e.navigation.nextEl?e.slideTo(g+C):e.slideTo(g):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:g+C),e.swipeDirection==="prev"&&e.slideTo(w!==null?w:g))}}function _8(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:r,allowSlidePrev:i,snapGrid:s}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const a=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!a?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=r,t.params.watchOverflow&&s!==t.snapGrid&&t.checkOverflow()}function Xne(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function ere(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:r}=t;if(!r)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const s=t.maxTranslate()-t.minTranslate();s===0?i=0:i=(t.translate-t.minTranslate())/s,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function tre(t){const e=this;Ox(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function nre(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const QF=(t,e)=>{const n=dl(),{params:r,el:i,wrapperEl:s,device:o}=t,a=!!r.nested,c=e==="on"?"addEventListener":"removeEventListener",l=e;!i||typeof i=="string"||(n[c]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:a}),i[c]("touchstart",t.onTouchStart,{passive:!1}),i[c]("pointerdown",t.onTouchStart,{passive:!1}),n[c]("touchmove",t.onTouchMove,{passive:!1,capture:a}),n[c]("pointermove",t.onTouchMove,{passive:!1,capture:a}),n[c]("touchend",t.onTouchEnd,{passive:!0}),n[c]("pointerup",t.onTouchEnd,{passive:!0}),n[c]("pointercancel",t.onTouchEnd,{passive:!0}),n[c]("touchcancel",t.onTouchEnd,{passive:!0}),n[c]("pointerout",t.onTouchEnd,{passive:!0}),n[c]("pointerleave",t.onTouchEnd,{passive:!0}),n[c]("contextmenu",t.onTouchEnd,{passive:!0}),(r.preventClicks||r.preventClicksPropagation)&&i[c]("click",t.onClick,!0),r.cssMode&&s[c]("scroll",t.onScroll),r.updateOnWindowResize?t[l](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",_8,!0):t[l]("observerUpdate",_8,!0),i[c]("load",t.onLoad,{capture:!0}))};function rre(){const t=this,{params:e}=t;t.onTouchStart=Jne.bind(t),t.onTouchMove=Qne.bind(t),t.onTouchEnd=Zne.bind(t),t.onDocumentTouchStart=nre.bind(t),e.cssMode&&(t.onScroll=ere.bind(t)),t.onClick=Xne.bind(t),t.onLoad=tre.bind(t),QF(t,"on")}function ire(){QF(this,"off")}var sre={attachEvents:rre,detachEvents:ire};const P8=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function ore(){const t=this,{realIndex:e,initialized:n,params:r,el:i}=t,s=r.breakpoints;if(!s||s&&Object.keys(s).length===0)return;const o=dl(),a=r.breakpointsBase==="window"||!r.breakpointsBase?r.breakpointsBase:"container",c=["window","container"].includes(r.breakpointsBase)||!r.breakpointsBase?t.el:o.querySelector(r.breakpointsBase),l=t.getBreakpoint(s,a,c);if(!l||t.currentBreakpoint===l)return;const d=(l in s?s[l]:void 0)||t.originalParams,h=P8(t,r),f=P8(t,d),m=t.params.grabCursor,g=d.grabCursor,E=r.enabled;h&&!f?(i.classList.remove(`${r.containerModifierClass}grid`,`${r.containerModifierClass}grid-column`),t.emitContainerClasses()):!h&&f&&(i.classList.add(`${r.containerModifierClass}grid`),(d.grid.fill&&d.grid.fill==="column"||!d.grid.fill&&r.grid.fill==="column")&&i.classList.add(`${r.containerModifierClass}grid-column`),t.emitContainerClasses()),m&&!g?t.unsetGrabCursor():!m&&g&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(D=>{if(typeof d[D]>"u")return;const O=r[D]&&r[D].enabled,P=d[D]&&d[D].enabled;O&&!P&&t[D].disable(),!O&&P&&t[D].enable()});const y=d.direction&&d.direction!==r.direction,w=r.loop&&(d.slidesPerView!==r.slidesPerView||y),x=r.loop;y&&n&&t.changeDirection(),Co(t.params,d);const C=t.params.enabled,N=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),E&&!C?t.disable():!E&&C&&t.enable(),t.currentBreakpoint=l,t.emit("_beforeBreakpoint",d),n&&(w?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!x&&N?(t.loopCreate(e),t.updateSlides()):x&&!N&&t.loopDestroy()),t.emit("breakpoint",d)}function are(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let r=!1;const i=ks(),s=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(a=>{if(typeof a=="string"&&a.indexOf("@")===0){const c=parseFloat(a.substr(1));return{value:s*c,point:a}}return{value:a,point:a}});o.sort((a,c)=>parseInt(a.value,10)-parseInt(c.value,10));for(let a=0;a<o.length;a+=1){const{point:c,value:l}=o[a];e==="window"?i.matchMedia(`(min-width: ${l}px)`).matches&&(r=c):l<=n.clientWidth&&(r=c)}return r||"max"}var cre={setBreakpoint:ore,getBreakpoint:are};function lre(t,e){const n=[];return t.forEach(r=>{typeof r=="object"?Object.keys(r).forEach(i=>{r[i]&&n.push(e+i)}):typeof r=="string"&&n.push(e+r)}),n}function ure(){const t=this,{classNames:e,params:n,rtl:r,el:i,device:s}=t,o=lre(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:r},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:s.android},{ios:s.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function dre(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var hre={addClasses:ure,removeClasses:dre};function fre(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:r}=n;if(r){const i=t.slides.length-1,s=t.slidesGrid[i]+t.slidesSizesGrid[i]+r*2;t.isLocked=t.size>s}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var pre={checkOverflow:fre},AP={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function mre(t,e){return function(r){r===void 0&&(r={});const i=Object.keys(r)[0],s=r[i];if(typeof s!="object"||s===null){Co(e,r);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in s)){Co(e,r);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),Co(e,r)}}const kN={eventsEmitter:hne,update:Ane,translate:Ine,transition:Rne,slide:$ne,loop:qne,grabCursor:Kne,events:sre,breakpoints:cre,checkOverflow:pre,classes:hre},ON={};let QT=class Gl{constructor(){let e,n;for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=Co({},n),e&&!n.el&&(n.el=e);const o=dl();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const h=Co({},n,{el:d});u.push(new Gl(h))}),u}const a=this;a.__swiper__=!0,a.support=GF(),a.device=KF({userAgent:n.userAgent}),a.browser=YF(),a.eventsListeners={},a.eventsAnyListeners=[],a.modules=[...a.__modules__],n.modules&&Array.isArray(n.modules)&&a.modules.push(...n.modules);const c={};a.modules.forEach(u=>{u({params:n,swiper:a,extendParams:mre(n,c),on:a.on.bind(a),once:a.once.bind(a),off:a.off.bind(a),emit:a.emit.bind(a)})});const l=Co({},AP,c);return a.params=Co({},l,ON,n),a.originalParams=Co({},a.params),a.passedParams=Co({},n),a.params&&a.params.on&&Object.keys(a.params.on).forEach(u=>{a.on(u,a.params.on[u])}),a.params&&a.params.onAny&&a.onAny(a.params.onAny),Object.assign(a,{enabled:a.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return a.params.direction==="horizontal"},isVertical(){return a.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:a.params.allowSlideNext,allowSlidePrev:a.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:a.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:a.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),a.emit("_swiper"),a.params.init&&a.init(),a}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:r}=this,i=il(n,`.${r.slideClass}, swiper-slide`),s=qE(i[0]);return qE(e)-s}getSlideIndexByData(e){return this.getSlideIndex(this.slides.find(n=>n.getAttribute("data-swiper-slide-index")*1===e))}recalcSlides(){const e=this,{slidesEl:n,params:r}=e;e.slides=il(n,`.${r.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const r=this;e=Math.min(Math.max(e,0),1);const i=r.minTranslate(),o=(r.maxTranslate()-i)*e+i;r.translateTo(o,typeof n>"u"?0:n),r.updateActiveIndex(),r.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(r=>r.indexOf("swiper")===0||r.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(r=>r.indexOf("swiper-slide")===0||r.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(r=>{const i=e.getSlideClasses(r);n.push({slideEl:r,classNames:i}),e.emit("_slideClass",r,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const r=this,{params:i,slides:s,slidesGrid:o,slidesSizesGrid:a,size:c,activeIndex:l}=r;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=s[l]?Math.ceil(s[l].swiperSlideSize):0,h;for(let f=l+1;f<s.length;f+=1)s[f]&&!h&&(d+=Math.ceil(s[f].swiperSlideSize),u+=1,d>c&&(h=!0));for(let f=l-1;f>=0;f-=1)s[f]&&!h&&(d+=s[f].swiperSlideSize,u+=1,d>c&&(h=!0))}else if(e==="current")for(let d=l+1;d<s.length;d+=1)(n?o[d]+a[d]-o[l]<c:o[d]-o[l]<c)&&(u+=1);else for(let d=l-1;d>=0;d-=1)o[l]-o[d]<c&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:r}=e;r.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Ox(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,a=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(a),e.updateActiveIndex(),e.updateSlidesClasses()}let s;if(r.freeMode&&r.freeMode.enabled&&!r.cssMode)i(),r.autoHeight&&e.updateAutoHeight();else{if((r.slidesPerView==="auto"||r.slidesPerView>1)&&e.isEnd&&!r.centeredSlides){const o=e.virtual&&r.virtual.enabled?e.virtual.slides:e.slides;s=e.slideTo(o.length-1,0,!1,!0)}else s=e.slideTo(e.activeIndex,0,!1,!0);s||i()}r.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const r=this,i=r.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(r.el.classList.remove(`${r.params.containerModifierClass}${i}`),r.el.classList.add(`${r.params.containerModifierClass}${e}`),r.emitContainerClasses(),r.params.direction=e,r.slides.forEach(s=>{e==="vertical"?s.style.width="":s.style.height=""}),r.emit("changeDirection"),n&&r.update()),r}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let r=e||n.params.el;if(typeof r=="string"&&(r=document.querySelector(r)),!r)return!1;r.swiper=n,r.parentNode&&r.parentNode.host&&r.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=r&&r.shadowRoot&&r.shadowRoot.querySelector?r.shadowRoot.querySelector(i()):il(r,i())[0];return!o&&n.params.createElements&&(o=HE("div",n.params.wrapperClass),r.append(o),il(r,`.${n.params.slideClass}`).forEach(a=>{o.append(a)})),Object.assign(n,{el:r,wrapperEl:o,slidesEl:n.isElement&&!r.parentNode.host.slideSlots?r.parentNode.host:o,hostEl:n.isElement?r.parentNode.host:r,mounted:!0,rtl:r.dir.toLowerCase()==="rtl"||Jd(r,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(r.dir.toLowerCase()==="rtl"||Jd(r,"direction")==="rtl"),wrongRTL:Jd(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(void 0,!0),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(s=>{s.complete?Ox(n,s):s.addEventListener("load",o=>{Ox(n,o.target)})}),EP(n),n.initialized=!0,EP(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const r=this,{params:i,el:s,wrapperEl:o,slides:a}=r;return typeof r.params>"u"||r.destroyed||(r.emit("beforeDestroy"),r.initialized=!1,r.detachEvents(),i.loop&&r.loopDestroy(),n&&(r.removeClasses(),s&&typeof s!="string"&&s.removeAttribute("style"),o&&o.removeAttribute("style"),a&&a.length&&a.forEach(c=>{c.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),c.removeAttribute("style"),c.removeAttribute("data-swiper-slide-index")})),r.emit("destroy"),Object.keys(r.eventsListeners).forEach(c=>{r.off(c)}),e!==!1&&(r.el&&typeof r.el!="string"&&(r.el.swiper=null),Xte(r)),r.destroyed=!0),null}static extendDefaults(e){Co(ON,e)}static get extendedDefaults(){return ON}static get defaults(){return AP}static installModule(e){Gl.prototype.__modules__||(Gl.prototype.__modules__=[]);const n=Gl.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>Gl.installModule(n)),Gl):(Gl.installModule(e),Gl)}};Object.keys(kN).forEach(t=>{Object.keys(kN[t]).forEach(e=>{QT.prototype[e]=kN[t][e]})});QT.use([une,dne]);const ZF=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function wp(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Gg(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(r=>n.indexOf(r)<0).forEach(r=>{typeof t[r]>"u"?t[r]=e[r]:wp(e[r])&&wp(t[r])&&Object.keys(e[r]).length>0?e[r].__swiper__?t[r]=e[r]:Gg(t[r],e[r]):t[r]=e[r]})}function XF(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function e$(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function t$(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function n$(t){t===void 0&&(t="");const e=t.split(" ").map(r=>r.trim()).filter(r=>!!r),n=[];return e.forEach(r=>{n.indexOf(r)<0&&n.push(r)}),n.join(" ")}function gre(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function yre(t){let{swiper:e,slides:n,passedParams:r,changedParams:i,nextEl:s,prevEl:o,scrollbarEl:a,paginationEl:c}=t;const l=i.filter(L=>L!=="children"&&L!=="direction"&&L!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:f,virtual:m,thumbs:g}=e;let E,y,w,x,C,N,D,O;i.includes("thumbs")&&r.thumbs&&r.thumbs.swiper&&!r.thumbs.swiper.destroyed&&u.thumbs&&(!u.thumbs.swiper||u.thumbs.swiper.destroyed)&&(E=!0),i.includes("controller")&&r.controller&&r.controller.control&&u.controller&&!u.controller.control&&(y=!0),i.includes("pagination")&&r.pagination&&(r.pagination.el||c)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(w=!0),i.includes("scrollbar")&&r.scrollbar&&(r.scrollbar.el||a)&&(u.scrollbar||u.scrollbar===!1)&&f&&!f.el&&(x=!0),i.includes("navigation")&&r.navigation&&(r.navigation.prevEl||o)&&(r.navigation.nextEl||s)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(C=!0);const P=L=>{e[L]&&(e[L].destroy(),L==="navigation"?(e.isElement&&(e[L].prevEl.remove(),e[L].nextEl.remove()),u[L].prevEl=void 0,u[L].nextEl=void 0,e[L].prevEl=void 0,e[L].nextEl=void 0):(e.isElement&&e[L].el.remove(),u[L].el=void 0,e[L].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!r.loop?N=!0:!u.loop&&r.loop?D=!0:O=!0),l.forEach(L=>{if(wp(u[L])&&wp(r[L]))Object.assign(u[L],r[L]),(L==="navigation"||L==="pagination"||L==="scrollbar")&&"enabled"in r[L]&&!r[L].enabled&&P(L);else{const $=r[L];($===!0||$===!1)&&(L==="navigation"||L==="pagination"||L==="scrollbar")?$===!1&&P(L):u[L]=r[L]}}),l.includes("controller")&&!y&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&m&&u.virtual.enabled?(m.slides=n,m.update(!0)):i.includes("virtual")&&m&&u.virtual.enabled&&(n&&(m.slides=n),m.update(!0)),i.includes("children")&&n&&u.loop&&(O=!0),E&&g.init()&&g.update(!0),y&&(e.controller.control=u.controller.control),w&&(e.isElement&&(!c||typeof c=="string")&&(c=document.createElement("div"),c.classList.add("swiper-pagination"),c.part.add("pagination"),e.el.appendChild(c)),c&&(u.pagination.el=c),d.init(),d.render(),d.update()),x&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-scrollbar"),a.part.add("scrollbar"),e.el.appendChild(a)),a&&(u.scrollbar.el=a),f.init(),f.updateSize(),f.setTranslate()),C&&(e.isElement&&((!s||typeof s=="string")&&(s=document.createElement("div"),s.classList.add("swiper-button-next"),s.innerHTML=e.hostEl.constructor.nextButtonSvg,s.part.add("button-next"),e.el.appendChild(s)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),s&&(u.navigation.nextEl=s),o&&(u.navigation.prevEl=o),h.init(),h.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=r.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=r.allowSlidePrev),i.includes("direction")&&e.changeDirection(r.direction,!1),(N||O)&&e.loopDestroy(),(D||O)&&e.loopCreate(),e.update()}function wre(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},r={},i={};Gg(n,AP),n._emitClasses=!0,n.init=!1;const s={},o=ZF.map(c=>c.replace(/_/,"")),a=Object.assign({},t);return Object.keys(a).forEach(c=>{typeof t[c]>"u"||(o.indexOf(c)>=0?wp(t[c])?(n[c]={},i[c]={},Gg(n[c],t[c]),Gg(i[c],t[c])):(n[c]=t[c],i[c]=t[c]):c.search(/on[A-Z]/)===0&&typeof t[c]=="function"?e?r[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:n.on[`${c[2].toLowerCase()}${c.substr(3)}`]=t[c]:s[c]=t[c])}),["navigation","pagination","scrollbar"].forEach(c=>{n[c]===!0&&(n[c]={}),n[c]===!1&&delete n[c]}),{params:n,passedParams:i,rest:s,events:r}}function vre(t,e){let{el:n,nextEl:r,prevEl:i,paginationEl:s,scrollbarEl:o,swiper:a}=t;XF(e)&&r&&i&&(a.params.navigation.nextEl=r,a.originalParams.navigation.nextEl=r,a.params.navigation.prevEl=i,a.originalParams.navigation.prevEl=i),e$(e)&&s&&(a.params.pagination.el=s,a.originalParams.pagination.el=s),t$(e)&&o&&(a.params.scrollbar.el=o,a.originalParams.scrollbar.el=o),a.init(n)}function bre(t,e,n,r,i){const s=[];if(!e)return s;const o=c=>{s.indexOf(c)<0&&s.push(c)};if(n&&r){const c=r.map(i),l=n.map(i);c.join("")!==l.join("")&&o("children"),r.length!==n.length&&o("children")}return ZF.filter(c=>c[0]==="_").map(c=>c.replace(/_/,"")).forEach(c=>{if(c in t&&c in e)if(wp(t[c])&&wp(e[c])){const l=Object.keys(t[c]),u=Object.keys(e[c]);l.length!==u.length?o(c):(l.forEach(d=>{t[c][d]!==e[c][d]&&o(c)}),u.forEach(d=>{t[c][d]!==e[c][d]&&o(c)}))}else t[c]!==e[c]&&o(c)}),s}const xre=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function WE(){return WE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},WE.apply(this,arguments)}function r$(t){return t.type&&t.type.displayName&&t.type.displayName.includes("SwiperSlide")}function i$(t){const e=[];return lr.Children.toArray(t).forEach(n=>{r$(n)?e.push(n):n.props&&n.props.children&&i$(n.props.children).forEach(r=>e.push(r))}),e}function Ere(t){const e=[],n={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return lr.Children.toArray(t).forEach(r=>{if(r$(r))e.push(r);else if(r.props&&r.props.slot&&n[r.props.slot])n[r.props.slot].push(r);else if(r.props&&r.props.children){const i=i$(r.props.children);i.length>0?i.forEach(s=>e.push(s)):n["container-end"].push(r)}else n["container-end"].push(r)}),{slides:e,slots:n}}function Are(t,e,n){if(!n)return null;const r=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.isHorizontal()?{[t.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:s,to:o}=n,a=t.params.loop?-e.length:0,c=t.params.loop?e.length*2:e.length,l=[];for(let u=a;u<c;u+=1)u>=s&&u<=o&&l.push(e[r(u)]);return l.map((u,d)=>lr.cloneElement(u,{swiper:t,style:i,key:u.props.virtualIndex||u.key||`slide-${d}`}))}function Lw(t,e){return typeof window>"u"?ce.useEffect(t,e):ce.useLayoutEffect(t,e)}const I8=ce.createContext(null),Sre=ce.createContext(null),ZT=ce.forwardRef(function(t,e){let{className:n,tag:r="div",wrapperTag:i="div",children:s,onSwiper:o,...a}=t===void 0?{}:t,c=!1;const[l,u]=ce.useState("swiper"),[d,h]=ce.useState(null),[f,m]=ce.useState(!1),g=ce.useRef(!1),E=ce.useRef(null),y=ce.useRef(null),w=ce.useRef(null),x=ce.useRef(null),C=ce.useRef(null),N=ce.useRef(null),D=ce.useRef(null),O=ce.useRef(null),{params:P,passedParams:L,rest:$,events:_}=wre(a),{slides:j,slots:K}=Ere(s),V=()=>{m(!f)};Object.assign(P.on,{_containerClasses(z,Z){u(Z)}});const T=()=>{Object.assign(P.on,_),c=!0;const z={...P};if(delete z.wrapperClass,y.current=new QT(z),y.current.virtual&&y.current.params.virtual.enabled){y.current.virtual.slides=j;const Z={cache:!1,slides:j,renderExternal:h,renderExternalUpdate:!1};Gg(y.current.params.virtual,Z),Gg(y.current.originalParams.virtual,Z)}};E.current||T(),y.current&&y.current.on("_beforeBreakpoint",V);const k=()=>{c||!_||!y.current||Object.keys(_).forEach(z=>{y.current.on(z,_[z])})},W=()=>{!_||!y.current||Object.keys(_).forEach(z=>{y.current.off(z,_[z])})};ce.useEffect(()=>()=>{y.current&&y.current.off("_beforeBreakpoint",V)}),ce.useEffect(()=>{!g.current&&y.current&&(y.current.emitSlidesClasses(),g.current=!0)}),Lw(()=>{if(e&&(e.current=E.current),!!E.current)return y.current.destroyed&&T(),vre({el:E.current,nextEl:C.current,prevEl:N.current,paginationEl:D.current,scrollbarEl:O.current,swiper:y.current},P),o&&!y.current.destroyed&&o(y.current),()=>{y.current&&!y.current.destroyed&&y.current.destroy(!0,!1)}},[]),Lw(()=>{k();const z=bre(L,w.current,j,x.current,Z=>Z.key);return w.current=L,x.current=j,z.length&&y.current&&!y.current.destroyed&&yre({swiper:y.current,slides:j,passedParams:L,changedParams:z,nextEl:C.current,prevEl:N.current,scrollbarEl:O.current,paginationEl:D.current}),()=>{W()}}),Lw(()=>{xre(y.current)},[d]);function B(){return P.virtual?Are(y.current,j,d):j.map((z,Z)=>lr.cloneElement(z,{swiper:y.current,swiperSlideIndex:Z}))}return lr.createElement(r,WE({ref:E,className:n$(`${l}${n?` ${n}`:""}`)},$),lr.createElement(Sre.Provider,{value:y.current},K["container-start"],lr.createElement(i,{className:gre(P.wrapperClass)},K["wrapper-start"],B(),K["wrapper-end"]),XF(P)&&lr.createElement(lr.Fragment,null,lr.createElement("div",{ref:N,className:"swiper-button-prev"}),lr.createElement("div",{ref:C,className:"swiper-button-next"})),t$(P)&&lr.createElement("div",{ref:O,className:"swiper-scrollbar"}),e$(P)&&lr.createElement("div",{ref:D,className:"swiper-pagination"}),K["container-end"]))});ZT.displayName="Swiper";const XT=ce.forwardRef(function(t,e){let{tag:n="div",children:r,className:i="",swiper:s,zoom:o,lazy:a,virtualIndex:c,swiperSlideIndex:l,...u}=t===void 0?{}:t;const d=ce.useRef(null),[h,f]=ce.useState("swiper-slide"),[m,g]=ce.useState(!1);function E(C,N,D){N===d.current&&f(D)}Lw(()=>{if(typeof l<"u"&&(d.current.swiperSlideIndex=l),e&&(e.current=d.current),!(!d.current||!s)){if(s.destroyed){h!=="swiper-slide"&&f("swiper-slide");return}return s.on("_slideClass",E),()=>{s&&s.off("_slideClass",E)}}}),Lw(()=>{s&&d.current&&!s.destroyed&&f(s.getSlideClasses(d.current))},[s]);const y={isActive:h.indexOf("swiper-slide-active")>=0,isVisible:h.indexOf("swiper-slide-visible")>=0,isPrev:h.indexOf("swiper-slide-prev")>=0,isNext:h.indexOf("swiper-slide-next")>=0},w=()=>typeof r=="function"?r(y):r,x=()=>{g(!0)};return lr.createElement(n,WE({ref:d,className:n$(`${h}${i?` ${i}`:""}`),"data-swiper-slide-index":c,onLoad:x},u),o&&lr.createElement(I8.Provider,{value:y},lr.createElement("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof o=="number"?o:void 0},w(),a&&!m&&lr.createElement("div",{className:"swiper-lazy-preloader"}))),!o&&lr.createElement(I8.Provider,{value:y},w(),a&&!m&&lr.createElement("div",{className:"swiper-lazy-preloader"})))});XT.displayName="SwiperSlide";function Cre(t,e,n,r){return t.params.createElements&&Object.keys(r).forEach(i=>{if(!n[i]&&n.auto===!0){let s=il(t.el,`.${r[i]}`)[0];s||(s=HE("div",r[i]),s.className=r[i],t.el.append(s)),n[i]=s,e[i]=s}}),n}function R1(t){return t===void 0&&(t=""),`.${t.trim().replace(/([\.:!+\/])/g,"\\$1").replace(/ /g,".")}`}function s$(t){let{swiper:e,extendParams:n,on:r,emit:i}=t;const s="swiper-pagination";n({pagination:{el:null,bulletElement:"span",clickable:!1,hideOnClick:!1,renderBullet:null,renderProgressbar:null,renderFraction:null,renderCustom:null,progressbarOpposite:!1,type:"bullets",dynamicBullets:!1,dynamicMainBullets:1,formatFractionCurrent:w=>w,formatFractionTotal:w=>w,bulletClass:`${s}-bullet`,bulletActiveClass:`${s}-bullet-active`,modifierClass:`${s}-`,currentClass:`${s}-current`,totalClass:`${s}-total`,hiddenClass:`${s}-hidden`,progressbarFillClass:`${s}-progressbar-fill`,progressbarOppositeClass:`${s}-progressbar-opposite`,clickableClass:`${s}-clickable`,lockClass:`${s}-lock`,horizontalClass:`${s}-horizontal`,verticalClass:`${s}-vertical`,paginationDisabledClass:`${s}-disabled`}}),e.pagination={el:null,bullets:[]};let o,a=0;function c(){return!e.params.pagination.el||!e.pagination.el||Array.isArray(e.pagination.el)&&e.pagination.el.length===0}function l(w,x){const{bulletActiveClass:C}=e.params.pagination;w&&(w=w[`${x==="prev"?"previous":"next"}ElementSibling`],w&&(w.classList.add(`${C}-${x}`),w=w[`${x==="prev"?"previous":"next"}ElementSibling`],w&&w.classList.add(`${C}-${x}-${x}`)))}function u(w,x,C){if(w=w%C,x=x%C,x===w+1)return"next";if(x===w-1)return"previous"}function d(w){const x=w.target.closest(R1(e.params.pagination.bulletClass));if(!x)return;w.preventDefault();const C=qE(x)*e.params.slidesPerGroup;if(e.params.loop){if(e.realIndex===C)return;const N=u(e.realIndex,C,e.slides.length);N==="next"?e.slideNext():N==="previous"?e.slidePrev():e.slideToLoop(C)}else e.slideTo(C)}function h(){const w=e.rtl,x=e.params.pagination;if(c())return;let C=e.pagination.el;C=Ml(C);let N,D;const O=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.slides.length,P=e.params.loop?Math.ceil(O/e.params.slidesPerGroup):e.snapGrid.length;if(e.params.loop?(D=e.previousRealIndex||0,N=e.params.slidesPerGroup>1?Math.floor(e.realIndex/e.params.slidesPerGroup):e.realIndex):typeof e.snapIndex<"u"?(N=e.snapIndex,D=e.previousSnapIndex):(D=e.previousIndex||0,N=e.activeIndex||0),x.type==="bullets"&&e.pagination.bullets&&e.pagination.bullets.length>0){const L=e.pagination.bullets;let $,_,j;if(x.dynamicBullets&&(o=xP(L[0],e.isHorizontal()?"width":"height"),C.forEach(K=>{K.style[e.isHorizontal()?"width":"height"]=`${o*(x.dynamicMainBullets+4)}px`}),x.dynamicMainBullets>1&&D!==void 0&&(a+=N-(D||0),a>x.dynamicMainBullets-1?a=x.dynamicMainBullets-1:a<0&&(a=0)),$=Math.max(N-a,0),_=$+(Math.min(L.length,x.dynamicMainBullets)-1),j=(_+$)/2),L.forEach(K=>{const V=[...["","-next","-next-next","-prev","-prev-prev","-main"].map(T=>`${x.bulletActiveClass}${T}`)].map(T=>typeof T=="string"&&T.includes(" ")?T.split(" "):T).flat();K.classList.remove(...V)}),C.length>1)L.forEach(K=>{const V=qE(K);V===N?K.classList.add(...x.bulletActiveClass.split(" ")):e.isElement&&K.setAttribute("part","bullet"),x.dynamicBullets&&(V>=$&&V<=_&&K.classList.add(...`${x.bulletActiveClass}-main`.split(" ")),V===$&&l(K,"prev"),V===_&&l(K,"next"))});else{const K=L[N];if(K&&K.classList.add(...x.bulletActiveClass.split(" ")),e.isElement&&L.forEach((V,T)=>{V.setAttribute("part",T===N?"bullet-active":"bullet")}),x.dynamicBullets){const V=L[$],T=L[_];for(let k=$;k<=_;k+=1)L[k]&&L[k].classList.add(...`${x.bulletActiveClass}-main`.split(" "));l(V,"prev"),l(T,"next")}}if(x.dynamicBullets){const K=Math.min(L.length,x.dynamicMainBullets+4),V=(o*K-o)/2-j*o,T=w?"right":"left";L.forEach(k=>{k.style[e.isHorizontal()?T:"top"]=`${V}px`})}}C.forEach((L,$)=>{if(x.type==="fraction"&&(L.querySelectorAll(R1(x.currentClass)).forEach(_=>{_.textContent=x.formatFractionCurrent(N+1)}),L.querySelectorAll(R1(x.totalClass)).forEach(_=>{_.textContent=x.formatFractionTotal(P)})),x.type==="progressbar"){let _;x.progressbarOpposite?_=e.isHorizontal()?"vertical":"horizontal":_=e.isHorizontal()?"horizontal":"vertical";const j=(N+1)/P;let K=1,V=1;_==="horizontal"?K=j:V=j,L.querySelectorAll(R1(x.progressbarFillClass)).forEach(T=>{T.style.transform=`translate3d(0,0,0) scaleX(${K}) scaleY(${V})`,T.style.transitionDuration=`${e.params.speed}ms`})}x.type==="custom"&&x.renderCustom?(L.innerHTML=x.renderCustom(e,N+1,P),$===0&&i("paginationRender",L)):($===0&&i("paginationRender",L),i("paginationUpdate",L)),e.params.watchOverflow&&e.enabled&&L.classList[e.isLocked?"add":"remove"](x.lockClass)})}function f(){const w=e.params.pagination;if(c())return;const x=e.virtual&&e.params.virtual.enabled?e.virtual.slides.length:e.grid&&e.params.grid.rows>1?e.slides.length/Math.ceil(e.params.grid.rows):e.slides.length;let C=e.pagination.el;C=Ml(C);let N="";if(w.type==="bullets"){let D=e.params.loop?Math.ceil(x/e.params.slidesPerGroup):e.snapGrid.length;e.params.freeMode&&e.params.freeMode.enabled&&D>x&&(D=x);for(let O=0;O<D;O+=1)w.renderBullet?N+=w.renderBullet.call(e,O,w.bulletClass):N+=`<${w.bulletElement} ${e.isElement?'part="bullet"':""} class="${w.bulletClass}"></${w.bulletElement}>`}w.type==="fraction"&&(w.renderFraction?N=w.renderFraction.call(e,w.currentClass,w.totalClass):N=`<span class="${w.currentClass}"></span> / <span class="${w.totalClass}"></span>`),w.type==="progressbar"&&(w.renderProgressbar?N=w.renderProgressbar.call(e,w.progressbarFillClass):N=`<span class="${w.progressbarFillClass}"></span>`),e.pagination.bullets=[],C.forEach(D=>{w.type!=="custom"&&(D.innerHTML=N||""),w.type==="bullets"&&e.pagination.bullets.push(...D.querySelectorAll(R1(w.bulletClass)))}),w.type!=="custom"&&i("paginationRender",C[0])}function m(){e.params.pagination=Cre(e,e.originalParams.pagination,e.params.pagination,{el:"swiper-pagination"});const w=e.params.pagination;if(!w.el)return;let x;typeof w.el=="string"&&e.isElement&&(x=e.el.querySelector(w.el)),!x&&typeof w.el=="string"&&(x=[...document.querySelectorAll(w.el)]),x||(x=w.el),!(!x||x.length===0)&&(e.params.uniqueNavElements&&typeof w.el=="string"&&Array.isArray(x)&&x.length>1&&(x=[...e.el.querySelectorAll(w.el)],x.length>1&&(x=x.find(C=>WF(C,".swiper")[0]===e.el))),Array.isArray(x)&&x.length===1&&(x=x[0]),Object.assign(e.pagination,{el:x}),x=Ml(x),x.forEach(C=>{w.type==="bullets"&&w.clickable&&C.classList.add(...(w.clickableClass||"").split(" ")),C.classList.add(w.modifierClass+w.type),C.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.type==="bullets"&&w.dynamicBullets&&(C.classList.add(`${w.modifierClass}${w.type}-dynamic`),a=0,w.dynamicMainBullets<1&&(w.dynamicMainBullets=1)),w.type==="progressbar"&&w.progressbarOpposite&&C.classList.add(w.progressbarOppositeClass),w.clickable&&C.addEventListener("click",d),e.enabled||C.classList.add(w.lockClass)}))}function g(){const w=e.params.pagination;if(c())return;let x=e.pagination.el;x&&(x=Ml(x),x.forEach(C=>{C.classList.remove(w.hiddenClass),C.classList.remove(w.modifierClass+w.type),C.classList.remove(e.isHorizontal()?w.horizontalClass:w.verticalClass),w.clickable&&(C.classList.remove(...(w.clickableClass||"").split(" ")),C.removeEventListener("click",d))})),e.pagination.bullets&&e.pagination.bullets.forEach(C=>C.classList.remove(...w.bulletActiveClass.split(" ")))}r("changeDirection",()=>{if(!e.pagination||!e.pagination.el)return;const w=e.params.pagination;let{el:x}=e.pagination;x=Ml(x),x.forEach(C=>{C.classList.remove(w.horizontalClass,w.verticalClass),C.classList.add(e.isHorizontal()?w.horizontalClass:w.verticalClass)})}),r("init",()=>{e.params.pagination.enabled===!1?y():(m(),f(),h())}),r("activeIndexChange",()=>{typeof e.snapIndex>"u"&&h()}),r("snapIndexChange",()=>{h()}),r("snapGridLengthChange",()=>{f(),h()}),r("destroy",()=>{g()}),r("enable disable",()=>{let{el:w}=e.pagination;w&&(w=Ml(w),w.forEach(x=>x.classList[e.enabled?"remove":"add"](e.params.pagination.lockClass)))}),r("lock unlock",()=>{h()}),r("click",(w,x)=>{const C=x.target,N=Ml(e.pagination.el);if(e.params.pagination.el&&e.params.pagination.hideOnClick&&N&&N.length>0&&!C.classList.contains(e.params.pagination.bulletClass)){if(e.navigation&&(e.navigation.nextEl&&C===e.navigation.nextEl||e.navigation.prevEl&&C===e.navigation.prevEl))return;const D=N[0].classList.contains(e.params.pagination.hiddenClass);i(D===!0?"paginationShow":"paginationHide"),N.forEach(O=>O.classList.toggle(e.params.pagination.hiddenClass))}});const E=()=>{e.el.classList.remove(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=Ml(w),w.forEach(x=>x.classList.remove(e.params.pagination.paginationDisabledClass))),m(),f(),h()},y=()=>{e.el.classList.add(e.params.pagination.paginationDisabledClass);let{el:w}=e.pagination;w&&(w=Ml(w),w.forEach(x=>x.classList.add(e.params.pagination.paginationDisabledClass))),g()};Object.assign(e.pagination,{enable:E,disable:y,render:f,update:h,init:m,destroy:g})}function o$(t){let{swiper:e,extendParams:n,on:r,emit:i,params:s}=t;e.autoplay={running:!1,paused:!1,timeLeft:0},n({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let o,a,c=s&&s.autoplay?s.autoplay.delay:3e3,l=s&&s.autoplay?s.autoplay.delay:3e3,u,d=new Date().getTime(),h,f,m,g,E,y,w;function x(B){!e||e.destroyed||!e.wrapperEl||B.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",x),!(w||B.detail&&B.detail.bySwiperTouchMove)&&$())}const C=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?h=!0:h&&(l=u,h=!1);const B=e.autoplay.paused?u:d+l-new Date().getTime();e.autoplay.timeLeft=B,i("autoplayTimeLeft",B,B/c),a=requestAnimationFrame(()=>{C()})},N=()=>{let B;return e.virtual&&e.params.virtual.enabled?B=e.slides.find(Z=>Z.classList.contains("swiper-slide-active")):B=e.slides[e.activeIndex],B?parseInt(B.getAttribute("data-swiper-autoplay"),10):void 0},D=B=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(a),C();let z=typeof B>"u"?e.params.autoplay.delay:B;c=e.params.autoplay.delay,l=e.params.autoplay.delay;const Z=N();!Number.isNaN(Z)&&Z>0&&typeof B>"u"&&(z=Z,c=Z,l=Z),u=z;const he=e.params.speed,R=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(he,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,he,!0,!0),i("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(he,!0,!0),i("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,he,!0,!0),i("autoplay")),e.params.cssMode&&(d=new Date().getTime(),requestAnimationFrame(()=>{D()})))};return z>0?(clearTimeout(o),o=setTimeout(()=>{R()},z)):requestAnimationFrame(()=>{R()}),z},O=()=>{d=new Date().getTime(),e.autoplay.running=!0,D(),i("autoplayStart")},P=()=>{e.autoplay.running=!1,clearTimeout(o),cancelAnimationFrame(a),i("autoplayStop")},L=(B,z)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(o),B||(y=!0);const Z=()=>{i("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",x):$()};if(e.autoplay.paused=!0,z){E&&(u=e.params.autoplay.delay),E=!1,Z();return}u=(u||e.params.autoplay.delay)-(new Date().getTime()-d),!(e.isEnd&&u<0&&!e.params.loop)&&(u<0&&(u=0),Z())},$=()=>{e.isEnd&&u<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(d=new Date().getTime(),y?(y=!1,D(u)):D(),e.autoplay.paused=!1,i("autoplayResume"))},_=()=>{if(e.destroyed||!e.autoplay.running)return;const B=dl();B.visibilityState==="hidden"&&(y=!0,L(!0)),B.visibilityState==="visible"&&$()},j=B=>{B.pointerType==="mouse"&&(y=!0,w=!0,!(e.animating||e.autoplay.paused)&&L(!0))},K=B=>{B.pointerType==="mouse"&&(w=!1,e.autoplay.paused&&$())},V=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",j),e.el.addEventListener("pointerleave",K))},T=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",j),e.el.removeEventListener("pointerleave",K))},k=()=>{dl().addEventListener("visibilitychange",_)},W=()=>{dl().removeEventListener("visibilitychange",_)};r("init",()=>{e.params.autoplay.enabled&&(V(),k(),O())}),r("destroy",()=>{T(),W(),e.autoplay.running&&P()}),r("_freeModeStaticRelease",()=>{(m||y)&&$()}),r("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?P():L(!0,!0)}),r("beforeTransitionStart",(B,z,Z)=>{e.destroyed||!e.autoplay.running||(Z||!e.params.autoplay.disableOnInteraction?L(!0,!0):P())}),r("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){P();return}f=!0,m=!1,y=!1,g=setTimeout(()=>{y=!0,m=!0,L(!0)},200)}}),r("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!f)){if(clearTimeout(g),clearTimeout(o),e.params.autoplay.disableOnInteraction){m=!1,f=!1;return}m&&e.params.cssMode&&$(),m=!1,f=!1}}),r("slideChange",()=>{e.destroyed||!e.autoplay.running||(E=!0)}),Object.assign(e.autoplay,{start:O,stop:P,pause:L,resume:$})}const Nre=[{image:"https://images.unsplash.com/photo-1585790050230-5dd28404ccb9",icon:Wte,title:"Apple Device Unlock",description:"Professional unlocking service for all Apple devices - iPhone, iPad, and MacBook."},{image:"https://images.unsplash.com/photo-1585790050230-5dd28404ccb9",icon:Ro,title:"Safe & Secure",description:"Official unlocking method that preserves your warranty and device security."},{image:"https://images.unsplash.com/photo-1585790050230-5dd28404ccb9",icon:Jb,title:"Lightning Fast Service",description:"Most devices unlocked within 24 hours with 100% success guarantee."},{image:"https://images.unsplash.com/photo-1585790050230-5dd28404ccb9",icon:Bu,title:"Worldwide Coverage",description:"Use your device with any carrier, anywhere in the world."}];function _re(){const t=()=>{const e=document.getElementById("devices-section");e&&e.scrollIntoView({behavior:"smooth",block:"start"})};return v.jsx("div",{className:"relative overflow-hidden",children:v.jsx(ZT,{modules:[o$,s$],slidesPerView:1,pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},loop:!0,className:"relative",children:Nre.map((e,n)=>{const r=e.icon;return v.jsx(XT,{children:v.jsxs("div",{className:"relative h-[400px] md:h-[500px] lg:h-[600px] bg-gradient-to-r from-blue-600 to-blue-800",children:[v.jsx("div",{className:"absolute inset-0 opacity-10",style:{backgroundImage:`url(${e.image}?auto=format&fit=crop&w=2000&q=80)`,backgroundSize:"cover",backgroundPosition:"center",filter:"blur(8px)"}}),v.jsx("div",{className:"relative h-full flex items-center",children:v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.8},className:"container mx-auto px-4 text-center text-white",children:[v.jsxs(Qe.div,{className:"flex items-center justify-center mb-4 md:mb-6",whileHover:{scale:1.1},transition:{type:"spring",stiffness:300},children:[v.jsx(r,{className:"w-10 h-12 md:w-16 md:h-16 mr-3 md:mr-4"}),v.jsx("h1",{className:"text-3xl md:text-5xl lg:text-6xl font-bold",children:e.title})]}),v.jsx(Qe.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2,duration:.8},className:"text-lg md:text-xl lg:text-2xl text-blue-100 max-w-3xl mx-auto px-3",children:e.description}),v.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4,duration:.8},className:"mt-6 md:mt-8",children:v.jsx(Qe.button,{onClick:t,whileHover:{scale:1.05},whileTap:{scale:.95},className:"bg-white text-blue-600 px-6 md:px-8 py-2 md:py-3 rounded-full font-semibold text-base md:text-lg shadow-lg hover:shadow-xl transition-all duration-300",children:"Get Started Now"})})]})})]})},n)})})})}const T8=[{name:"Home",icon:Mte,path:"/"},{name:"Device Catalog",icon:qte,path:"/device-catalog"},{name:"IMEI Checker",icon:Hte,path:"/imei-check"},{name:"Services",icon:Yte,path:"/services"},{name:"Help",icon:$E,path:"/help"}];function Al(){const[t,e]=ce.useState(!1);return v.jsxs(Qe.nav,{initial:{y:-100},animate:{y:0},transition:{type:"spring",stiffness:100},className:"bg-white shadow-sm sticky top-0 z-50 backdrop-blur-lg bg-white/80",children:[v.jsx("div",{className:"container mx-auto px-3 md:px-4 py-3 md:py-4",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx(es,{to:"/",children:v.jsx(Qe.div,{className:"flex items-center space-x-2",whileHover:{scale:1.05},transition:{type:"spring",stiffness:400},children:v.jsx("img",{src:"/iunlockexpert/logo2.png",alt:"iUnlockExpert Logo",className:"w-45 h-10 md:w-45 md:h-10"})})}),v.jsx("div",{className:"hidden md:flex items-center space-x-8",children:T8.map(n=>v.jsxs(es,{to:n.path,className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600 transition-colors duration-300",children:[v.jsx(n.icon,{className:"w-4 h-4"}),v.jsx("span",{children:n.name})]},n.name))}),v.jsx("button",{onClick:()=>e(!t),className:"md:hidden text-gray-600 hover:text-blue-600 transition-colors duration-300",children:t?v.jsx(zc,{className:"w-6 h-6"}):v.jsx(Fte,{className:"w-6 h-6"})})]})}),v.jsx(fa,{children:t&&v.jsx(Qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"md:hidden bg-white border-t",children:v.jsx("div",{className:"container mx-auto px-4 py-4",children:T8.map(n=>v.jsxs(es,{to:n.path,onClick:()=>e(!1),className:"flex items-center space-x-3 py-3 text-gray-600 hover:text-blue-600 transition-colors duration-300",children:[v.jsx(n.icon,{className:"w-5 h-5"}),v.jsx("span",{children:n.name})]},n.name))})})})]})}const Pre=[{id:1,title:"Basic Check",price:"",description:"Essential device information and basic status check",features:["Basic Device Info","Carrier Status","Activation Details"]},{id:2,title:"Advanced Check",price:"$0.12",description:"Detailed device history and warranty information",features:["All Basic Check Features","Warranty Status","Repair History","Find My iPhone Status"]},{id:3,title:"Full Check",price:"$0.90",description:"Complete device analysis including MDM status",features:["All Advanced Check Features","Security Status","MDM Lock Status","Technical Specifications"]}];function a$(){const[t,e]=ce.useState(""),[n,r]=ce.useState(!1),[i,s]=ce.useState(""),[o,a]=ce.useState(null),[c,l]=ce.useState(!1),[u,d]=ce.useState(1),h=w=>{const x=w.replace(/[^0-9]/g,"");if(x.length!==15)return"Please enter exactly 15 digits";if(!/^\d+$/.test(x))return"IMEI must contain only numbers";if(/^0{15}$/.test(x))return"Invalid IMEI: cannot be all zeros";if(/^1{15}$/.test(x))return"Invalid IMEI: cannot be all ones";const C=x.substring(0,8);if(!/^[0-9]{8}$/.test(C))return"Invalid Type Allocation Code (TAC)";let N=0,D=!1;for(let O=x.length-1;O>=0;O--){let P=parseInt(x[O]);D&&(P*=2,P>9&&(P-=9)),N+=P,D=!D}return N%10===0?"":"Invalid IMEI checksum - please check and try again"},f=w=>{const x=w.target.value.replace(/[^0-9\s-]/g,"");x.replace(/[\s-]/g,"").length<=15&&(e(x),s(""),a(null))},m=w=>w.replace(/[^0-9]/g,"").replace(/(\d{4})(?=\d)/g,"$1 ").trim(),g=w=>{const x=m(w);return x.length>0?x:w},E=async()=>{const w=t.replace(/[^0-9]/g,""),x=h(w);if(x){s(x);return}r(!0),s("");try{const C=await fetch("https://api.imeicheck.net/v1/checks",{method:"POST",headers:{Authorization:"Bearer PN7VOmB870ddyo8ojOE83HJ5NIZ1OpkKDu9Y5H3P2784288f","Content-Type":"application/json","Accept-Language":"en"},body:JSON.stringify({deviceId:w,serviceId:u})});if(!C.ok){const D=await C.json();throw new Error(D.message||"Failed to check IMEI")}const N=await C.json();a(N)}catch(C){s(C.message||"Failed to check IMEI. Please try again later.")}finally{r(!1)}},y=()=>{if(!o||o.status!=="successful")return null;const w=o.properties,x=v.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[v.jsx(oy,{className:"w-5 h-5 text-blue-600"}),v.jsx("span",{className:"text-gray-600",children:"Basic Device Info"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Model:"})," ",w.modelDesc||"Unknown"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Serial:"})," ",w.serial||"Unknown"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"IMEI:"})," ",w.imei||"Unknown"]})]})]}),C=v.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[v.jsx(Kte,{className:"w-5 h-5 text-blue-600"}),v.jsx("span",{className:"text-gray-600",children:"Carrier Status"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Current Carrier:"})," ",w.carrier||"Unknown"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Network:"})," ",w.network||"Unknown"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"SIM Lock:"})," ",w.simLock?"Locked":"Unlocked"]})]})]}),N=v.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[v.jsx(Jb,{className:"w-5 h-5 text-blue-600"}),v.jsx("span",{className:"text-gray-600",children:"Activation Details"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Activation Status:"})," ",w.activated?"Yes":"No"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Region:"})," ",w.country||"Unknown"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Registered:"})," ",w.registered?"Yes":"No"]})]})]}),D=v.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[v.jsx(Ro,{className:"w-5 h-5 text-blue-600"}),v.jsx("span",{className:"text-gray-600",children:"Warranty Status"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Warranty Status:"})," ",w.warrantyStatus||"Unknown"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Coverage:"})," ",w.repairCoverage?"Active":"Expired"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Support:"})," ",w.technicalSupport?"Available":"Expired"]})]})]}),O=v.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[v.jsx(Vte,{className:"w-5 h-5 text-blue-600"}),v.jsx("span",{className:"text-gray-600",children:"Service History"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Replacement Unit:"})," ",w.replacement?"Yes":"No"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Refurbished:"})," ",w.refurbished?"Yes":"No"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Parts Modified:"})," ",w.replaced?"Yes":"No"]})]})]}),P=v.jsxs("div",{className:"p-4 bg-blue-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[v.jsx(Bu,{className:"w-5 h-5 text-blue-600"}),v.jsx("span",{className:"text-gray-600",children:"Find My iPhone"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Status:"})," ",w.fmiOn?"Enabled":"Disabled"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Lost Mode:"})," ",w.lostMode?"Active":"Inactive"]})]})]}),L=v.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[v.jsx(Ro,{className:"w-5 h-5 text-blue-600"}),v.jsx("span",{className:"text-gray-600",children:"Security Status"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Blacklist Status:"})," ",w.usaBlockStatus||"Unknown"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"GSMA Status:"})," ",w.gsmaBlacklisted?"Blacklisted":"Clean"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Records:"})," ",w.blacklistRecords||"0"]})]})]}),$=v.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[v.jsx(uc,{className:"w-5 h-5 text-blue-600"}),v.jsx("span",{className:"text-gray-600",children:"Lock Status"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"MDM Lock:"})," ",w.mdmLock?"Yes":"No"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"iCloud Lock:"})," ",w.fmiOn?"Yes":"No"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Activation Lock:"})," ",w.acEligible?"Eligible":"Not Eligible"]})]})]}),_=v.jsxs("div",{className:"p-4 bg-purple-50 rounded-lg",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[v.jsx(Rte,{className:"w-5 h-5 text-blue-600"}),v.jsx("span",{className:"text-gray-600",children:"Technical Status"})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Demo Unit:"})," ",w.demoUnit?"Yes":"No"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Loaner Device:"})," ",w.loaner?"Yes":"No"]}),v.jsxs("p",{children:[v.jsx("span",{className:"text-gray-600",children:"Next Policy:"})," ",w.nextActivationPolicyId||"N/A"]})]})]}),j=v.jsx("div",{className:`p-4 rounded-lg ${w.usaBlockStatus==="Clean"?"bg-green-50":"bg-red-50"}`,children:v.jsx("div",{className:"flex items-center justify-center space-x-2",children:w.usaBlockStatus==="Clean"?v.jsxs(v.Fragment,{children:[v.jsx(FE,{className:"w-6 h-6 text-green-600"}),v.jsx("span",{className:"font-semibold text-green-800",children:"Device is clean and ready to use"})]}):v.jsxs(v.Fragment,{children:[v.jsx(zc,{className:"w-6 h-6 text-red-600"}),v.jsx("div",{className:"text-red-800",children:v.jsx("p",{className:"font-semibold",children:"Device is blacklisted"})})]})})});return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-2",children:[v.jsx(oy,{className:"w-8 h-8 text-blue-600"}),v.jsx("h3",{className:"text-xl font-semibold",children:w.deviceName||w.modelDesc})]}),j,v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[x,C,N]}),u>=2&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[D,O,P]}),u===3&&v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[L,$,_]})]})};return v.jsx("section",{className:"py-8 md:py-12",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[v.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-4",children:[v.jsx(Ro,{className:"w-8 h-8 text-blue-600"}),v.jsx("h2",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Official IMEI Device Checker"})]}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Verify device authenticity and check blacklist status through our official database"})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3 mb-6",children:Pre.map(w=>v.jsxs(Qe.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:`p-4 rounded-lg cursor-pointer transition-all duration-300 ${u===w.id?"bg-blue-50 border-2 border-blue-500":"bg-gray-50 border-2 border-transparent hover:border-blue-200"}`,onClick:()=>d(w.id),children:[v.jsxs("div",{className:"flex items-center justify-between mb-2",children:[v.jsx("h3",{className:"font-semibold text-lg",children:w.title}),v.jsx("span",{className:"text-blue-600 font-bold",children:w.price})]}),v.jsx("p",{className:"text-sm text-gray-600 mb-3",children:w.description}),v.jsx("ul",{className:"space-y-1.5",children:w.features.map((x,C)=>v.jsxs("li",{className:"flex items-center text-sm",children:[v.jsx(FE,{className:"w-4 h-4 text-green-500 mr-2 flex-shrink-0"}),v.jsx("span",{children:x})]},C))})]},w.id))}),v.jsxs("div",{className:"relative mb-2",children:[v.jsx("input",{type:"text",value:g(t),onChange:f,placeholder:"Enter IMEI number",className:`w-full px-4 py-3 pr-32 border rounded-lg text-lg ${i?"border-red-500":"border-gray-300"} font-sans tracking-wide`,maxLength:19}),v.jsx("button",{onClick:E,disabled:n||t.replace(/[^0-9]/g,"").length!==15,className:"absolute right-2 top-1/2 transform -translate-y-1/2 bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-300",children:n?v.jsx(Qe.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:v.jsx(Bte,{className:"w-5 h-5"})}):"Check IMEI"})]}),v.jsx("div",{className:"flex items-center justify-center space-x-2 text-sm text-gray-500 mb-3",children:v.jsxs("button",{onClick:()=>l(!c),className:"flex items-center space-x-1 hover:text-blue-600 transition-colors duration-300",children:[v.jsx(Wg,{className:"w-4 h-4"}),v.jsx("span",{children:"How to find your IMEI"})]})}),v.jsx(fa,{children:c&&v.jsxs(Qe.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},className:"bg-blue-50 p-4 rounded-lg mb-3 text-left",children:[v.jsx("h4",{className:"font-semibold mb-2",children:"How to find your IMEI:"}),v.jsxs("ul",{className:"list-disc list-inside space-y-1 text-sm",children:[v.jsx("li",{children:"Dial *#06# on your device"}),v.jsx("li",{children:"Check in Settings  General  About"}),v.jsx("li",{children:"Look on the device packaging or original receipt"}),v.jsx("li",{children:"Check the SIM tray or back of the device"})]})]})}),i&&v.jsxs(Qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mt-3 text-red-500 flex items-center justify-center space-x-2",children:[v.jsx(Ite,{className:"w-5 h-5"}),v.jsx("span",{children:i})]}),v.jsx(fa,{children:o&&o.status==="successful"&&v.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"mt-6",children:y()})})]})]})})})}const Ire=["Bitcoin","ETH","USDT"];function Sl(){return v.jsx("footer",{className:"bg-gray-900 text-white pt-16 pb-8",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12",children:[v.jsxs("div",{children:[v.jsx(Qe.div,{whileHover:{scale:1.05},className:"flex items-center space-x-2 mb-6",children:v.jsx("img",{src:"/iunlockexpert/logo3.png",alt:"iUnlockExpert Logo",className:"w-45 h-10 md:w-45 md:h-10"})}),v.jsx("p",{className:"text-gray-400 mb-6",children:"Your trusted phone unlocking service provider since 2021. We offer professional unlocking solutions for all Apple devices."})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-semibold mb-6",children:"Quick Links"}),v.jsxs("ul",{className:"space-y-3",children:[v.jsx("li",{children:v.jsx(es,{to:"/",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Home"})}),v.jsx("li",{children:v.jsx(es,{to:"/services",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Services"})}),v.jsx("li",{children:v.jsx(es,{to:"/device-catalog",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Device Catalog"})}),v.jsx("li",{children:v.jsx(es,{to:"/imei-check",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"IMEI Checker"})}),v.jsx("li",{children:v.jsx(es,{to:"/help",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Help Center"})}),v.jsx("li",{children:v.jsx(es,{to:"/terms",className:"text-gray-400 hover:text-white transition-colors duration-300",children:"Terms & Conditions"})})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-semibold mb-6",children:"Contact Us"}),v.jsxs("ul",{className:"space-y-4",children:[v.jsxs("li",{className:"flex items-center space-x-3 text-gray-400",children:[v.jsx(FF,{className:"w-5 h-5"}),v.jsx("span",{children:"support@iunlockexpert.com"})]}),v.jsxs("li",{className:"flex items-center space-x-3 text-gray-400",children:[v.jsx(xv,{className:"w-5 h-5"}),v.jsx("span",{children:"24/7 Support Available"})]}),v.jsxs("li",{className:"flex items-center space-x-3 text-gray-400",children:[v.jsx(Ute,{className:"w-5 h-5"}),v.jsx("span",{children:"Global Service Coverage"})]})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"text-lg font-semibold mb-6",children:"We Accept"}),v.jsx("div",{className:"grid grid-cols-3 gap-3",children:Ire.map(t=>v.jsx("div",{className:"bg-gray-800 rounded px-3 py-2 text-xs text-center text-gray-400",children:t},t))}),v.jsxs("div",{className:"mt-6 space-y-3",children:[v.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[v.jsx(Ro,{className:"w-5 h-5 text-green-500"}),v.jsx("span",{children:"Secure Payments"})]}),v.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[v.jsx(Bu,{className:"w-5 h-5 text-blue-500"}),v.jsx("span",{children:"Worldwide Service"})]}),v.jsxs("div",{className:"flex items-center space-x-2 text-gray-400",children:[v.jsx(ul,{className:"w-5 h-5 text-green-500"}),v.jsx("span",{children:"Money-back Guarantee"})]})]})]})]}),v.jsx("div",{className:"border-t border-gray-800 pt-8",children:v.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[v.jsx("p",{className:"text-gray-400 text-sm mb-4 md:mb-0",children:" 2024 iUnlockExpert. All rights reserved."}),v.jsxs("div",{className:"flex space-x-6",children:[v.jsx(es,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors duration-300",children:"Privacy Policy"}),v.jsx(es,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors duration-300",children:"Terms of Service"}),v.jsx(es,{to:"/terms",className:"text-gray-400 hover:text-white text-sm transition-colors duration-300",children:"Cookie Policy"})]})]})})]})})}const Tre={iphone:[{model:"iPhone 16 Pro Max",price:"$74.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_16_pro_max_desert_1_539c7c47.jpg"},{model:"iPhone 8 Plus",price:"$34.99",image:"https://i5.walmartimages.com/asr/61cbeba7-8bca-4062-b278-673019d304f8_1.44b845bf2c88872f7c7310a0d40bc0e7.jpeg"},{model:"iPhone 12 Pro",price:"$49.99",image:"https://alo.md/media/media/enter-apple-iphone-12-pro-158-mkstzqh.webp"},{model:"iPhone 16",price:"$59.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_16_ultramarine_1_2598b2a3.jpg"},{model:"iPhone 14 Pro Max",price:"$64.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_14_pro_silver-1_56a46342.jpg"},{model:"iPhone SE (3rd gen)",price:"$34.99",image:"https://www.goblue.dk/images/Apple%20iPhone%20SE%202022%205G%2064GB%20-%20Red%2001-p.jpg"},{model:"iPhone XR",price:"$34.99",image:"https://i2.storeland.net/3/634/206336045/afacdb/smartfon-apple-iphone-xr.jpg"},{model:"iPhone 14",price:"$49.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_14_purple-1_3df48088.jpg"}],macbook:[{model:"MacBook Pro M4 (2025)",price:"$74.99",image:"https://inventstore.in/wp-content/uploads/2024/11/2-scaled.webp"},{model:"MacBook Air M4 (2025)",price:"$74.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/m/a/16fa6a9aef7ffd6209d5fd9338ffa0b1/macbook_air_13_inch_m4_midnight_1_b1bf9b26.jpg"},{model:"MacBook Pro M3 (2024)",price:"$69.99",image:"https://idestiny.in/wp-content/uploads/2024/10/Macbook-Pro-16_-600x600.png"},{model:"MacBook Air M3 (2024)",price:"$59.99",image:"https://techzone.by/wp-content/uploads/2024/03/Apple-MacBook-Air-13-M3-2024-Midnight-1-min.png"},{model:"MacBook Pro M2 (2023)",price:"$64.99",image:"https://s3.ap-southeast-1.amazonaws.com/uploads-store/uploads/all/Bu04z64BCYaaDCVhrsBcmlgiPbxkKEdegvNg1B1o.png"},{model:"MacBook Air M2 (2023)",price:"$54.99",image:"https://images.shopkees.com/uploads/cdn/images/1000/9472077453_1655454923.jpg"},{model:"MacBook Pro M1 (2020)",price:"$59.99",image:"https://i.simpalsmedia.com/thumbor/500x0/i.simpalsmedia.com/marketplace/products/original/5922242252ed0e05fcf45269c1e60f74.jpg"},{model:"MacBook Air M1 (2020)",price:"$49.99",image:"https://5.imimg.com/data5/SELLER/Default/2024/4/414074292/OQ/RG/UD/35721490/apple-macbook-air-500x500.png"}],ipad:[{model:"iPad Pro 13-inch (1st gen, 2024)",price:"$59.99",image:"https://www.imagineonline.store/cdn/shop/files/iPad_Pro_13_M4_Cellular_Silver_PDP_Image_Position_1b__en-IN_dd2e2a82-05c9-4fc0-9714-0611d65872d3.jpg?v=1716466657&width=823"},{model:"iPad Pro 11-inch (5th gen, 2024)",price:"$54.99",image:"https://www.machines.com.my/cdn/shop/products/iPad_Pro_Wi-Fi_11_in_4th_Gen_Silver_PDP_Image_Position-1b__SG.jpg?v=1705419289"},{model:"iPad Pro 12.9-inch (6th gen, 2022)",price:"$54.99",image:"https://alephksa.com/cdn/shop/files/iPad_Pro_12_9_inch_Wi-Fi_Space_Gray_PDP_Image_Position-1b_EN_2a446aae-b0f2-477f-95a2-6e2c27c1bbe9.jpg?v=1695930274&width=1445"},{model:"iPad Pro 11-inch (4th gen, 2022)",price:"$49.99",image:"https://www.machines.com.my/cdn/shop/products/iPad_Pro_Wi-Fi_11_in_4th_Gen_Silver_PDP_Image_Position-1b__SG_b73779cf-0c6e-4008-8023-92d7d0f26ce4_450x.jpg?v=1705418542"},{model:"iPad Pro 9.7-inch (2016)",price:"$34.99",image:"https://d2e6ccujb3mkqf.cloudfront.net/50f4fbbd-a9ca-4de1-8b87-6f4f861745c5-1_add7ec61-fc96-488f-bd61-c55287aab95e.jpg"},{model:"iPad Pro 12.9-inch (1st gen, 2015)",price:"$39.99",image:"https://istorepreowned.co.za/cdn/shop/products/iPad_Pro_12.9-inch_2015_1stGen-Space_Grey_c665a954-f7e7-424f-b616-1a037a401813.png?v=1710873602"},{model:"iPad Air (6th gen, 2024)",price:"$44.99",image:"https://www.costco.co.uk/medias/sys_master/images/hf0/hd5/238984826191902.jpg"},{model:"iPad Air (5th gen, 2022)",price:"$39.99",image:"https://images.shopkees.com/uploads/cdn/images/1000/6784996745_1646891783.jpg"}]},kre=[{icon:kte,title:"Trusted Reputation",description:"The recommended method by phone manufacturers and network providers worldwide."},{icon:Ro,title:"100% Safe & Legal",description:"Official unlocking method that maintains your warranty and device integrity."},{icon:ul,title:"Guaranteed Results",description:"Your satisfaction is guaranteed or your money back, no questions asked."},{icon:xv,title:"Fast Processing",description:"Most devices are unlocked within 24 hours of request submission."},{icon:zte,title:"Keep Your Phone",description:"Remote unlocking process - your phone never leaves your possession."},{icon:$F,title:"24/7 Support",description:"Expert assistance available around the clock via chat, phone, or email."},{icon:Bu,title:"Worldwide Freedom",description:"Use your phone with any carrier anywhere in the world."},{icon:zF,title:"Proven Experience",description:"Over 5 million successful unlocks and counting."}],Ore=[{name:"Sarah Mitchell",profilePic:"https://randomuser.me/api/portraits/women/32.jpg",rating:5,text:"Incredible service! Unlocked my iPhone within 24 hours. The process was smooth and professional. Highly recommended!",date:"2 weeks ago",platform:"Trustpilot"},{name:"John Davidson",profilePic:"https://randomuser.me/api/portraits/men/45.jpg",rating:5,text:"Saved me from buying a new phone. The unlock service was fast, reliable, and exactly what I needed. Great value for money!",date:"1 month ago",platform:"Google Reviews"},{name:"Emily Rodriguez",profilePic:"https://randomuser.me/api/portraits/women/67.jpg",rating:4,text:"Easy process with good communication. It took slightly longer than I expected, but the end result was exactly what I wanted.",date:"3 weeks ago",platform:"Trustpilot"},{name:"Michael Thompson",profilePic:"https://randomuser.me/api/portraits/men/22.jpg",rating:5,text:"Absolutely fantastic service! Unlocked my MacBook without any hassle. Customer support was helpful and responsive.",date:"2 months ago",platform:"Google Reviews"},{name:"Lisa Chen",profilePic:"https://randomuser.me/api/portraits/women/55.jpg",rating:5,text:"Couldn't be happier with the unlock service. Quick, efficient, and exactly as promised. Will definitely recommend to friends!",date:"4 weeks ago",platform:"Trustpilot"}],Rre=()=>{const[t,e]=ce.useState(""),[n,r]=ce.useState("iphone"),i=Tre[n].filter(c=>c.model.toLowerCase().includes(t.toLowerCase())),s=El(),o=()=>{s("/device-catalog")},a=c=>{s(`/unlock/${encodeURIComponent(c)}`)};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(Al,{}),v.jsx(_re,{}),v.jsx("div",{className:"bg-gradient-to-b from-blue-50 to-white py-12",children:v.jsx(a$,{})}),v.jsx("div",{className:"container mx-auto px-4 py-8 mt-7",id:"devices-section",children:v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-blue-50 rounded-xl p-6 pt-10 pb-10 shadow-sm",children:[v.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[v.jsx($E,{className:"w-8 h-8 text-blue-600"}),v.jsx("h2",{className:"text-2xl font-semibold text-blue-900",children:"How to Unlock Your Device"})]}),v.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[{icon:Wg,title:"1. Choose Device",description:"Select your specific Apple device from the catalog below."},{icon:uc,title:"2. Select Unlock Service",description:"Pick the appropriate unlocking service for your needs."},{icon:Ro,title:"3. Complete Unlock",description:"Follow the guided process to unlock your device securely."}].map((c,l)=>v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.2,duration:.3},className:"bg-white rounded-lg p-4 text-center shadow-md",children:[v.jsx("div",{className:"flex justify-center mb-3",children:v.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:v.jsx(c.icon,{className:"w-6 h-6 text-blue-600"})})}),v.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:c.title}),v.jsx("p",{className:"text-sm text-gray-600",children:c.description})]},c.title))})]})}),v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsx("div",{className:"flex justify-center space-x-4 mb-6",children:[{category:"iphone",icon:oy,label:"iPhones"},{category:"ipad",icon:YT,label:"iPads"},{category:"macbook",icon:UF,label:"MacBooks"}].map(({category:c,icon:l,label:u})=>v.jsxs(Qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>r(c),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm md:text-base transition-all duration-300 ${n===c?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[v.jsx(l,{className:"w-4 h-4 md:w-5 md:h-5"}),v.jsx("span",{children:u})]},c))}),v.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:v.jsx(VF,{value:t,onChange:e})}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map((c,l)=>v.jsxs(Qe.div,{initial:{opacity:1,y:0},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:l*.1,duration:.5},className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-300",children:[v.jsx("img",{src:c.image,alt:c.model,className:"w-full h-40 object-contain"}),v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-sm font-semibold mb-2 line-clamp-2 text-center",children:c.model}),v.jsx("div",{className:"flex justify-between items-center",children:v.jsx(Qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(c.model),className:"bg-blue-600 text-white px-4 py-2 rounded text-sm hover:bg-blue-700 m-auto transition-colors duration-300",children:"Unlock Now"})})]})]},c.model))})]}),v.jsx("div",{className:"flex justify-center mt-8 mb-20",children:v.jsxs(Qe.button,{onClick:o,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-300",children:[v.jsx("span",{children:"Find Your Device"}),v.jsx(BF,{className:"w-5 h-5"})]})}),v.jsx("section",{className:"bg-white py-12 md:py-16 relative",children:v.jsxs("div",{className:"container mx-auto px-4",children:[v.jsx(Qe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:v.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[v.jsx("div",{className:"flex space-x-4 mb-4",children:v.jsx("img",{src:"/iunlockexpert/trustpilot-logo.png",alt:"TrustPilot Logo",className:"h-20 mb-5"})}),v.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-3",children:"Verified Customer Reviews"})]})}),v.jsx(ZT,{modules:[o$,s$],spaceBetween:30,slidesPerView:1,centeredSlides:!0,loop:!0,autoplay:{delay:3e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{clickable:!0,bulletClass:"swiper-pagination-bullet",bulletActiveClass:"swiper-pagination-bullet-active"},breakpoints:{640:{slidesPerView:2,spaceBetween:20},1024:{slidesPerView:3,spaceBetween:30}},className:"reviews-swiper",children:Ore.map((c,l)=>v.jsx(XT,{children:v.jsxs("div",{className:"bg-gray-50 rounded-xl p-6 h-full flex flex-col justify-between shadow-md hover:shadow-lg transition-shadow duration-300",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center mb-4",children:[v.jsxs("div",{className:"flex space-x-1 text-green-500 mr-4",children:[[...Array(c.rating)].map((u,d)=>v.jsx(A8,{className:"w-5 h-5 fill-current"},d)),[...Array(5-c.rating)].map((u,d)=>v.jsx(A8,{className:"w-5 h-5 text-gray-300"},d))]}),v.jsx("span",{className:"text-gray-500 text-sm",children:c.platform})]}),v.jsxs("p",{className:"text-gray-700 mb-4 italic",children:['"',c.text,'"']})]}),v.jsxs("div",{className:"flex items-center mt-4",children:[v.jsx("img",{src:c.profilePic,alt:c.name,className:"w-12 h-12 rounded-full mr-4 object-cover"}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("span",{className:"font-medium text-gray-800 mr-2",children:c.name}),v.jsx(ul,{className:"w-4 h-4 text-green-500"})]}),v.jsx("div",{className:"text-sm text-gray-500",children:"Verified Customer"})]})]})]})},l))}),v.jsx(Qe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-12",children:v.jsx("div",{className:"flex flex-col items-center justify-center mt-10 mb-6",children:v.jsxs("div",{className:"flex flex-col items-center justify-center space-y-2",children:[v.jsx("span",{className:"text-gray-600 font-semibold",children:"4.8 out of 5"}),v.jsx("img",{src:"/iunlockexpert/stars-5.svg",alt:"TrustPilot Logo",className:"h-7"})]})})})]})}),v.jsx("section",{className:"bg-gray-100 py-12 md:py-24",children:v.jsxs("div",{className:"container mx-auto px-3 md:px-4",children:[v.jsxs(Qe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},className:"text-center mb-8 md:mb-16",children:[v.jsx("h2",{className:"text-2xl md:text-4xl font-bold text-gray-900 mb-3 md:mb-4",children:"Why Choose iUnlockExpert?"}),v.jsx("p",{className:"text-base md:text-xl text-gray-600 max-w-2xl mx-auto",children:"We provide the safest, fastest, and most reliable phone unlocking service in the industry."})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-8",children:kre.map((c,l)=>v.jsx(Qe.div,{whileHover:{y:-5,scale:1.02},transition:{duration:.2},className:"bg-white p-4 md:p-6 rounded-xl shadow-lg hover:shadow-xl transform transition-all duration-300",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(Qe.div,{whileHover:{rotate:360},transition:{duration:.5},className:"flex-shrink-0",children:v.jsx(c.icon,{className:"w-6 h-6 md:w-8 md:h-8 text-blue-600"})}),v.jsxs("div",{className:"ml-3 md:ml-4",children:[v.jsx("h3",{className:"text-base md:text-lg font-semibold text-gray-900",children:c.title}),v.jsx("p",{className:"mt-1 md:mt-2 text-sm md:text-base text-gray-600",children:c.description})]})]})},l))})]})}),v.jsx(Sl,{})]})},Lre="modulepreload",Dre=function(t){return"/iunlockexpert/"+t},k8={},ws=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),a=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(n.map(c=>{if(c=Dre(c),c in k8)return;k8[c]=!0;const l=c.endsWith(".css"),u=l?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${u}`))return;const d=document.createElement("link");if(d.rel=l?"stylesheet":Lre,l||(d.as="script"),d.crossOrigin="",d.href=c,a&&d.setAttribute("nonce",a),document.head.appendChild(d),l)return new Promise((h,f)=>{d.addEventListener("load",h),d.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};function In(t){"@babel/helpers - typeof";return In=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},In(t)}var is=Uint8Array,Io=Uint16Array,ek=Int32Array,lS=new is([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),uS=new is([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),SP=new is([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c$=function(t,e){for(var n=new Io(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ek(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},l$=c$(lS,2),u$=l$.b,CP=l$.r;u$[28]=258,CP[258]=28;var d$=c$(uS,0),jre=d$.b,O8=d$.r,NP=new Io(32768);for(var nr=0;nr<32768;++nr){var td=(nr&43690)>>1|(nr&21845)<<1;td=(td&52428)>>2|(td&13107)<<2,td=(td&61680)>>4|(td&3855)<<4,NP[nr]=((td&65280)>>8|(td&255)<<8)>>1}var hl=function(t,e,n){for(var r=t.length,i=0,s=new Io(e);i<r;++i)t[i]&&++s[t[i]-1];var o=new Io(e);for(i=1;i<e;++i)o[i]=o[i-1]+s[i-1]<<1;var a;if(n){a=new Io(1<<e);var c=15-e;for(i=0;i<r;++i)if(t[i])for(var l=i<<4|t[i],u=e-t[i],d=o[t[i]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)a[NP[d]>>c]=l}else for(a=new Io(r),i=0;i<r;++i)t[i]&&(a[i]=NP[o[t[i]-1]++]>>15-t[i]);return a},bh=new is(288);for(var nr=0;nr<144;++nr)bh[nr]=8;for(var nr=144;nr<256;++nr)bh[nr]=9;for(var nr=256;nr<280;++nr)bh[nr]=7;for(var nr=280;nr<288;++nr)bh[nr]=8;var Ev=new is(32);for(var nr=0;nr<32;++nr)Ev[nr]=5;var Mre=hl(bh,9,0),Bre=hl(bh,9,1),Ure=hl(Ev,5,0),Fre=hl(Ev,5,1),RN=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},ja=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},LN=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},tk=function(t){return(t+7)/8|0},h$=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new is(t.subarray(e,n))},$re=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Ga=function(t,e,n){var r=new Error(e||$re[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,Ga),!n)throw r;return r},zre=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new is(0);var o=!n,a=o||e.i!=2,c=e.i;o&&(n=new is(i*3));var l=function(Pe){var De=n.length;if(Pe>De){var je=new is(Math.max(De*2,Pe));je.set(n),n=je}},u=e.f||0,d=e.p||0,h=e.b||0,f=e.l,m=e.d,g=e.m,E=e.n,y=i*8;do{if(!f){u=ja(t,d,1);var w=ja(t,d+1,3);if(d+=3,w)if(w==1)f=Bre,m=Fre,g=9,E=5;else if(w==2){var D=ja(t,d,31)+257,O=ja(t,d+10,15)+4,P=D+ja(t,d+5,31)+1;d+=14;for(var L=new is(P),$=new is(19),_=0;_<O;++_)$[SP[_]]=ja(t,d+_*3,7);d+=O*3;for(var j=RN($),K=(1<<j)-1,V=hl($,j,1),_=0;_<P;){var T=V[ja(t,d,K)];d+=T&15;var x=T>>4;if(x<16)L[_++]=x;else{var k=0,W=0;for(x==16?(W=3+ja(t,d,3),d+=2,k=L[_-1]):x==17?(W=3+ja(t,d,7),d+=3):x==18&&(W=11+ja(t,d,127),d+=7);W--;)L[_++]=k}}var B=L.subarray(0,D),z=L.subarray(D);g=RN(B),E=RN(z),f=hl(B,g,1),m=hl(z,E,1)}else Ga(1);else{var x=tk(d)+4,C=t[x-4]|t[x-3]<<8,N=x+C;if(N>i){c&&Ga(0);break}a&&l(h+C),n.set(t.subarray(x,N),h),e.b=h+=C,e.p=d=N*8,e.f=u;continue}if(d>y){c&&Ga(0);break}}a&&l(h+131072);for(var Z=(1<<g)-1,he=(1<<E)-1,R=d;;R=d){var k=f[LN(t,d)&Z],Y=k>>4;if(d+=k&15,d>y){c&&Ga(0);break}if(k||Ga(2),Y<256)n[h++]=Y;else if(Y==256){R=d,f=null;break}else{var J=Y-254;if(Y>264){var _=Y-257,ne=lS[_];J=ja(t,d,(1<<ne)-1)+u$[_],d+=ne}var se=m[LN(t,d)&he],de=se>>4;se||Ga(3),d+=se&15;var z=jre[de];if(de>3){var ne=uS[de];z+=LN(t,d)&(1<<ne)-1,d+=ne}if(d>y){c&&Ga(0);break}a&&l(h+131072);var ye=h+J;if(h<z){var me=s-z,Te=Math.min(z,ye);for(me+h<0&&Ga(3);h<Te;++h)n[h]=r[me+h]}for(;h<ye;++h)n[h]=n[h-z]}}e.l=f,e.p=R,e.b=h,e.f=u,f&&(u=1,e.m=g,e.d=m,e.n=E)}while(!u);return h!=n.length&&o?h$(n,0,h):n.subarray(0,h)},Bl=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},L1=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},DN=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:p$,l:0};if(i==1){var o=new is(n[0].s+1);return o[n[0].s]=1,{t:o,l:1}}n.sort(function(N,D){return N.f-D.f}),n.push({s:-1,f:25001});var a=n[0],c=n[1],l=0,u=1,d=2;for(n[0]={s:-1,f:a.f+c.f,l:a,r:c};u!=i-1;)a=n[n[l].f<n[d].f?l++:d++],c=n[l!=u&&n[l].f<n[d].f?l++:d++],n[u++]={s:-1,f:a.f+c.f,l:a,r:c};for(var h=s[0].s,r=1;r<i;++r)s[r].s>h&&(h=s[r].s);var f=new Io(h+1),m=_P(n[u-1],f,0);if(m>e){var r=0,g=0,E=m-e,y=1<<E;for(s.sort(function(D,O){return f[O.s]-f[D.s]||D.f-O.f});r<i;++r){var w=s[r].s;if(f[w]>e)g+=y-(1<<m-f[w]),f[w]=e;else break}for(g>>=E;g>0;){var x=s[r].s;f[x]<e?g-=1<<e-f[x]++-1:++r}for(;r>=0&&g;--r){var C=s[r].s;f[C]==e&&(--f[C],++g)}m=e}return{t:new is(f),l:m}},_P=function(t,e,n){return t.s==-1?Math.max(_P(t.l,e,n+1),_P(t.r,e,n+1)):e[t.s]=n},R8=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Io(++e),r=0,i=t[0],s=1,o=function(c){n[r++]=c},a=1;a<=e;++a)if(t[a]==i&&a!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(i),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(i);s=1,i=t[a]}return{c:n.subarray(0,r),n:e}},D1=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},f$=function(t,e,n){var r=n.length,i=tk(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},L8=function(t,e,n,r,i,s,o,a,c,l,u){Bl(e,u++,n),++i[256];for(var d=DN(i,15),h=d.t,f=d.l,m=DN(s,15),g=m.t,E=m.l,y=R8(h),w=y.c,x=y.n,C=R8(g),N=C.c,D=C.n,O=new Io(19),P=0;P<w.length;++P)++O[w[P]&31];for(var P=0;P<N.length;++P)++O[N[P]&31];for(var L=DN(O,7),$=L.t,_=L.l,j=19;j>4&&!$[SP[j-1]];--j);var K=l+5<<3,V=D1(i,bh)+D1(s,Ev)+o,T=D1(i,h)+D1(s,g)+o+14+3*j+D1(O,$)+2*O[16]+3*O[17]+7*O[18];if(c>=0&&K<=V&&K<=T)return f$(e,u,t.subarray(c,c+l));var k,W,B,z;if(Bl(e,u,1+(T<V)),u+=2,T<V){k=hl(h,f,0),W=h,B=hl(g,E,0),z=g;var Z=hl($,_,0);Bl(e,u,x-257),Bl(e,u+5,D-1),Bl(e,u+10,j-4),u+=14;for(var P=0;P<j;++P)Bl(e,u+3*P,$[SP[P]]);u+=3*j;for(var he=[w,N],R=0;R<2;++R)for(var Y=he[R],P=0;P<Y.length;++P){var J=Y[P]&31;Bl(e,u,Z[J]),u+=$[J],J>15&&(Bl(e,u,Y[P]>>5&127),u+=Y[P]>>12)}}else k=Mre,W=bh,B=Ure,z=Ev;for(var P=0;P<a;++P){var ne=r[P];if(ne>255){var J=ne>>18&31;L1(e,u,k[J+257]),u+=W[J+257],J>7&&(Bl(e,u,ne>>23&31),u+=lS[J]);var se=ne&31;L1(e,u,B[se]),u+=z[se],se>3&&(L1(e,u,ne>>5&8191),u+=uS[se])}else L1(e,u,k[ne]),u+=W[ne]}return L1(e,u,k[256]),u+W[256]},Vre=new ek([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),p$=new is(0),Hre=function(t,e,n,r,i,s){var o=s.z||t.length,a=new is(r+o+5*(1+Math.ceil(o/7e3))+i),c=a.subarray(r,a.length-i),l=s.l,u=(s.r||0)&7;if(e){u&&(c[0]=s.r>>3);for(var d=Vre[e-1],h=d>>13,f=d&8191,m=(1<<n)-1,g=s.p||new Io(32768),E=s.h||new Io(m+1),y=Math.ceil(n/3),w=2*y,x=function(et){return(t[et]^t[et+1]<<y^t[et+2]<<w)&m},C=new ek(25e3),N=new Io(288),D=new Io(32),O=0,P=0,L=s.i||0,$=0,_=s.w||0,j=0;L+2<o;++L){var K=x(L),V=L&32767,T=E[K];if(g[V]=T,E[K]=V,_<=L){var k=o-L;if((O>7e3||$>24576)&&(k>423||!l)){u=L8(t,c,0,C,N,D,P,$,j,L-j,u),$=O=P=0,j=L;for(var W=0;W<286;++W)N[W]=0;for(var W=0;W<30;++W)D[W]=0}var B=2,z=0,Z=f,he=V-T&32767;if(k>2&&K==x(L-he))for(var R=Math.min(h,k)-1,Y=Math.min(32767,L),J=Math.min(258,k);he<=Y&&--Z&&V!=T;){if(t[L+B]==t[L+B-he]){for(var ne=0;ne<J&&t[L+ne]==t[L+ne-he];++ne);if(ne>B){if(B=ne,z=he,ne>R)break;for(var se=Math.min(he,ne-2),de=0,W=0;W<se;++W){var ye=L-he+W&32767,me=g[ye],Te=ye-me&32767;Te>de&&(de=Te,T=ye)}}}V=T,T=g[V],he+=V-T&32767}if(z){C[$++]=268435456|CP[B]<<18|O8[z];var Pe=CP[B]&31,De=O8[z]&31;P+=lS[Pe]+uS[De],++N[257+Pe],++D[De],_=L+B,++O}else C[$++]=t[L],++N[t[L]]}}for(L=Math.max(L,_);L<o;++L)C[$++]=t[L],++N[t[L]];u=L8(t,c,l,C,N,D,P,$,j,L-j,u),l||(s.r=u&7|c[u/8|0]<<3,u-=7,s.h=E,s.p=g,s.i=L,s.w=_)}else{for(var L=s.w||0;L<o+l;L+=65535){var je=L+65535;je>=o&&(c[u/8|0]=l,je=o),u=f$(c,u+1,t.subarray(L,je))}s.i=o}return h$(a,0,r+tk(u)+i)},m$=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,o=0;o!=s;){for(var a=Math.min(o+2655,s);o<a;++o)i+=r+=n[o];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},qre=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new is(s.length+t.length);o.set(s),o.set(t,s.length),t=o,i.w=s.length}return Hre(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},g$=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},Wre=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=m$();i.p(e.dictionary),g$(t,2,i.d())}},Gre=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&Ga(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&Ga(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function PP(t,e){e||(e={});var n=m$();n.p(t);var r=qre(t,e,e.dictionary?6:2,4);return Wre(r,e),g$(r,r.length-4,n.d()),r}function Kre(t,e){return zre(t.subarray(Gre(t,e),-4),{i:2},e,e)}var Yre=typeof TextDecoder<"u"&&new TextDecoder,Jre=0;try{Yre.decode(p$,{stream:!0}),Jre=1}catch{}var Nt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function jN(){Nt.console&&typeof Nt.console.log=="function"&&Nt.console.log.apply(Nt.console,arguments)}var $n={log:jN,warn:function(t){Nt.console&&(typeof Nt.console.warn=="function"?Nt.console.warn.apply(Nt.console,arguments):jN.call(null,arguments))},error:function(t){Nt.console&&(typeof Nt.console.error=="function"?Nt.console.error.apply(Nt.console,arguments):jN(t))}};function MN(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){sf(r.response,e,n)},r.onerror=function(){$n.error("could not download file")},r.send()}function D8(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function L5(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Dw,IP,sf=Nt.saveAs||((typeof window>"u"?"undefined":In(window))!=="object"||window!==Nt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Nt.URL||Nt.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?D8(i.href)?MN(t,e,n):L5(i,i.target="_blank"):L5(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){L5(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(D8(t))MN(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){L5(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:In(s)!=="object"&&($n.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return MN(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Nt.HTMLElement)||Nt.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||i&&s)&&(typeof FileReader>"u"?"undefined":In(FileReader))==="object"){var a=new FileReader;a.onloadend=function(){var u=a.result;u=o?u:u.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=u:location=u,r=null},a.readAsDataURL(t)}else{var c=Nt.URL||Nt.webkitURL,l=c.createObjectURL(t);r?r.location=l:location.href=l,r=null,setTimeout(function(){c.revokeObjectURL(l)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function y$(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(a){return[parseInt(a[1]),parseInt(a[2]),parseInt(a[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,o=i.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var a=this.r.toString(16),c=this.g.toString(16),l=this.b.toString(16);return a.length==1&&(a="0"+a),c.length==1&&(c="0"+c),l.length==1&&(l="0"+l),"#"+a+c+l}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function BN(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=qi(n,r,i,s,e[0],7,-680876936),s=qi(s,n,r,i,e[1],12,-389564586),i=qi(i,s,n,r,e[2],17,606105819),r=qi(r,i,s,n,e[3],22,-1044525330),n=qi(n,r,i,s,e[4],7,-176418897),s=qi(s,n,r,i,e[5],12,1200080426),i=qi(i,s,n,r,e[6],17,-1473231341),r=qi(r,i,s,n,e[7],22,-45705983),n=qi(n,r,i,s,e[8],7,1770035416),s=qi(s,n,r,i,e[9],12,-1958414417),i=qi(i,s,n,r,e[10],17,-42063),r=qi(r,i,s,n,e[11],22,-1990404162),n=qi(n,r,i,s,e[12],7,1804603682),s=qi(s,n,r,i,e[13],12,-40341101),i=qi(i,s,n,r,e[14],17,-1502002290),n=Wi(n,r=qi(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=Wi(s,n,r,i,e[6],9,-1069501632),i=Wi(i,s,n,r,e[11],14,643717713),r=Wi(r,i,s,n,e[0],20,-373897302),n=Wi(n,r,i,s,e[5],5,-701558691),s=Wi(s,n,r,i,e[10],9,38016083),i=Wi(i,s,n,r,e[15],14,-660478335),r=Wi(r,i,s,n,e[4],20,-405537848),n=Wi(n,r,i,s,e[9],5,568446438),s=Wi(s,n,r,i,e[14],9,-1019803690),i=Wi(i,s,n,r,e[3],14,-187363961),r=Wi(r,i,s,n,e[8],20,1163531501),n=Wi(n,r,i,s,e[13],5,-1444681467),s=Wi(s,n,r,i,e[2],9,-51403784),i=Wi(i,s,n,r,e[7],14,1735328473),n=Gi(n,r=Wi(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Gi(s,n,r,i,e[8],11,-2022574463),i=Gi(i,s,n,r,e[11],16,1839030562),r=Gi(r,i,s,n,e[14],23,-35309556),n=Gi(n,r,i,s,e[1],4,-1530992060),s=Gi(s,n,r,i,e[4],11,1272893353),i=Gi(i,s,n,r,e[7],16,-155497632),r=Gi(r,i,s,n,e[10],23,-1094730640),n=Gi(n,r,i,s,e[13],4,681279174),s=Gi(s,n,r,i,e[0],11,-358537222),i=Gi(i,s,n,r,e[3],16,-722521979),r=Gi(r,i,s,n,e[6],23,76029189),n=Gi(n,r,i,s,e[9],4,-640364487),s=Gi(s,n,r,i,e[12],11,-421815835),i=Gi(i,s,n,r,e[15],16,530742520),n=Ki(n,r=Gi(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Ki(s,n,r,i,e[7],10,1126891415),i=Ki(i,s,n,r,e[14],15,-1416354905),r=Ki(r,i,s,n,e[5],21,-57434055),n=Ki(n,r,i,s,e[12],6,1700485571),s=Ki(s,n,r,i,e[3],10,-1894986606),i=Ki(i,s,n,r,e[10],15,-1051523),r=Ki(r,i,s,n,e[1],21,-2054922799),n=Ki(n,r,i,s,e[8],6,1873313359),s=Ki(s,n,r,i,e[15],10,-30611744),i=Ki(i,s,n,r,e[6],15,-1560198380),r=Ki(r,i,s,n,e[13],21,1309151649),n=Ki(n,r,i,s,e[4],6,-145523070),s=Ki(s,n,r,i,e[11],10,-1120210379),i=Ki(i,s,n,r,e[2],15,718787259),r=Ki(r,i,s,n,e[9],21,-343485551),t[0]=Qd(n,t[0]),t[1]=Qd(r,t[1]),t[2]=Qd(i,t[2]),t[3]=Qd(s,t[3])}function dS(t,e,n,r,i,s){return e=Qd(Qd(e,t),Qd(r,s)),Qd(e<<i|e>>>32-i,n)}function qi(t,e,n,r,i,s,o){return dS(e&n|~e&r,t,e,i,s,o)}function Wi(t,e,n,r,i,s,o){return dS(e&r|n&~r,t,e,i,s,o)}function Gi(t,e,n,r,i,s,o){return dS(e^n^r,t,e,i,s,o)}function Ki(t,e,n,r,i,s,o){return dS(n^(e|~r),t,e,i,s,o)}function w$(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)BN(r,Qre(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(BN(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,BN(r,i),r}function Qre(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}Dw=Nt.atob.bind(Nt),IP=Nt.btoa.bind(Nt);var j8="0123456789abcdef".split("");function Zre(t){for(var e="",n=0;n<4;n++)e+=j8[t>>8*n+4&15]+j8[t>>8*n&15];return e}function Xre(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function TP(t){return w$(t).map(Xre).join("")}var eie=function(t){for(var e=0;e<t.length;e++)t[e]=Zre(t[e]);return t.join("")}(w$("hello"))!="5d41402abc4b2a76b9719d911017c592";function Qd(t,e){if(eie){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function kP(t,e){var n,r,i,s;if(t!==n){for(var o=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),a=[],c=0;c<256;c++)a[c]=c;var l=0;for(c=0;c<256;c++){var u=a[c];l=(l+u+o.charCodeAt(c))%256,a[c]=a[l],a[l]=u}n=t,r=a}else a=r;var d=e.length,h=0,f=0,m="";for(c=0;c<d;c++)f=(f+(u=a[h=(h+1)%256]))%256,a[h]=a[f],a[f]=u,o=a[(a[h]+a[f])%256],m+=String.fromCharCode(e.charCodeAt(c)^o);return m}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var M8={print:4,modify:8,copy:16,"annot-forms":32};function rg(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(a){if(M8.perm!==void 0)throw new Error("Invalid permission: "+a);i+=M8[a]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^i)),this.encryptionKey=TP(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=kP(this.encryptionKey,this.padding)}function ig(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function B8(t){if(In(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var o=e[n][s];try{o[0].apply(t,r)}catch(a){Nt.console&&$n.error("jsPDF PubSub Error",a.message,a)}o[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function GE(t){if(!(this instanceof GE))return new GE(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function v$(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function uf(t,e,n,r,i){if(!(this instanceof uf))return new uf(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,v$.call(this,r,i)}function Tg(t,e,n,r,i){if(!(this instanceof Tg))return new Tg(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,v$.call(this,r,i)}function Ct(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],o=[],a=1,c=16,l="S",u=null;In(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(u=t.encryption||null)!==null&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),a=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),l=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),r=r||"mm",n=(""+(n||"P")).toLowerCase();var d=t.putOnlyUsedFonts||!1,h={},f={internal:{},__private__:{}};f.__private__.PubSub=B8;var m="1.3",g=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(A){m=A};var E={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return E};var y=f.__private__.getPageFormat=function(A){return E[A]};i=i||"a4";var w={COMPAT:"compat",ADVANCED:"advanced"},x=w.COMPAT;function C(){this.saveGraphicsState(),ie(new bt(Xe,0,0,-Xe,0,zu()*Xe).toString()+" cm"),this.setFontSize(this.getFontSize()/Xe),l="n",x=w.ADVANCED}function N(){this.restoreGraphicsState(),l="S",x=w.COMPAT}var D=f.__private__.combineFontStyleAndFontWeight=function(A,F){if(A=="bold"&&F=="normal"||A=="bold"&&F==400||A=="normal"&&F=="italic"||A=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(A=F==400||F==="normal"?A==="italic"?"italic":"normal":F!=700&&F!=="bold"||A!=="normal"?(F==700?"bold":F)+""+A:"bold"),A};f.advancedAPI=function(A){var F=x===w.COMPAT;return F&&C.call(this),typeof A!="function"||(A(this),F&&N.call(this)),this},f.compatAPI=function(A){var F=x===w.ADVANCED;return F&&N.call(this),typeof A!="function"||(A(this),F&&C.call(this)),this},f.isAdvancedAPI=function(){return x===w.ADVANCED};var O,P=function(A){if(x!==w.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},L=f.roundToPrecision=f.__private__.roundToPrecision=function(A,F){var re=e||F;if(isNaN(A)||isNaN(re))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(re).replace(/0+$/,"")};O=f.hpf=f.__private__.hpf=typeof c=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return L(A,c)}:c==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return L(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return L(A,16)};var $=f.f2=f.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return L(A,2)},_=f.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return L(A,3)},j=f.scale=f.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return x===w.COMPAT?A*Xe:x===w.ADVANCED?A:void 0},K=function(A){return x===w.COMPAT?zu()-A:x===w.ADVANCED?A:void 0},V=function(A){return j(K(A))};f.__private__.setPrecision=f.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var T,k="00000000000000000000000000000000",W=f.__private__.getFileId=function(){return k},B=f.__private__.setFileId=function(A){return k=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():k.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),u!==null&&($i=new rg(u.userPermissions,u.userPassword,u.ownerPassword,k)),k};f.setFileId=function(A){return B(A),this},f.getFileId=function(){return W()};var z=f.__private__.convertDateToPDFDate=function(A){var F=A.getTimezoneOffset(),re=F<0?"+":"-",ae=Math.floor(Math.abs(F/60)),we=Math.abs(F%60),Ce=[re,J(ae),"'",J(we),"'"].join("");return["D:",A.getFullYear(),J(A.getMonth()+1),J(A.getDate()),J(A.getHours()),J(A.getMinutes()),J(A.getSeconds()),Ce].join("")},Z=f.__private__.convertPDFDateToDate=function(A){var F=parseInt(A.substr(2,4),10),re=parseInt(A.substr(6,2),10)-1,ae=parseInt(A.substr(8,2),10),we=parseInt(A.substr(10,2),10),Ce=parseInt(A.substr(12,2),10),Be=parseInt(A.substr(14,2),10);return new Date(F,re,ae,we,Ce,Be,0)},he=f.__private__.setCreationDate=function(A){var F;if(A===void 0&&(A=new Date),A instanceof Date)F=z(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=A}return T=F},R=f.__private__.getCreationDate=function(A){var F=T;return A==="jsDate"&&(F=Z(T)),F};f.setCreationDate=function(A){return he(A),this},f.getCreationDate=function(A){return R(A)};var Y,J=f.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},ne=f.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},se=0,de=[],ye=[],me=0,Te=[],Pe=[],De=!1,je=ye,et=function(){se=0,me=0,ye=[],de=[],Te=[],_l=$r(),_a=$r()};f.__private__.setCustomOutputDestination=function(A){De=!0,je=A};var Ae=function(A){De||(je=A)};f.__private__.resetCustomOutputDestination=function(){De=!1,je=ye};var ie=f.__private__.out=function(A){return A=A.toString(),me+=A.length+1,je.push(A),je},Tt=f.__private__.write=function(A){return ie(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},Oe=f.__private__.getArrayBuffer=function(A){for(var F=A.length,re=new ArrayBuffer(F),ae=new Uint8Array(re);F--;)ae[F]=A.charCodeAt(F);return re},Ne=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return Ne};var Me=t.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(A){return Me=x===w.ADVANCED?A/Xe:A,this};var ze,Ve=f.__private__.getFontSize=f.getFontSize=function(){return x===w.COMPAT?Me:Me*Xe},mt=t.R2L||!1;f.__private__.setR2L=f.setR2L=function(A){return mt=A,this},f.__private__.getR2L=f.getR2L=function(){return mt};var Et,Pt=f.__private__.setZoomMode=function(A){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))ze=A;else if(isNaN(A)){if(F.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');ze=A}else ze=parseInt(A,10)};f.__private__.getZoomMode=function(){return ze};var Rt,Zt=f.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Et=A};f.__private__.getPageMode=function(){return Et};var wn=f.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');Rt=A};f.__private__.getLayoutMode=function(){return Rt},f.__private__.setDisplayMode=f.setDisplayMode=function(A,F,re){return Pt(A),wn(F),Zt(re),this};var At={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(A){if(Object.keys(At).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return At[A]},f.__private__.getDocumentProperties=function(){return At},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(A){for(var F in At)At.hasOwnProperty(F)&&A[F]&&(At[F]=A[F]);return this},f.__private__.setDocumentProperty=function(A,F){if(Object.keys(At).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return At[A]=F};var Jt,Xe,Fi,dn,Sa,Mn={},sr={},xc=[],vn={},Lh={},yr={},Ca={},Nl=null,wr=0,jt=[],bn=new B8(f),Dh=t.hotfixes||[],xi={},Ec={},Ac=[],bt=function A(F,re,ae,we,Ce,Be){if(!(this instanceof A))return new A(F,re,ae,we,Ce,Be);isNaN(F)&&(F=1),isNaN(re)&&(re=0),isNaN(ae)&&(ae=0),isNaN(we)&&(we=1),isNaN(Ce)&&(Ce=0),isNaN(Be)&&(Be=0),this._matrix=[F,re,ae,we,Ce,Be]};Object.defineProperty(bt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(bt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(bt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(bt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(bt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(bt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(bt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(bt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(bt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(bt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(bt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(bt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(bt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(bt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(bt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(bt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),bt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(O).join(A)},bt.prototype.multiply=function(A){var F=A.sx*this.sx+A.shy*this.shx,re=A.sx*this.shy+A.shy*this.sy,ae=A.shx*this.sx+A.sy*this.shx,we=A.shx*this.shy+A.sy*this.sy,Ce=A.tx*this.sx+A.ty*this.shx+this.tx,Be=A.tx*this.shy+A.ty*this.sy+this.ty;return new bt(F,re,ae,we,Ce,Be)},bt.prototype.decompose=function(){var A=this.sx,F=this.shy,re=this.shx,ae=this.sy,we=this.tx,Ce=this.ty,Be=Math.sqrt(A*A+F*F),tt=(A/=Be)*re+(F/=Be)*ae;re-=A*tt,ae-=F*tt;var gt=Math.sqrt(re*re+ae*ae);return tt/=gt,A*(ae/=gt)<F*(re/=gt)&&(A=-A,F=-F,tt=-tt,Be=-Be),{scale:new bt(Be,0,0,gt,0,0),translate:new bt(1,0,0,1,we,Ce),rotate:new bt(A,F,-F,A,0,0),skew:new bt(1,0,tt,1,0,0)}},bt.prototype.toString=function(A){return this.join(" ")},bt.prototype.inversed=function(){var A=this.sx,F=this.shy,re=this.shx,ae=this.sy,we=this.tx,Ce=this.ty,Be=1/(A*ae-F*re),tt=ae*Be,gt=-F*Be,Ft=-re*Be,Mt=A*Be;return new bt(tt,gt,Ft,Mt,-tt*we-Ft*Ce,-gt*we-Mt*Ce)},bt.prototype.applyToPoint=function(A){var F=A.x*this.sx+A.y*this.shx+this.tx,re=A.x*this.shy+A.y*this.sy+this.ty;return new hm(F,re)},bt.prototype.applyToRectangle=function(A){var F=this.applyToPoint(A),re=this.applyToPoint(new hm(A.x+A.w,A.y+A.h));return new r1(F.x,F.y,re.x-F.x,re.y-F.y)},bt.prototype.clone=function(){var A=this.sx,F=this.shy,re=this.shx,ae=this.sy,we=this.tx,Ce=this.ty;return new bt(A,F,re,ae,we,Ce)},f.Matrix=bt;var Na=f.matrixMult=function(A,F){return F.multiply(A)},Sc=new bt(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Sc;var Os=function(A,F){if(!Lh[A]){var re=(F instanceof uf?"Sh":"P")+(Object.keys(vn).length+1).toString(10);F.id=re,Lh[A]=re,vn[re]=F,bn.publish("addPattern",F)}};f.ShadingPattern=uf,f.TilingPattern=Tg,f.addShadingPattern=function(A,F){return P("addShadingPattern()"),Os(A,F),this},f.beginTilingPattern=function(A){P("beginTilingPattern()"),U2(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},f.endTilingPattern=function(A,F){P("endTilingPattern()"),F.stream=Pe[Y].join(`
`),Os(A,F),bn.publish("endTilingPattern",F),Ac.pop().restore()};var Qr=f.__private__.newObject=function(){var A=$r();return oo(A,!0),A},$r=f.__private__.newObjectDeferred=function(){return se++,de[se]=function(){return me},se},oo=function(A,F){return F=typeof F=="boolean"&&F,de[A]=me,F&&ie(A+" 0 obj"),A},Xp=f.__private__.newAdditionalObject=function(){var A={objId:$r(),content:""};return Te.push(A),A},_l=$r(),_a=$r(),Pa=f.__private__.decodeColorString=function(A){var F=A.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var re=parseFloat(F[0]);F=[re,re,re,"r"]}for(var ae="#",we=0;we<3;we++)ae+=("0"+Math.floor(255*parseFloat(F[we])).toString(16)).slice(-2);return ae},Ia=f.__private__.encodeColorString=function(A){var F;typeof A=="string"&&(A={ch1:A});var re=A.ch1,ae=A.ch2,we=A.ch3,Ce=A.ch4,Be=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof re=="string"&&re.charAt(0)!=="#"){var tt=new y$(re);if(tt.ok)re=tt.toHex();else if(!/^\d*\.?\d*$/.test(re))throw new Error('Invalid color "'+re+'" passed to jsPDF.encodeColorString.')}if(typeof re=="string"&&/^#[0-9A-Fa-f]{3}$/.test(re)&&(re="#"+re[1]+re[1]+re[2]+re[2]+re[3]+re[3]),typeof re=="string"&&/^#[0-9A-Fa-f]{6}$/.test(re)){var gt=parseInt(re.substr(1),16);re=gt>>16&255,ae=gt>>8&255,we=255&gt}if(ae===void 0||Ce===void 0&&re===ae&&ae===we)if(typeof re=="string")F=re+" "+Be[0];else switch(A.precision){case 2:F=$(re/255)+" "+Be[0];break;case 3:default:F=_(re/255)+" "+Be[0]}else if(Ce===void 0||In(Ce)==="object"){if(Ce&&!isNaN(Ce.a)&&Ce.a===0)return F=["1.","1.","1.",Be[1]].join(" ");if(typeof re=="string")F=[re,ae,we,Be[1]].join(" ");else switch(A.precision){case 2:F=[$(re/255),$(ae/255),$(we/255),Be[1]].join(" ");break;default:case 3:F=[_(re/255),_(ae/255),_(we/255),Be[1]].join(" ")}}else if(typeof re=="string")F=[re,ae,we,Ce,Be[2]].join(" ");else switch(A.precision){case 2:F=[$(re),$(ae),$(we),$(Ce),Be[2]].join(" ");break;case 3:default:F=[_(re),_(ae),_(we),_(Ce),Be[2]].join(" ")}return F},Cc=f.__private__.getFilters=function(){return o},$o=f.__private__.putStream=function(A){var F=(A=A||{}).data||"",re=A.filters||Cc(),ae=A.alreadyAppliedFilters||[],we=A.addLength1||!1,Ce=F.length,Be=A.objectId,tt=function(zi){return zi};if(u!==null&&Be===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");u!==null&&(tt=$i.encryptor(Be,0));var gt={};re===!0&&(re=["FlateEncode"]);var Ft=A.additionalKeyValues||[],Mt=(gt=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(F,re):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(ae)?ae.join(" "):ae.toString());if(gt.data.length!==0&&(Ft.push({key:"Length",value:gt.data.length}),we===!0&&Ft.push({key:"Length1",value:Ce})),Mt.length!=0)if(Mt.split("/").length-1==1)Ft.push({key:"Filter",value:Mt});else{Ft.push({key:"Filter",value:"["+Mt+"]"});for(var rn=0;rn<Ft.length;rn+=1)if(Ft[rn].key==="DecodeParms"){for(var cr=[],vr=0;vr<gt.reverseChain.split("/").length-1;vr+=1)cr.push("null");cr.push(Ft[rn].value),Ft[rn].value="["+cr.join(" ")+"]"}}ie("<<");for(var zr=0;zr<Ft.length;zr++)ie("/"+Ft[zr].key+" "+Ft[zr].value);ie(">>"),gt.data.length!==0&&(ie("stream"),ie(tt(gt.data)),ie("endstream"))},Nc=f.__private__.putPage=function(A){var F=A.number,re=A.data,ae=A.objId,we=A.contentsObjId;oo(ae,!0),ie("<</Type /Page"),ie("/Parent "+A.rootDictionaryObjId+" 0 R"),ie("/Resources "+A.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(O(A.mediaBox.bottomLeftX))+" "+parseFloat(O(A.mediaBox.bottomLeftY))+" "+O(A.mediaBox.topRightX)+" "+O(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&ie("/CropBox ["+O(A.cropBox.bottomLeftX)+" "+O(A.cropBox.bottomLeftY)+" "+O(A.cropBox.topRightX)+" "+O(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&ie("/BleedBox ["+O(A.bleedBox.bottomLeftX)+" "+O(A.bleedBox.bottomLeftY)+" "+O(A.bleedBox.topRightX)+" "+O(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&ie("/TrimBox ["+O(A.trimBox.bottomLeftX)+" "+O(A.trimBox.bottomLeftY)+" "+O(A.trimBox.topRightX)+" "+O(A.trimBox.topRightY)+"]"),A.artBox!==null&&ie("/ArtBox ["+O(A.artBox.bottomLeftX)+" "+O(A.artBox.bottomLeftY)+" "+O(A.artBox.topRightX)+" "+O(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&ie("/UserUnit "+A.userUnit),bn.publish("putPage",{objId:ae,pageContext:jt[F],pageNumber:F,page:re}),ie("/Contents "+we+" 0 R"),ie(">>"),ie("endobj");var Ce=re.join(`
`);return x===w.ADVANCED&&(Ce+=`
Q`),oo(we,!0),$o({data:Ce,filters:Cc(),objectId:we}),ie("endobj"),ae},jh=f.__private__.putPages=function(){var A,F,re=[];for(A=1;A<=wr;A++)jt[A].objId=$r(),jt[A].contentsObjId=$r();for(A=1;A<=wr;A++)re.push(Nc({number:A,data:Pe[A],objId:jt[A].objId,contentsObjId:jt[A].contentsObjId,mediaBox:jt[A].mediaBox,cropBox:jt[A].cropBox,bleedBox:jt[A].bleedBox,trimBox:jt[A].trimBox,artBox:jt[A].artBox,userUnit:jt[A].userUnit,rootDictionaryObjId:_l,resourceDictionaryObjId:_a}));oo(_l,!0),ie("<</Type /Pages");var ae="/Kids [";for(F=0;F<wr;F++)ae+=re[F]+" 0 R ";ie(ae+"]"),ie("/Count "+wr),ie(">>"),ie("endobj"),bn.publish("postPutPages")},em=function(A){bn.publish("putFont",{font:A,out:ie,newObject:Qr,putStream:$o}),A.isAlreadyPutted!==!0&&(A.objectNumber=Qr(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+ig(A.postScriptName)),ie("/Subtype /Type1"),typeof A.encoding=="string"&&ie("/Encoding /"+A.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},tm=function(){for(var A in Mn)Mn.hasOwnProperty(A)&&(d===!1||d===!0&&h.hasOwnProperty(A))&&em(Mn[A])},nm=function(A){A.objectNumber=Qr();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[O(A.x),O(A.y),O(A.x+A.width),O(A.y+A.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var re=A.pages[1].join(`
`);$o({data:re,additionalKeyValues:F,objectId:A.objectNumber}),ie("endobj")},rm=function(){for(var A in xi)xi.hasOwnProperty(A)&&nm(xi[A])},x2=function(A,F){var re,ae=[],we=1/(F-1);for(re=0;re<1;re+=we)ae.push(re);if(ae.push(1),A[0].offset!=0){var Ce={offset:0,color:A[0].color};A.unshift(Ce)}if(A[A.length-1].offset!=1){var Be={offset:1,color:A[A.length-1].color};A.push(Be)}for(var tt="",gt=0,Ft=0;Ft<ae.length;Ft++){for(re=ae[Ft];re>A[gt+1].offset;)gt++;var Mt=A[gt].offset,rn=(re-Mt)/(A[gt+1].offset-Mt),cr=A[gt].color,vr=A[gt+1].color;tt+=ne(Math.round((1-rn)*cr[0]+rn*vr[0]).toString(16))+ne(Math.round((1-rn)*cr[1]+rn*vr[1]).toString(16))+ne(Math.round((1-rn)*cr[2]+rn*vr[2]).toString(16))}return tt.trim()},QS=function(A,F){F||(F=21);var re=Qr(),ae=x2(A.colors,F),we=[];we.push({key:"FunctionType",value:"0"}),we.push({key:"Domain",value:"[0.0 1.0]"}),we.push({key:"Size",value:"["+F+"]"}),we.push({key:"BitsPerSample",value:"8"}),we.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),we.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),$o({data:ae,additionalKeyValues:we,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),ie("endobj"),A.objectNumber=Qr(),ie("<< /ShadingType "+A.type),ie("/ColorSpace /DeviceRGB");var Ce="/Coords ["+O(parseFloat(A.coords[0]))+" "+O(parseFloat(A.coords[1]))+" ";A.type===2?Ce+=O(parseFloat(A.coords[2]))+" "+O(parseFloat(A.coords[3])):Ce+=O(parseFloat(A.coords[2]))+" "+O(parseFloat(A.coords[3]))+" "+O(parseFloat(A.coords[4]))+" "+O(parseFloat(A.coords[5])),ie(Ce+="]"),A.matrix&&ie("/Matrix ["+A.matrix.toString()+"]"),ie("/Function "+re+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},ZS=function(A,F){var re=$r(),ae=Qr();F.push({resourcesOid:re,objectOid:ae}),A.objectNumber=ae;var we=[];we.push({key:"Type",value:"/Pattern"}),we.push({key:"PatternType",value:"1"}),we.push({key:"PaintType",value:"1"}),we.push({key:"TilingType",value:"1"}),we.push({key:"BBox",value:"["+A.boundingBox.map(O).join(" ")+"]"}),we.push({key:"XStep",value:O(A.xStep)}),we.push({key:"YStep",value:O(A.yStep)}),we.push({key:"Resources",value:re+" 0 R"}),A.matrix&&we.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),$o({data:A.stream,additionalKeyValues:we,objectId:A.objectNumber}),ie("endobj")},im=function(A){var F;for(F in vn)vn.hasOwnProperty(F)&&(vn[F]instanceof uf?QS(vn[F]):vn[F]instanceof Tg&&ZS(vn[F],A))},E2=function(A){for(var F in A.objectNumber=Qr(),ie("<<"),A)switch(F){case"opacity":ie("/ca "+$(A[F]));break;case"stroke-opacity":ie("/CA "+$(A[F]))}ie(">>"),ie("endobj")},XS=function(){var A;for(A in yr)yr.hasOwnProperty(A)&&E2(yr[A])},Gy=function(){for(var A in ie("/XObject <<"),xi)xi.hasOwnProperty(A)&&xi[A].objectNumber>=0&&ie("/"+A+" "+xi[A].objectNumber+" 0 R");bn.publish("putXobjectDict"),ie(">>")},eC=function(){$i.oid=Qr(),ie("<<"),ie("/Filter /Standard"),ie("/V "+$i.v),ie("/R "+$i.r),ie("/U <"+$i.toHexString($i.U)+">"),ie("/O <"+$i.toHexString($i.O)+">"),ie("/P "+$i.P),ie(">>"),ie("endobj")},A2=function(){for(var A in ie("/Font <<"),Mn)Mn.hasOwnProperty(A)&&(d===!1||d===!0&&h.hasOwnProperty(A))&&ie("/"+A+" "+Mn[A].objectNumber+" 0 R");ie(">>")},tC=function(){if(Object.keys(vn).length>0){for(var A in ie("/Shading <<"),vn)vn.hasOwnProperty(A)&&vn[A]instanceof uf&&vn[A].objectNumber>=0&&ie("/"+A+" "+vn[A].objectNumber+" 0 R");bn.publish("putShadingPatternDict"),ie(">>")}},sm=function(A){if(Object.keys(vn).length>0){for(var F in ie("/Pattern <<"),vn)vn.hasOwnProperty(F)&&vn[F]instanceof f.TilingPattern&&vn[F].objectNumber>=0&&vn[F].objectNumber<A&&ie("/"+F+" "+vn[F].objectNumber+" 0 R");bn.publish("putTilingPatternDict"),ie(">>")}},nC=function(){if(Object.keys(yr).length>0){var A;for(A in ie("/ExtGState <<"),yr)yr.hasOwnProperty(A)&&yr[A].objectNumber>=0&&ie("/"+A+" "+yr[A].objectNumber+" 0 R");bn.publish("putGStateDict"),ie(">>")}},Nr=function(A){oo(A.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),A2(),tC(),sm(A.objectOid),nC(),Gy(),ie(">>"),ie("endobj")},S2=function(){var A=[];tm(),XS(),rm(),im(A),bn.publish("putResources"),A.forEach(Nr),Nr({resourcesOid:_a,objectOid:Number.MAX_SAFE_INTEGER}),bn.publish("postPutResources")},C2=function(){bn.publish("putAdditionalObjects");for(var A=0;A<Te.length;A++){var F=Te[A];oo(F.objId,!0),ie(F.content),ie("endobj")}bn.publish("postPutAdditionalObjects")},N2=function(A){sr[A.fontName]=sr[A.fontName]||{},sr[A.fontName][A.fontStyle]=A.id},Ky=function(A,F,re,ae,we){var Ce={id:"F"+(Object.keys(Mn).length+1).toString(10),postScriptName:A,fontName:F,fontStyle:re,encoding:ae,isStandardFont:we||!1,metadata:{}};return bn.publish("addFont",{font:Ce,instance:this}),Mn[Ce.id]=Ce,N2(Ce),Ce.id},rC=function(A){for(var F=0,re=Ne.length;F<re;F++){var ae=Ky.call(this,A[F][0],A[F][1],A[F][2],Ne[F][3],!0);d===!1&&(h[ae]=!0);var we=A[F][0].split("-");N2({id:ae,fontName:we[0],fontStyle:we[1]||""})}bn.publish("addFonts",{fonts:Mn,dictionary:sr})},Ta=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ae){var F=ae.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var re="Error in function "+F.split(`
`)[0].split("<")[0]+": "+ae.message;if(!Nt.console)throw new Error(re);Nt.console.error(re,ae),Nt.alert&&alert(re)}},A.foo.bar=A,A.foo},om=function(A,F){var re,ae,we,Ce,Be,tt,gt,Ft,Mt;if(we=(F=F||{}).sourceEncoding||"Unicode",Be=F.outputEncoding,(F.autoencode||Be)&&Mn[Jt].metadata&&Mn[Jt].metadata[we]&&Mn[Jt].metadata[we].encoding&&(Ce=Mn[Jt].metadata[we].encoding,!Be&&Mn[Jt].encoding&&(Be=Mn[Jt].encoding),!Be&&Ce.codePages&&(Be=Ce.codePages[0]),typeof Be=="string"&&(Be=Ce[Be]),Be)){for(gt=!1,tt=[],re=0,ae=A.length;re<ae;re++)(Ft=Be[A.charCodeAt(re)])?tt.push(String.fromCharCode(Ft)):tt.push(A[re]),tt[re].charCodeAt(0)>>8&&(gt=!0);A=tt.join("")}for(re=A.length;gt===void 0&&re!==0;)A.charCodeAt(re-1)>>8&&(gt=!0),re--;if(!gt)return A;for(tt=F.noBOM?[]:[254,255],re=0,ae=A.length;re<ae;re++){if((Mt=(Ft=A.charCodeAt(re))>>8)>>8)throw new Error("Character at position "+re+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");tt.push(Mt),tt.push(Ft-(Mt<<8))}return String.fromCharCode.apply(void 0,tt)},Rs=f.__private__.pdfEscape=f.pdfEscape=function(A,F){return om(A,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Yy=f.__private__.beginPage=function(A){Pe[++wr]=[],jt[wr]={objId:0,contentsObjId:0,userUnit:Number(a),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},P2(wr),Ae(Pe[Y])},_2=function(A,F){var re,ae,we;switch(n=F||n,typeof A=="string"&&(re=y(A.toLowerCase()),Array.isArray(re)&&(ae=re[0],we=re[1])),Array.isArray(A)&&(ae=A[0]*Xe,we=A[1]*Xe),isNaN(ae)&&(ae=i[0],we=i[1]),(ae>14400||we>14400)&&($n.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ae=Math.min(14400,ae),we=Math.min(14400,we)),i=[ae,we],n.substr(0,1)){case"l":we>ae&&(i=[we,ae]);break;case"p":ae>we&&(i=[we,ae])}Yy(i),L2(Xy),ie(ka),t1!==0&&ie(t1+" J"),n1!==0&&ie(n1+" j"),bn.publish("addPage",{pageNumber:wr})},iC=function(A){A>0&&A<=wr&&(Pe.splice(A,1),jt.splice(A,1),wr--,Y>wr&&(Y=wr),this.setPage(Y))},P2=function(A){A>0&&A<=wr&&(Y=A)},sC=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return Pe.length-1},I2=function(A,F,re){var ae,we=void 0;return re=re||{},A=A!==void 0?A:Mn[Jt].fontName,F=F!==void 0?F:Mn[Jt].fontStyle,ae=A.toLowerCase(),sr[ae]!==void 0&&sr[ae][F]!==void 0?we=sr[ae][F]:sr[A]!==void 0&&sr[A][F]!==void 0?we=sr[A][F]:re.disableWarning===!1&&$n.warn("Unable to look up font label for font '"+A+"', '"+F+"'. Refer to getFontList() for available fonts."),we||re.noFallback||(we=sr.times[F])==null&&(we=sr.times.normal),we},oC=f.__private__.putInfo=function(){var A=Qr(),F=function(ae){return ae};for(var re in u!==null&&(F=$i.encryptor(A,0)),ie("<<"),ie("/Producer ("+Rs(F("jsPDF "+Ct.version))+")"),At)At.hasOwnProperty(re)&&At[re]&&ie("/"+re.substr(0,1).toUpperCase()+re.substr(1)+" ("+Rs(F(At[re]))+")");ie("/CreationDate ("+Rs(F(T))+")"),ie(">>"),ie("endobj")},Jy=f.__private__.putCatalog=function(A){var F=(A=A||{}).rootDictionaryObjId||_l;switch(Qr(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+F+" 0 R"),ze||(ze="fullwidth"),ze){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var re=""+ze;re.substr(re.length-1)==="%"&&(ze=parseInt(ze)/100),typeof ze=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+$(ze)+"]")}switch(Rt||(Rt="continuous"),Rt){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}Et&&ie("/PageMode /"+Et),bn.publish("putCatalog"),ie(">>"),ie("endobj")},aC=f.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(se+1)),ie("/Root "+se+" 0 R"),ie("/Info "+(se-1)+" 0 R"),u!==null&&ie("/Encrypt "+$i.oid+" 0 R"),ie("/ID [ <"+k+"> <"+k+"> ]"),ie(">>")},cC=f.__private__.putHeader=function(){ie("%PDF-"+m),ie("%")},lC=f.__private__.putXRef=function(){var A="0000000000";ie("xref"),ie("0 "+(se+1)),ie("0000000000 65535 f ");for(var F=1;F<=se;F++)typeof de[F]=="function"?ie((A+de[F]()).slice(-10)+" 00000 n "):de[F]!==void 0?ie((A+de[F]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Pl=f.__private__.buildDocument=function(){et(),Ae(ye),bn.publish("buildDocument"),cC(),jh(),C2(),S2(),u!==null&&eC(),oC(),Jy();var A=me;return lC(),aC(),ie("startxref"),ie(""+A),ie("%%EOF"),Ae(Pe[Y]),ye.join(`
`)},am=f.__private__.getBlob=function(A){return new Blob([Oe(A)],{type:"application/pdf"})},cm=f.output=f.__private__.output=Ta(function(A,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",A){case void 0:return Pl();case"save":f.save(F.filename);break;case"arraybuffer":return Oe(Pl());case"blob":return am(Pl());case"bloburi":case"bloburl":if(Nt.URL!==void 0&&typeof Nt.URL.createObjectURL=="function")return Nt.URL&&Nt.URL.createObjectURL(am(Pl()))||void 0;$n.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var re="",ae=Pl();try{re=IP(ae)}catch{re=IP(unescape(encodeURIComponent(ae)))}return"data:application/pdf;filename="+F.filename+";base64,"+re;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Nt)==="[object Window]"){var we="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Ce=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(we=F.pdfObjectUrl,Ce="");var Be='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+we+'"'+Ce+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",tt=Nt.open();return tt!==null&&tt.document.write(Be),tt}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Nt)==="[object Window]"){var gt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',Ft=Nt.open();if(Ft!==null){Ft.document.write(gt);var Mt=this;Ft.document.documentElement.querySelector("#pdfViewer").onload=function(){Ft.document.title=F.filename,Ft.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Mt.output("bloburl"))}}return Ft}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Nt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var rn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',cr=Nt.open();if(cr!==null&&(cr.document.write(rn),cr.document.title=F.filename),cr||typeof safari>"u")return cr;break;case"datauri":case"dataurl":return Nt.document.location.href=this.output("datauristring",F);default:return null}}),T2=function(A){return Array.isArray(Dh)===!0&&Dh.indexOf(A)>-1};switch(r){case"pt":Xe=1;break;case"mm":Xe=72/25.4;break;case"cm":Xe=72/2.54;break;case"in":Xe=72;break;case"px":Xe=T2("px_scaling")==1?.75:96/72;break;case"pc":case"em":Xe=12;break;case"ex":Xe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Xe=r}var $i=null;he(),B();var uC=function(A){return u!==null?$i.encryptor(A,0):function(F){return F}},k2=f.__private__.getPageInfo=f.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:jt[A].objId,pageNumber:A,pageContext:jt[A]}},Lt=f.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in jt)if(jt[F].objId===A)break;return k2(F)},dC=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:jt[Y].objId,pageNumber:Y,pageContext:jt[Y]}};f.addPage=function(){return _2.apply(this,arguments),this},f.setPage=function(){return P2.apply(this,arguments),Ae.call(this,Pe[Y]),this},f.insertPage=function(A){return this.addPage(),this.movePage(Y,A),this},f.movePage=function(A,F){var re,ae;if(A>F){re=Pe[A],ae=jt[A];for(var we=A;we>F;we--)Pe[we]=Pe[we-1],jt[we]=jt[we-1];Pe[F]=re,jt[F]=ae,this.setPage(F)}else if(A<F){re=Pe[A],ae=jt[A];for(var Ce=A;Ce<F;Ce++)Pe[Ce]=Pe[Ce+1],jt[Ce]=jt[Ce+1];Pe[F]=re,jt[F]=ae,this.setPage(F)}return this},f.deletePage=function(){return iC.apply(this,arguments),this},f.__private__.text=f.text=function(A,F,re,ae,we){var Ce,Be,tt,gt,Ft,Mt,rn,cr,vr,zr=(ae=ae||{}).scope||this;if(typeof A=="number"&&typeof F=="number"&&(typeof re=="string"||Array.isArray(re))){var zi=re;re=F,F=A,A=zi}if(arguments[3]instanceof bt?(P("The transform parameter of text() with a Matrix value"),vr=we):(tt=arguments[4],gt=arguments[5],In(rn=arguments[3])==="object"&&rn!==null||(typeof tt=="string"&&(gt=tt,tt=null),typeof rn=="string"&&(gt=rn,rn=null),typeof rn=="number"&&(tt=rn,rn=null),ae={flags:rn,angle:tt,align:gt})),isNaN(F)||isNaN(re)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return zr;var ii="",Oa=!1,ao=typeof ae.lineHeightFactor=="number"?ae.lineHeightFactor:Bh,Ic=zr.internal.scaleFactor;function F2(qn){return qn=qn.split("	").join(Array(ae.TabLen||9).join(" ")),Rs(qn,rn)}function a1(qn){for(var Wn,Pr=qn.concat(),Zr=[],Rl=Pr.length;Rl--;)typeof(Wn=Pr.shift())=="string"?Zr.push(Wn):Array.isArray(qn)&&(Wn.length===1||Wn[1]===void 0&&Wn[2]===void 0)?Zr.push(Wn[0]):Zr.push([Wn[0],Wn[1],Wn[2]]);return Zr}function c1(qn,Wn){var Pr;if(typeof qn=="string")Pr=Wn(qn)[0];else if(Array.isArray(qn)){for(var Zr,Rl,g1=qn.concat(),Am=[],q2=g1.length;q2--;)typeof(Zr=g1.shift())=="string"?Am.push(Wn(Zr)[0]):Array.isArray(Zr)&&typeof Zr[0]=="string"&&(Rl=Wn(Zr[0],Zr[1],Zr[2]),Am.push([Rl[0],Rl[1],Rl[2]]));Pr=Am}return Pr}var pm=!1,l1=!0;if(typeof A=="string")pm=!0;else if(Array.isArray(A)){var u1=A.concat();Be=[];for(var mm,Ei=u1.length;Ei--;)(typeof(mm=u1.shift())!="string"||Array.isArray(mm)&&typeof mm[0]!="string")&&(l1=!1);pm=l1}if(pm===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var gm=Me/zr.internal.scaleFactor,ym=gm*(ao-1);switch(ae.baseline){case"bottom":re-=ym;break;case"top":re+=gm-ym;break;case"hanging":re+=gm-2*ym;break;case"middle":re+=gm/2-ym}if((Mt=ae.maxWidth||0)>0&&(typeof A=="string"?A=zr.splitTextToSize(A,Mt):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(qn,Wn){return qn.concat(zr.splitTextToSize(Wn,Mt))},[]))),Ce={text:A,x:F,y:re,options:ae,mutex:{pdfEscape:Rs,activeFontKey:Jt,fonts:Mn,activeFontSize:Me}},bn.publish("preProcessText",Ce),A=Ce.text,tt=(ae=Ce.options).angle,!(vr instanceof bt)&&tt&&typeof tt=="number"){tt*=Math.PI/180,ae.rotationDirection===0&&(tt=-tt),x===w.ADVANCED&&(tt=-tt);var wm=Math.cos(tt),d1=Math.sin(tt);vr=new bt(wm,d1,-d1,wm,0,0)}else tt&&tt instanceof bt&&(vr=tt);x!==w.ADVANCED||vr||(vr=Sc),(Ft=ae.charSpace||dm)!==void 0&&(ii+=O(j(Ft))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(cr=ae.horizontalScale)!==void 0&&(ii+=O(100*cr)+` Tz
`),ae.lang;var Ls=-1,xC=ae.renderingMode!==void 0?ae.renderingMode:ae.stroke,h1=zr.internal.getCurrentPageInfo().pageContext;switch(xC){case 0:case!1:case"fill":Ls=0;break;case 1:case!0:case"stroke":Ls=1;break;case 2:case"fillThenStroke":Ls=2;break;case 3:case"invisible":Ls=3;break;case 4:case"fillAndAddForClipping":Ls=4;break;case 5:case"strokeAndAddPathForClipping":Ls=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ls=6;break;case 7:case"addToPathForClipping":Ls=7}var $2=h1.usedRenderingMode!==void 0?h1.usedRenderingMode:-1;Ls!==-1?ii+=Ls+` Tr
`:$2!==-1&&(ii+=`0 Tr
`),Ls!==-1&&(h1.usedRenderingMode=Ls),gt=ae.align||"left";var zo,vm=Me*ao,z2=zr.internal.pageSize.getWidth(),V2=Mn[Jt];Ft=ae.charSpace||dm,Mt=ae.maxWidth||0,rn=Object.assign({autoencode:!0,noBOM:!0},ae.flags);var Vu=[],$h=function(qn){return zr.getStringUnitWidth(qn,{font:V2,charSpace:Ft,fontSize:Me,doKerning:!1})*Me/Ic};if(Object.prototype.toString.call(A)==="[object Array]"){var Ds;Be=a1(A),gt!=="left"&&(zo=Be.map($h));var hs,Hu=0;if(gt==="right"){F-=zo[0],A=[],Ei=Be.length;for(var Tl=0;Tl<Ei;Tl++)Tl===0?(hs=Pc(F),Ds=Il(re)):(hs=j(Hu-zo[Tl]),Ds=-vm),A.push([Be[Tl],hs,Ds]),Hu=zo[Tl]}else if(gt==="center"){F-=zo[0]/2,A=[],Ei=Be.length;for(var kl=0;kl<Ei;kl++)kl===0?(hs=Pc(F),Ds=Il(re)):(hs=j((Hu-zo[kl])/2),Ds=-vm),A.push([Be[kl],hs,Ds]),Hu=zo[kl]}else if(gt==="left"){A=[],Ei=Be.length;for(var bm=0;bm<Ei;bm++)A.push(Be[bm])}else if(gt==="justify"&&V2.encoding==="Identity-H"){A=[],Ei=Be.length,Mt=Mt!==0?Mt:z2;for(var Ol=0,_r=0;_r<Ei;_r++)if(Ds=_r===0?Il(re):-vm,hs=_r===0?Pc(F):Ol,_r<Ei-1){var f1=j((Mt-zo[_r])/(Be[_r].split(" ").length-1)),fs=Be[_r].split(" ");A.push([fs[0]+" ",hs,Ds]),Ol=0;for(var Vo=1;Vo<fs.length;Vo++){var xm=($h(fs[Vo-1]+" "+fs[Vo])-$h(fs[Vo]))*Ic+f1;Vo==fs.length-1?A.push([fs[Vo],xm,0]):A.push([fs[Vo]+" ",xm,0]),Ol-=xm}}else A.push([Be[_r],hs,Ds]);A.push(["",Ol,0])}else{if(gt!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Ei=Be.length,Mt=Mt!==0?Mt:z2,_r=0;_r<Ei;_r++)Ds=_r===0?Il(re):-vm,hs=_r===0?Pc(F):0,_r<Ei-1?Vu.push(O(j((Mt-zo[_r])/(Be[_r].split(" ").length-1)))):Vu.push(0),A.push([Be[_r],hs,Ds])}}var H2=typeof ae.R2L=="boolean"?ae.R2L:mt;H2===!0&&(A=c1(A,function(qn,Wn,Pr){return[qn.split("").reverse().join(""),Wn,Pr]})),Ce={text:A,x:F,y:re,options:ae,mutex:{pdfEscape:Rs,activeFontKey:Jt,fonts:Mn,activeFontSize:Me}},bn.publish("postProcessText",Ce),A=Ce.text,Oa=Ce.mutex.isHex||!1;var p1=Mn[Jt].encoding;p1!=="WinAnsiEncoding"&&p1!=="StandardEncoding"||(A=c1(A,function(qn,Wn,Pr){return[F2(qn),Wn,Pr]})),Be=a1(A),A=[];for(var zh,Vh,qu,Hh=0,Em=1,qh=Array.isArray(Be[0])?Em:Hh,Wu="",m1=function(qn,Wn,Pr){var Zr="";return Pr instanceof bt?(Pr=typeof ae.angle=="number"?Na(Pr,new bt(1,0,0,1,qn,Wn)):Na(new bt(1,0,0,1,qn,Wn),Pr),x===w.ADVANCED&&(Pr=Na(new bt(1,0,0,-1,0,0),Pr)),Zr=Pr.join(" ")+` Tm
`):Zr=O(qn)+" "+O(Wn)+` Td
`,Zr},Ho=0;Ho<Be.length;Ho++){switch(Wu="",qh){case Em:qu=(Oa?"<":"(")+Be[Ho][0]+(Oa?">":")"),zh=parseFloat(Be[Ho][1]),Vh=parseFloat(Be[Ho][2]);break;case Hh:qu=(Oa?"<":"(")+Be[Ho]+(Oa?">":")"),zh=Pc(F),Vh=Il(re)}Vu!==void 0&&Vu[Ho]!==void 0&&(Wu=Vu[Ho]+` Tw
`),Ho===0?A.push(Wu+m1(zh,Vh,vr)+qu):qh===Hh?A.push(Wu+qu):qh===Em&&A.push(Wu+m1(zh,Vh,vr)+qu)}A=qh===Hh?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var qo=`BT
/`;return qo+=Jt+" "+Me+` Tf
`,qo+=O(Me*ao)+` TL
`,qo+=Uh+`
`,qo+=ii,qo+=A,ie(qo+="ET"),h[Jt]=!0,zr};var hC=f.__private__.clip=f.clip=function(A){return ie(A==="evenodd"?"W*":"W"),this};f.clipEvenOdd=function(){return hC("evenodd")},f.__private__.discardPath=f.discardPath=function(){return ie("n"),this};var _c=f.__private__.isValidStyle=function(A){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(F=!0),F};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(A){return _c(A)&&(l=A),this};var O2=f.__private__.getStyle=f.getStyle=function(A){var F=l;switch(A){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=A}return F},R2=f.close=function(){return ie("h"),this};f.stroke=function(){return ie("S"),this},f.fill=function(A){return lm("f",A),this},f.fillEvenOdd=function(A){return lm("f*",A),this},f.fillStroke=function(A){return lm("B",A),this},f.fillStrokeEvenOdd=function(A){return lm("B*",A),this};var lm=function(A,F){In(F)==="object"?pC(F,A):ie(A)},Qy=function(A){A===null||x===w.ADVANCED&&A===void 0||(A=O2(A),ie(A))};function fC(A,F,re,ae,we){var Ce=new Tg(F||this.boundingBox,re||this.xStep,ae||this.yStep,this.gState,we||this.matrix);Ce.stream=this.stream;var Be=A+"$$"+this.cloneIndex+++"$$";return Os(Be,Ce),Ce}var pC=function(A,F){var re=Lh[A.key],ae=vn[re];if(ae instanceof uf)ie("q"),ie(mC(F)),ae.gState&&f.setGState(ae.gState),ie(A.matrix.toString()+" cm"),ie("/"+re+" sh"),ie("Q");else if(ae instanceof Tg){var we=new bt(1,0,0,-1,0,zu());A.matrix&&(we=we.multiply(A.matrix||Sc),re=fC.call(ae,A.key,A.boundingBox,A.xStep,A.yStep,we).id),ie("q"),ie("/Pattern cs"),ie("/"+re+" scn"),ae.gState&&f.setGState(ae.gState),ie(F),ie("Q")}},mC=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Zy=f.moveTo=function(A,F){return ie(O(j(A))+" "+O(V(F))+" m"),this},Mh=f.lineTo=function(A,F){return ie(O(j(A))+" "+O(V(F))+" l"),this},Fu=f.curveTo=function(A,F,re,ae,we,Ce){return ie([O(j(A)),O(V(F)),O(j(re)),O(V(ae)),O(j(we)),O(V(Ce)),"c"].join(" ")),this};f.__private__.line=f.line=function(A,F,re,ae,we){if(isNaN(A)||isNaN(F)||isNaN(re)||isNaN(ae)||!_c(we))throw new Error("Invalid arguments passed to jsPDF.line");return x===w.COMPAT?this.lines([[re-A,ae-F]],A,F,[1,1],we||"S"):this.lines([[re-A,ae-F]],A,F,[1,1]).stroke()},f.__private__.lines=f.lines=function(A,F,re,ae,we,Ce){var Be,tt,gt,Ft,Mt,rn,cr,vr,zr,zi,ii,Oa;if(typeof A=="number"&&(Oa=re,re=F,F=A,A=Oa),ae=ae||[1,1],Ce=Ce||!1,isNaN(F)||isNaN(re)||!Array.isArray(A)||!Array.isArray(ae)||!_c(we)||typeof Ce!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Zy(F,re),Be=ae[0],tt=ae[1],Ft=A.length,zi=F,ii=re,gt=0;gt<Ft;gt++)(Mt=A[gt]).length===2?(zi=Mt[0]*Be+zi,ii=Mt[1]*tt+ii,Mh(zi,ii)):(rn=Mt[0]*Be+zi,cr=Mt[1]*tt+ii,vr=Mt[2]*Be+zi,zr=Mt[3]*tt+ii,zi=Mt[4]*Be+zi,ii=Mt[5]*tt+ii,Fu(rn,cr,vr,zr,zi,ii));return Ce&&R2(),Qy(we),this},f.path=function(A){for(var F=0;F<A.length;F++){var re=A[F],ae=re.c;switch(re.op){case"m":Zy(ae[0],ae[1]);break;case"l":Mh(ae[0],ae[1]);break;case"c":Fu.apply(this,ae);break;case"h":R2()}}return this},f.__private__.rect=f.rect=function(A,F,re,ae,we){if(isNaN(A)||isNaN(F)||isNaN(re)||isNaN(ae)||!_c(we))throw new Error("Invalid arguments passed to jsPDF.rect");return x===w.COMPAT&&(ae=-ae),ie([O(j(A)),O(V(F)),O(j(re)),O(j(ae)),"re"].join(" ")),Qy(we),this},f.__private__.triangle=f.triangle=function(A,F,re,ae,we,Ce,Be){if(isNaN(A)||isNaN(F)||isNaN(re)||isNaN(ae)||isNaN(we)||isNaN(Ce)||!_c(Be))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[re-A,ae-F],[we-re,Ce-ae],[A-we,F-Ce]],A,F,[1,1],Be,!0),this},f.__private__.roundedRect=f.roundedRect=function(A,F,re,ae,we,Ce,Be){if(isNaN(A)||isNaN(F)||isNaN(re)||isNaN(ae)||isNaN(we)||isNaN(Ce)||!_c(Be))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var tt=4/3*(Math.SQRT2-1);return we=Math.min(we,.5*re),Ce=Math.min(Ce,.5*ae),this.lines([[re-2*we,0],[we*tt,0,we,Ce-Ce*tt,we,Ce],[0,ae-2*Ce],[0,Ce*tt,-we*tt,Ce,-we,Ce],[2*we-re,0],[-we*tt,0,-we,-Ce*tt,-we,-Ce],[0,2*Ce-ae],[0,-Ce*tt,we*tt,-Ce,we,-Ce]],A+we,F,[1,1],Be,!0),this},f.__private__.ellipse=f.ellipse=function(A,F,re,ae,we){if(isNaN(A)||isNaN(F)||isNaN(re)||isNaN(ae)||!_c(we))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Ce=4/3*(Math.SQRT2-1)*re,Be=4/3*(Math.SQRT2-1)*ae;return Zy(A+re,F),Fu(A+re,F-Be,A+Ce,F-ae,A,F-ae),Fu(A-Ce,F-ae,A-re,F-Be,A-re,F),Fu(A-re,F+Be,A-Ce,F+ae,A,F+ae),Fu(A+Ce,F+ae,A+re,F+Be,A+re,F),Qy(we),this},f.__private__.circle=f.circle=function(A,F,re,ae){if(isNaN(A)||isNaN(F)||isNaN(re)||!_c(ae))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,F,re,re,ae)},f.setFont=function(A,F,re){return re&&(F=D(F,re)),Jt=I2(A,F,{disableWarning:!1}),this};var gC=f.__private__.getFont=f.getFont=function(){return Mn[I2.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var A,F,re={};for(A in sr)if(sr.hasOwnProperty(A))for(F in re[A]=[],sr[A])sr[A].hasOwnProperty(F)&&re[A].push(F);return re},f.addFont=function(A,F,re,ae,we){var Ce=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Ce.indexOf(arguments[3])!==-1?we=arguments[3]:arguments[3]&&Ce.indexOf(arguments[3])==-1&&(re=D(re,ae)),we=we||"Identity-H",Ky.call(this,A,F,re,we)};var Bh,Xy=t.lineWidth||.200025,um=f.__private__.getLineWidth=f.getLineWidth=function(){return Xy},L2=f.__private__.setLineWidth=f.setLineWidth=function(A){return Xy=A,ie(O(j(A))+" w"),this};f.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(A,F){if(A=A||[],F=F||0,isNaN(F)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(re){return O(j(re))}).join(" "),F=O(j(F)),ie("["+A+"] "+F+" d"),this};var D2=f.__private__.getLineHeight=f.getLineHeight=function(){return Me*Bh};f.__private__.getLineHeight=f.getLineHeight=function(){return Me*Bh};var j2=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(Bh=A),this},M2=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Bh};j2(t.lineHeight);var Pc=f.__private__.getHorizontalCoordinate=function(A){return j(A)},Il=f.__private__.getVerticalCoordinate=function(A){return x===w.ADVANCED?A:jt[Y].mediaBox.topRightY-jt[Y].mediaBox.bottomLeftY-j(A)},yC=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(A){return O(Pc(A))},$u=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(A){return O(Il(A))},ka=t.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return Pa(ka)},f.__private__.setStrokeColor=f.setDrawColor=function(A,F,re,ae){return ka=Ia({ch1:A,ch2:F,ch3:re,ch4:ae,pdfColorType:"draw",precision:2}),ie(ka),this};var e1=t.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return Pa(e1)},f.__private__.setFillColor=f.setFillColor=function(A,F,re,ae){return e1=Ia({ch1:A,ch2:F,ch3:re,ch4:ae,pdfColorType:"fill",precision:2}),ie(e1),this};var Uh=t.textColor||"0 g",wC=f.__private__.getTextColor=f.getTextColor=function(){return Pa(Uh)};f.__private__.setTextColor=f.setTextColor=function(A,F,re,ae){return Uh=Ia({ch1:A,ch2:F,ch3:re,ch4:ae,pdfColorType:"text",precision:3}),this};var dm=t.charSpace,vC=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(dm||0)};f.__private__.setCharSpace=f.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return dm=A,this};var t1=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(A){var F=f.CapJoinStyles[A];if(F===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return t1=F,ie(F+" J"),this};var n1=0;f.__private__.setLineJoin=f.setLineJoin=function(A){var F=f.CapJoinStyles[A];if(F===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return n1=F,ie(F+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(O(j(A))+" M"),this},f.GState=GE,f.setGState=function(A){(A=typeof A=="string"?yr[Ca[A]]:B2(null,A)).equals(Nl)||(ie("/"+A.id+" gs"),Nl=A)};var B2=function(A,F){if(!A||!Ca[A]){var re=!1;for(var ae in yr)if(yr.hasOwnProperty(ae)&&yr[ae].equals(F)){re=!0;break}if(re)F=yr[ae];else{var we="GS"+(Object.keys(yr).length+1).toString(10);yr[we]=F,F.id=we}return A&&(Ca[A]=F.id),bn.publish("addGState",F),F}};f.addGState=function(A,F){return B2(A,F),this},f.saveGraphicsState=function(){return ie("q"),xc.push({key:Jt,size:Me,color:Uh}),this},f.restoreGraphicsState=function(){ie("Q");var A=xc.pop();return Jt=A.key,Me=A.size,Uh=A.color,Nl=null,this},f.setCurrentTransformationMatrix=function(A){return ie(A.toString()+" cm"),this},f.comment=function(A){return ie("#"+A),this};var hm=function(A,F){var re=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Ce){isNaN(Ce)||(re=parseFloat(Ce))}});var ae=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ae},set:function(Ce){isNaN(Ce)||(ae=parseFloat(Ce))}});var we="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return we},set:function(Ce){we=Ce.toString()}}),this},r1=function(A,F,re,ae){hm.call(this,A,F),this.type="rect";var we=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return we},set:function(Be){isNaN(Be)||(we=parseFloat(Be))}});var Ce=ae||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Ce},set:function(Be){isNaN(Be)||(Ce=parseFloat(Be))}}),this},i1=function(){this.page=wr,this.currentPage=Y,this.pages=Pe.slice(0),this.pagesContext=jt.slice(0),this.x=Fi,this.y=dn,this.matrix=Sa,this.width=Fh(Y),this.height=zu(Y),this.outputDestination=je,this.id="",this.objectNumber=-1};i1.prototype.restore=function(){wr=this.page,Y=this.currentPage,jt=this.pagesContext,Pe=this.pages,Fi=this.x,dn=this.y,Sa=this.matrix,s1(Y,this.width),o1(Y,this.height),je=this.outputDestination};var U2=function(A,F,re,ae,we){Ac.push(new i1),wr=Y=0,Pe=[],Fi=A,dn=F,Sa=we,Yy([re,ae])},bC=function(A){if(Ec[A])Ac.pop().restore();else{var F=new i1,re="Xo"+(Object.keys(xi).length+1).toString(10);F.id=re,Ec[A]=re,xi[re]=F,bn.publish("addFormObject",F),Ac.pop().restore()}};for(var fm in f.beginFormObject=function(A,F,re,ae,we){return U2(A,F,re,ae,we),this},f.endFormObject=function(A){return bC(A),this},f.doFormObject=function(A,F){var re=xi[Ec[A]];return ie("q"),ie(F.toString()+" cm"),ie("/"+re.id+" Do"),ie("Q"),this},f.getFormObject=function(A){var F=xi[Ec[A]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},f.save=function(A,F){return A=A||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(sf(am(Pl()),A),typeof sf.unload=="function"&&Nt.setTimeout&&setTimeout(sf.unload,911),this):new Promise(function(re,ae){try{var we=sf(am(Pl()),A);typeof sf.unload=="function"&&Nt.setTimeout&&setTimeout(sf.unload,911),re(we)}catch(Ce){ae(Ce.message)}})},Ct.API)Ct.API.hasOwnProperty(fm)&&(fm==="events"&&Ct.API.events.length?function(A,F){var re,ae,we;for(we=F.length-1;we!==-1;we--)re=F[we][0],ae=F[we][1],A.subscribe.apply(A,[re].concat(typeof ae=="function"?[ae]:ae))}(bn,Ct.API.events):f[fm]=Ct.API[fm]);var Fh=f.getPageWidth=function(A){return(jt[A=A||Y].mediaBox.topRightX-jt[A].mediaBox.bottomLeftX)/Xe},s1=f.setPageWidth=function(A,F){jt[A].mediaBox.topRightX=F*Xe+jt[A].mediaBox.bottomLeftX},zu=f.getPageHeight=function(A){return(jt[A=A||Y].mediaBox.topRightY-jt[A].mediaBox.bottomLeftY)/Xe},o1=f.setPageHeight=function(A,F){jt[A].mediaBox.topRightY=F*Xe+jt[A].mediaBox.bottomLeftY};return f.internal={pdfEscape:Rs,getStyle:O2,getFont:gC,getFontSize:Ve,getCharSpace:vC,getTextColor:wC,getLineHeight:D2,getLineHeightFactor:M2,getLineWidth:um,write:Tt,getHorizontalCoordinate:Pc,getVerticalCoordinate:Il,getCoordinateString:yC,getVerticalCoordinateString:$u,collections:{},newObject:Qr,newAdditionalObject:Xp,newObjectDeferred:$r,newObjectDeferredBegin:oo,getFilters:Cc,putStream:$o,events:bn,scaleFactor:Xe,pageSize:{getWidth:function(){return Fh(Y)},setWidth:function(A){s1(Y,A)},getHeight:function(){return zu(Y)},setHeight:function(A){o1(Y,A)}},encryptionOptions:u,encryption:$i,getEncryptor:uC,output:cm,getNumberOfPages:sC,pages:Pe,out:ie,f2:$,f3:_,getPageInfo:k2,getPageInfoByObjId:Lt,getCurrentPageInfo:dC,getPDFVersion:g,Point:hm,Rectangle:r1,Matrix:bt,hasHotfix:T2},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return Fh(Y)},set:function(A){s1(Y,A)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return zu(Y)},set:function(A){o1(Y,A)},enumerable:!0,configurable:!0}),rC.call(f,Ne),Jt="F1",_2(i,n),bn.publish("initialized"),f}rg.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},rg.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},rg.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},rg.prototype.processOwnerPassword=function(t,e){return kP(TP(e).substr(0,5),t)},rg.prototype.encryptor=function(t,e){var n=TP(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return kP(n,r)}},GE.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||In(t)!==In(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Ct.API={events:[]},Ct.version="2.5.2";var Er=Ct.API,nk=1,Vp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Im=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Bt=function(t){return t.toFixed(2)},nd=function(t){return t.toFixed(5)};Er.__acroform__={};var no=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},U8=function(t){return t*nk},Mc=function(t){var e=new x$,n=ht.internal.getHeight(t)||0,r=ht.internal.getWidth(t)||0;return e.BBox=[0,0,Number(Bt(r)),Number(Bt(n))],e},tie=Er.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},nie=Er.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},rie=Er.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Or=Er.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return rie(t,e-1)},Rr=Er.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return tie(t,e-1)},Lr=Er.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return nie(t,e-1)},iie=Er.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],o=t[2],a=t[3],c={};return c.lowerLeft_X=n(i)||0,c.lowerLeft_Y=r(s+a)||0,c.upperRight_X=n(i+o)||0,c.upperRight_Y=r(s)||0,[Number(Bt(c.lowerLeft_X)),Number(Bt(c.lowerLeft_Y)),Number(Bt(c.upperRight_X)),Number(Bt(c.upperRight_Y))]},sie=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=OP(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+Bt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Mc(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},OP=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(_){return _.split(`
`)}):i.map(function(_){return[_]});var s=n,o=ht.internal.getHeight(t)||0;o=o<0?-o:o;var a=ht.internal.getWidth(t)||0;a=a<0?-a:a;var c=function(_,j,K){if(_+1<i.length){var V=j+" "+i[_+1][0];return D5(V,t,K).width<=a-4}return!1};s++;e:for(;s>0;){e="",s--;var l,u,d=D5("3",t,s).height,h=t.multiline?o-s:(o-d)/2,f=h+=2,m=0,g=0,E=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+D5(e,t,s=12).width+", FieldWidth:"+a+`
`;break}for(var y="",w=0,x=0;x<i.length;x++)if(i.hasOwnProperty(x)){var C=!1;if(i[x].length!==1&&E!==i[x].length-1){if((d+2)*(w+2)+2>o)continue e;y+=i[x][E],C=!0,g=x,x--}else{y=(y+=i[x][E]+" ").substr(y.length-1)==" "?y.substr(0,y.length-1):y;var N=parseInt(x),D=c(N,y,s),O=x>=i.length-1;if(D&&!O){y+=" ",E=0;continue}if(D||O){if(O)g=N;else if(t.multiline&&(d+2)*(w+2)+2>o)continue e}else{if(!t.multiline||(d+2)*(w+2)+2>o)continue e;g=N}}for(var P="",L=m;L<=g;L++){var $=i[L];if(t.multiline){if(L===g){P+=$[E]+" ",E=(E+1)%$.length;continue}if(L===m){P+=$[$.length-1]+" ";continue}}P+=$[0]+" "}switch(P=P.substr(P.length-1)==" "?P.substr(0,P.length-1):P,u=D5(P,t,s).width,t.textAlign){case"right":l=a-u-2;break;case"center":l=(a-u)/2;break;case"left":default:l=2}e+=Bt(l)+" "+Bt(f)+` Td
`,e+="("+Vp(P)+`) Tj
`,e+=-Bt(l)+` 0 Td
`,f=-(s+2),u=0,m=C?g:g+1,w++,y=""}break}return r.text=e,r.fontSize=s,r},D5=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},oie={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aie=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},cie=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),In(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},lie=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(yc.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(oie)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");nk=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new E$,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&aie(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var o in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(o)){var a=r[o],c=[],l=a.Rect;if(a.Rect&&(a.Rect=iie(a.Rect,i)),i.internal.newObjectDeferredBegin(a.objId,!0),a.DA=ht.createDefaultAppearanceStream(a),In(a)==="object"&&typeof a.getKeyValueListForStream=="function"&&(c=a.getKeyValueListForStream()),a.Rect=l,a.hasAppearanceStream&&!a.appearanceStreamContent){var u=sie(a);c.push({key:"AP",value:"<</N "+u+">>"}),i.internal.acroformPlugin.xForms.push(u)}if(a.appearanceStreamContent){var d="";for(var h in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(h)){var f=a.appearanceStreamContent[h];if(d+="/"+h+" ",d+="<<",Object.keys(f).length>=1||Array.isArray(f)){for(var o in f)if(f.hasOwnProperty(o)){var m=f[o];typeof m=="function"&&(m=m.call(i,a)),d+="/"+o+" "+m+" ",i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m)}}else typeof(m=f)=="function"&&(m=m.call(i,a)),d+="/"+o+" "+m,i.internal.acroformPlugin.xForms.indexOf(m)>=0||i.internal.acroformPlugin.xForms.push(m);d+=">>"}c.push({key:"AP",value:`<<
`+d+">>"})}i.internal.putStream({additionalKeyValues:c,objectId:a.objId}),i.internal.out("endobj")}s&&cie(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},b$=Er.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(o){return o};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),In(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Vp(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},UN=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Vp(r(t))+")"},sl=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};sl.prototype.toString=function(){return this.objId+" 0 R"},sl.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},sl.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:b$(i,this.objId,this.scope)}):i instanceof sl?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var x$=function(){sl.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};no(x$,sl);var E$=function(){sl.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Vp(n(t))+")"}},set:function(n){t=n}})};no(E$,sl);var yc=function t(){sl.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute F supplied.');e=y}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Or(e,3)},set:function(y){y?this.F=Rr(e,3):this.F=Lr(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(y){if(isNaN(y))throw new Error('Invalid value "'+y+'" for attribute Ff supplied.');n=y}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(y){r=y!==void 0?y:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(y){r[0]=y}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(y){r[1]=y}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(y){r[2]=y}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(y){r[3]=y}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(y){switch(y){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=y;break;default:throw new Error('Invalid value "'+y+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof KE)return;s="FieldObject"+t.FieldNum++}var y=function(w){return w};return this.scope&&(y=this.scope.internal.getEncryptor(this.objId)),"("+Vp(y(s))+")"},set:function(y){s=y.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(y){s=y}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(y){o=y}});var a="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return a},set:function(y){a=y}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(y){c=y}});var l=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return l===void 0?50/nk:l},set:function(y){l=y}});var u="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return u},set:function(y){u=y}});var d="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!d||this instanceof KE||this instanceof rp))return UN(d,this.objId,this.scope)},set:function(y){y=y.toString(),d=y}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof fi?h:UN(h,this.objId,this.scope)},set:function(y){y=y.toString(),h=this instanceof fi?y:y.substr(0,1)==="("?Im(y.substr(1,y.length-2)):Im(y)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof fi?Im(h.substr(1,h.length-1)):h},set:function(y){y=y.toString(),h=this instanceof fi?"/"+y:y}});var f=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(f)return f},set:function(y){this.V=y}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(f)return this instanceof fi?f:UN(f,this.objId,this.scope)},set:function(y){y=y.toString(),f=this instanceof fi?y:y.substr(0,1)==="("?Im(y.substr(1,y.length-2)):Im(y)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof fi?Im(f.substr(1,f.length-1)):f},set:function(y){y=y.toString(),f=this instanceof fi?"/"+y:y}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var m,g=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return g},set:function(y){y=!!y,g=y}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(m)return m},set:function(y){m=y}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,1)},set:function(y){y?this.Ff=Rr(this.Ff,1):this.Ff=Lr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,2)},set:function(y){y?this.Ff=Rr(this.Ff,2):this.Ff=Lr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,3)},set:function(y){y?this.Ff=Rr(this.Ff,3):this.Ff=Lr(this.Ff,3)}});var E=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(E!==null)return E},set:function(y){if([0,1,2].indexOf(y)===-1)throw new Error('Invalid value "'+y+'" for attribute Q supplied.');E=y}}),Object.defineProperty(this,"textAlign",{get:function(){var y;switch(E){case 0:default:y="left";break;case 1:y="center";break;case 2:y="right"}return y},configurable:!0,enumerable:!0,set:function(y){switch(y){case"right":case 2:E=2;break;case"center":case 1:E=1;break;case"left":case 0:default:E=0}}})};no(yc,sl);var Kg=function(){yc.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return b$(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,o,a){a||(a=1);for(var c,l=[];c=o.exec(s);)l.push(c[a]);return l}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,18)},set:function(n){n?this.Ff=Rr(this.Ff,18):this.Ff=Lr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=Rr(this.Ff,19):this.Ff=Lr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,20)},set:function(n){n?(this.Ff=Rr(this.Ff,20),e.sort()):this.Ff=Lr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,22)},set:function(n){n?this.Ff=Rr(this.Ff,22):this.Ff=Lr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,23)},set:function(n){n?this.Ff=Rr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,27)},set:function(n){n?this.Ff=Rr(this.Ff,27):this.Ff=Lr(this.Ff,27)}}),this.hasAppearanceStream=!1};no(Kg,yc);var Yg=function(){Kg.call(this),this.fontName="helvetica",this.combo=!1};no(Yg,Kg);var Jg=function(){Yg.call(this),this.combo=!0};no(Jg,Yg);var Rx=function(){Jg.call(this),this.edit=!0};no(Rx,Jg);var fi=function(){yc.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,15)},set:function(n){n?this.Ff=Rr(this.Ff,15):this.Ff=Lr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,16)},set:function(n){n?this.Ff=Rr(this.Ff,16):this.Ff=Lr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,17)},set:function(n){n?this.Ff=Rr(this.Ff,17):this.Ff=Lr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,26)},set:function(n){n?this.Ff=Rr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Vp(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){In(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};no(fi,yc);var Lx=function(){fi.call(this),this.pushButton=!0};no(Lx,fi);var Qg=function(){fi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};no(Qg,fi);var KE=function(){var t,e;yc.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(a){return a};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),r)o.push("/"+s+" ("+Vp(i(r[s]))+")");return o.push(">>"),o.join(`
`)},set:function(i){In(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=ht.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};no(KE,yc),Qg.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Qg.prototype.createOption=function(t){var e=new KE;return e.Parent=this,e.optionName=t,this.Kids.push(e),uie.call(this.scope,e),e};var Dx=function(){fi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=ht.CheckBox.createAppearanceStream()};no(Dx,fi);var rp=function(){yc.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,13)},set:function(e){e?this.Ff=Rr(this.Ff,13):this.Ff=Lr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,21)},set:function(e){e?this.Ff=Rr(this.Ff,21):this.Ff=Lr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,23)},set:function(e){e?this.Ff=Rr(this.Ff,23):this.Ff=Lr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,24)},set:function(e){e?this.Ff=Rr(this.Ff,24):this.Ff=Lr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,25)},set:function(e){e?this.Ff=Rr(this.Ff,25):this.Ff=Lr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,26)},set:function(e){e?this.Ff=Rr(this.Ff,26):this.Ff=Lr(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};no(rp,yc);var jx=function(){rp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Or(this.Ff,14)},set:function(t){t?this.Ff=Rr(this.Ff,14):this.Ff=Lr(this.Ff,14)}}),this.password=!0};no(jx,rp);var ht={CheckBox:{createAppearanceStream:function(){return{N:{On:ht.CheckBox.YesNormal},D:{On:ht.CheckBox.YesPushDown,Off:ht.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Mc(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=OP(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+Bt(ht.internal.getWidth(t))+" "+Bt(ht.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Bt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Mc(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=ht.internal.getHeight(t),o=ht.internal.getWidth(t),a=OP(t,t.caption);return i.push("1 g"),i.push("0 0 "+Bt(o)+" "+Bt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Bt(o-1)+" "+Bt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+Bt(a.fontSize)+" Tf "+r),i.push(a.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Mc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(ht.internal.getWidth(t))+" "+Bt(ht.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:ht.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=ht.RadioButton.Circle.YesNormal,e.D[t]=ht.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Mc(t);e.scope=t.scope;var n=[],r=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=ht.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+nd(ht.internal.getWidth(t)/2)+" "+nd(ht.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Mc(t);e.scope=t.scope;var n=[],r=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ht.internal.Bezier_C).toFixed(5)),o=Number((r*ht.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+nd(ht.internal.getWidth(t)/2)+" "+nd(ht.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+nd(ht.internal.getWidth(t)/2)+" "+nd(ht.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),n.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),n.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),n.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Mc(t);e.scope=t.scope;var n=[],r=ht.internal.getWidth(t)<=ht.internal.getHeight(t)?ht.internal.getWidth(t)/4:ht.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*ht.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+nd(ht.internal.getWidth(t)/2)+" "+nd(ht.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:ht.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=ht.RadioButton.Cross.YesNormal,e.D[t]=ht.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Mc(t);e.scope=t.scope;var n=[],r=ht.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+Bt(ht.internal.getWidth(t)-2)+" "+Bt(ht.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(Bt(r.x1.x)+" "+Bt(r.x1.y)+" m"),n.push(Bt(r.x2.x)+" "+Bt(r.x2.y)+" l"),n.push(Bt(r.x4.x)+" "+Bt(r.x4.y)+" m"),n.push(Bt(r.x3.x)+" "+Bt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Mc(t);e.scope=t.scope;var n=ht.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+Bt(ht.internal.getWidth(t))+" "+Bt(ht.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Bt(ht.internal.getWidth(t)-2)+" "+Bt(ht.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(Bt(n.x1.x)+" "+Bt(n.x1.y)+" m"),r.push(Bt(n.x2.x)+" "+Bt(n.x2.y)+" l"),r.push(Bt(n.x4.x)+" "+Bt(n.x4.y)+" m"),r.push(Bt(n.x3.x)+" "+Bt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Mc(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Bt(ht.internal.getWidth(t))+" "+Bt(ht.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};ht.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=ht.internal.getWidth(t),n=ht.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},ht.internal.getWidth=function(t){var e=0;return In(t)==="object"&&(e=U8(t.Rect[2])),e},ht.internal.getHeight=function(t){var e=0;return In(t)==="object"&&(e=U8(t.Rect[3])),e};var uie=Er.addField=function(t){if(lie(this,t),!(t instanceof yc))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Er.AcroFormChoiceField=Kg,Er.AcroFormListBox=Yg,Er.AcroFormComboBox=Jg,Er.AcroFormEditBox=Rx,Er.AcroFormButton=fi,Er.AcroFormPushButton=Lx,Er.AcroFormRadioButton=Qg,Er.AcroFormCheckBox=Dx,Er.AcroFormTextField=rp,Er.AcroFormPasswordField=jx,Er.AcroFormAppearance=ht,Er.AcroForm={ChoiceField:Kg,ListBox:Yg,ComboBox:Jg,EditBox:Rx,Button:fi,PushButton:Lx,RadioButton:Qg,CheckBox:Dx,TextField:rp,PasswordField:jx,Appearance:ht},Ct.AcroForm={ChoiceField:Kg,ListBox:Yg,ComboBox:Jg,EditBox:Rx,Button:fi,PushButton:Lx,RadioButton:Qg,CheckBox:Dx,TextField:rp,PasswordField:jx,Appearance:ht};function A$(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(_,j){var K,V,T,k,W,B=e;if((j=j||e)==="RGBA"||_.data!==void 0&&_.data instanceof Uint8ClampedArray&&"height"in _&&"width"in _)return"RGBA";if(D(_))for(W in n)for(T=n[W],K=0;K<T.length;K+=1){for(k=!0,V=0;V<T[K].length;V+=1)if(T[K][V]!==void 0&&T[K][V]!==_[V]){k=!1;break}if(k===!0){B=W;break}}else for(W in n)for(T=n[W],K=0;K<T.length;K+=1){for(k=!0,V=0;V<T[K].length;V+=1)if(T[K][V]!==void 0&&T[K][V]!==_.charCodeAt(V)){k=!1;break}if(k===!0){B=W;break}}return B===e&&j!==e&&(B=j),B},i=function _(j){for(var K=this.internal.write,V=this.internal.putStream,T=(0,this.internal.getFilters)();T.indexOf("FlateEncode")!==-1;)T.splice(T.indexOf("FlateEncode"),1);j.objectId=this.internal.newObject();var k=[];if(k.push({key:"Type",value:"/XObject"}),k.push({key:"Subtype",value:"/Image"}),k.push({key:"Width",value:j.width}),k.push({key:"Height",value:j.height}),j.colorSpace===E.INDEXED?k.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(j.palette.length/3-1)+" "+("sMask"in j&&j.sMask!==void 0?j.objectId+2:j.objectId+1)+" 0 R]"}):(k.push({key:"ColorSpace",value:"/"+j.colorSpace}),j.colorSpace===E.DEVICE_CMYK&&k.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),k.push({key:"BitsPerComponent",value:j.bitsPerComponent}),"decodeParameters"in j&&j.decodeParameters!==void 0&&k.push({key:"DecodeParms",value:"<<"+j.decodeParameters+">>"}),"transparency"in j&&Array.isArray(j.transparency)){for(var W="",B=0,z=j.transparency.length;B<z;B++)W+=j.transparency[B]+" "+j.transparency[B]+" ";k.push({key:"Mask",value:"["+W+"]"})}j.sMask!==void 0&&k.push({key:"SMask",value:j.objectId+1+" 0 R"});var Z=j.filter!==void 0?["/"+j.filter]:void 0;if(V({data:j.data,additionalKeyValues:k,alreadyAppliedFilters:Z,objectId:j.objectId}),K("endobj"),"sMask"in j&&j.sMask!==void 0){var he="/Predictor "+j.predictor+" /Colors 1 /BitsPerComponent "+j.bitsPerComponent+" /Columns "+j.width,R={width:j.width,height:j.height,colorSpace:"DeviceGray",bitsPerComponent:j.bitsPerComponent,decodeParameters:he,data:j.sMask};"filter"in j&&(R.filter=j.filter),_.call(this,R)}if(j.colorSpace===E.INDEXED){var Y=this.internal.newObject();V({data:P(new Uint8Array(j.palette)),objectId:Y}),K("endobj")}},s=function(){var _=this.internal.collections.addImage_images;for(var j in _)i.call(this,_[j])},o=function(){var _,j=this.internal.collections.addImage_images,K=this.internal.write;for(var V in j)K("/I"+(_=j[V]).index,_.objectId,"0","R")},a=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var _=this.internal.collections.addImage_images;return a.call(this),_},l=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(_){return typeof t["process"+_.toUpperCase()]=="function"},d=function(_){return In(_)==="object"&&_.nodeType===1},h=function(_,j){if(_.nodeName==="IMG"&&_.hasAttribute("src")){var K=""+_.getAttribute("src");if(K.indexOf("data:image/")===0)return Dw(unescape(K).split("base64,").pop());var V=t.loadFile(K,!0);if(V!==void 0)return V}if(_.nodeName==="CANVAS"){if(_.width===0||_.height===0)throw new Error("Given canvas must have data. Canvas width: "+_.width+", height: "+_.height);var T;switch(j){case"PNG":T="image/png";break;case"WEBP":T="image/webp";break;case"JPEG":case"JPG":default:T="image/jpeg"}return Dw(_.toDataURL(T,1).split("base64,").pop())}},f=function(_){var j=this.internal.collections.addImage_images;if(j){for(var K in j)if(_===j[K].alias)return j[K]}},m=function(_,j,K){return _||j||(_=-96,j=-96),_<0&&(_=-1*K.width*72/_/this.internal.scaleFactor),j<0&&(j=-1*K.height*72/j/this.internal.scaleFactor),_===0&&(_=j*K.width/K.height),j===0&&(j=_*K.height/K.width),[_,j]},g=function(_,j,K,V,T,k){var W=m.call(this,K,V,T),B=this.internal.getCoordinateString,z=this.internal.getVerticalCoordinateString,Z=c.call(this);if(K=W[0],V=W[1],Z[T.index]=T,k){k*=Math.PI/180;var he=Math.cos(k),R=Math.sin(k),Y=function(ne){return ne.toFixed(4)},J=[Y(he),Y(R),Y(-1*R),Y(he),0,0,"cm"]}this.internal.write("q"),k?(this.internal.write([1,"0","0",1,B(_),z(j+V),"cm"].join(" ")),this.internal.write(J.join(" ")),this.internal.write([B(K),"0","0",B(V),"0","0","cm"].join(" "))):this.internal.write([B(K),"0","0",B(V),B(_),z(j+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+T.index+" Do"),this.internal.write("Q")},E=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var y=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},w=t.__addimage__.sHashCode=function(_){var j,K,V=0;if(typeof _=="string")for(K=_.length,j=0;j<K;j++)V=(V<<5)-V+_.charCodeAt(j),V|=0;else if(D(_))for(K=_.byteLength/2,j=0;j<K;j++)V=(V<<5)-V+_[j],V|=0;return V},x=t.__addimage__.validateStringAsBase64=function(_){(_=_||"").toString().trim();var j=!0;return _.length===0&&(j=!1),_.length%4!=0&&(j=!1),/^[A-Za-z0-9+/]+$/.test(_.substr(0,_.length-2))===!1&&(j=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(_.substr(-2))===!1&&(j=!1),j},C=t.__addimage__.extractImageFromDataUrl=function(_){var j=(_=_||"").split("base64,"),K=null;if(j.length===2){var V=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(j[0]);Array.isArray(V)&&(K={mimeType:V[1],charset:V[2],data:j[1]})}return K},N=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(_){return N()&&_ instanceof ArrayBuffer};var D=t.__addimage__.isArrayBufferView=function(_){return N()&&typeof Uint32Array<"u"&&(_ instanceof Int8Array||_ instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&_ instanceof Uint8ClampedArray||_ instanceof Int16Array||_ instanceof Uint16Array||_ instanceof Int32Array||_ instanceof Uint32Array||_ instanceof Float32Array||_ instanceof Float64Array)},O=t.__addimage__.binaryStringToUint8Array=function(_){for(var j=_.length,K=new Uint8Array(j),V=0;V<j;V++)K[V]=_.charCodeAt(V);return K},P=t.__addimage__.arrayBufferToBinaryString=function(_){for(var j="",K=D(_)?_:new Uint8Array(_),V=0;V<K.length;V+=8192)j+=String.fromCharCode.apply(null,K.subarray(V,V+8192));return j};t.addImage=function(){var _,j,K,V,T,k,W,B,z;if(typeof arguments[1]=="number"?(j=e,K=arguments[1],V=arguments[2],T=arguments[3],k=arguments[4],W=arguments[5],B=arguments[6],z=arguments[7]):(j=arguments[1],K=arguments[2],V=arguments[3],T=arguments[4],k=arguments[5],W=arguments[6],B=arguments[7],z=arguments[8]),In(_=arguments[0])==="object"&&!d(_)&&"imageData"in _){var Z=_;_=Z.imageData,j=Z.format||j||e,K=Z.x||K||0,V=Z.y||V||0,T=Z.w||Z.width||T,k=Z.h||Z.height||k,W=Z.alias||W,B=Z.compression||B,z=Z.rotation||Z.angle||z}var he=this.internal.getFilters();if(B===void 0&&he.indexOf("FlateEncode")!==-1&&(B="SLOW"),isNaN(K)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");a.call(this);var R=L.call(this,_,j,W,B);return g.call(this,K,V,T,k,R,z),this};var L=function(_,j,K,V){var T,k,W;if(typeof _=="string"&&r(_)===e){_=unescape(_);var B=$(_,!1);(B!==""||(B=t.loadFile(_,!0))!==void 0)&&(_=B)}if(d(_)&&(_=h(_,j)),j=r(_,j),!u(j))throw new Error("addImage does not support files of type '"+j+"', please ensure that a plugin for '"+j+"' support is added.");if(((W=K)==null||W.length===0)&&(K=function(z){return typeof z=="string"||D(z)?w(z):D(z.data)?w(z.data):null}(_)),(T=f.call(this,K))||(N()&&(_ instanceof Uint8Array||j==="RGBA"||(k=_,_=O(_))),T=this["process"+j.toUpperCase()](_,l.call(this),K,function(z){return z&&typeof z=="string"&&(z=z.toUpperCase()),z in t.image_compression?z:y.NONE}(V),k)),!T)throw new Error("An unknown error occurred whilst processing the image.");return T},$=t.__addimage__.convertBase64ToBinaryString=function(_,j){var K;j=typeof j!="boolean"||j;var V,T="";if(typeof _=="string"){V=(K=C(_))!==null?K.data:_;try{T=Dw(V)}catch(k){if(j)throw x(V)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+k.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return T};t.getImageProperties=function(_){var j,K,V="";if(d(_)&&(_=h(_)),typeof _=="string"&&r(_)===e&&((V=$(_,!1))===""&&(V=t.loadFile(_)||""),_=V),K=r(_),!u(K))throw new Error("addImage does not support files of type '"+K+"', please ensure that a plugin for '"+K+"' support is added.");if(!N()||_ instanceof Uint8Array||(_=O(_)),!(j=this["process"+K.toUpperCase()](_)))throw new Error("An unknown error occurred whilst processing the image");return j.fileType=K,j}})(Ct.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ct.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,o=this.internal.getCoordinateString,a=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(n.objId),l=n.pageContext.annotations,u=!1,d=0;d<l.length&&!u;d++)switch((r=l[d]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(u=!0);break;case"reference":case"text":case"freetext":u=!0}if(u!=0){this.internal.write("/Annots [");for(var h=0;h<l.length;h++){r=l[h];var f=this.internal.pdfEscape,m=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var g=this.internal.newAdditionalObject(),E=this.internal.newAdditionalObject(),y=this.internal.getEncryptor(g.objId),w=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y)+"] ")+"/Contents ("+f(y(r.contents))+")",s+=" /Popup "+E.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+f(y(w))+") >>",g.content=s;var x=g.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+o(r.bounds.x+30)+" "+a(r.bounds.y+r.bounds.h)+" "+o(r.bounds.x+r.bounds.w+30)+" "+a(r.bounds.y)+"] ")+" /Parent "+x,r.open&&(s+=" /Open true"),s+=" >>",E.content=s,this.internal.write(g.objId,"0 R",E.objId,"0 R");break;case"freetext":i="/Rect ["+o(r.bounds.x)+" "+a(r.bounds.y)+" "+o(r.bounds.x+r.bounds.w)+" "+a(r.bounds.y+r.bounds.h)+"] ";var C=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+f(m(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+C+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var N=this.annotations._nameMap[r.options.name];r.options.pageNumber=N.page,r.options.top=N.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+f(m(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var D=a(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+D+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,o){var a=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:c(n),y:l(r),w:c(n+i),h:l(r+s)},options:o,type:"link"})},t.textWithLink=function(n,r,i,s){var o,a,c=this.getTextWidth(n),l=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){a=s.maxWidth;var u=this.splitTextToSize(n,a).length;o=Math.ceil(l*u)}else a=c,o=l;return this.text(n,r,i,s),i+=.2*l,s.align==="center"&&(r-=c/2),s.align==="right"&&(r-=c),this.link(r,i-l,a,o,s),c},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(g){return e[g.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(g){return typeof g=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(g)},a=t.__arabicParser__.isArabicEndLetter=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(g){return o(g)&&i.indexOf(g.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=1};var l=t.__arabicParser__.arabicLetterHasFinalForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length>=3};var u=t.__arabicParser__.arabicLetterHasMedialForm=function(g){return o(g)&&s(g)&&e[g.charCodeAt(0)].length==4},d=t.__arabicParser__.resolveLigatures=function(g){var E=0,y=n,w="",x=0;for(E=0;E<g.length;E+=1)y[g.charCodeAt(E)]!==void 0?(x++,typeof(y=y[g.charCodeAt(E)])=="number"&&(w+=String.fromCharCode(y),y=n,x=0),E===g.length-1&&(y=n,w+=g.charAt(E-(x-1)),E-=x-1,x=0)):(y=n,w+=g.charAt(E-x),E-=x,x=0);return w};t.__arabicParser__.isArabicDiacritic=function(g){return g!==void 0&&r[g.charCodeAt(0)]!==void 0};var h=t.__arabicParser__.getCorrectForm=function(g,E,y){return o(g)?s(g)===!1?-1:!l(g)||!o(E)&&!o(y)||!o(y)&&a(E)||a(g)&&!o(E)||a(g)&&c(E)||a(g)&&a(E)?0:u(g)&&o(E)&&!a(E)&&o(y)&&l(y)?3:a(g)||!o(y)?1:2:-1},f=function(g){var E=0,y=0,w=0,x="",C="",N="",D=(g=g||"").split("\\s+"),O=[];for(E=0;E<D.length;E+=1){for(O.push(""),y=0;y<D[E].length;y+=1)x=D[E][y],C=D[E][y-1],N=D[E][y+1],o(x)?(w=h(x,C,N),O[E]+=w!==-1?String.fromCharCode(e[x.charCodeAt(0)][w]):x):O[E]+=x;O[E]=d(O[E])}return O.join(" ")},m=t.__arabicParser__.processArabic=t.processArabic=function(){var g,E=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,y=[];if(Array.isArray(E)){var w=0;for(y=[],w=0;w<E.length;w+=1)Array.isArray(E[w])?y.push([f(E[w][0]),E[w][1],E[w][2]]):y.push([f(E[w])]);g=y}else g=f(E);return typeof arguments[0]=="string"?g:(arguments[0].text=g,arguments[0])};t.events.push(["preProcessText",m])}(Ct.API),Ct.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(a){n=a}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(a){r=isNaN(a)||Number.isInteger(a)===!1||a<0?150:a,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(a){i=isNaN(a)||Number.isInteger(a)===!1||a<0?300:a,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(a){s=a}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(a){o=a}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(g){c=g}});var l=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return l},set:function(g){l=g}});var u=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return u},set:function(g){u=g}});var d=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return d},set:function(g){d=g}});var h=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return h},set:function(g){h=g}});var f=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return f},set:function(g){f=g}});var m=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return m},set:function(g){m=g}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return r.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,l){r.call(this);var u=(l=l||{}).fontSize||this.getFontSize(),d=l.font||this.getFont(),h=l.scaleFactor||this.internal.scaleFactor,f=0,m=0,g=0,E=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var y=l.maxWidth;y>0?typeof c=="string"?c=this.splitTextToSize(c,y):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(x,C){return x.concat(E.splitTextToSize(C,y))},[])):c=Array.isArray(c)?c:[c];for(var w=0;w<c.length;w++)f<(g=this.getStringUnitWidth(c[w],{font:d})*u)&&(f=g);return f!==0&&(m=c.length),{w:f/=h,h:Math.max((m*u*this.getLineHeightFactor()-u*(this.getLineHeightFactor()-1))/h,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var l=this.internal.__cell__.lastCell,u=this.internal.__cell__.padding,d=this.internal.__cell__.margins||e,h=this.internal.__cell__.tableHeaderRow,f=this.internal.__cell__.printHeaders;return l.lineNumber!==void 0&&(l.lineNumber===c.lineNumber?(c.x=(l.x||0)+(l.width||0),c.y=l.y||0):l.y+l.height+c.height+d.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=d.top,f&&h&&(this.printHeaderRow(c.lineNumber,!0),c.y+=h[0].height)):c.y=l.y+l.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,n===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-u,c.y+u,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+u,{align:"center",baseline:"top",maxWidth:c.width-u-u}):this.text(c.text,c.x+u,c.y+u,{align:"left",baseline:"top",maxWidth:c.width-u-u})),this.internal.__cell__.lastCell=c,this};t.table=function(c,l,u,d,h){if(r.call(this),!u)throw new Error("No data for PDF table.");var f,m,g,E,y=[],w=[],x=[],C={},N={},D=[],O=[],P=(h=h||{}).autoSize||!1,L=h.printHeaders!==!1,$=h.css&&h.css["font-size"]!==void 0?16*h.css["font-size"]:h.fontSize||12,_=h.margins||Object.assign({width:this.getPageWidth()},e),j=typeof h.padding=="number"?h.padding:3,K=h.headerBackgroundColor||"#c8c8c8",V=h.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=L,this.internal.__cell__.margins=_,this.internal.__cell__.table_font_size=$,this.internal.__cell__.padding=j,this.internal.__cell__.headerBackgroundColor=K,this.internal.__cell__.headerTextColor=V,this.setFontSize($),d==null)w=y=Object.keys(u[0]),x=y.map(function(){return"left"});else if(Array.isArray(d)&&In(d[0])==="object")for(y=d.map(function(Z){return Z.name}),w=d.map(function(Z){return Z.prompt||Z.name||""}),x=d.map(function(Z){return Z.align||"left"}),f=0;f<d.length;f+=1)N[d[f].name]=d[f].width*(19.049976/25.4);else Array.isArray(d)&&typeof d[0]=="string"&&(w=y=d,x=y.map(function(){return"left"}));if(P||Array.isArray(d)&&typeof d[0]=="string")for(f=0;f<y.length;f+=1){for(C[E=y[f]]=u.map(function(Z){return Z[E]}),this.setFont(void 0,"bold"),D.push(this.getTextDimensions(w[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),m=C[E],this.setFont(void 0,"normal"),g=0;g<m.length;g+=1)D.push(this.getTextDimensions(m[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);N[E]=Math.max.apply(null,D)+j+j,D=[]}if(L){var T={};for(f=0;f<y.length;f+=1)T[y[f]]={},T[y[f]].text=w[f],T[y[f]].align=x[f];var k=a.call(this,T,N);O=y.map(function(Z){return new s(c,l,N[Z],k,T[Z].text,void 0,T[Z].align)}),this.setTableHeaderRow(O),this.printHeaderRow(1,!1)}var W=d.reduce(function(Z,he){return Z[he.name]=he.align,Z},{});for(f=0;f<u.length;f+=1){"rowStart"in h&&h.rowStart instanceof Function&&h.rowStart({row:f,data:u[f]},this);var B=a.call(this,u[f],N);for(g=0;g<y.length;g+=1){var z=u[f][y[g]];"cellStart"in h&&h.cellStart instanceof Function&&h.cellStart({row:f,col:g,data:z},this),o.call(this,new s(c,l,N[y[g]],B,z,f+2,W[y[g]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=l,this};var a=function(c,l){var u=this.internal.__cell__.padding,d=this.internal.__cell__.table_font_size,h=this.internal.scaleFactor;return Object.keys(c).map(function(f){var m=c[f];return this.splitTextToSize(m.hasOwnProperty("text")?m.text:m,l[f]-u-u)},this).map(function(f){return this.getLineHeightFactor()*f.length*d/h+u+u},this).reduce(function(f,m){return Math.max(f,m)},0)};t.setTableHeaderRow=function(c){r.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,l){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var u;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var d=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(d[0],d[1],d[2],d[3],void 0,-1)}this.setFont(void 0,"bold");for(var h=[],f=0;f<this.internal.__cell__.tableHeaderRow.length;f+=1){u=this.internal.__cell__.tableHeaderRow[f].clone(),l&&(u.y=this.internal.__cell__.margins.top||0,h.push(u)),u.lineNumber=c;var m=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,u),this.setTextColor(m)}h.length>0&&this.setTableHeaderRow(h),this.setFont(void 0,"normal"),n=!1}}(Ct.API);var S$={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},C$=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],RP=A$(C$),N$=[100,200,300,400,500,600,700,800,900],die=A$(N$);function LP(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return S$[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof RP[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function F8(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var hie={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},$8={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function z8(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function fie(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},hie,n.genericFontFamilies||{}),s=null,o=null,a=0;a<e.length;++a)if(i[(s=LP(e[a])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){o=t[s.family];break}if(!(o=o||t[r]))throw new Error("Could not find a font-family for the rule '"+z8(s)+"' and default family '"+r+"'.");if(o=function(c,l){if(l[c])return l[c];var u=RP[c],d=u<=RP.normal?-1:1,h=F8(l,C$,u,d);if(!h)throw new Error("Could not find a matching font-stretch value for "+c);return h}(s.stretch,o),o=function(c,l){if(l[c])return l[c];for(var u=S$[c],d=0;d<u.length;++d)if(l[u[d]])return l[u[d]];throw new Error("Could not find a matching font-style for "+c)}(s.style,o),!(o=function(c,l){if(l[c])return l[c];if(c===400&&l[500])return l[500];if(c===500&&l[400])return l[400];var u=die[c],d=F8(l,N$,u,c<400?-1:1);if(!d)throw new Error("Could not find a matching font-weight for value "+c);return d}(s.weight,o)))throw new Error("Failed to resolve a font for the rule '"+z8(s)+"'.");return o}function V8(t){return t.trimLeft()}function pie(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function mie(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var j5,H8,q8,FN=["times"];(function(t){var e,n,r,i,s,o,a,c,l,u=function(R){return R=R||{},this.isStrokeTransparent=R.isStrokeTransparent||!1,this.strokeOpacity=R.strokeOpacity||1,this.strokeStyle=R.strokeStyle||"#000000",this.fillStyle=R.fillStyle||"#000000",this.isFillTransparent=R.isFillTransparent||!1,this.fillOpacity=R.fillOpacity||1,this.font=R.font||"10px sans-serif",this.textBaseline=R.textBaseline||"alphabetic",this.textAlign=R.textAlign||"left",this.lineWidth=R.lineWidth||1,this.lineJoin=R.lineJoin||"miter",this.lineCap=R.lineCap||"butt",this.path=R.path||[],this.transform=R.transform!==void 0?R.transform.clone():new c,this.globalCompositeOperation=R.globalCompositeOperation||"normal",this.globalAlpha=R.globalAlpha||1,this.clip_path=R.clip_path||[],this.currentPoint=R.currentPoint||new o,this.miterLimit=R.miterLimit||10,this.lastPoint=R.lastPoint||new o,this.lineDashOffset=R.lineDashOffset||0,this.lineDash=R.lineDash||[],this.margin=R.margin||[0,0,0,0],this.prevPageLastElemOffset=R.prevPageLastElemOffset||0,this.ignoreClearRect=typeof R.ignoreClearRect!="boolean"||R.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new d(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,a=this.internal.Rectangle,c=this.internal.Matrix,l=new u}]);var d=function(R){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Y=R;Object.defineProperty(this,"pdf",{get:function(){return Y}});var J=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return J},set:function(Ae){J=!!Ae}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(Ae){ne=!!Ae}});var se=0;Object.defineProperty(this,"posX",{get:function(){return se},set:function(Ae){isNaN(Ae)||(se=Ae)}});var de=0;Object.defineProperty(this,"posY",{get:function(){return de},set:function(Ae){isNaN(Ae)||(de=Ae)}}),Object.defineProperty(this,"margin",{get:function(){return l.margin},set:function(Ae){var ie;typeof Ae=="number"?ie=[Ae,Ae,Ae,Ae]:((ie=new Array(4))[0]=Ae[0],ie[1]=Ae.length>=2?Ae[1]:ie[0],ie[2]=Ae.length>=3?Ae[2]:ie[0],ie[3]=Ae.length>=4?Ae[3]:ie[1]),l.margin=ie}});var ye=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ye},set:function(Ae){ye=Ae}});var me=0;Object.defineProperty(this,"lastBreak",{get:function(){return me},set:function(Ae){me=Ae}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(Ae){Te=Ae}}),Object.defineProperty(this,"ctx",{get:function(){return l},set:function(Ae){Ae instanceof u&&(l=Ae)}}),Object.defineProperty(this,"path",{get:function(){return l.path},set:function(Ae){l.path=Ae}});var Pe=[];Object.defineProperty(this,"ctxStack",{get:function(){return Pe},set:function(Ae){Pe=Ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ae){var ie;ie=h(Ae),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ae){var ie=h(Ae);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ae){["butt","round","square"].indexOf(Ae)!==-1&&(this.ctx.lineCap=Ae,this.pdf.setLineCap(Ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ae){isNaN(Ae)||(this.ctx.lineWidth=Ae,this.pdf.setLineWidth(Ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ae){["bevel","round","miter"].indexOf(Ae)!==-1&&(this.ctx.lineJoin=Ae,this.pdf.setLineJoin(Ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ae){isNaN(Ae)||(this.ctx.miterLimit=Ae,this.pdf.setMiterLimit(Ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ae){this.ctx.textBaseline=Ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ae){["right","end","center","left","start"].indexOf(Ae)!==-1&&(this.ctx.textAlign=Ae)}});var De=null;function je(Ae,ie){if(De===null){var Tt=function(Oe){var Ne=[];return Object.keys(Oe).forEach(function(Me){Oe[Me].forEach(function(ze){var Ve=null;switch(ze){case"bold":Ve={family:Me,weight:"bold"};break;case"italic":Ve={family:Me,style:"italic"};break;case"bolditalic":Ve={family:Me,weight:"bold",style:"italic"};break;case"":case"normal":Ve={family:Me}}Ve!==null&&(Ve.ref={name:Me,style:ze},Ne.push(Ve))})}),Ne}(Ae.getFontList());De=function(Oe){for(var Ne={},Me=0;Me<Oe.length;++Me){var ze=LP(Oe[Me]),Ve=ze.family,mt=ze.stretch,Et=ze.style,Pt=ze.weight;Ne[Ve]=Ne[Ve]||{},Ne[Ve][mt]=Ne[Ve][mt]||{},Ne[Ve][mt][Et]=Ne[Ve][mt][Et]||{},Ne[Ve][mt][Et][Pt]=ze}return Ne}(Tt.concat(ie))}return De}var et=null;Object.defineProperty(this,"fontFaces",{get:function(){return et},set:function(Ae){De=null,et=Ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ae){var ie;if(this.ctx.font=Ae,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ae))!==null){var Tt=ie[1],Oe=(ie[2],ie[3]),Ne=ie[4],Me=(ie[5],ie[6]),ze=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ne)[2];Ne=Math.floor(ze==="px"?parseFloat(Ne)*this.pdf.internal.scaleFactor:ze==="em"?parseFloat(Ne)*this.pdf.getFontSize():parseFloat(Ne)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ne);var Ve=function(At){var Jt,Xe,Fi=[],dn=At.trim();if(dn==="")return FN;if(dn in $8)return[$8[dn]];for(;dn!=="";){switch(Xe=null,Jt=(dn=V8(dn)).charAt(0)){case'"':case"'":Xe=pie(dn.substring(1),Jt);break;default:Xe=mie(dn)}if(Xe===null||(Fi.push(Xe[0]),(dn=V8(Xe[1]))!==""&&dn.charAt(0)!==","))return FN;dn=dn.replace(/^,/,"")}return Fi}(Me);if(this.fontFaces){var mt=fie(je(this.pdf,this.fontFaces),Ve.map(function(At){return{family:At,stretch:"normal",weight:Oe,style:Tt}}));this.pdf.setFont(mt.ref.name,mt.ref.style)}else{var Et="";(Oe==="bold"||parseInt(Oe,10)>=700||Tt==="bold")&&(Et="bold"),Tt==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var Pt="",Rt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Zt=0;Zt<Ve.length;Zt++){if(this.pdf.internal.getFont(Ve[Zt],Et,{noFallback:!0,disableWarning:!0})!==void 0){Pt=Ve[Zt];break}if(Et==="bolditalic"&&this.pdf.internal.getFont(Ve[Zt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Pt=Ve[Zt],Et="bold";else if(this.pdf.internal.getFont(Ve[Zt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Pt=Ve[Zt],Et="normal";break}}if(Pt===""){for(var wn=0;wn<Ve.length;wn++)if(Rt[Ve[wn]]){Pt=Rt[Ve[wn]];break}}Pt=Pt===""?"Times":Pt,this.pdf.setFont(Pt,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ae){this.ctx.globalCompositeOperation=Ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ae){this.ctx.globalAlpha=Ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ae){this.ctx.lineDashOffset=Ae,he.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ae){this.ctx.lineDash=Ae,he.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ae){this.ctx.ignoreClearRect=!!Ae}})};d.prototype.setLineDash=function(R){this.lineDash=R},d.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},d.prototype.fill=function(){C.call(this,"fill",!1)},d.prototype.stroke=function(){C.call(this,"stroke",!1)},d.prototype.beginPath=function(){this.path=[{type:"begin"}]},d.prototype.moveTo=function(R,Y){if(isNaN(R)||isNaN(Y))throw $n.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var J=this.ctx.transform.applyToPoint(new o(R,Y));this.path.push({type:"mt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(R,Y)},d.prototype.closePath=function(){var R=new o(0,0),Y=0;for(Y=this.path.length-1;Y!==-1;Y--)if(this.path[Y].type==="begin"&&In(this.path[Y+1])==="object"&&typeof this.path[Y+1].x=="number"){R=new o(this.path[Y+1].x,this.path[Y+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(R.x,R.y)},d.prototype.lineTo=function(R,Y){if(isNaN(R)||isNaN(Y))throw $n.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var J=this.ctx.transform.applyToPoint(new o(R,Y));this.path.push({type:"lt",x:J.x,y:J.y}),this.ctx.lastPoint=new o(J.x,J.y)},d.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),C.call(this,null,!0)},d.prototype.quadraticCurveTo=function(R,Y,J,ne){if(isNaN(J)||isNaN(ne)||isNaN(R)||isNaN(Y))throw $n.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var se=this.ctx.transform.applyToPoint(new o(J,ne)),de=this.ctx.transform.applyToPoint(new o(R,Y));this.path.push({type:"qct",x1:de.x,y1:de.y,x:se.x,y:se.y}),this.ctx.lastPoint=new o(se.x,se.y)},d.prototype.bezierCurveTo=function(R,Y,J,ne,se,de){if(isNaN(se)||isNaN(de)||isNaN(R)||isNaN(Y)||isNaN(J)||isNaN(ne))throw $n.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ye=this.ctx.transform.applyToPoint(new o(se,de)),me=this.ctx.transform.applyToPoint(new o(R,Y)),Te=this.ctx.transform.applyToPoint(new o(J,ne));this.path.push({type:"bct",x1:me.x,y1:me.y,x2:Te.x,y2:Te.y,x:ye.x,y:ye.y}),this.ctx.lastPoint=new o(ye.x,ye.y)},d.prototype.arc=function(R,Y,J,ne,se,de){if(isNaN(R)||isNaN(Y)||isNaN(J)||isNaN(ne)||isNaN(se))throw $n.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(de=!!de,!this.ctx.transform.isIdentity){var ye=this.ctx.transform.applyToPoint(new o(R,Y));R=ye.x,Y=ye.y;var me=this.ctx.transform.applyToPoint(new o(0,J)),Te=this.ctx.transform.applyToPoint(new o(0,0));J=Math.sqrt(Math.pow(me.x-Te.x,2)+Math.pow(me.y-Te.y,2))}Math.abs(se-ne)>=2*Math.PI&&(ne=0,se=2*Math.PI),this.path.push({type:"arc",x:R,y:Y,radius:J,startAngle:ne,endAngle:se,counterclockwise:de})},d.prototype.arcTo=function(R,Y,J,ne,se){throw new Error("arcTo not implemented.")},d.prototype.rect=function(R,Y,J,ne){if(isNaN(R)||isNaN(Y)||isNaN(J)||isNaN(ne))throw $n.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(R,Y),this.lineTo(R+J,Y),this.lineTo(R+J,Y+ne),this.lineTo(R,Y+ne),this.lineTo(R,Y),this.lineTo(R+J,Y),this.lineTo(R,Y)},d.prototype.fillRect=function(R,Y,J,ne){if(isNaN(R)||isNaN(Y)||isNaN(J)||isNaN(ne))throw $n.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var se={};this.lineCap!=="butt"&&(se.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(se.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(R,Y,J,ne),this.fill(),se.hasOwnProperty("lineCap")&&(this.lineCap=se.lineCap),se.hasOwnProperty("lineJoin")&&(this.lineJoin=se.lineJoin)}},d.prototype.strokeRect=function(R,Y,J,ne){if(isNaN(R)||isNaN(Y)||isNaN(J)||isNaN(ne))throw $n.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(R,Y,J,ne),this.stroke())},d.prototype.clearRect=function(R,Y,J,ne){if(isNaN(R)||isNaN(Y)||isNaN(J)||isNaN(ne))throw $n.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(R,Y,J,ne))},d.prototype.save=function(R){R=typeof R!="boolean"||R;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("q");if(this.pdf.setPage(Y),R){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},d.prototype.restore=function(R){R=typeof R!="boolean"||R;for(var Y=this.pdf.internal.getCurrentPageInfo().pageNumber,J=0;J<this.pdf.internal.getNumberOfPages();J++)this.pdf.setPage(J+1),this.pdf.internal.out("Q");this.pdf.setPage(Y),R&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},d.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var h=function(R){var Y,J,ne,se;if(R.isCanvasGradient===!0&&(R=R.getColor()),!R)return{r:0,g:0,b:0,a:0,style:R};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(R))Y=0,J=0,ne=0,se=0;else{var de=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(R);if(de!==null)Y=parseInt(de[1]),J=parseInt(de[2]),ne=parseInt(de[3]),se=1;else if((de=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(R))!==null)Y=parseInt(de[1]),J=parseInt(de[2]),ne=parseInt(de[3]),se=parseFloat(de[4]);else{if(se=1,typeof R=="string"&&R.charAt(0)!=="#"){var ye=new y$(R);R=ye.ok?ye.toHex():"#000000"}R.length===4?(Y=R.substring(1,2),Y+=Y,J=R.substring(2,3),J+=J,ne=R.substring(3,4),ne+=ne):(Y=R.substring(1,3),J=R.substring(3,5),ne=R.substring(5,7)),Y=parseInt(Y,16),J=parseInt(J,16),ne=parseInt(ne,16)}}return{r:Y,g:J,b:ne,a:se,style:R}},f=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},m=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};d.prototype.fillText=function(R,Y,J,ne){if(isNaN(Y)||isNaN(J)||typeof R!="string")throw $n.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!f.call(this)){var se=B(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;j.call(this,{text:R,x:Y,y:J,scale:de,angle:se,align:this.textAlign,maxWidth:ne})}},d.prototype.strokeText=function(R,Y,J,ne){if(isNaN(Y)||isNaN(J)||typeof R!="string")throw $n.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){ne=isNaN(ne)?void 0:ne;var se=B(this.ctx.transform.rotation),de=this.ctx.transform.scaleX;j.call(this,{text:R,x:Y,y:J,scale:de,renderingMode:"stroke",angle:se,align:this.textAlign,maxWidth:ne})}},d.prototype.measureText=function(R){if(typeof R!="string")throw $n.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var Y=this.pdf,J=this.pdf.internal.scaleFactor,ne=Y.internal.getFontSize(),se=Y.getStringUnitWidth(R)*ne/Y.internal.scaleFactor,de=function(ye){var me=(ye=ye||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return me}}),this};return new de({width:se*=Math.round(96*J/72*1e4)/1e4})},d.prototype.scale=function(R,Y){if(isNaN(R)||isNaN(Y))throw $n.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var J=new c(R,0,0,Y,0,0);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.rotate=function(R){if(isNaN(R))throw $n.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var Y=new c(Math.cos(R),Math.sin(R),-Math.sin(R),Math.cos(R),0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},d.prototype.translate=function(R,Y){if(isNaN(R)||isNaN(Y))throw $n.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var J=new c(1,0,0,1,R,Y);this.ctx.transform=this.ctx.transform.multiply(J)},d.prototype.transform=function(R,Y,J,ne,se,de){if(isNaN(R)||isNaN(Y)||isNaN(J)||isNaN(ne)||isNaN(se)||isNaN(de))throw $n.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ye=new c(R,Y,J,ne,se,de);this.ctx.transform=this.ctx.transform.multiply(ye)},d.prototype.setTransform=function(R,Y,J,ne,se,de){R=isNaN(R)?1:R,Y=isNaN(Y)?0:Y,J=isNaN(J)?0:J,ne=isNaN(ne)?1:ne,se=isNaN(se)?0:se,de=isNaN(de)?0:de,this.ctx.transform=new c(R,Y,J,ne,se,de)};var g=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};d.prototype.drawImage=function(R,Y,J,ne,se,de,ye,me,Te){var Pe=this.pdf.getImageProperties(R),De=1,je=1,et=1,Ae=1;ne!==void 0&&me!==void 0&&(et=me/ne,Ae=Te/se,De=Pe.width/ne*me/ne,je=Pe.height/se*Te/se),de===void 0&&(de=Y,ye=J,Y=0,J=0),ne!==void 0&&me===void 0&&(me=ne,Te=se),ne===void 0&&me===void 0&&(me=Pe.width,Te=Pe.height);for(var ie,Tt=this.ctx.transform.decompose(),Oe=B(Tt.rotate.shx),Ne=new c,Me=(Ne=(Ne=(Ne=Ne.multiply(Tt.translate)).multiply(Tt.skew)).multiply(Tt.scale)).applyToRectangle(new a(de-Y*et,ye-J*Ae,ne*De,se*je)),ze=E.call(this,Me),Ve=[],mt=0;mt<ze.length;mt+=1)Ve.indexOf(ze[mt])===-1&&Ve.push(ze[mt]);if(x(Ve),this.autoPaging)for(var Et=Ve[0],Pt=Ve[Ve.length-1],Rt=Et;Rt<Pt+1;Rt++){this.pdf.setPage(Rt);var Zt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wn=Rt===1?this.posY+this.margin[0]:this.margin[0],At=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Jt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Xe=Rt===1?0:At+(Rt-2)*Jt;if(this.ctx.clip_path.length!==0){var Fi=this.path;ie=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(ie,this.posX+this.margin[3],-Xe+wn+this.ctx.prevPageLastElemOffset),N.call(this,"fill",!0),this.path=Fi}var dn=JSON.parse(JSON.stringify(Me));dn=w([dn],this.posX+this.margin[3],-Xe+wn+this.ctx.prevPageLastElemOffset)[0];var Sa=(Rt>Et||Rt<Pt)&&g.call(this);Sa&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Zt,Jt,null).clip().discardPath()),this.pdf.addImage(R,"JPEG",dn.x,dn.y,dn.w,dn.h,null,null,Oe),Sa&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(R,"JPEG",Me.x,Me.y,Me.w,Me.h,null,null,Oe)};var E=function(R,Y,J){var ne=[];Y=Y||this.pdf.internal.pageSize.width,J=J||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var se=this.posY+this.ctx.prevPageLastElemOffset;switch(R.type){default:case"mt":case"lt":ne.push(Math.floor((R.y+se)/J)+1);break;case"arc":ne.push(Math.floor((R.y+se-R.radius)/J)+1),ne.push(Math.floor((R.y+se+R.radius)/J)+1);break;case"qct":var de=z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x,R.y);ne.push(Math.floor((de.y+se)/J)+1),ne.push(Math.floor((de.y+de.h+se)/J)+1);break;case"bct":var ye=Z(this.ctx.lastPoint.x,this.ctx.lastPoint.y,R.x1,R.y1,R.x2,R.y2,R.x,R.y);ne.push(Math.floor((ye.y+se)/J)+1),ne.push(Math.floor((ye.y+ye.h+se)/J)+1);break;case"rect":ne.push(Math.floor((R.y+se)/J)+1),ne.push(Math.floor((R.y+R.h+se)/J)+1)}for(var me=0;me<ne.length;me+=1)for(;this.pdf.internal.getNumberOfPages()<ne[me];)y.call(this);return ne},y=function(){var R=this.fillStyle,Y=this.strokeStyle,J=this.font,ne=this.lineCap,se=this.lineWidth,de=this.lineJoin;this.pdf.addPage(),this.fillStyle=R,this.strokeStyle=Y,this.font=J,this.lineCap=ne,this.lineWidth=se,this.lineJoin=de},w=function(R,Y,J){for(var ne=0;ne<R.length;ne++)switch(R[ne].type){case"bct":R[ne].x2+=Y,R[ne].y2+=J;case"qct":R[ne].x1+=Y,R[ne].y1+=J;case"mt":case"lt":case"arc":default:R[ne].x+=Y,R[ne].y+=J}return R},x=function(R){return R.sort(function(Y,J){return Y-J})},C=function(R,Y){for(var J,ne,se=this.fillStyle,de=this.strokeStyle,ye=this.lineCap,me=this.lineWidth,Te=Math.abs(me*this.ctx.transform.scaleX),Pe=this.lineJoin,De=JSON.parse(JSON.stringify(this.path)),je=JSON.parse(JSON.stringify(this.path)),et=[],Ae=0;Ae<je.length;Ae++)if(je[Ae].x!==void 0)for(var ie=E.call(this,je[Ae]),Tt=0;Tt<ie.length;Tt+=1)et.indexOf(ie[Tt])===-1&&et.push(ie[Tt]);for(var Oe=0;Oe<et.length;Oe++)for(;this.pdf.internal.getNumberOfPages()<et[Oe];)y.call(this);if(x(et),this.autoPaging)for(var Ne=et[0],Me=et[et.length-1],ze=Ne;ze<Me+1;ze++){this.pdf.setPage(ze),this.fillStyle=se,this.strokeStyle=de,this.lineCap=ye,this.lineWidth=Te,this.lineJoin=Pe;var Ve=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],mt=ze===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Pt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Rt=ze===1?0:Et+(ze-2)*Pt;if(this.ctx.clip_path.length!==0){var Zt=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(J,this.posX+this.margin[3],-Rt+mt+this.ctx.prevPageLastElemOffset),N.call(this,R,!0),this.path=Zt}if(ne=JSON.parse(JSON.stringify(De)),this.path=w(ne,this.posX+this.margin[3],-Rt+mt+this.ctx.prevPageLastElemOffset),Y===!1||ze===0){var wn=(ze>Ne||ze<Me)&&g.call(this);wn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ve,Pt,null).clip().discardPath()),N.call(this,R,Y),wn&&this.pdf.restoreGraphicsState()}this.lineWidth=me}else this.lineWidth=Te,N.call(this,R,Y),this.lineWidth=me;this.path=De},N=function(R,Y){if((R!=="stroke"||Y||!m.call(this))&&(R==="stroke"||Y||!f.call(this))){for(var J,ne,se=[],de=this.path,ye=0;ye<de.length;ye++){var me=de[ye];switch(me.type){case"begin":se.push({begin:!0});break;case"close":se.push({close:!0});break;case"mt":se.push({start:me,deltas:[],abs:[]});break;case"lt":var Te=se.length;if(de[ye-1]&&!isNaN(de[ye-1].x)&&(J=[me.x-de[ye-1].x,me.y-de[ye-1].y],Te>0)){for(;Te>=0;Te--)if(se[Te-1].close!==!0&&se[Te-1].begin!==!0){se[Te-1].deltas.push(J),se[Te-1].abs.push(me);break}}break;case"bct":J=[me.x1-de[ye-1].x,me.y1-de[ye-1].y,me.x2-de[ye-1].x,me.y2-de[ye-1].y,me.x-de[ye-1].x,me.y-de[ye-1].y],se[se.length-1].deltas.push(J);break;case"qct":var Pe=de[ye-1].x+2/3*(me.x1-de[ye-1].x),De=de[ye-1].y+2/3*(me.y1-de[ye-1].y),je=me.x+2/3*(me.x1-me.x),et=me.y+2/3*(me.y1-me.y),Ae=me.x,ie=me.y;J=[Pe-de[ye-1].x,De-de[ye-1].y,je-de[ye-1].x,et-de[ye-1].y,Ae-de[ye-1].x,ie-de[ye-1].y],se[se.length-1].deltas.push(J);break;case"arc":se.push({deltas:[],abs:[],arc:!0}),Array.isArray(se[se.length-1].abs)&&se[se.length-1].abs.push(me)}}ne=Y?null:R==="stroke"?"stroke":"fill";for(var Tt=!1,Oe=0;Oe<se.length;Oe++)if(se[Oe].arc)for(var Ne=se[Oe].abs,Me=0;Me<Ne.length;Me++){var ze=Ne[Me];ze.type==="arc"?P.call(this,ze.x,ze.y,ze.radius,ze.startAngle,ze.endAngle,ze.counterclockwise,void 0,Y,!Tt):K.call(this,ze.x,ze.y),Tt=!0}else if(se[Oe].close===!0)this.pdf.internal.out("h"),Tt=!1;else if(se[Oe].begin!==!0){var Ve=se[Oe].start.x,mt=se[Oe].start.y;V.call(this,se[Oe].deltas,Ve,mt),Tt=!0}ne&&L.call(this,ne),Y&&$.call(this)}},D=function(R){var Y=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,J=Y*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return R-J;case"top":return R+Y-J;case"hanging":return R+Y-2*J;case"middle":return R+Y/2-J;case"ideographic":return R;case"alphabetic":default:return R}},O=function(R){return R+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};d.prototype.createLinearGradient=function(){var R=function(){};return R.colorStops=[],R.addColorStop=function(Y,J){this.colorStops.push([Y,J])},R.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},R.isCanvasGradient=!0,R},d.prototype.createPattern=function(){return this.createLinearGradient()},d.prototype.createRadialGradient=function(){return this.createLinearGradient()};var P=function(R,Y,J,ne,se,de,ye,me,Te){for(var Pe=k.call(this,J,ne,se,de),De=0;De<Pe.length;De++){var je=Pe[De];De===0&&(Te?_.call(this,je.x1+R,je.y1+Y):K.call(this,je.x1+R,je.y1+Y)),T.call(this,R,Y,je.x2,je.y2,je.x3,je.y3,je.x4,je.y4)}me?$.call(this):L.call(this,ye)},L=function(R){switch(R){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},$=function(){this.pdf.clip(),this.pdf.discardPath()},_=function(R,Y){this.pdf.internal.out(n(R)+" "+r(Y)+" m")},j=function(R){var Y;switch(R.align){case"right":case"end":Y="right";break;case"center":Y="center";break;case"left":case"start":default:Y="left"}var J=this.pdf.getTextDimensions(R.text),ne=D.call(this,R.y),se=O.call(this,ne)-J.h,de=this.ctx.transform.applyToPoint(new o(R.x,ne)),ye=this.ctx.transform.decompose(),me=new c;me=(me=(me=me.multiply(ye.translate)).multiply(ye.skew)).multiply(ye.scale);for(var Te,Pe,De,je=this.ctx.transform.applyToRectangle(new a(R.x,ne,J.w,J.h)),et=me.applyToRectangle(new a(R.x,se,J.w,J.h)),Ae=E.call(this,et),ie=[],Tt=0;Tt<Ae.length;Tt+=1)ie.indexOf(Ae[Tt])===-1&&ie.push(Ae[Tt]);if(x(ie),this.autoPaging)for(var Oe=ie[0],Ne=ie[ie.length-1],Me=Oe;Me<Ne+1;Me++){this.pdf.setPage(Me);var ze=Me===1?this.posY+this.margin[0]:this.margin[0],Ve=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],mt=this.pdf.internal.pageSize.height-this.margin[2],Et=mt-this.margin[0],Pt=this.pdf.internal.pageSize.width-this.margin[1],Rt=Pt-this.margin[3],Zt=Me===1?0:Ve+(Me-2)*Et;if(this.ctx.clip_path.length!==0){var wn=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=w(Te,this.posX+this.margin[3],-1*Zt+ze),N.call(this,"fill",!0),this.path=wn}var At=w([JSON.parse(JSON.stringify(et))],this.posX+this.margin[3],-Zt+ze+this.ctx.prevPageLastElemOffset)[0];R.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*R.scale),De=this.lineWidth,this.lineWidth=De*R.scale);var Jt=this.autoPaging!=="text";if(Jt||At.y+At.h<=mt){if(Jt||At.y>=ze&&At.x<=Pt){var Xe=Jt?R.text:this.pdf.splitTextToSize(R.text,R.maxWidth||Pt-At.x)[0],Fi=w([JSON.parse(JSON.stringify(je))],this.posX+this.margin[3],-Zt+ze+this.ctx.prevPageLastElemOffset)[0],dn=Jt&&(Me>Oe||Me<Ne)&&g.call(this);dn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,Et,null).clip().discardPath()),this.pdf.text(Xe,Fi.x,Fi.y,{angle:R.angle,align:Y,renderingMode:R.renderingMode}),dn&&this.pdf.restoreGraphicsState()}}else At.y<mt&&(this.ctx.prevPageLastElemOffset+=mt-At.y);R.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=De)}else R.scale>=.01&&(Pe=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Pe*R.scale),De=this.lineWidth,this.lineWidth=De*R.scale),this.pdf.text(R.text,de.x+this.posX,de.y+this.posY,{angle:R.angle,align:Y,renderingMode:R.renderingMode,maxWidth:R.maxWidth}),R.scale>=.01&&(this.pdf.setFontSize(Pe),this.lineWidth=De)},K=function(R,Y,J,ne){J=J||0,ne=ne||0,this.pdf.internal.out(n(R+J)+" "+r(Y+ne)+" l")},V=function(R,Y,J){return this.pdf.lines(R,Y,J,null,null)},T=function(R,Y,J,ne,se,de,ye,me){this.pdf.internal.out([e(i(J+R)),e(s(ne+Y)),e(i(se+R)),e(s(de+Y)),e(i(ye+R)),e(s(me+Y)),"c"].join(" "))},k=function(R,Y,J,ne){for(var se=2*Math.PI,de=Math.PI/2;Y>J;)Y-=se;var ye=Math.abs(J-Y);ye<se&&ne&&(ye=se-ye);for(var me=[],Te=ne?-1:1,Pe=Y;ye>1e-5;){var De=Pe+Te*Math.min(ye,de);me.push(W.call(this,R,Pe,De)),ye-=Math.abs(De-Pe),Pe=De}return me},W=function(R,Y,J){var ne=(J-Y)/2,se=R*Math.cos(ne),de=R*Math.sin(ne),ye=se,me=-de,Te=ye*ye+me*me,Pe=Te+ye*se+me*de,De=4/3*(Math.sqrt(2*Te*Pe)-Pe)/(ye*de-me*se),je=ye-De*me,et=me+De*ye,Ae=je,ie=-et,Tt=ne+Y,Oe=Math.cos(Tt),Ne=Math.sin(Tt);return{x1:R*Math.cos(Y),y1:R*Math.sin(Y),x2:je*Oe-et*Ne,y2:je*Ne+et*Oe,x3:Ae*Oe-ie*Ne,y3:Ae*Ne+ie*Oe,x4:R*Math.cos(J),y4:R*Math.sin(J)}},B=function(R){return 180*R/Math.PI},z=function(R,Y,J,ne,se,de){var ye=R+.5*(J-R),me=Y+.5*(ne-Y),Te=se+.5*(J-se),Pe=de+.5*(ne-de),De=Math.min(R,se,ye,Te),je=Math.max(R,se,ye,Te),et=Math.min(Y,de,me,Pe),Ae=Math.max(Y,de,me,Pe);return new a(De,et,je-De,Ae-et)},Z=function(R,Y,J,ne,se,de,ye,me){var Te,Pe,De,je,et,Ae,ie,Tt,Oe,Ne,Me,ze,Ve,mt,Et=J-R,Pt=ne-Y,Rt=se-J,Zt=de-ne,wn=ye-se,At=me-de;for(Pe=0;Pe<41;Pe++)Oe=(ie=(De=R+(Te=Pe/40)*Et)+Te*((et=J+Te*Rt)-De))+Te*(et+Te*(se+Te*wn-et)-ie),Ne=(Tt=(je=Y+Te*Pt)+Te*((Ae=ne+Te*Zt)-je))+Te*(Ae+Te*(de+Te*At-Ae)-Tt),Pe==0?(Me=Oe,ze=Ne,Ve=Oe,mt=Ne):(Me=Math.min(Me,Oe),ze=Math.min(ze,Ne),Ve=Math.max(Ve,Oe),mt=Math.max(mt,Ne));return new a(Math.round(Me),Math.round(ze),Math.round(Ve-Me),Math.round(mt-ze))},he=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var R,Y,J=(R=this.ctx.lineDash,Y=this.ctx.lineDashOffset,JSON.stringify({lineDash:R,lineDashOffset:Y}));this.prevLineDash!==J&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=J)}}})(Ct.API),function(t){var e=function(s){var o,a,c,l,u,d,h,f,m,g;for(a=[],c=0,l=(s+=o="\0\0\0\0".slice(s.length%4||4)).length;l>c;c+=4)(u=(s.charCodeAt(c)<<24)+(s.charCodeAt(c+1)<<16)+(s.charCodeAt(c+2)<<8)+s.charCodeAt(c+3))!==0?(d=(u=((u=((u=((u=(u-(g=u%85))/85)-(m=u%85))/85)-(f=u%85))/85)-(h=u%85))/85)%85,a.push(d+33,h+33,f+33,m+33,g+33)):a.push(122);return function(E,y){for(var w=y;w>0;w--)E.pop()}(a,o.length),String.fromCharCode.apply(String,a)+"~>"},n=function(s){var o,a,c,l,u,d=String,h="length",f=255,m="charCodeAt",g="slice",E="replace";for(s[g](-2),s=s[g](0,-2)[E](/\s/g,"")[E]("z","!!!!!"),c=[],l=0,u=(s+=o="uuuuu"[g](s[h]%5||5))[h];u>l;l+=5)a=52200625*(s[m](l)-33)+614125*(s[m](l+1)-33)+7225*(s[m](l+2)-33)+85*(s[m](l+3)-33)+(s[m](l+4)-33),c.push(f&a>>24,f&a>>16,f&a>>8,f&a);return function(y,w){for(var x=w;x>0;x--)y.pop()}(c,o[h]),d.fromCharCode.apply(d,c)},r=function(s){var o=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),o.test(s)===!1)return"";for(var a="",c=0;c<s.length;c+=2)a+=String.fromCharCode("0x"+(s[c]+s[c+1]));return a},i=function(s){for(var o=new Uint8Array(s.length),a=s.length;a--;)o[a]=s.charCodeAt(a);return s=(o=PP(o)).reduce(function(c,l){return c+String.fromCharCode(l)},"")};t.processDataByFilters=function(s,o){var a=0,c=s||"",l=[];for(typeof(o=o||[])=="string"&&(o=[o]),a=0;a<o.length;a+=1)switch(o[a]){case"ASCII85Decode":case"/ASCII85Decode":c=n(c),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":c=e(c),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":c=r(c),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":c=c.split("").map(function(u){return("0"+u.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":c=i(c),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+o[a]+'" is not implemented')}return{data:c,reverseChain:l.reverse().join(" ")}}}(Ct.API),function(t){t.loadFile=function(e,n,r){return function(i,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var a=void 0;try{a=function(c,l,u){var d=new XMLHttpRequest,h=0,f=function(m){var g=m.length,E=[],y=String.fromCharCode;for(h=0;h<g;h+=1)E.push(y(255&m.charCodeAt(h)));return E.join("")};if(d.open("GET",c,!l),d.overrideMimeType("text/plain; charset=x-user-defined"),l===!1&&(d.onload=function(){d.status===200?u(f(this.responseText)):u(void 0)}),d.send(null),l&&d.status===200)return f(d.responseText)}(i,s,o)}catch{}return a}(e,n,r)},t.loadImageFile=t.loadFile}(Ct.API),function(t){function e(){return(Nt.html2canvas?Promise.resolve(Nt.html2canvas):ws(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load html2canvas: "+o))}).then(function(o){return o.default?o.default:o})}function n(){return(Nt.DOMPurify?Promise.resolve(Nt.DOMPurify):ws(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(o){return Promise.reject(new Error("Could not load dompurify: "+o))}).then(function(o){return o.default?o.default:o})}var r=function(o){var a=In(o);return a==="undefined"?"undefined":a==="string"||o instanceof String?"string":a==="number"||o instanceof Number?"number":a==="function"||o instanceof Function?"function":o&&o.constructor===Array?"array":o&&o.nodeType===1?"element":a==="object"?"object":"unknown"},i=function(o,a){var c=document.createElement(o);for(var l in a.className&&(c.className=a.className),a.innerHTML&&a.dompurify&&(c.innerHTML=a.dompurify.sanitize(a.innerHTML)),a.style)c.style[l]=a.style[l];return c},s=function o(a){var c=Object.assign(o.convert(Promise.resolve()),JSON.parse(JSON.stringify(o.template))),l=o.convert(Promise.resolve(),c);return l=(l=l.setProgress(1,o,1,[o])).set(a)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(o,a){return o.__proto__=a||s.prototype,o},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(o,a){return this.then(function(){switch(a=a||function(c){switch(r(c)){case"string":return"string";case"element":return c.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(o)){case"string":return this.then(n).then(function(c){return this.set({src:i("div",{innerHTML:o,dompurify:c})})});case"element":return this.set({src:o});case"canvas":return this.set({canvas:o});case"img":return this.set({img:o});default:return this.error("Unknown source type.")}})},s.prototype.to=function(o){switch(o){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var o={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},a=function c(l,u){for(var d=l.nodeType===3?document.createTextNode(l.nodeValue):l.cloneNode(!1),h=l.firstChild;h;h=h.nextSibling)u!==!0&&h.nodeType===1&&h.nodeName==="SCRIPT"||d.appendChild(c(h,u));return l.nodeType===1&&(l.nodeName==="CANVAS"?(d.width=l.width,d.height=l.height,d.getContext("2d").drawImage(l,0,0)):l.nodeName!=="TEXTAREA"&&l.nodeName!=="SELECT"||(d.value=l.value),d.addEventListener("load",function(){d.scrollTop=l.scrollTop,d.scrollLeft=l.scrollLeft},!0)),d}(this.prop.src,this.opt.html2canvas.javascriptEnabled);a.tagName==="BODY"&&(o.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:o}),this.prop.container.appendChild(a),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=Object.assign({},this.opt.html2canvas);return delete c.onrendered,a(this.prop.container,c)}).then(function(a){(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var o=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(o).then(e).then(function(a){var c=this.opt.jsPDF,l=this.opt.fontFaces,u=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,d=Object.assign({async:!0,allowTaint:!0,scale:u,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete d.onrendered,c.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,c.context2d.posX=this.opt.x,c.context2d.posY=this.opt.y,c.context2d.margin=this.opt.margin,c.context2d.fontFaces=l,l)for(var h=0;h<l.length;++h){var f=l[h],m=f.src.find(function(g){return g.format==="truetype"});m&&c.addFont(m.url,f.ref.name,f.ref.style)}return d.windowHeight=d.windowHeight||0,d.windowHeight=d.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):d.windowHeight,c.context2d.save(!0),a(this.prop.container,d)}).then(function(a){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(a),this.prop.canvas=a,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var o=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=o})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(o,a,c){return(c=c||"pdf").toLowerCase()==="img"||c.toLowerCase()==="image"?this.outputImg(o,a):this.outputPdf(o,a)},s.prototype.outputPdf=function(o,a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(o,a)})},s.prototype.outputImg=function(o){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(o){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+o+'" is not supported.'}})},s.prototype.save=function(o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(o?{filename:o}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(o){if(r(o)!=="object")return this;var a=Object.keys(o||{}).map(function(c){if(c in s.template.prop)return function(){this.prop[c]=o[c]};switch(c){case"margin":return this.setMargin.bind(this,o.margin);case"jsPDF":return function(){return this.opt.jsPDF=o.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,o.pageSize);default:return function(){this.opt[c]=o[c]}}},this);return this.then(function(){return this.thenList(a)})},s.prototype.get=function(o,a){return this.then(function(){var c=o in s.template.prop?this.prop[o]:this.opt[o];return a?a(c):c})},s.prototype.setMargin=function(o){return this.then(function(){switch(r(o)){case"number":o=[o,o,o,o];case"array":if(o.length===2&&(o=[o[0],o[1],o[0],o[1]]),o.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=o}).then(this.setPageSize)},s.prototype.setPageSize=function(o){function a(c,l){return Math.floor(c*l/72*96)}return this.then(function(){(o=o||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(o.inner={width:o.width-this.opt.margin[1]-this.opt.margin[3],height:o.height-this.opt.margin[0]-this.opt.margin[2]},o.inner.px={width:a(o.inner.width,o.k),height:a(o.inner.height,o.k)},o.inner.ratio=o.inner.height/o.inner.width),this.prop.pageSize=o})},s.prototype.setProgress=function(o,a,c,l){return o!=null&&(this.progress.val=o),a!=null&&(this.progress.state=a),c!=null&&(this.progress.n=c),l!=null&&(this.progress.stack=l),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(o,a,c,l){return this.setProgress(o?this.progress.val+o:null,a||null,c?this.progress.n+c:null,l?this.progress.stack.concat(l):null)},s.prototype.then=function(o,a){var c=this;return this.thenCore(o,a,function(l,u){return c.updateProgress(null,null,1,[l]),Promise.prototype.then.call(this,function(d){return c.updateProgress(null,l),d}).then(l,u).then(function(d){return c.updateProgress(1),d})})},s.prototype.thenCore=function(o,a,c){c=c||Promise.prototype.then,o&&(o=o.bind(this)),a&&(a=a.bind(this));var l=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),u=c.call(l,o,a);return s.convert(u,this.__proto__)},s.prototype.thenExternal=function(o,a){return Promise.prototype.then.call(this,o,a)},s.prototype.thenList=function(o){var a=this;return o.forEach(function(c){a=a.thenCore(c)}),a},s.prototype.catch=function(o){o&&(o=o.bind(this));var a=Promise.prototype.catch.call(this,o);return s.convert(a,this)},s.prototype.catchExternal=function(o){return Promise.prototype.catch.call(this,o)},s.prototype.error=function(o){return this.then(function(){throw new Error(o)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ct.getPageSize=function(o,a,c){if(In(o)==="object"){var l=o;o=l.orientation,a=l.unit||a,c=l.format||c}a=a||"mm",c=c||"a4",o=(""+(o||"P")).toLowerCase();var u,d=(""+c).toLowerCase(),h={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(a){case"pt":u=1;break;case"mm":u=72/25.4;break;case"cm":u=72/2.54;break;case"in":u=72;break;case"px":u=.75;break;case"pc":case"em":u=12;break;case"ex":u=6;break;default:throw"Invalid unit: "+a}var f,m=0,g=0;if(h.hasOwnProperty(d))m=h[d][1]/u,g=h[d][0]/u;else try{m=c[1],g=c[0]}catch{throw new Error("Invalid format: "+c)}if(o==="p"||o==="portrait")o="p",g>m&&(f=g,g=m,m=f);else{if(o!=="l"&&o!=="landscape")throw"Invalid orientation: "+o;o="l",m>g&&(f=g,g=m,m=f)}return{width:g,height:m,unit:a,k:u,orientation:o}},t.html=function(o,a){(a=a||{}).callback=a.callback||function(){},a.html2canvas=a.html2canvas||{},a.html2canvas.canvas=a.html2canvas.canvas||this.canvas,a.jsPDF=a.jsPDF||this,a.fontFaces=a.fontFaces?a.fontFaces.map(LP):null;var c=new s(a);return a.worker?c:c.from(o).doCallback()}}(Ct.API),Ct.API.addJS=function(t){return q8=t,this.internal.events.subscribe("postPutResources",function(){j5=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(j5+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),H8=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+q8+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){j5!==void 0&&H8!==void 0&&this.internal.out("/Names <</JavaScript "+j5+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var o=i[s],a=r.exec(o);if(a!=null){var c=a[1];n.internal.newObjectDeferredBegin(c,!1)}n.internal.write(o)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,u=[];for(s=0;s<l;s++){var d=n.internal.newObject();u.push(d);var h=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+h.objId+" 0 R /XYZ null null null]>> endobj")}var f=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<u.length;s++)n.internal.write("(page_"+(s+1)+")"+u[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+f+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var o={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(o),o},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var o=r.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var a=this.count=this.count_r({count:0},o);if(a>0&&this.line("/Count "+a),o.options&&o.options.pageNumber){var c=n.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var l=0;l<r.children.length;l++)this.renderItems(r.children[l])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,o,a){var c,l=this.decode.DCT_DECODE,u=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=o||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(c=function(d){for(var h,f=256*d.charCodeAt(4)+d.charCodeAt(5),m=d.length,g={width:0,height:0,numcomponents:1},E=4;E<m;E+=2){if(E+=f,e.indexOf(d.charCodeAt(E+1))!==-1){h=256*d.charCodeAt(E+5)+d.charCodeAt(E+6),g={width:256*d.charCodeAt(E+7)+d.charCodeAt(E+8),height:h,numcomponents:d.charCodeAt(E+9)};break}f=256*d.charCodeAt(E+2)+d.charCodeAt(E+3)}return g}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:a=this.color_spaces.DEVICE_GRAY;break;case 4:a=this.color_spaces.DEVICE_CMYK;break;case 3:a=this.color_spaces.DEVICE_RGB}u={data:n,width:c.width,height:c.height,colorSpace:a,bitsPerComponent:8,filter:l,index:r,alias:i}}return u}}(Ct.API);var Tm,M5,W8,G8,K8,gie=function(){var t,e,n;function r(s){var o,a,c,l,u,d,h,f,m,g,E,y,w,x;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},d=null;;){switch(o=this.readUInt32(),m=(function(){var C,N;for(N=[],C=0;C<4;++C)N.push(String.fromCharCode(this.data[this.pos++]));return N}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(o);break;case"fcTL":d&&this.animation.frames.push(d),this.pos+=4,d={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},u=this.readUInt16(),l=this.readUInt16()||100,d.delay=1e3*u/l,d.disposeOp=this.data[this.pos++],d.blendOp=this.data[this.pos++],d.data=[];break;case"IDAT":case"fdAT":for(m==="fdAT"&&(this.pos+=4,o-=4),s=(d!=null?d.data:void 0)||this.imgData,y=0;0<=o?y<o:y>o;0<=o?++y:--y)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(c=this.palette.length/3,this.transparency.indexed=this.read(o),this.transparency.indexed.length>c)throw new Error("More transparent colors than palette size");if((g=c-this.transparency.indexed.length)>0)for(w=0;0<=g?w<g:w>g;0<=g?++w:--w)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(o)[0];break;case 2:this.transparency.rgb=this.read(o)}break;case"tEXt":h=(E=this.read(o)).indexOf(0),f=String.fromCharCode.apply(String,E.slice(0,h)),this.text[f]=String.fromCharCode.apply(String,E.slice(h+1));break;case"IEND":return d&&this.animation.frames.push(d),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(x=this.colorType)===4||x===6,a=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*a,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=o}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var o,a;for(a=[],o=0;0<=s?o<s:o>s;0<=s?++o:--o)a.push(this.data[this.pos++]);return a},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var o=this.pixelBitlength/8,a=new Uint8Array(this.width*this.height*o),c=0,l=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function u(d,h,f,m){var g,E,y,w,x,C,N,D,O,P,L,$,_,j,K,V,T,k,W,B,z,Z=Math.ceil((l.width-d)/f),he=Math.ceil((l.height-h)/m),R=l.width==Z&&l.height==he;for(j=o*Z,$=R?a:new Uint8Array(j*he),C=s.length,_=0,E=0;_<he&&c<C;){switch(s[c++]){case 0:for(w=T=0;T<j;w=T+=1)$[E++]=s[c++];break;case 1:for(w=k=0;k<j;w=k+=1)g=s[c++],x=w<o?0:$[E-o],$[E++]=(g+x)%256;break;case 2:for(w=W=0;W<j;w=W+=1)g=s[c++],y=(w-w%o)/o,K=_&&$[(_-1)*j+y*o+w%o],$[E++]=(K+g)%256;break;case 3:for(w=B=0;B<j;w=B+=1)g=s[c++],y=(w-w%o)/o,x=w<o?0:$[E-o],K=_&&$[(_-1)*j+y*o+w%o],$[E++]=(g+Math.floor((x+K)/2))%256;break;case 4:for(w=z=0;z<j;w=z+=1)g=s[c++],y=(w-w%o)/o,x=w<o?0:$[E-o],_===0?K=V=0:(K=$[(_-1)*j+y*o+w%o],V=y&&$[(_-1)*j+(y-1)*o+w%o]),N=x+K-V,D=Math.abs(N-x),P=Math.abs(N-K),L=Math.abs(N-V),O=D<=P&&D<=L?x:P<=L?K:V,$[E++]=(g+O)%256;break;default:throw new Error("Invalid filter algorithm: "+s[c-1])}if(!R){var Y=((h+_*m)*l.width+d)*o,J=_*j;for(w=0;w<Z;w+=1){for(var ne=0;ne<o;ne+=1)a[Y++]=$[J++];Y+=(f-1)*o}}_++}}return s=Kre(s),l.interlaceMethod==1?(u(0,0,8,8),u(4,0,8,8),u(0,4,4,8),u(2,0,4,4),u(0,2,2,4),u(1,0,2,2),u(0,1,1,2)):u(0,0,1,1),a},r.prototype.decodePalette=function(){var s,o,a,c,l,u,d,h,f;for(a=this.palette,u=this.transparency.indexed||[],l=new Uint8Array((u.length||0)+a.length),c=0,s=0,o=d=0,h=a.length;d<h;o=d+=3)l[c++]=a[o],l[c++]=a[o+1],l[c++]=a[o+2],l[c++]=(f=u[s++])!=null?f:255;return l},r.prototype.copyToImageData=function(s,o){var a,c,l,u,d,h,f,m,g,E,y;if(c=this.colors,g=null,a=this.hasAlphaChannel,this.palette.length&&(g=(y=this._decodedPalette)!=null?y:this._decodedPalette=this.decodePalette(),c=4,a=!0),m=(l=s.data||s).length,d=g||o,u=h=0,c===1)for(;u<m;)f=g?4*o[u/4]:h,E=d[f++],l[u++]=E,l[u++]=E,l[u++]=E,l[u++]=a?d[f++]:255,h=f;else for(;u<m;)f=g?4*o[u/4]:h,l[u++]=d[f++],l[u++]=d[f++],l[u++]=d[f++],l[u++]=a?d[f++]:255,h=f},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Nt)==="[object Window]"){try{e=Nt.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var o;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(o=new Image).src=e.toDataURL(),o;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var o,a,c,l,u,d,h,f;if(this.animation){for(f=[],a=u=0,d=(h=this.animation.frames).length;u<d;a=++u)o=h[a],c=s.createImageData(o.width,o.height),l=this.decodePixels(new Uint8Array(o.data)),this.copyToImageData(c,l),o.imageData=c,f.push(o.image=t(c));return f}},r.prototype.renderFrame=function(s,o){var a,c,l;return a=(c=this.animation.frames)[o],l=c[o-1],o===0&&s.clearRect(0,0,this.width,this.height),(l!=null?l.disposeOp:void 0)===1?s.clearRect(l.xOffset,l.yOffset,l.width,l.height):(l!=null?l.disposeOp:void 0)===2&&s.putImageData(l.imageData,l.xOffset,l.yOffset),a.blendOp===0&&s.clearRect(a.xOffset,a.yOffset,a.width,a.height),s.drawImage(a.image,a.xOffset,a.yOffset)},r.prototype.animate=function(s){var o,a,c,l,u,d,h=this;return a=0,d=this.animation,l=d.numFrames,c=d.frames,u=d.numPlays,(o=function(){var f,m;if(f=a++%l,m=c[f],h.renderFrame(s,f),l>1&&a/l<u)return h.animation._timeout=setTimeout(o,m.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var o,a;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,o=s.getContext("2d"),this.animation?(this.decodeFrames(o),this.animate(o)):(a=o.createImageData(this.width,this.height),this.copyToImageData(a,this.decodePixels()),o.putImageData(a,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function yie(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,o=1<<(7&i)+1;t[e++],t[e++];var a=null,c=null;s&&(a=e,c=o,e+=3*o);var l=!0,u=[],d=0,h=null,f=0,m=null;for(this.width=n,this.height=r;l&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,m=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var g=t[e++];d=t[e++]|t[e++]<<8,h=t[e++],!(1&g)&&(h=null),f=g>>2&7,e++;break;case 254:for(;;){if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var E=t[e++]|t[e++]<<8,y=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,C=t[e++],N=C>>6&1,D=1<<(7&C)+1,O=a,P=c,L=!1;C>>7&&(L=!0,O=e,P=D,e+=3*D);var $=e;for(e++;;){var _;if(!((_=t[e++])>=0))throw Error("Invalid block size");if(_===0)break;e+=_}u.push({x:E,y,width:w,height:x,has_local_palette:L,palette_offset:O,palette_size:P,data_offset:$,data_length:e-$,transparent_index:h,interlaced:!!N,delay:d,disposal:f});break;case 59:l=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return u.length},this.loopCount=function(){return m},this.frameInfo=function(j){if(j<0||j>=u.length)throw new Error("Frame index out of range.");return u[j]},this.decodeAndBlitFrameBGRA=function(j,K){var V=this.frameInfo(j),T=V.width*V.height,k=new Uint8Array(T);Y8(t,V.data_offset,k,T);var W=V.palette_offset,B=V.transparent_index;B===null&&(B=256);var z=V.width,Z=n-z,he=z,R=4*(V.y*n+V.x),Y=4*((V.y+V.height)*n+V.x),J=R,ne=4*Z;V.interlaced===!0&&(ne+=4*n*7);for(var se=8,de=0,ye=k.length;de<ye;++de){var me=k[de];if(he===0&&(he=z,(J+=ne)>=Y&&(ne=4*Z+4*n*(se-1),J=R+(z+Z)*(se<<1),se>>=1)),me===B)J+=4;else{var Te=t[W+3*me],Pe=t[W+3*me+1],De=t[W+3*me+2];K[J++]=De,K[J++]=Pe,K[J++]=Te,K[J++]=255}--he}},this.decodeAndBlitFrameRGBA=function(j,K){var V=this.frameInfo(j),T=V.width*V.height,k=new Uint8Array(T);Y8(t,V.data_offset,k,T);var W=V.palette_offset,B=V.transparent_index;B===null&&(B=256);var z=V.width,Z=n-z,he=z,R=4*(V.y*n+V.x),Y=4*((V.y+V.height)*n+V.x),J=R,ne=4*Z;V.interlaced===!0&&(ne+=4*n*7);for(var se=8,de=0,ye=k.length;de<ye;++de){var me=k[de];if(he===0&&(he=z,(J+=ne)>=Y&&(ne=4*Z+4*n*(se-1),J=R+(z+Z)*(se<<1),se>>=1)),me===B)J+=4;else{var Te=t[W+3*me],Pe=t[W+3*me+1],De=t[W+3*me+2];K[J++]=Te,K[J++]=Pe,K[J++]=De,K[J++]=255}--he}}}function Y8(t,e,n,r){for(var i=t[e++],s=1<<i,o=s+1,a=o+1,c=i+1,l=(1<<c)-1,u=0,d=0,h=0,f=t[e++],m=new Int32Array(4096),g=null;;){for(;u<16&&f!==0;)d|=t[e++]<<u,u+=8,f===1?f=t[e++]:--f;if(u<c)break;var E=d&l;if(d>>=c,u-=c,E!==s){if(E===o)break;for(var y=E<a?E:g,w=0,x=y;x>s;)x=m[x]>>8,++w;var C=x;if(h+w+(y!==E?1:0)>r)return void $n.log("Warning, gif stream longer than expected.");n[h++]=C;var N=h+=w;for(y!==E&&(n[h++]=C),x=y;w--;)x=m[x],n[--N]=255&x,x>>=8;g!==null&&a<4096&&(m[a++]=g<<8|C,a>=l+1&&c<12&&(++c,l=l<<1|1)),g=E}else a=o+1,l=(1<<(c=i+1))-1,g=null}return h!==r&&$n.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function $N(t){var e,n,r,i,s,o=Math.floor,a=new Array(64),c=new Array(64),l=new Array(64),u=new Array(64),d=new Array(65535),h=new Array(65535),f=new Array(64),m=new Array(64),g=[],E=0,y=7,w=new Array(64),x=new Array(64),C=new Array(64),N=new Array(256),D=new Array(2048),O=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],P=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],L=[0,1,2,3,4,5,6,7,8,9,10,11],$=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],_=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],j=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],K=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],T=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function k(R,Y){for(var J=0,ne=0,se=new Array,de=1;de<=16;de++){for(var ye=1;ye<=R[de];ye++)se[Y[ne]]=[],se[Y[ne]][0]=J,se[Y[ne]][1]=de,ne++,J++;J*=2}return se}function W(R){for(var Y=R[0],J=R[1]-1;J>=0;)Y&1<<J&&(E|=1<<y),J--,--y<0&&(E==255?(B(255),B(0)):B(E),y=7,E=0)}function B(R){g.push(R)}function z(R){B(R>>8&255),B(255&R)}function Z(R,Y,J,ne,se){for(var de,ye=se[0],me=se[240],Te=function(Ne,Me){var ze,Ve,mt,Et,Pt,Rt,Zt,wn,At,Jt,Xe=0;for(At=0;At<8;++At){ze=Ne[Xe],Ve=Ne[Xe+1],mt=Ne[Xe+2],Et=Ne[Xe+3],Pt=Ne[Xe+4],Rt=Ne[Xe+5],Zt=Ne[Xe+6];var Fi=ze+(wn=Ne[Xe+7]),dn=ze-wn,Sa=Ve+Zt,Mn=Ve-Zt,sr=mt+Rt,xc=mt-Rt,vn=Et+Pt,Lh=Et-Pt,yr=Fi+vn,Ca=Fi-vn,Nl=Sa+sr,wr=Sa-sr;Ne[Xe]=yr+Nl,Ne[Xe+4]=yr-Nl;var jt=.707106781*(wr+Ca);Ne[Xe+2]=Ca+jt,Ne[Xe+6]=Ca-jt;var bn=.382683433*((yr=Lh+xc)-(wr=Mn+dn)),Dh=.5411961*yr+bn,xi=1.306562965*wr+bn,Ec=.707106781*(Nl=xc+Mn),Ac=dn+Ec,bt=dn-Ec;Ne[Xe+5]=bt+Dh,Ne[Xe+3]=bt-Dh,Ne[Xe+1]=Ac+xi,Ne[Xe+7]=Ac-xi,Xe+=8}for(Xe=0,At=0;At<8;++At){ze=Ne[Xe],Ve=Ne[Xe+8],mt=Ne[Xe+16],Et=Ne[Xe+24],Pt=Ne[Xe+32],Rt=Ne[Xe+40],Zt=Ne[Xe+48];var Na=ze+(wn=Ne[Xe+56]),Sc=ze-wn,Os=Ve+Zt,Qr=Ve-Zt,$r=mt+Rt,oo=mt-Rt,Xp=Et+Pt,_l=Et-Pt,_a=Na+Xp,Pa=Na-Xp,Ia=Os+$r,Cc=Os-$r;Ne[Xe]=_a+Ia,Ne[Xe+32]=_a-Ia;var $o=.707106781*(Cc+Pa);Ne[Xe+16]=Pa+$o,Ne[Xe+48]=Pa-$o;var Nc=.382683433*((_a=_l+oo)-(Cc=Qr+Sc)),jh=.5411961*_a+Nc,em=1.306562965*Cc+Nc,tm=.707106781*(Ia=oo+Qr),nm=Sc+tm,rm=Sc-tm;Ne[Xe+40]=rm+jh,Ne[Xe+24]=rm-jh,Ne[Xe+8]=nm+em,Ne[Xe+56]=nm-em,Xe++}for(At=0;At<64;++At)Jt=Ne[At]*Me[At],f[At]=Jt>0?Jt+.5|0:Jt-.5|0;return f}(R,Y),Pe=0;Pe<64;++Pe)m[O[Pe]]=Te[Pe];var De=m[0]-J;J=m[0],De==0?W(ne[0]):(W(ne[h[de=32767+De]]),W(d[de]));for(var je=63;je>0&&m[je]==0;)je--;if(je==0)return W(ye),J;for(var et,Ae=1;Ae<=je;){for(var ie=Ae;m[Ae]==0&&Ae<=je;)++Ae;var Tt=Ae-ie;if(Tt>=16){et=Tt>>4;for(var Oe=1;Oe<=et;++Oe)W(me);Tt&=15}de=32767+m[Ae],W(se[(Tt<<4)+h[de]]),W(d[de]),Ae++}return je!=63&&W(ye),J}function he(R){R=Math.min(Math.max(R,1),100),s!=R&&(function(Y){for(var J=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var se=o((J[ne]*Y+50)/100);se=Math.min(Math.max(se,1),255),a[O[ne]]=se}for(var de=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ye=0;ye<64;ye++){var me=o((de[ye]*Y+50)/100);me=Math.min(Math.max(me,1),255),c[O[ye]]=me}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Pe=0,De=0;De<8;De++)for(var je=0;je<8;je++)l[Pe]=1/(a[O[Pe]]*Te[De]*Te[je]*8),u[Pe]=1/(c[O[Pe]]*Te[De]*Te[je]*8),Pe++}(R<50?Math.floor(5e3/R):Math.floor(200-2*R)),s=R)}this.encode=function(R,Y){Y&&he(Y),g=new Array,E=0,y=7,z(65496),z(65504),z(16),B(74),B(70),B(73),B(70),B(0),B(1),B(1),B(0),z(1),z(1),B(0),B(0),function(){z(65499),z(132),B(0);for(var Ve=0;Ve<64;Ve++)B(a[Ve]);B(1);for(var mt=0;mt<64;mt++)B(c[mt])}(),function(Ve,mt){z(65472),z(17),B(8),z(mt),z(Ve),B(3),B(1),B(17),B(0),B(2),B(17),B(1),B(3),B(17),B(1)}(R.width,R.height),function(){z(65476),z(418),B(0);for(var Ve=0;Ve<16;Ve++)B(P[Ve+1]);for(var mt=0;mt<=11;mt++)B(L[mt]);B(16);for(var Et=0;Et<16;Et++)B($[Et+1]);for(var Pt=0;Pt<=161;Pt++)B(_[Pt]);B(1);for(var Rt=0;Rt<16;Rt++)B(j[Rt+1]);for(var Zt=0;Zt<=11;Zt++)B(K[Zt]);B(17);for(var wn=0;wn<16;wn++)B(V[wn+1]);for(var At=0;At<=161;At++)B(T[At])}(),z(65498),z(12),B(3),B(1),B(0),B(2),B(17),B(3),B(17),B(0),B(63),B(0);var J=0,ne=0,se=0;E=0,y=7,this.encode.displayName="_encode_";for(var de,ye,me,Te,Pe,De,je,et,Ae,ie=R.data,Tt=R.width,Oe=R.height,Ne=4*Tt,Me=0;Me<Oe;){for(de=0;de<Ne;){for(Pe=Ne*Me+de,je=-1,et=0,Ae=0;Ae<64;Ae++)De=Pe+(et=Ae>>3)*Ne+(je=4*(7&Ae)),Me+et>=Oe&&(De-=Ne*(Me+1+et-Oe)),de+je>=Ne&&(De-=de+je-Ne+4),ye=ie[De++],me=ie[De++],Te=ie[De++],w[Ae]=(D[ye]+D[me+256>>0]+D[Te+512>>0]>>16)-128,x[Ae]=(D[ye+768>>0]+D[me+1024>>0]+D[Te+1280>>0]>>16)-128,C[Ae]=(D[ye+1280>>0]+D[me+1536>>0]+D[Te+1792>>0]>>16)-128;J=Z(w,l,J,e,r),ne=Z(x,u,ne,n,i),se=Z(C,u,se,n,i),de+=32}Me+=8}if(y>=0){var ze=[];ze[1]=y+1,ze[0]=(1<<y+1)-1,W(ze)}return z(65497),new Uint8Array(g)},t=t||50,function(){for(var R=String.fromCharCode,Y=0;Y<256;Y++)N[Y]=R(Y)}(),e=k(P,L),n=k(j,K),r=k($,_),i=k(V,T),function(){for(var R=1,Y=2,J=1;J<=15;J++){for(var ne=R;ne<Y;ne++)h[32767+ne]=J,d[32767+ne]=[],d[32767+ne][1]=J,d[32767+ne][0]=ne;for(var se=-(Y-1);se<=-R;se++)h[32767+se]=J,d[32767+se]=[],d[32767+se][1]=J,d[32767+se][0]=Y-1+se;R<<=1,Y<<=1}}(),function(){for(var R=0;R<256;R++)D[R]=19595*R,D[R+256>>0]=38470*R,D[R+512>>0]=7471*R+32768,D[R+768>>0]=-11059*R,D[R+1024>>0]=-21709*R,D[R+1280>>0]=32768*R+8421375,D[R+1536>>0]=-27439*R,D[R+1792>>0]=-5329*R}(),he(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Ma(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function J8(t){function e(P){if(!P)throw Error("assert :P")}function n(P,L,$){for(var _=0;4>_;_++)if(P[L+_]!=$.charCodeAt(_))return!0;return!1}function r(P,L,$,_,j){for(var K=0;K<j;K++)P[L+K]=$[_+K]}function i(P,L,$,_){for(var j=0;j<_;j++)P[L+j]=$}function s(P){return new Int32Array(P)}function o(P,L){for(var $=[],_=0;_<P;_++)$.push(new L);return $}function a(P,L){var $=[];return function _(j,K,V){for(var T=V[K],k=0;k<T&&(j.push(V.length>K+1?[]:new L),!(V.length<K+1));k++)_(j[k],K+1,V)}($,0,P),$}var c=function(){var P=this;function L(p,b){for(var S=1<<b-1>>>0;p&S;)S>>>=1;return S?(p&S-1)+S:p}function $(p,b,S,I,U){e(!(I%S));do p[b+(I-=S)]=U;while(0<I)}function _(p,b,S,I,U){if(e(2328>=U),512>=U)var H=s(512);else if((H=s(U))==null)return 0;return function(q,G,Q,ee,le,be){var xe,ge,ke=G,Se=1<<Q,ue=s(16),pe=s(16);for(e(le!=0),e(ee!=null),e(q!=null),e(0<Q),ge=0;ge<le;++ge){if(15<ee[ge])return 0;++ue[ee[ge]]}if(ue[0]==le)return 0;for(pe[1]=0,xe=1;15>xe;++xe){if(ue[xe]>1<<xe)return 0;pe[xe+1]=pe[xe]+ue[xe]}for(ge=0;ge<le;++ge)xe=ee[ge],0<ee[ge]&&(be[pe[xe]++]=ge);if(pe[15]==1)return(ee=new j).g=0,ee.value=be[0],$(q,ke,1,Se,ee),Se;var _e,Le=-1,Ie=Se-1,nt=0,Ye=1,vt=1,Je=1<<Q;for(ge=0,xe=1,le=2;xe<=Q;++xe,le<<=1){if(Ye+=vt<<=1,0>(vt-=ue[xe]))return 0;for(;0<ue[xe];--ue[xe])(ee=new j).g=xe,ee.value=be[ge++],$(q,ke+nt,le,Je,ee),nt=L(nt,xe)}for(xe=Q+1,le=2;15>=xe;++xe,le<<=1){if(Ye+=vt<<=1,0>(vt-=ue[xe]))return 0;for(;0<ue[xe];--ue[xe]){if(ee=new j,(nt&Ie)!=Le){for(ke+=Je,_e=1<<(Le=xe)-Q;15>Le&&!(0>=(_e-=ue[Le]));)++Le,_e<<=1;Se+=Je=1<<(_e=Le-Q),q[G+(Le=nt&Ie)].g=_e+Q,q[G+Le].value=ke-G-Le}ee.g=xe-Q,ee.value=be[ge++],$(q,ke+(nt>>Q),le,Je,ee),nt=L(nt,xe)}}return Ye!=2*pe[15]-1?0:Se}(p,b,S,I,U,H)}function j(){this.value=this.g=0}function K(){this.value=this.g=0}function V(){this.G=o(5,j),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Ei,K)}function T(p,b,S,I){e(p!=null),e(b!=null),e(2147483648>I),p.Ca=254,p.I=0,p.b=-8,p.Ka=0,p.oa=b,p.pa=S,p.Jd=b,p.Yc=S+I,p.Zc=4<=I?S+I-4+1:S,de(p)}function k(p,b){for(var S=0;0<b--;)S|=me(p,128)<<b;return S}function W(p,b){var S=k(p,b);return ye(p)?-S:S}function B(p,b,S,I){var U,H=0;for(e(p!=null),e(b!=null),e(4294967288>I),p.Sb=I,p.Ra=0,p.u=0,p.h=0,4<I&&(I=4),U=0;U<I;++U)H+=b[S+U]<<8*U;p.Ra=H,p.bb=I,p.oa=b,p.pa=S}function z(p){for(;8<=p.u&&p.bb<p.Sb;)p.Ra>>>=8,p.Ra+=p.oa[p.pa+p.bb]<<wm-8>>>0,++p.bb,p.u-=8;J(p)&&(p.h=1,p.u=0)}function Z(p,b){if(e(0<=b),!p.h&&b<=ym){var S=Y(p)&gm[b];return p.u+=b,z(p),S}return p.h=1,p.u=0}function he(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function R(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Y(p){return p.Ra>>>(p.u&wm-1)>>>0}function J(p){return e(p.bb<=p.Sb),p.h||p.bb==p.Sb&&p.u>wm}function ne(p,b){p.u=b,p.h=J(p)}function se(p){p.u>=d1&&(e(p.u>=d1),z(p))}function de(p){e(p!=null&&p.oa!=null),p.pa<p.Zc?(p.I=(p.oa[p.pa++]|p.I<<8)>>>0,p.b+=8):(e(p!=null&&p.oa!=null),p.pa<p.Yc?(p.b+=8,p.I=p.oa[p.pa++]|p.I<<8):p.Ka?p.b=0:(p.I<<=8,p.b+=8,p.Ka=1))}function ye(p){return k(p,1)}function me(p,b){var S=p.Ca;0>p.b&&de(p);var I=p.b,U=S*b>>>8,H=(p.I>>>I>U)+0;for(H?(S-=U,p.I-=U+1<<I>>>0):S=U+1,I=S,U=0;256<=I;)U+=8,I>>=8;return I=7^U+Ls[I],p.b-=I,p.Ca=(S<<I)-1,H}function Te(p,b,S){p[b+0]=S>>24&255,p[b+1]=S>>16&255,p[b+2]=S>>8&255,p[b+3]=S>>0&255}function Pe(p,b){return p[b+0]<<0|p[b+1]<<8}function De(p,b){return Pe(p,b)|p[b+2]<<16}function je(p,b){return Pe(p,b)|Pe(p,b+2)<<16}function et(p,b){var S=1<<b;return e(p!=null),e(0<b),p.X=s(S),p.X==null?0:(p.Mb=32-b,p.Xa=b,1)}function Ae(p,b){e(p!=null),e(b!=null),e(p.Xa==b.Xa),r(b.X,0,p.X,0,1<<b.Xa)}function ie(){this.X=[],this.Xa=this.Mb=0}function Tt(p,b,S,I){e(S!=null),e(I!=null);var U=S[0],H=I[0];return U==0&&(U=(p*H+b/2)/b),H==0&&(H=(b*U+p/2)/p),0>=U||0>=H?0:(S[0]=U,I[0]=H,1)}function Oe(p,b){return p+(1<<b)-1>>>b}function Ne(p,b){return((4278255360&p)+(4278255360&b)>>>0&4278255360)+((16711935&p)+(16711935&b)>>>0&16711935)>>>0}function Me(p,b){P[b]=function(S,I,U,H,q,G,Q){var ee;for(ee=0;ee<q;++ee){var le=P[p](G[Q+ee-1],U,H+ee);G[Q+ee]=Ne(S[I+ee],le)}}}function ze(){this.ud=this.hd=this.jd=0}function Ve(p,b){return((4278124286&(p^b))>>>1)+(p&b)>>>0}function mt(p){return 0<=p&&256>p?p:0>p?0:255<p?255:void 0}function Et(p,b){return mt(p+(p-b+.5>>1))}function Pt(p,b,S){return Math.abs(b-S)-Math.abs(p-S)}function Rt(p,b,S,I,U,H,q){for(I=H[q-1],S=0;S<U;++S)H[q+S]=I=Ne(p[b+S],I)}function Zt(p,b,S,I,U){var H;for(H=0;H<S;++H){var q=p[b+H],G=q>>8&255,Q=16711935&(Q=(Q=16711935&q)+((G<<16)+G));I[U+H]=(4278255360&q)+Q>>>0}}function wn(p,b){b.jd=p>>0&255,b.hd=p>>8&255,b.ud=p>>16&255}function At(p,b,S,I,U,H){var q;for(q=0;q<I;++q){var G=b[S+q],Q=G>>>8,ee=G,le=255&(le=(le=G>>>16)+((p.jd<<24>>24)*(Q<<24>>24)>>>5));ee=255&(ee=(ee=ee+((p.hd<<24>>24)*(Q<<24>>24)>>>5))+((p.ud<<24>>24)*(le<<24>>24)>>>5)),U[H+q]=(4278255360&G)+(le<<16)+ee}}function Jt(p,b,S,I,U){P[b]=function(H,q,G,Q,ee,le,be,xe,ge){for(Q=be;Q<xe;++Q)for(be=0;be<ge;++be)ee[le++]=U(G[I(H[q++])])},P[p]=function(H,q,G,Q,ee,le,be){var xe=8>>H.b,ge=H.Ea,ke=H.K[0],Se=H.w;if(8>xe)for(H=(1<<H.b)-1,Se=(1<<xe)-1;q<G;++q){var ue,pe=0;for(ue=0;ue<ge;++ue)ue&H||(pe=I(Q[ee++])),le[be++]=U(ke[pe&Se]),pe>>=xe}else P["VP8LMapColor"+S](Q,ee,ke,Se,le,be,q,G,ge)}}function Xe(p,b,S,I,U){for(S=b+S;b<S;){var H=p[b++];I[U++]=H>>16&255,I[U++]=H>>8&255,I[U++]=H>>0&255}}function Fi(p,b,S,I,U){for(S=b+S;b<S;){var H=p[b++];I[U++]=H>>16&255,I[U++]=H>>8&255,I[U++]=H>>0&255,I[U++]=H>>24&255}}function dn(p,b,S,I,U){for(S=b+S;b<S;){var H=(q=p[b++])>>16&240|q>>12&15,q=q>>0&240|q>>28&15;I[U++]=H,I[U++]=q}}function Sa(p,b,S,I,U){for(S=b+S;b<S;){var H=(q=p[b++])>>16&248|q>>13&7,q=q>>5&224|q>>3&31;I[U++]=H,I[U++]=q}}function Mn(p,b,S,I,U){for(S=b+S;b<S;){var H=p[b++];I[U++]=H>>0&255,I[U++]=H>>8&255,I[U++]=H>>16&255}}function sr(p,b,S,I,U,H){if(H==0)for(S=b+S;b<S;)Te(I,((H=p[b++])[0]>>24|H[1]>>8&65280|H[2]<<8&16711680|H[3]<<24)>>>0),U+=32;else r(I,U,p,b,S)}function xc(p,b){P[b][0]=P[p+"0"],P[b][1]=P[p+"1"],P[b][2]=P[p+"2"],P[b][3]=P[p+"3"],P[b][4]=P[p+"4"],P[b][5]=P[p+"5"],P[b][6]=P[p+"6"],P[b][7]=P[p+"7"],P[b][8]=P[p+"8"],P[b][9]=P[p+"9"],P[b][10]=P[p+"10"],P[b][11]=P[p+"11"],P[b][12]=P[p+"12"],P[b][13]=P[p+"13"],P[b][14]=P[p+"0"],P[b][15]=P[p+"0"]}function vn(p){return p==SC||p==CC||p==Q2||p==NC}function Lh(){this.eb=[],this.size=this.A=this.fb=0}function yr(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Ca(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Lh,this.f.kb=new yr,this.sd=null}function Nl(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function wr(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jt(p){return alert("todo:WebPSamplerProcessPlane"),p.T}function bn(p,b){var S=p.T,I=b.ba.f.RGBA,U=I.eb,H=I.fb+p.ka*I.A,q=Go[b.ba.S],G=p.y,Q=p.O,ee=p.f,le=p.N,be=p.ea,xe=p.W,ge=b.cc,ke=b.dc,Se=b.Mc,ue=b.Nc,pe=p.ka,_e=p.ka+p.T,Le=p.U,Ie=Le+1>>1;for(pe==0?q(G,Q,null,null,ee,le,be,xe,ee,le,be,xe,U,H,null,null,Le):(q(b.ec,b.fc,G,Q,ge,ke,Se,ue,ee,le,be,xe,U,H-I.A,U,H,Le),++S);pe+2<_e;pe+=2)ge=ee,ke=le,Se=be,ue=xe,le+=p.Rc,xe+=p.Rc,H+=2*I.A,q(G,(Q+=2*p.fa)-p.fa,G,Q,ge,ke,Se,ue,ee,le,be,xe,U,H-I.A,U,H,Le);return Q+=p.fa,p.j+_e<p.o?(r(b.ec,b.fc,G,Q,Le),r(b.cc,b.dc,ee,le,Ie),r(b.Mc,b.Nc,be,xe,Ie),S--):1&_e||q(G,Q,null,null,ee,le,be,xe,ee,le,be,xe,U,H+I.A,null,null,Le),S}function Dh(p,b,S){var I=p.F,U=[p.J];if(I!=null){var H=p.U,q=b.ba.S,G=q==J2||q==Q2;b=b.ba.f.RGBA;var Q=[0],ee=p.ka;Q[0]=p.T,p.Kb&&(ee==0?--Q[0]:(--ee,U[0]-=p.width),p.j+p.ka+p.T==p.o&&(Q[0]=p.o-p.j-ee));var le=b.eb;ee=b.fb+ee*b.A,p=Wn(I,U[0],p.width,H,Q,le,ee+(G?0:3),b.A),e(S==Q),p&&vn(q)&&qo(le,ee,G,H,Q,b.A)}return 0}function xi(p){var b=p.ma,S=b.ba.S,I=11>S,U=S==K2||S==Y2||S==J2||S==AC||S==12||vn(S);if(b.memory=null,b.Ib=null,b.Jb=null,b.Nd=null,!l1(b.Oa,p,U?11:12))return 0;if(U&&vn(S)&&Be(),p.da)alert("todo:use_scaling");else{if(I){if(b.Ib=jt,p.Kb){if(S=p.U+1>>1,b.memory=s(p.U+2*S),b.memory==null)return 0;b.ec=b.memory,b.fc=0,b.cc=b.ec,b.dc=b.fc+p.U,b.Mc=b.cc,b.Nc=b.dc+S,b.Ib=bn,Be()}}else alert("todo:EmitYUV");U&&(b.Jb=Dh,I&&we())}if(I&&!S6){for(p=0;256>p;++p)cG[p]=89858*(p-128)+X2>>Z2,dG[p]=-22014*(p-128)+X2,uG[p]=-45773*(p-128),lG[p]=113618*(p-128)+X2>>Z2;for(p=w1;p<IC;++p)b=76283*(p-16)+X2>>Z2,hG[p-w1]=ao(b,255),fG[p-w1]=ao(b+8>>4,15);S6=1}return 1}function Ec(p){var b=p.ma,S=p.U,I=p.T;return e(!(1&p.ka)),0>=S||0>=I?0:(S=b.Ib(p,b),b.Jb!=null&&b.Jb(p,b,S),b.Dc+=S,1)}function Ac(p){p.ma.memory=null}function bt(p,b,S,I){return Z(p,8)!=47?0:(b[0]=Z(p,14)+1,S[0]=Z(p,14)+1,I[0]=Z(p,1),Z(p,3)!=0?0:!p.h)}function Na(p,b){if(4>p)return p+1;var S=p-2>>1;return(2+(1&p)<<S)+Z(b,S)+1}function Sc(p,b){return 120<b?b-120:1<=(S=((S=KW[b-1])>>4)*p+(8-(15&S)))?S:1;var S}function Os(p,b,S){var I=Y(S),U=p[b+=255&I].g-8;return 0<U&&(ne(S,S.u+8),I=Y(S),b+=p[b].value,b+=I&(1<<U)-1),ne(S,S.u+p[b].g),p[b].value}function Qr(p,b,S){return S.g+=p.g,S.value+=p.value<<b>>>0,e(8>=S.g),p.g}function $r(p,b,S){var I=p.xc;return e((b=I==0?0:p.vc[p.md*(S>>I)+(b>>I)])<p.Wb),p.Ya[b]}function oo(p,b,S,I){var U=p.ab,H=p.c*b,q=p.C;b=q+b;var G=S,Q=I;for(I=p.Ta,S=p.Ua;0<U--;){var ee=p.gc[U],le=q,be=b,xe=G,ge=Q,ke=(Q=I,G=S,ee.Ea);switch(e(le<be),e(be<=ee.nc),ee.hc){case 2:$2(xe,ge,(be-le)*ke,Q,G);break;case 0:var Se=le,ue=be,pe=Q,_e=G,Le=(Je=ee).Ea;Se==0&&(xC(xe,ge,null,null,1,pe,_e),Rt(xe,ge+1,0,0,Le-1,pe,_e+1),ge+=Le,_e+=Le,++Se);for(var Ie=1<<Je.b,nt=Ie-1,Ye=Oe(Le,Je.b),vt=Je.K,Je=Je.w+(Se>>Je.b)*Ye;Se<ue;){var yn=vt,Sn=Je,cn=1;for(h1(xe,ge,pe,_e-Le,1,pe,_e);cn<Le;){var en=(cn&~nt)+Ie;en>Le&&(en=Le),(0,Vu[yn[Sn++]>>8&15])(xe,ge+ +cn,pe,_e+cn-Le,en-cn,pe,_e+cn),cn=en}ge+=Le,_e+=Le,++Se&nt||(Je+=Ye)}be!=ee.nc&&r(Q,G-ke,Q,G+(be-le-1)*ke,ke);break;case 1:for(ke=xe,ue=ge,Le=(xe=ee.Ea)-(_e=xe&~(pe=(ge=1<<ee.b)-1)),Se=Oe(xe,ee.b),Ie=ee.K,ee=ee.w+(le>>ee.b)*Se;le<be;){for(nt=Ie,Ye=ee,vt=new ze,Je=ue+_e,yn=ue+xe;ue<Je;)wn(nt[Ye++],vt),$h(vt,ke,ue,ge,Q,G),ue+=ge,G+=ge;ue<yn&&(wn(nt[Ye++],vt),$h(vt,ke,ue,Le,Q,G),ue+=Le,G+=Le),++le&pe||(ee+=Se)}break;case 3:if(xe==Q&&ge==G&&0<ee.b){for(ue=Q,xe=ke=G+(be-le)*ke-(_e=(be-le)*Oe(ee.Ea,ee.b)),ge=Q,pe=G,Se=[],_e=(Le=_e)-1;0<=_e;--_e)Se[_e]=ge[pe+_e];for(_e=Le-1;0<=_e;--_e)ue[xe+_e]=Se[_e];zo(ee,le,be,Q,ke,Q,G)}else zo(ee,le,be,xe,ge,Q,G)}G=I,Q=S}Q!=S&&r(I,S,G,Q,H)}function Xp(p,b){var S=p.V,I=p.Ba+p.c*p.C,U=b-p.C;if(e(b<=p.l.o),e(16>=U),0<U){var H=p.l,q=p.Ta,G=p.Ua,Q=H.width;if(oo(p,U,S,I),U=G=[G],e((S=p.C)<(I=b)),e(H.v<H.va),I>H.o&&(I=H.o),S<H.j){var ee=H.j-S;S=H.j,U[0]+=ee*Q}if(S>=I?S=0:(U[0]+=4*H.v,H.ka=S-H.j,H.U=H.va-H.v,H.T=I-S,S=1),S){if(G=G[0],11>(S=p.ca).S){var le=S.f.RGBA,be=(I=S.S,U=H.U,H=H.T,ee=le.eb,le.A),xe=H;for(le=le.fb+p.Ma*le.A;0<xe--;){var ge=q,ke=G,Se=U,ue=ee,pe=le;switch(I){case G2:Ds(ge,ke,Se,ue,pe);break;case K2:hs(ge,ke,Se,ue,pe);break;case SC:hs(ge,ke,Se,ue,pe),qo(ue,pe,0,Se,1,0);break;case p6:kl(ge,ke,Se,ue,pe);break;case Y2:sr(ge,ke,Se,ue,pe,1);break;case CC:sr(ge,ke,Se,ue,pe,1),qo(ue,pe,0,Se,1,0);break;case J2:sr(ge,ke,Se,ue,pe,0);break;case Q2:sr(ge,ke,Se,ue,pe,0),qo(ue,pe,1,Se,1,0);break;case AC:Hu(ge,ke,Se,ue,pe);break;case NC:Hu(ge,ke,Se,ue,pe),qn(ue,pe,Se,1,0);break;case m6:Tl(ge,ke,Se,ue,pe);break;default:e(0)}G+=Q,le+=be}p.Ma+=H}else alert("todo:EmitRescaledRowsYUVA");e(p.Ma<=S.height)}}p.C=b,e(p.C<=p.i)}function _l(p){var b;if(0<p.ua)return 0;for(b=0;b<p.Wb;++b){var S=p.Ya[b].G,I=p.Ya[b].H;if(0<S[1][I[1]+0].g||0<S[2][I[2]+0].g||0<S[3][I[3]+0].g)return 0}return 1}function _a(p,b,S,I,U,H){if(p.Z!=0){var q=p.qd,G=p.rd;for(e(Ku[p.Z]!=null);b<S;++b)Ku[p.Z](q,G,I,U,I,U,H),q=I,G=U,U+=H;p.qd=q,p.rd=G}}function Pa(p,b){var S=p.l.ma,I=S.Z==0||S.Z==1?p.l.j:p.C;if(I=p.C<I?I:p.C,e(b<=p.l.o),b>I){var U=p.l.width,H=S.ca,q=S.tb+U*I,G=p.V,Q=p.Ba+p.c*I,ee=p.gc;e(p.ab==1),e(ee[0].hc==3),z2(ee[0],I,b,G,Q,H,q),_a(S,I,b,H,q,U)}p.C=p.Ma=b}function Ia(p,b,S,I,U,H,q){var G=p.$/I,Q=p.$%I,ee=p.m,le=p.s,be=S+p.$,xe=be;U=S+I*U;var ge=S+I*H,ke=280+le.ua,Se=p.Pb?G:16777216,ue=0<le.ua?le.Wa:null,pe=le.wc,_e=be<ge?$r(le,Q,G):null;e(p.C<H),e(ge<=U);var Le=!1;e:for(;;){for(;Le||be<ge;){var Ie=0;if(G>=Se){var nt=be-S;e((Se=p).Pb),Se.wd=Se.m,Se.xd=nt,0<Se.s.ua&&Ae(Se.s.Wa,Se.s.vb),Se=G+JW}if(Q&pe||(_e=$r(le,Q,G)),e(_e!=null),_e.Qb&&(b[be]=_e.qb,Le=!0),!Le)if(se(ee),_e.jc){Ie=ee,nt=b;var Ye=be,vt=_e.pd[Y(Ie)&Ei-1];e(_e.jc),256>vt.g?(ne(Ie,Ie.u+vt.g),nt[Ye]=vt.value,Ie=0):(ne(Ie,Ie.u+vt.g-256),e(256<=vt.value),Ie=vt.value),Ie==0&&(Le=!0)}else Ie=Os(_e.G[0],_e.H[0],ee);if(ee.h)break;if(Le||256>Ie){if(!Le)if(_e.nd)b[be]=(_e.qb|Ie<<8)>>>0;else{if(se(ee),Le=Os(_e.G[1],_e.H[1],ee),se(ee),nt=Os(_e.G[2],_e.H[2],ee),Ye=Os(_e.G[3],_e.H[3],ee),ee.h)break;b[be]=(Ye<<24|Le<<16|Ie<<8|nt)>>>0}if(Le=!1,++be,++Q>=I&&(Q=0,++G,q!=null&&G<=H&&!(G%16)&&q(p,G),ue!=null))for(;xe<be;)Ie=b[xe++],ue.X[(506832829*Ie&4294967295)>>>ue.Mb]=Ie}else if(280>Ie){if(Ie=Na(Ie-256,ee),nt=Os(_e.G[4],_e.H[4],ee),se(ee),nt=Sc(I,nt=Na(nt,ee)),ee.h)break;if(be-S<nt||U-be<Ie)break e;for(Ye=0;Ye<Ie;++Ye)b[be+Ye]=b[be+Ye-nt];for(be+=Ie,Q+=Ie;Q>=I;)Q-=I,++G,q!=null&&G<=H&&!(G%16)&&q(p,G);if(e(be<=U),Q&pe&&(_e=$r(le,Q,G)),ue!=null)for(;xe<be;)Ie=b[xe++],ue.X[(506832829*Ie&4294967295)>>>ue.Mb]=Ie}else{if(!(Ie<ke))break e;for(Le=Ie-280,e(ue!=null);xe<be;)Ie=b[xe++],ue.X[(506832829*Ie&4294967295)>>>ue.Mb]=Ie;Ie=be,e(!(Le>>>(nt=ue).Xa)),b[Ie]=nt.X[Le],Le=!0}Le||e(ee.h==J(ee))}if(p.Pb&&ee.h&&be<U)e(p.m.h),p.a=5,p.m=p.wd,p.$=p.xd,0<p.s.ua&&Ae(p.s.vb,p.s.Wa);else{if(ee.h)break e;q!=null&&q(p,G>H?H:G),p.a=0,p.$=be-S}return 1}return p.a=3,0}function Cc(p){e(p!=null),p.vc=null,p.yc=null,p.Ya=null;var b=p.Wa;b!=null&&(b.X=null),p.vb=null,e(p!=null)}function $o(){var p=new bC;return p==null?null:(p.a=0,p.xb=w6,xc("Predictor","VP8LPredictors"),xc("Predictor","VP8LPredictors_C"),xc("PredictorAdd","VP8LPredictorsAdd"),xc("PredictorAdd","VP8LPredictorsAdd_C"),$2=Zt,$h=At,Ds=Xe,hs=Fi,Hu=dn,Tl=Sa,kl=Mn,P.VP8LMapColor32b=vm,P.VP8LMapColor8b=V2,p)}function Nc(p,b,S,I,U){var H=1,q=[p],G=[b],Q=I.m,ee=I.s,le=null,be=0;e:for(;;){if(S)for(;H&&Z(Q,1);){var xe=q,ge=G,ke=I,Se=1,ue=ke.m,pe=ke.gc[ke.ab],_e=Z(ue,2);if(ke.Oc&1<<_e)H=0;else{switch(ke.Oc|=1<<_e,pe.hc=_e,pe.Ea=xe[0],pe.nc=ge[0],pe.K=[null],++ke.ab,e(4>=ke.ab),_e){case 0:case 1:pe.b=Z(ue,3)+2,Se=Nc(Oe(pe.Ea,pe.b),Oe(pe.nc,pe.b),0,ke,pe.K),pe.K=pe.K[0];break;case 3:var Le,Ie=Z(ue,8)+1,nt=16<Ie?0:4<Ie?1:2<Ie?2:3;if(xe[0]=Oe(pe.Ea,nt),pe.b=nt,Le=Se=Nc(Ie,1,0,ke,pe.K)){var Ye,vt=Ie,Je=pe,yn=1<<(8>>Je.b),Sn=s(yn);if(Sn==null)Le=0;else{var cn=Je.K[0],en=Je.w;for(Sn[0]=Je.K[0][0],Ye=1;Ye<1*vt;++Ye)Sn[Ye]=Ne(cn[en+Ye],Sn[Ye-1]);for(;Ye<4*yn;++Ye)Sn[Ye]=0;Je.K[0]=null,Je.K[0]=Sn,Le=1}}Se=Le;break;case 2:break;default:e(0)}H=Se}}if(q=q[0],G=G[0],H&&Z(Q,1)&&!(H=1<=(be=Z(Q,4))&&11>=be)){I.a=3;break e}var Bn;if(Bn=H)t:{var On,zt,Vr,js=I,Hr=q,Ms=G,Cn=be,lo=S,uo=js.m,si=js.s,Ai=[null],ps=1,Ko=0,Tc=YW[Cn];n:for(;;){if(lo&&Z(uo,1)){var oi=Z(uo,3)+2,Dl=Oe(Hr,oi),Wh=Oe(Ms,oi),Sm=Dl*Wh;if(!Nc(Dl,Wh,0,js,Ai))break n;for(Ai=Ai[0],si.xc=oi,On=0;On<Sm;++On){var Yu=Ai[On]>>8&65535;Ai[On]=Yu,Yu>=ps&&(ps=Yu+1)}}if(uo.h)break n;for(zt=0;5>zt;++zt){var br=g6[zt];!zt&&0<Cn&&(br+=1<<Cn),Ko<br&&(Ko=br)}var TC=o(ps*Tc,j),_6=ps,P6=o(_6,V);if(P6==null)var t5=null;else e(65536>=_6),t5=P6;var v1=s(Ko);if(t5==null||v1==null||TC==null){js.a=1;break n}var n5=TC;for(On=Vr=0;On<ps;++On){var La=t5[On],Cm=La.G,Nm=La.H,I6=0,r5=1,T6=0;for(zt=0;5>zt;++zt){br=g6[zt],Cm[zt]=n5,Nm[zt]=Vr,!zt&&0<Cn&&(br+=1<<Cn);i:{var i5,kC=br,s5=js,b1=v1,gG=n5,yG=Vr,OC=0,Ju=s5.m,wG=Z(Ju,1);if(i(b1,0,0,kC),wG){var vG=Z(Ju,1)+1,bG=Z(Ju,1),k6=Z(Ju,bG==0?1:8);b1[k6]=1,vG==2&&(b1[k6=Z(Ju,8)]=1);var o5=1}else{var O6=s(19),R6=Z(Ju,4)+4;if(19<R6){s5.a=3;var a5=0;break i}for(i5=0;i5<R6;++i5)O6[GW[i5]]=Z(Ju,3);var RC=void 0,x1=void 0,L6=s5,xG=O6,c5=kC,D6=b1,LC=0,Qu=L6.m,j6=8,M6=o(128,j);r:for(;_(M6,0,7,xG,19);){if(Z(Qu,1)){var EG=2+2*Z(Qu,3);if((RC=2+Z(Qu,EG))>c5)break r}else RC=c5;for(x1=0;x1<c5&&RC--;){se(Qu);var B6=M6[0+(127&Y(Qu))];ne(Qu,Qu.u+B6.g);var _m=B6.value;if(16>_m)D6[x1++]=_m,_m!=0&&(j6=_m);else{var AG=_m==16,U6=_m-16,SG=qW[U6],F6=Z(Qu,HW[U6])+SG;if(x1+F6>c5)break r;for(var CG=AG?j6:0;0<F6--;)D6[x1++]=CG}}LC=1;break r}LC||(L6.a=3),o5=LC}(o5=o5&&!Ju.h)&&(OC=_(gG,yG,8,b1,kC)),o5&&OC!=0?a5=OC:(s5.a=3,a5=0)}if(a5==0)break n;if(r5&&WW[zt]==1&&(r5=n5[Vr].g==0),I6+=n5[Vr].g,Vr+=a5,3>=zt){var E1,DC=v1[0];for(E1=1;E1<br;++E1)v1[E1]>DC&&(DC=v1[E1]);T6+=DC}}if(La.nd=r5,La.Qb=0,r5&&(La.qb=(Cm[3][Nm[3]+0].value<<24|Cm[1][Nm[1]+0].value<<16|Cm[2][Nm[2]+0].value)>>>0,I6==0&&256>Cm[0][Nm[0]+0].value&&(La.Qb=1,La.qb+=Cm[0][Nm[0]+0].value<<8)),La.jc=!La.Qb&&6>T6,La.jc){var l5,jl=La;for(l5=0;l5<Ei;++l5){var Zu=l5,Xu=jl.pd[Zu],u5=jl.G[0][jl.H[0]+Zu];256<=u5.value?(Xu.g=u5.g+256,Xu.value=u5.value):(Xu.g=0,Xu.value=0,Zu>>=Qr(u5,8,Xu),Zu>>=Qr(jl.G[1][jl.H[1]+Zu],16,Xu),Zu>>=Qr(jl.G[2][jl.H[2]+Zu],0,Xu),Qr(jl.G[3][jl.H[3]+Zu],24,Xu))}}}si.vc=Ai,si.Wb=ps,si.Ya=t5,si.yc=TC,Bn=1;break t}Bn=0}if(!(H=Bn)){I.a=3;break e}if(0<be){if(ee.ua=1<<be,!et(ee.Wa,be)){I.a=1,H=0;break e}}else ee.ua=0;var jC=I,$6=q,NG=G,MC=jC.s,BC=MC.xc;if(jC.c=$6,jC.i=NG,MC.md=Oe($6,BC),MC.wc=BC==0?-1:(1<<BC)-1,S){I.xb=rG;break e}if((le=s(q*G))==null){I.a=1,H=0;break e}H=(H=Ia(I,le,0,q,G,G,null))&&!Q.h;break e}return H?(U!=null?U[0]=le:(e(le==null),e(S)),I.$=0,S||Cc(ee)):Cc(ee),H}function jh(p,b){var S=p.c*p.i,I=S+b+16*b;return e(p.c<=b),p.V=s(I),p.V==null?(p.Ta=null,p.Ua=0,p.a=1,0):(p.Ta=p.V,p.Ua=p.Ba+S+b,1)}function em(p,b){var S=p.C,I=b-S,U=p.V,H=p.Ba+p.c*S;for(e(b<=p.l.o);0<I;){var q=16<I?16:I,G=p.l.ma,Q=p.l.width,ee=Q*q,le=G.ca,be=G.tb+Q*S,xe=p.Ta,ge=p.Ua;oo(p,q,U,H),Pr(xe,ge,le,be,ee),_a(G,S,S+q,le,be,Q),I-=q,U+=q*p.c,S+=q}e(S==b),p.C=p.Ma=b}function tm(){this.ub=this.yd=this.td=this.Rb=0}function nm(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rm(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function x2(){this.Yb=function(){var p=[];return function b(S,I,U){for(var H=U[I],q=0;q<H&&(S.push(U.length>I+1?[]:0),!(U.length<I+1));q++)b(S[q],I+1,U)}(p,0,[3,11]),p}()}function QS(){this.jb=s(3),this.Wc=a([4,8],x2),this.Xc=a([4,17],x2)}function ZS(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function im(){this.ld=this.La=this.dd=this.tc=0}function E2(){this.Na=this.la=0}function XS(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Gy(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function eC(){this.uc=this.M=this.Nb=0,this.wa=Array(new im),this.Y=0,this.ya=Array(new Gy),this.aa=0,this.l=new sm}function A2(){this.y=s(16),this.f=s(8),this.ea=s(8)}function tC(){this.cb=this.a=0,this.sc="",this.m=new he,this.Od=new tm,this.Kc=new nm,this.ed=new ZS,this.Qa=new rm,this.Ic=this.$c=this.Aa=0,this.D=new eC,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,he),this.ia=0,this.pb=o(4,XS),this.Pa=new QS,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new A2),this.Hd=0,this.rb=Array(new E2),this.sb=0,this.wa=Array(new im),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Gy),this.L=this.aa=0,this.gd=a([4,2],im),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function sm(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function nC(){var p=new tC;return p!=null&&(p.a=0,p.sc="OK",p.cb=0,p.Xb=0,y1||(y1=N2)),p}function Nr(p,b,S){return p.a==0&&(p.a=b,p.sc=S,p.cb=0),0}function S2(p,b,S){return 3<=S&&p[b+0]==157&&p[b+1]==1&&p[b+2]==42}function C2(p,b){if(p==null)return 0;if(p.a=0,p.sc="OK",b==null)return Nr(p,2,"null VP8Io passed to VP8GetHeaders()");var S=b.data,I=b.w,U=b.ha;if(4>U)return Nr(p,7,"Truncated header.");var H=S[I+0]|S[I+1]<<8|S[I+2]<<16,q=p.Od;if(q.Rb=!(1&H),q.td=H>>1&7,q.yd=H>>4&1,q.ub=H>>5,3<q.td)return Nr(p,3,"Incorrect keyframe parameters.");if(!q.yd)return Nr(p,4,"Frame not displayable.");I+=3,U-=3;var G=p.Kc;if(q.Rb){if(7>U)return Nr(p,7,"cannot parse picture header");if(!S2(S,I,U))return Nr(p,3,"Bad code word");G.c=16383&(S[I+4]<<8|S[I+3]),G.Td=S[I+4]>>6,G.i=16383&(S[I+6]<<8|S[I+5]),G.Ud=S[I+6]>>6,I+=7,U-=7,p.za=G.c+15>>4,p.Ub=G.i+15>>4,b.width=G.c,b.height=G.i,b.Da=0,b.j=0,b.v=0,b.va=b.width,b.o=b.height,b.da=0,b.ib=b.width,b.hb=b.height,b.U=b.width,b.T=b.height,i((H=p.Pa).jb,0,255,H.jb.length),e((H=p.Qa)!=null),H.Cb=0,H.Bb=0,H.Fb=1,i(H.Zb,0,0,H.Zb.length),i(H.Lb,0,0,H.Lb)}if(q.ub>U)return Nr(p,7,"bad partition length");T(H=p.m,S,I,q.ub),I+=q.ub,U-=q.ub,q.Rb&&(G.Ld=ye(H),G.Kd=ye(H)),G=p.Qa;var Q,ee=p.Pa;if(e(H!=null),e(G!=null),G.Cb=ye(H),G.Cb){if(G.Bb=ye(H),ye(H)){for(G.Fb=ye(H),Q=0;4>Q;++Q)G.Zb[Q]=ye(H)?W(H,7):0;for(Q=0;4>Q;++Q)G.Lb[Q]=ye(H)?W(H,6):0}if(G.Bb)for(Q=0;3>Q;++Q)ee.jb[Q]=ye(H)?k(H,8):255}else G.Bb=0;if(H.Ka)return Nr(p,3,"cannot parse segment header");if((G=p.ed).zd=ye(H),G.Tb=k(H,6),G.wb=k(H,3),G.Pc=ye(H),G.Pc&&ye(H)){for(ee=0;4>ee;++ee)ye(H)&&(G.vd[ee]=W(H,6));for(ee=0;4>ee;++ee)ye(H)&&(G.od[ee]=W(H,6))}if(p.L=G.Tb==0?0:G.zd?1:2,H.Ka)return Nr(p,3,"cannot parse filter header");var le=U;if(U=Q=I,I=Q+le,G=le,p.Xb=(1<<k(p.m,2))-1,le<3*(ee=p.Xb))S=7;else{for(Q+=3*ee,G-=3*ee,le=0;le<ee;++le){var be=S[U+0]|S[U+1]<<8|S[U+2]<<16;be>G&&(be=G),T(p.Jc[+le],S,Q,be),Q+=be,G-=be,U+=3}T(p.Jc[+ee],S,Q,G),S=Q<I?0:5}if(S!=0)return Nr(p,S,"cannot parse partitions");for(S=k(Q=p.m,7),U=ye(Q)?W(Q,4):0,I=ye(Q)?W(Q,4):0,G=ye(Q)?W(Q,4):0,ee=ye(Q)?W(Q,4):0,Q=ye(Q)?W(Q,4):0,le=p.Qa,be=0;4>be;++be){if(le.Cb){var xe=le.Zb[be];le.Fb||(xe+=S)}else{if(0<be){p.pb[be]=p.pb[0];continue}xe=S}var ge=p.pb[be];ge.Sc[0]=_C[ao(xe+U,127)],ge.Sc[1]=PC[ao(xe+0,127)],ge.Eb[0]=2*_C[ao(xe+I,127)],ge.Eb[1]=101581*PC[ao(xe+G,127)]>>16,8>ge.Eb[1]&&(ge.Eb[1]=8),ge.Qc[0]=_C[ao(xe+ee,117)],ge.Qc[1]=PC[ao(xe+Q,127)],ge.lc=xe+Q}if(!q.Rb)return Nr(p,4,"Not a key frame.");for(ye(H),q=p.Pa,S=0;4>S;++S){for(U=0;8>U;++U)for(I=0;3>I;++I)for(G=0;11>G;++G)ee=me(H,tG[S][U][I][G])?k(H,8):XW[S][U][I][G],q.Wc[S][U].Yb[I][G]=ee;for(U=0;17>U;++U)q.Xc[S][U]=q.Wc[S][nG[U]]}return p.kc=ye(H),p.kc&&(p.Bd=k(H,8)),p.cb=1}function N2(p,b,S,I,U,H,q){var G=b[U].Yb[S];for(S=0;16>U;++U){if(!me(p,G[S+0]))return U;for(;!me(p,G[S+1]);)if(G=b[++U].Yb[0],S=0,U==16)return 16;var Q=b[U+1].Yb;if(me(p,G[S+2])){var ee=p,le=0;if(me(ee,(xe=G)[(be=S)+3]))if(me(ee,xe[be+6])){for(G=0,be=2*(le=me(ee,xe[be+8]))+(xe=me(ee,xe[be+9+le])),le=0,xe=QW[be];xe[G];++G)le+=le+me(ee,xe[G]);le+=3+(8<<be)}else me(ee,xe[be+7])?(le=7+2*me(ee,165),le+=me(ee,145)):le=5+me(ee,159);else le=me(ee,xe[be+4])?3+me(ee,xe[be+5]):2;G=Q[2]}else le=1,G=Q[1];Q=q+ZW[U],0>(ee=p).b&&de(ee);var be,xe=ee.b,ge=(be=ee.Ca>>1)-(ee.I>>xe)>>31;--ee.b,ee.Ca+=ge,ee.Ca|=1,ee.I-=(be+1&ge)<<xe,H[Q]=((le^ge)-ge)*I[(0<U)+0]}return 16}function Ky(p){var b=p.rb[p.sb-1];b.la=0,b.Na=0,i(p.zc,0,0,p.zc.length),p.ja=0}function rC(p,b){if(p==null)return 0;if(b==null)return Nr(p,2,"NULL VP8Io parameter in VP8Decode().");if(!p.cb&&!C2(p,b))return 0;if(e(p.cb),b.ac==null||b.ac(b)){b.ob&&(p.L=0);var S=e5[p.L];if(p.L==2?(p.yb=0,p.zb=0):(p.yb=b.v-S>>4,p.zb=b.j-S>>4,0>p.yb&&(p.yb=0),0>p.zb&&(p.zb=0)),p.Va=b.o+15+S>>4,p.Hb=b.va+15+S>>4,p.Hb>p.za&&(p.Hb=p.za),p.Va>p.Ub&&(p.Va=p.Ub),0<p.L){var I=p.ed;for(S=0;4>S;++S){var U;if(p.Qa.Cb){var H=p.Qa.Lb[S];p.Qa.Fb||(H+=I.Tb)}else H=I.Tb;for(U=0;1>=U;++U){var q=p.gd[S][U],G=H;if(I.Pc&&(G+=I.vd[0],U&&(G+=I.od[0])),0<(G=0>G?0:63<G?63:G)){var Q=G;0<I.wb&&(Q=4<I.wb?Q>>2:Q>>1)>9-I.wb&&(Q=9-I.wb),1>Q&&(Q=1),q.dd=Q,q.tc=2*G+Q,q.ld=40<=G?2:15<=G?1:0}else q.tc=0;q.La=U}}}S=0}else Nr(p,6,"Frame setup failed"),S=p.a;if(S=S==0){if(S){p.$c=0,0<p.Aa||(p.Ic=mG);e:{S=p.Ic,I=4*(Q=p.za);var ee=32*Q,le=Q+1,be=0<p.L?Q*(0<p.Aa?2:1):0,xe=(p.Aa==2?2:1)*Q;if((q=I+832+(U=3*(16*S+e5[p.L])/2*ee)+(H=p.Fa!=null&&0<p.Fa.length?p.Kc.c*p.Kc.i:0))!=q)S=0;else{if(q>p.Vb){if(p.Vb=0,p.Ec=s(q),p.Fc=0,p.Ec==null){S=Nr(p,1,"no memory during frame initialization.");break e}p.Vb=q}q=p.Ec,G=p.Fc,p.Ac=q,p.Bc=G,G+=I,p.Gd=o(ee,A2),p.Hd=0,p.rb=o(le+1,E2),p.sb=1,p.wa=be?o(be,im):null,p.Y=0,p.D.Nb=0,p.D.wa=p.wa,p.D.Y=p.Y,0<p.Aa&&(p.D.Y+=Q),e(!0),p.oc=q,p.pc=G,G+=832,p.ya=o(xe,Gy),p.aa=0,p.D.ya=p.ya,p.D.aa=p.aa,p.Aa==2&&(p.D.aa+=Q),p.R=16*Q,p.B=8*Q,Q=(ee=e5[p.L])*p.R,ee=ee/2*p.B,p.sa=q,p.ta=G+Q,p.qa=p.sa,p.ra=p.ta+16*S*p.R+ee,p.Ha=p.qa,p.Ia=p.ra+8*S*p.B+ee,p.$c=0,G+=U,p.mb=H?q:null,p.nb=H?G:null,e(G+H<=p.Fc+p.Vb),Ky(p),i(p.Ac,p.Bc,0,I),S=1}}if(S){if(b.ka=0,b.y=p.sa,b.O=p.ta,b.f=p.qa,b.N=p.ra,b.ea=p.Ha,b.Vd=p.Ia,b.fa=p.R,b.Rc=p.B,b.F=null,b.J=0,!q2){for(S=-255;255>=S;++S)Zr[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)Rl[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)g1[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)Am[255+S]=0>S?0:255<S?255:S;q2=1}bm=oC,Ol=iC,f1=P2,fs=sC,Vo=I2,_r=_2,xm=e1,H2=Uh,p1=vC,zh=t1,Vh=wC,qu=dm,Hh=n1,Em=B2,qh=M2,Wu=Pc,m1=Il,Ho=yC,Ra[0]=_c,Ra[1]=aC,Ra[2]=dC,Ra[3]=hC,Ra[4]=O2,Ra[5]=lm,Ra[6]=R2,Ra[7]=Qy,Ra[8]=pC,Ra[9]=fC,Gu[0]=T2,Gu[1]=lC,Gu[2]=Pl,Gu[3]=am,Gu[4]=$i,Gu[5]=uC,Gu[6]=k2,Ll[0]=Fu,Ll[1]=cC,Ll[2]=mC,Ll[3]=Zy,Ll[4]=Bh,Ll[5]=gC,Ll[6]=Xy,S=1}else S=0}S&&(S=function(ge,ke){for(ge.M=0;ge.M<ge.Va;++ge.M){var Se,ue=ge.Jc[ge.M&ge.Xb],pe=ge.m,_e=ge;for(Se=0;Se<_e.za;++Se){var Le=pe,Ie=_e,nt=Ie.Ac,Ye=Ie.Bc+4*Se,vt=Ie.zc,Je=Ie.ya[Ie.aa+Se];if(Ie.Qa.Bb?Je.$b=me(Le,Ie.Pa.jb[0])?2+me(Le,Ie.Pa.jb[2]):me(Le,Ie.Pa.jb[1]):Je.$b=0,Ie.kc&&(Je.Ad=me(Le,Ie.Bd)),Je.Za=!me(Le,145)+0,Je.Za){var yn=Je.Ob,Sn=0;for(Ie=0;4>Ie;++Ie){var cn,en=vt[0+Ie];for(cn=0;4>cn;++cn){en=eG[nt[Ye+cn]][en];for(var Bn=y6[me(Le,en[0])];0<Bn;)Bn=y6[2*Bn+me(Le,en[Bn])];en=-Bn,nt[Ye+cn]=en}r(yn,Sn,nt,Ye,4),Sn+=4,vt[0+Ie]=en}}else en=me(Le,156)?me(Le,128)?1:3:me(Le,163)?2:0,Je.Ob[0]=en,i(nt,Ye,en,4),i(vt,0,en,4);Je.Dd=me(Le,142)?me(Le,114)?me(Le,183)?1:3:2:0}if(_e.m.Ka)return Nr(ge,7,"Premature end-of-partition0 encountered.");for(;ge.ja<ge.za;++ge.ja){if(_e=ue,Le=(pe=ge).rb[pe.sb-1],nt=pe.rb[pe.sb+pe.ja],Se=pe.ya[pe.aa+pe.ja],Ye=pe.kc?Se.Ad:0)Le.la=nt.la=0,Se.Za||(Le.Na=nt.Na=0),Se.Hc=0,Se.Gc=0,Se.ia=0;else{var On,zt;if(Le=nt,nt=_e,Ye=pe.Pa.Xc,vt=pe.ya[pe.aa+pe.ja],Je=pe.pb[vt.$b],Ie=vt.ad,yn=0,Sn=pe.rb[pe.sb-1],en=cn=0,i(Ie,yn,0,384),vt.Za)var Vr=0,js=Ye[3];else{Bn=s(16);var Hr=Le.Na+Sn.Na;if(Hr=y1(nt,Ye[1],Hr,Je.Eb,0,Bn,0),Le.Na=Sn.Na=(0<Hr)+0,1<Hr)bm(Bn,0,Ie,yn);else{var Ms=Bn[0]+3>>3;for(Bn=0;256>Bn;Bn+=16)Ie[yn+Bn]=Ms}Vr=1,js=Ye[0]}var Cn=15&Le.la,lo=15&Sn.la;for(Bn=0;4>Bn;++Bn){var uo=1&lo;for(Ms=zt=0;4>Ms;++Ms)Cn=Cn>>1|(uo=(Hr=y1(nt,js,Hr=uo+(1&Cn),Je.Sc,Vr,Ie,yn))>Vr)<<7,zt=zt<<2|(3<Hr?3:1<Hr?2:Ie[yn+0]!=0),yn+=16;Cn>>=4,lo=lo>>1|uo<<7,cn=(cn<<8|zt)>>>0}for(js=Cn,Vr=lo>>4,On=0;4>On;On+=2){for(zt=0,Cn=Le.la>>4+On,lo=Sn.la>>4+On,Bn=0;2>Bn;++Bn){for(uo=1&lo,Ms=0;2>Ms;++Ms)Hr=uo+(1&Cn),Cn=Cn>>1|(uo=0<(Hr=y1(nt,Ye[2],Hr,Je.Qc,0,Ie,yn)))<<3,zt=zt<<2|(3<Hr?3:1<Hr?2:Ie[yn+0]!=0),yn+=16;Cn>>=2,lo=lo>>1|uo<<5}en|=zt<<4*On,js|=Cn<<4<<On,Vr|=(240&lo)<<On}Le.la=js,Sn.la=Vr,vt.Hc=cn,vt.Gc=en,vt.ia=43690&en?0:Je.ia,Ye=!(cn|en)}if(0<pe.L&&(pe.wa[pe.Y+pe.ja]=pe.gd[Se.$b][Se.Za],pe.wa[pe.Y+pe.ja].La|=!Ye),_e.Ka)return Nr(ge,7,"Premature end-of-file encountered.")}if(Ky(ge),pe=ke,_e=1,Se=(ue=ge).D,Le=0<ue.L&&ue.M>=ue.zb&&ue.M<=ue.Va,ue.Aa==0)e:{if(Se.M=ue.M,Se.uc=Le,c1(ue,Se),_e=1,Se=(zt=ue.D).Nb,Le=(en=e5[ue.L])*ue.R,nt=en/2*ue.B,Bn=16*Se*ue.R,Ms=8*Se*ue.B,Ye=ue.sa,vt=ue.ta-Le+Bn,Je=ue.qa,Ie=ue.ra-nt+Ms,yn=ue.Ha,Sn=ue.Ia-nt+Ms,lo=(Cn=zt.M)==0,cn=Cn>=ue.Va-1,ue.Aa==2&&c1(ue,zt),zt.uc)for(uo=(Hr=ue).D.M,e(Hr.D.uc),zt=Hr.yb;zt<Hr.Hb;++zt){Vr=zt,js=uo;var si=(Ai=(br=Hr).D).Nb;On=br.R;var Ai=Ai.wa[Ai.Y+Vr],ps=br.sa,Ko=br.ta+16*si*On+16*Vr,Tc=Ai.dd,oi=Ai.tc;if(oi!=0)if(e(3<=oi),br.L==1)0<Vr&&Wu(ps,Ko,On,oi+4),Ai.La&&Ho(ps,Ko,On,oi),0<js&&qh(ps,Ko,On,oi+4),Ai.La&&m1(ps,Ko,On,oi);else{var Dl=br.B,Wh=br.qa,Sm=br.ra+8*si*Dl+8*Vr,Yu=br.Ha,br=br.Ia+8*si*Dl+8*Vr;si=Ai.ld,0<Vr&&(H2(ps,Ko,On,oi+4,Tc,si),zh(Wh,Sm,Yu,br,Dl,oi+4,Tc,si)),Ai.La&&(qu(ps,Ko,On,oi,Tc,si),Em(Wh,Sm,Yu,br,Dl,oi,Tc,si)),0<js&&(xm(ps,Ko,On,oi+4,Tc,si),p1(Wh,Sm,Yu,br,Dl,oi+4,Tc,si)),Ai.La&&(Vh(ps,Ko,On,oi,Tc,si),Hh(Wh,Sm,Yu,br,Dl,oi,Tc,si))}}if(ue.ia&&alert("todo:DitherRow"),pe.put!=null){if(zt=16*Cn,Cn=16*(Cn+1),lo?(pe.y=ue.sa,pe.O=ue.ta+Bn,pe.f=ue.qa,pe.N=ue.ra+Ms,pe.ea=ue.Ha,pe.W=ue.Ia+Ms):(zt-=en,pe.y=Ye,pe.O=vt,pe.f=Je,pe.N=Ie,pe.ea=yn,pe.W=Sn),cn||(Cn-=en),Cn>pe.o&&(Cn=pe.o),pe.F=null,pe.J=null,ue.Fa!=null&&0<ue.Fa.length&&zt<Cn&&(pe.J=o1(ue,pe,zt,Cn-zt),pe.F=ue.mb,pe.F==null&&pe.F.length==0)){_e=Nr(ue,3,"Could not decode alpha data.");break e}zt<pe.j&&(en=pe.j-zt,zt=pe.j,e(!(1&en)),pe.O+=ue.R*en,pe.N+=ue.B*(en>>1),pe.W+=ue.B*(en>>1),pe.F!=null&&(pe.J+=pe.width*en)),zt<Cn&&(pe.O+=pe.v,pe.N+=pe.v>>1,pe.W+=pe.v>>1,pe.F!=null&&(pe.J+=pe.v),pe.ka=zt-pe.j,pe.U=pe.va-pe.v,pe.T=Cn-zt,_e=pe.put(pe))}Se+1!=ue.Ic||cn||(r(ue.sa,ue.ta-Le,Ye,vt+16*ue.R,Le),r(ue.qa,ue.ra-nt,Je,Ie+8*ue.B,nt),r(ue.Ha,ue.Ia-nt,yn,Sn+8*ue.B,nt))}if(!_e)return Nr(ge,6,"Output aborted.")}return 1}(p,b)),b.bc!=null&&b.bc(b),S&=1}return S?(p.cb=0,S):0}function Ta(p,b,S,I,U){U=p[b+S+32*I]+(U>>3),p[b+S+32*I]=-256&U?0>U?0:255:U}function om(p,b,S,I,U,H){Ta(p,b,0,S,I+U),Ta(p,b,1,S,I+H),Ta(p,b,2,S,I-H),Ta(p,b,3,S,I-U)}function Rs(p){return(20091*p>>16)+p}function Yy(p,b,S,I){var U,H=0,q=s(16);for(U=0;4>U;++U){var G=p[b+0]+p[b+8],Q=p[b+0]-p[b+8],ee=(35468*p[b+4]>>16)-Rs(p[b+12]),le=Rs(p[b+4])+(35468*p[b+12]>>16);q[H+0]=G+le,q[H+1]=Q+ee,q[H+2]=Q-ee,q[H+3]=G-le,H+=4,b++}for(U=H=0;4>U;++U)G=(p=q[H+0]+4)+q[H+8],Q=p-q[H+8],ee=(35468*q[H+4]>>16)-Rs(q[H+12]),Ta(S,I,0,0,G+(le=Rs(q[H+4])+(35468*q[H+12]>>16))),Ta(S,I,1,0,Q+ee),Ta(S,I,2,0,Q-ee),Ta(S,I,3,0,G-le),H++,I+=32}function _2(p,b,S,I){var U=p[b+0]+4,H=35468*p[b+4]>>16,q=Rs(p[b+4]),G=35468*p[b+1]>>16;om(S,I,0,U+q,p=Rs(p[b+1]),G),om(S,I,1,U+H,p,G),om(S,I,2,U-H,p,G),om(S,I,3,U-q,p,G)}function iC(p,b,S,I,U){Yy(p,b,S,I),U&&Yy(p,b+16,S,I+4)}function P2(p,b,S,I){Ol(p,b+0,S,I,1),Ol(p,b+32,S,I+128,1)}function sC(p,b,S,I){var U;for(p=p[b+0]+4,U=0;4>U;++U)for(b=0;4>b;++b)Ta(S,I,b,U,p)}function I2(p,b,S,I){p[b+0]&&fs(p,b+0,S,I),p[b+16]&&fs(p,b+16,S,I+4),p[b+32]&&fs(p,b+32,S,I+128),p[b+48]&&fs(p,b+48,S,I+128+4)}function oC(p,b,S,I){var U,H=s(16);for(U=0;4>U;++U){var q=p[b+0+U]+p[b+12+U],G=p[b+4+U]+p[b+8+U],Q=p[b+4+U]-p[b+8+U],ee=p[b+0+U]-p[b+12+U];H[0+U]=q+G,H[8+U]=q-G,H[4+U]=ee+Q,H[12+U]=ee-Q}for(U=0;4>U;++U)q=(p=H[0+4*U]+3)+H[3+4*U],G=H[1+4*U]+H[2+4*U],Q=H[1+4*U]-H[2+4*U],ee=p-H[3+4*U],S[I+0]=q+G>>3,S[I+16]=ee+Q>>3,S[I+32]=q-G>>3,S[I+48]=ee-Q>>3,I+=64}function Jy(p,b,S){var I,U=b-32,H=co,q=255-p[U-1];for(I=0;I<S;++I){var G,Q=H,ee=q+p[b-1];for(G=0;G<S;++G)p[b+G]=Q[ee+p[U+G]];b+=32}}function aC(p,b){Jy(p,b,4)}function cC(p,b){Jy(p,b,8)}function lC(p,b){Jy(p,b,16)}function Pl(p,b){var S;for(S=0;16>S;++S)r(p,b+32*S,p,b-32,16)}function am(p,b){var S;for(S=16;0<S;--S)i(p,b,p[b-1],16),b+=32}function cm(p,b,S){var I;for(I=0;16>I;++I)i(b,S+32*I,p,16)}function T2(p,b){var S,I=16;for(S=0;16>S;++S)I+=p[b-1+32*S]+p[b+S-32];cm(I>>5,p,b)}function $i(p,b){var S,I=8;for(S=0;16>S;++S)I+=p[b-1+32*S];cm(I>>4,p,b)}function uC(p,b){var S,I=8;for(S=0;16>S;++S)I+=p[b+S-32];cm(I>>4,p,b)}function k2(p,b){cm(128,p,b)}function Lt(p,b,S){return p+2*b+S+2>>2}function dC(p,b){var S,I=b-32;for(I=new Uint8Array([Lt(p[I-1],p[I+0],p[I+1]),Lt(p[I+0],p[I+1],p[I+2]),Lt(p[I+1],p[I+2],p[I+3]),Lt(p[I+2],p[I+3],p[I+4])]),S=0;4>S;++S)r(p,b+32*S,I,0,I.length)}function hC(p,b){var S=p[b-1],I=p[b-1+32],U=p[b-1+64],H=p[b-1+96];Te(p,b+0,16843009*Lt(p[b-1-32],S,I)),Te(p,b+32,16843009*Lt(S,I,U)),Te(p,b+64,16843009*Lt(I,U,H)),Te(p,b+96,16843009*Lt(U,H,H))}function _c(p,b){var S,I=4;for(S=0;4>S;++S)I+=p[b+S-32]+p[b-1+32*S];for(I>>=3,S=0;4>S;++S)i(p,b+32*S,I,4)}function O2(p,b){var S=p[b-1+0],I=p[b-1+32],U=p[b-1+64],H=p[b-1-32],q=p[b+0-32],G=p[b+1-32],Q=p[b+2-32],ee=p[b+3-32];p[b+0+96]=Lt(I,U,p[b-1+96]),p[b+1+96]=p[b+0+64]=Lt(S,I,U),p[b+2+96]=p[b+1+64]=p[b+0+32]=Lt(H,S,I),p[b+3+96]=p[b+2+64]=p[b+1+32]=p[b+0+0]=Lt(q,H,S),p[b+3+64]=p[b+2+32]=p[b+1+0]=Lt(G,q,H),p[b+3+32]=p[b+2+0]=Lt(Q,G,q),p[b+3+0]=Lt(ee,Q,G)}function R2(p,b){var S=p[b+1-32],I=p[b+2-32],U=p[b+3-32],H=p[b+4-32],q=p[b+5-32],G=p[b+6-32],Q=p[b+7-32];p[b+0+0]=Lt(p[b+0-32],S,I),p[b+1+0]=p[b+0+32]=Lt(S,I,U),p[b+2+0]=p[b+1+32]=p[b+0+64]=Lt(I,U,H),p[b+3+0]=p[b+2+32]=p[b+1+64]=p[b+0+96]=Lt(U,H,q),p[b+3+32]=p[b+2+64]=p[b+1+96]=Lt(H,q,G),p[b+3+64]=p[b+2+96]=Lt(q,G,Q),p[b+3+96]=Lt(G,Q,Q)}function lm(p,b){var S=p[b-1+0],I=p[b-1+32],U=p[b-1+64],H=p[b-1-32],q=p[b+0-32],G=p[b+1-32],Q=p[b+2-32],ee=p[b+3-32];p[b+0+0]=p[b+1+64]=H+q+1>>1,p[b+1+0]=p[b+2+64]=q+G+1>>1,p[b+2+0]=p[b+3+64]=G+Q+1>>1,p[b+3+0]=Q+ee+1>>1,p[b+0+96]=Lt(U,I,S),p[b+0+64]=Lt(I,S,H),p[b+0+32]=p[b+1+96]=Lt(S,H,q),p[b+1+32]=p[b+2+96]=Lt(H,q,G),p[b+2+32]=p[b+3+96]=Lt(q,G,Q),p[b+3+32]=Lt(G,Q,ee)}function Qy(p,b){var S=p[b+0-32],I=p[b+1-32],U=p[b+2-32],H=p[b+3-32],q=p[b+4-32],G=p[b+5-32],Q=p[b+6-32],ee=p[b+7-32];p[b+0+0]=S+I+1>>1,p[b+1+0]=p[b+0+64]=I+U+1>>1,p[b+2+0]=p[b+1+64]=U+H+1>>1,p[b+3+0]=p[b+2+64]=H+q+1>>1,p[b+0+32]=Lt(S,I,U),p[b+1+32]=p[b+0+96]=Lt(I,U,H),p[b+2+32]=p[b+1+96]=Lt(U,H,q),p[b+3+32]=p[b+2+96]=Lt(H,q,G),p[b+3+64]=Lt(q,G,Q),p[b+3+96]=Lt(G,Q,ee)}function fC(p,b){var S=p[b-1+0],I=p[b-1+32],U=p[b-1+64],H=p[b-1+96];p[b+0+0]=S+I+1>>1,p[b+2+0]=p[b+0+32]=I+U+1>>1,p[b+2+32]=p[b+0+64]=U+H+1>>1,p[b+1+0]=Lt(S,I,U),p[b+3+0]=p[b+1+32]=Lt(I,U,H),p[b+3+32]=p[b+1+64]=Lt(U,H,H),p[b+3+64]=p[b+2+64]=p[b+0+96]=p[b+1+96]=p[b+2+96]=p[b+3+96]=H}function pC(p,b){var S=p[b-1+0],I=p[b-1+32],U=p[b-1+64],H=p[b-1+96],q=p[b-1-32],G=p[b+0-32],Q=p[b+1-32],ee=p[b+2-32];p[b+0+0]=p[b+2+32]=S+q+1>>1,p[b+0+32]=p[b+2+64]=I+S+1>>1,p[b+0+64]=p[b+2+96]=U+I+1>>1,p[b+0+96]=H+U+1>>1,p[b+3+0]=Lt(G,Q,ee),p[b+2+0]=Lt(q,G,Q),p[b+1+0]=p[b+3+32]=Lt(S,q,G),p[b+1+32]=p[b+3+64]=Lt(I,S,q),p[b+1+64]=p[b+3+96]=Lt(U,I,S),p[b+1+96]=Lt(H,U,I)}function mC(p,b){var S;for(S=0;8>S;++S)r(p,b+32*S,p,b-32,8)}function Zy(p,b){var S;for(S=0;8>S;++S)i(p,b,p[b-1],8),b+=32}function Mh(p,b,S){var I;for(I=0;8>I;++I)i(b,S+32*I,p,8)}function Fu(p,b){var S,I=8;for(S=0;8>S;++S)I+=p[b+S-32]+p[b-1+32*S];Mh(I>>4,p,b)}function gC(p,b){var S,I=4;for(S=0;8>S;++S)I+=p[b+S-32];Mh(I>>3,p,b)}function Bh(p,b){var S,I=4;for(S=0;8>S;++S)I+=p[b-1+32*S];Mh(I>>3,p,b)}function Xy(p,b){Mh(128,p,b)}function um(p,b,S){var I=p[b-S],U=p[b+0],H=3*(U-I)+EC[1020+p[b-2*S]-p[b+S]],q=W2[112+(H+4>>3)];p[b-S]=co[255+I+W2[112+(H+3>>3)]],p[b+0]=co[255+U-q]}function L2(p,b,S,I){var U=p[b+0],H=p[b+S];return Wo[255+p[b-2*S]-p[b-S]]>I||Wo[255+H-U]>I}function D2(p,b,S,I){return 4*Wo[255+p[b-S]-p[b+0]]+Wo[255+p[b-2*S]-p[b+S]]<=I}function j2(p,b,S,I,U){var H=p[b-3*S],q=p[b-2*S],G=p[b-S],Q=p[b+0],ee=p[b+S],le=p[b+2*S],be=p[b+3*S];return 4*Wo[255+G-Q]+Wo[255+q-ee]>I?0:Wo[255+p[b-4*S]-H]<=U&&Wo[255+H-q]<=U&&Wo[255+q-G]<=U&&Wo[255+be-le]<=U&&Wo[255+le-ee]<=U&&Wo[255+ee-Q]<=U}function M2(p,b,S,I){var U=2*I+1;for(I=0;16>I;++I)D2(p,b+I,S,U)&&um(p,b+I,S)}function Pc(p,b,S,I){var U=2*I+1;for(I=0;16>I;++I)D2(p,b+I*S,1,U)&&um(p,b+I*S,1)}function Il(p,b,S,I){var U;for(U=3;0<U;--U)M2(p,b+=4*S,S,I)}function yC(p,b,S,I){var U;for(U=3;0<U;--U)Pc(p,b+=4,S,I)}function $u(p,b,S,I,U,H,q,G){for(H=2*H+1;0<U--;){if(j2(p,b,S,H,q))if(L2(p,b,S,G))um(p,b,S);else{var Q=p,ee=b,le=S,be=Q[ee-2*le],xe=Q[ee-le],ge=Q[ee+0],ke=Q[ee+le],Se=Q[ee+2*le],ue=27*(_e=EC[1020+3*(ge-xe)+EC[1020+be-ke]])+63>>7,pe=18*_e+63>>7,_e=9*_e+63>>7;Q[ee-3*le]=co[255+Q[ee-3*le]+_e],Q[ee-2*le]=co[255+be+pe],Q[ee-le]=co[255+xe+ue],Q[ee+0]=co[255+ge-ue],Q[ee+le]=co[255+ke-pe],Q[ee+2*le]=co[255+Se-_e]}b+=I}}function ka(p,b,S,I,U,H,q,G){for(H=2*H+1;0<U--;){if(j2(p,b,S,H,q))if(L2(p,b,S,G))um(p,b,S);else{var Q=p,ee=b,le=S,be=Q[ee-le],xe=Q[ee+0],ge=Q[ee+le],ke=W2[112+((Se=3*(xe-be))+4>>3)],Se=W2[112+(Se+3>>3)],ue=ke+1>>1;Q[ee-2*le]=co[255+Q[ee-2*le]+ue],Q[ee-le]=co[255+be+Se],Q[ee+0]=co[255+xe-ke],Q[ee+le]=co[255+ge-ue]}b+=I}}function e1(p,b,S,I,U,H){$u(p,b,S,1,16,I,U,H)}function Uh(p,b,S,I,U,H){$u(p,b,1,S,16,I,U,H)}function wC(p,b,S,I,U,H){var q;for(q=3;0<q;--q)ka(p,b+=4*S,S,1,16,I,U,H)}function dm(p,b,S,I,U,H){var q;for(q=3;0<q;--q)ka(p,b+=4,1,S,16,I,U,H)}function vC(p,b,S,I,U,H,q,G){$u(p,b,U,1,8,H,q,G),$u(S,I,U,1,8,H,q,G)}function t1(p,b,S,I,U,H,q,G){$u(p,b,1,U,8,H,q,G),$u(S,I,1,U,8,H,q,G)}function n1(p,b,S,I,U,H,q,G){ka(p,b+4*U,U,1,8,H,q,G),ka(S,I+4*U,U,1,8,H,q,G)}function B2(p,b,S,I,U,H,q,G){ka(p,b+4,1,U,8,H,q,G),ka(S,I+4,1,U,8,H,q,G)}function hm(){this.ba=new Ca,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new wr,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function r1(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function i1(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function U2(){this.ua=0,this.Wa=new ie,this.vb=new ie,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new V,this.yc=new j}function bC(){this.xb=this.a=0,this.l=new sm,this.ca=new Ca,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new R,this.Pb=0,this.wd=new R,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new U2,this.ab=0,this.gc=o(4,i1),this.Oc=0}function fm(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new sm,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Fh(p,b,S,I,U,H,q){for(p=p==null?0:p[b+0],b=0;b<q;++b)U[H+b]=p+S[I+b]&255,p=U[H+b]}function s1(p,b,S,I,U,H,q){var G;if(p==null)Fh(null,null,S,I,U,H,q);else for(G=0;G<q;++G)U[H+G]=p[b+G]+S[I+G]&255}function zu(p,b,S,I,U,H,q){if(p==null)Fh(null,null,S,I,U,H,q);else{var G,Q=p[b+0],ee=Q,le=Q;for(G=0;G<q;++G)ee=le+(Q=p[b+G])-ee,le=S[I+G]+(-256&ee?0>ee?0:255:ee)&255,ee=Q,U[H+G]=le}}function o1(p,b,S,I){var U=b.width,H=b.o;if(e(p!=null&&b!=null),0>S||0>=I||S+I>H)return null;if(!p.Cc){if(p.ga==null){var q;if(p.ga=new fm,(q=p.ga==null)||(q=b.width*b.o,e(p.Gb.length==0),p.Gb=s(q),p.Uc=0,p.Gb==null?q=0:(p.mb=p.Gb,p.nb=p.Uc,p.rc=null,q=1),q=!q),!q){q=p.ga;var G=p.Fa,Q=p.P,ee=p.qc,le=p.mb,be=p.nb,xe=Q+1,ge=ee-1,ke=q.l;if(e(G!=null&&le!=null&&b!=null),Ku[0]=null,Ku[1]=Fh,Ku[2]=s1,Ku[3]=zu,q.ca=le,q.tb=be,q.c=b.width,q.i=b.height,e(0<q.c&&0<q.i),1>=ee)b=0;else if(q.$a=G[Q+0]>>0&3,q.Z=G[Q+0]>>2&3,q.Lc=G[Q+0]>>4&3,Q=G[Q+0]>>6&3,0>q.$a||1<q.$a||4<=q.Z||1<q.Lc||Q)b=0;else if(ke.put=Ec,ke.ac=xi,ke.bc=Ac,ke.ma=q,ke.width=b.width,ke.height=b.height,ke.Da=b.Da,ke.v=b.v,ke.va=b.va,ke.j=b.j,ke.o=b.o,q.$a)e:{e(q.$a==1),b=$o();t:for(;;){if(b==null){b=0;break e}if(e(q!=null),q.mc=b,b.c=q.c,b.i=q.i,b.l=q.l,b.l.ma=q,b.l.width=q.c,b.l.height=q.i,b.a=0,B(b.m,G,xe,ge),!Nc(q.c,q.i,1,b,null)||(b.ab==1&&b.gc[0].hc==3&&_l(b.s)?(q.ic=1,G=b.c*b.i,b.Ta=null,b.Ua=0,b.V=s(G),b.Ba=0,b.V==null?(b.a=1,b=0):b=1):(q.ic=0,b=jh(b,q.c)),!b))break t;b=1;break e}q.mc=null,b=0}else b=ge>=q.c*q.i;q=!b}if(q)return null;p.ga.Lc!=1?p.Ga=0:I=H-S}e(p.ga!=null),e(S+I<=H);e:{if(b=(G=p.ga).c,H=G.l.o,G.$a==0){if(xe=p.rc,ge=p.Vc,ke=p.Fa,Q=p.P+1+S*b,ee=p.mb,le=p.nb+S*b,e(Q<=p.P+p.qc),G.Z!=0)for(e(Ku[G.Z]!=null),q=0;q<I;++q)Ku[G.Z](xe,ge,ke,Q,ee,le,b),xe=ee,ge=le,le+=b,Q+=b;else for(q=0;q<I;++q)r(ee,le,ke,Q,b),xe=ee,ge=le,le+=b,Q+=b;p.rc=xe,p.Vc=ge}else{if(e(G.mc!=null),b=S+I,e((q=G.mc)!=null),e(b<=q.i),q.C>=b)b=1;else if(G.ic||we(),G.ic){G=q.V,xe=q.Ba,ge=q.c;var Se=q.i,ue=(ke=1,Q=q.$/ge,ee=q.$%ge,le=q.m,be=q.s,q.$),pe=ge*Se,_e=ge*b,Le=be.wc,Ie=ue<_e?$r(be,ee,Q):null;e(ue<=pe),e(b<=Se),e(_l(be));t:for(;;){for(;!le.h&&ue<_e;){if(ee&Le||(Ie=$r(be,ee,Q)),e(Ie!=null),se(le),256>(Se=Os(Ie.G[0],Ie.H[0],le)))G[xe+ue]=Se,++ue,++ee>=ge&&(ee=0,++Q<=b&&!(Q%16)&&Pa(q,Q));else{if(!(280>Se)){ke=0;break t}Se=Na(Se-256,le);var nt,Ye=Os(Ie.G[4],Ie.H[4],le);if(se(le),!(ue>=(Ye=Sc(ge,Ye=Na(Ye,le)))&&pe-ue>=Se)){ke=0;break t}for(nt=0;nt<Se;++nt)G[xe+ue+nt]=G[xe+ue+nt-Ye];for(ue+=Se,ee+=Se;ee>=ge;)ee-=ge,++Q<=b&&!(Q%16)&&Pa(q,Q);ue<_e&&ee&Le&&(Ie=$r(be,ee,Q))}e(le.h==J(le))}Pa(q,Q>b?b:Q);break t}!ke||le.h&&ue<pe?(ke=0,q.a=le.h?5:3):q.$=ue,b=ke}else b=Ia(q,q.V,q.Ba,q.c,q.i,b,em);if(!b){I=0;break e}}S+I>=H&&(p.Cc=1),I=1}if(!I)return null;if(p.Cc&&((I=p.ga)!=null&&(I.mc=null),p.ga=null,0<p.Ga))return alert("todo:WebPDequantizeLevels"),null}return p.nb+S*U}function A(p,b,S,I,U,H){for(;0<U--;){var q,G=p,Q=b+(S?1:0),ee=p,le=b+(S?0:3);for(q=0;q<I;++q){var be=ee[le+4*q];be!=255&&(be*=32897,G[Q+4*q+0]=G[Q+4*q+0]*be>>23,G[Q+4*q+1]=G[Q+4*q+1]*be>>23,G[Q+4*q+2]=G[Q+4*q+2]*be>>23)}b+=H}}function F(p,b,S,I,U){for(;0<I--;){var H;for(H=0;H<S;++H){var q=p[b+2*H+0],G=15&(ee=p[b+2*H+1]),Q=4369*G,ee=(240&ee|ee>>4)*Q>>16;p[b+2*H+0]=(240&q|q>>4)*Q>>16&240|(15&q|q<<4)*Q>>16>>4&15,p[b+2*H+1]=240&ee|G}b+=U}}function re(p,b,S,I,U,H,q,G){var Q,ee,le=255;for(ee=0;ee<U;++ee){for(Q=0;Q<I;++Q){var be=p[b+Q];H[q+4*Q]=be,le&=be}b+=S,q+=G}return le!=255}function ae(p,b,S,I,U){var H;for(H=0;H<U;++H)S[I+H]=p[b+H]>>8}function we(){qo=A,qn=F,Wn=re,Pr=ae}function Ce(p,b,S){P[p]=function(I,U,H,q,G,Q,ee,le,be,xe,ge,ke,Se,ue,pe,_e,Le){var Ie,nt=Le-1>>1,Ye=G[Q+0]|ee[le+0]<<16,vt=be[xe+0]|ge[ke+0]<<16;e(I!=null);var Je=3*Ye+vt+131074>>2;for(b(I[U+0],255&Je,Je>>16,Se,ue),H!=null&&(Je=3*vt+Ye+131074>>2,b(H[q+0],255&Je,Je>>16,pe,_e)),Ie=1;Ie<=nt;++Ie){var yn=G[Q+Ie]|ee[le+Ie]<<16,Sn=be[xe+Ie]|ge[ke+Ie]<<16,cn=Ye+yn+vt+Sn+524296,en=cn+2*(yn+vt)>>3;Je=en+Ye>>1,Ye=(cn=cn+2*(Ye+Sn)>>3)+yn>>1,b(I[U+2*Ie-1],255&Je,Je>>16,Se,ue+(2*Ie-1)*S),b(I[U+2*Ie-0],255&Ye,Ye>>16,Se,ue+(2*Ie-0)*S),H!=null&&(Je=cn+vt>>1,Ye=en+Sn>>1,b(H[q+2*Ie-1],255&Je,Je>>16,pe,_e+(2*Ie-1)*S),b(H[q+2*Ie+0],255&Ye,Ye>>16,pe,_e+(2*Ie+0)*S)),Ye=yn,vt=Sn}1&Le||(Je=3*Ye+vt+131074>>2,b(I[U+Le-1],255&Je,Je>>16,Se,ue+(Le-1)*S),H!=null&&(Je=3*vt+Ye+131074>>2,b(H[q+Le-1],255&Je,Je>>16,pe,_e+(Le-1)*S)))}}function Be(){Go[G2]=iG,Go[K2]=v6,Go[p6]=sG,Go[Y2]=b6,Go[J2]=x6,Go[AC]=E6,Go[m6]=oG,Go[SC]=v6,Go[CC]=b6,Go[Q2]=x6,Go[NC]=E6}function tt(p){return p&~aG?0>p?0:255:p>>A6}function gt(p,b){return tt((19077*p>>8)+(26149*b>>8)-14234)}function Ft(p,b,S){return tt((19077*p>>8)-(6419*b>>8)-(13320*S>>8)+8708)}function Mt(p,b){return tt((19077*p>>8)+(33050*b>>8)-17685)}function rn(p,b,S,I,U){I[U+0]=gt(p,S),I[U+1]=Ft(p,b,S),I[U+2]=Mt(p,b)}function cr(p,b,S,I,U){I[U+0]=Mt(p,b),I[U+1]=Ft(p,b,S),I[U+2]=gt(p,S)}function vr(p,b,S,I,U){var H=Ft(p,b,S);b=H<<3&224|Mt(p,b)>>3,I[U+0]=248&gt(p,S)|H>>5,I[U+1]=b}function zr(p,b,S,I,U){var H=240&Mt(p,b)|15;I[U+0]=240&gt(p,S)|Ft(p,b,S)>>4,I[U+1]=H}function zi(p,b,S,I,U){I[U+0]=255,rn(p,b,S,I,U+1)}function ii(p,b,S,I,U){cr(p,b,S,I,U),I[U+3]=255}function Oa(p,b,S,I,U){rn(p,b,S,I,U),I[U+3]=255}function ao(p,b){return 0>p?0:p>b?b:p}function Ic(p,b,S){P[p]=function(I,U,H,q,G,Q,ee,le,be){for(var xe=le+(-2&be)*S;le!=xe;)b(I[U+0],H[q+0],G[Q+0],ee,le),b(I[U+1],H[q+0],G[Q+0],ee,le+S),U+=2,++q,++Q,le+=2*S;1&be&&b(I[U+0],H[q+0],G[Q+0],ee,le)}}function F2(p,b,S){return S==0?p==0?b==0?6:5:b==0?4:0:S}function a1(p,b,S,I,U){switch(p>>>30){case 3:Ol(b,S,I,U,0);break;case 2:_r(b,S,I,U);break;case 1:fs(b,S,I,U)}}function c1(p,b){var S,I,U=b.M,H=b.Nb,q=p.oc,G=p.pc+40,Q=p.oc,ee=p.pc+584,le=p.oc,be=p.pc+600;for(S=0;16>S;++S)q[G+32*S-1]=129;for(S=0;8>S;++S)Q[ee+32*S-1]=129,le[be+32*S-1]=129;for(0<U?q[G-1-32]=Q[ee-1-32]=le[be-1-32]=129:(i(q,G-32-1,127,21),i(Q,ee-32-1,127,9),i(le,be-32-1,127,9)),I=0;I<p.za;++I){var xe=b.ya[b.aa+I];if(0<I){for(S=-1;16>S;++S)r(q,G+32*S-4,q,G+32*S+12,4);for(S=-1;8>S;++S)r(Q,ee+32*S-4,Q,ee+32*S+4,4),r(le,be+32*S-4,le,be+32*S+4,4)}var ge=p.Gd,ke=p.Hd+I,Se=xe.ad,ue=xe.Hc;if(0<U&&(r(q,G-32,ge[ke].y,0,16),r(Q,ee-32,ge[ke].f,0,8),r(le,be-32,ge[ke].ea,0,8)),xe.Za){var pe=q,_e=G-32+16;for(0<U&&(I>=p.za-1?i(pe,_e,ge[ke].y[15],4):r(pe,_e,ge[ke+1].y,0,4)),S=0;4>S;S++)pe[_e+128+S]=pe[_e+256+S]=pe[_e+384+S]=pe[_e+0+S];for(S=0;16>S;++S,ue<<=2)pe=q,_e=G+C6[S],Ra[xe.Ob[S]](pe,_e),a1(ue,Se,16*+S,pe,_e)}else if(pe=F2(I,U,xe.Ob[0]),Gu[pe](q,G),ue!=0)for(S=0;16>S;++S,ue<<=2)a1(ue,Se,16*+S,q,G+C6[S]);for(S=xe.Gc,pe=F2(I,U,xe.Dd),Ll[pe](Q,ee),Ll[pe](le,be),ue=Se,pe=Q,_e=ee,255&(xe=S>>0)&&(170&xe?f1(ue,256,pe,_e):Vo(ue,256,pe,_e)),xe=le,ue=be,255&(S>>=8)&&(170&S?f1(Se,320,xe,ue):Vo(Se,320,xe,ue)),U<p.Ub-1&&(r(ge[ke].y,0,q,G+480,16),r(ge[ke].f,0,Q,ee+224,8),r(ge[ke].ea,0,le,be+224,8)),S=8*H*p.B,ge=p.sa,ke=p.ta+16*I+16*H*p.R,Se=p.qa,xe=p.ra+8*I+S,ue=p.Ha,pe=p.Ia+8*I+S,S=0;16>S;++S)r(ge,ke+S*p.R,q,G+32*S,16);for(S=0;8>S;++S)r(Se,xe+S*p.B,Q,ee+32*S,8),r(ue,pe+S*p.B,le,be+32*S,8)}}function pm(p,b,S,I,U,H,q,G,Q){var ee=[0],le=[0],be=0,xe=Q!=null?Q.kd:0,ge=Q??new r1;if(p==null||12>S)return 7;ge.data=p,ge.w=b,ge.ha=S,b=[b],S=[S],ge.gb=[ge.gb];e:{var ke=b,Se=S,ue=ge.gb;if(e(p!=null),e(Se!=null),e(ue!=null),ue[0]=0,12<=Se[0]&&!n(p,ke[0],"RIFF")){if(n(p,ke[0]+8,"WEBP")){ue=3;break e}var pe=je(p,ke[0]+4);if(12>pe||4294967286<pe){ue=3;break e}if(xe&&pe>Se[0]-8){ue=7;break e}ue[0]=pe,ke[0]+=12,Se[0]-=12}ue=0}if(ue!=0)return ue;for(pe=0<ge.gb[0],S=S[0];;){e:{var _e=p;Se=b,ue=S;var Le=ee,Ie=le,nt=ke=[0];if((Je=be=[be])[0]=0,8>ue[0])ue=7;else{if(!n(_e,Se[0],"VP8X")){if(je(_e,Se[0]+4)!=10){ue=3;break e}if(18>ue[0]){ue=7;break e}var Ye=je(_e,Se[0]+8),vt=1+De(_e,Se[0]+12);if(2147483648<=vt*(_e=1+De(_e,Se[0]+15))){ue=3;break e}nt!=null&&(nt[0]=Ye),Le!=null&&(Le[0]=vt),Ie!=null&&(Ie[0]=_e),Se[0]+=18,ue[0]-=18,Je[0]=1}ue=0}}if(be=be[0],ke=ke[0],ue!=0)return ue;if(Se=!!(2&ke),!pe&&be)return 3;if(H!=null&&(H[0]=!!(16&ke)),q!=null&&(q[0]=Se),G!=null&&(G[0]=0),q=ee[0],ke=le[0],be&&Se&&Q==null){ue=0;break}if(4>S){ue=7;break}if(pe&&be||!pe&&!be&&!n(p,b[0],"ALPH")){S=[S],ge.na=[ge.na],ge.P=[ge.P],ge.Sa=[ge.Sa];e:{Ye=p,ue=b,pe=S;var Je=ge.gb;Le=ge.na,Ie=ge.P,nt=ge.Sa,vt=22,e(Ye!=null),e(pe!=null),_e=ue[0];var yn=pe[0];for(e(Le!=null),e(nt!=null),Le[0]=null,Ie[0]=null,nt[0]=0;;){if(ue[0]=_e,pe[0]=yn,8>yn){ue=7;break e}var Sn=je(Ye,_e+4);if(4294967286<Sn){ue=3;break e}var cn=8+Sn+1&-2;if(vt+=cn,0<Je&&vt>Je){ue=3;break e}if(!n(Ye,_e,"VP8 ")||!n(Ye,_e,"VP8L")){ue=0;break e}if(yn[0]<cn){ue=7;break e}n(Ye,_e,"ALPH")||(Le[0]=Ye,Ie[0]=_e+8,nt[0]=Sn),_e+=cn,yn-=cn}}if(S=S[0],ge.na=ge.na[0],ge.P=ge.P[0],ge.Sa=ge.Sa[0],ue!=0)break}S=[S],ge.Ja=[ge.Ja],ge.xa=[ge.xa];e:if(Je=p,ue=b,pe=S,Le=ge.gb[0],Ie=ge.Ja,nt=ge.xa,Ye=ue[0],_e=!n(Je,Ye,"VP8 "),vt=!n(Je,Ye,"VP8L"),e(Je!=null),e(pe!=null),e(Ie!=null),e(nt!=null),8>pe[0])ue=7;else{if(_e||vt){if(Je=je(Je,Ye+4),12<=Le&&Je>Le-12){ue=3;break e}if(xe&&Je>pe[0]-8){ue=7;break e}Ie[0]=Je,ue[0]+=8,pe[0]-=8,nt[0]=vt}else nt[0]=5<=pe[0]&&Je[Ye+0]==47&&!(Je[Ye+4]>>5),Ie[0]=pe[0];ue=0}if(S=S[0],ge.Ja=ge.Ja[0],ge.xa=ge.xa[0],b=b[0],ue!=0)break;if(4294967286<ge.Ja)return 3;if(G==null||Se||(G[0]=ge.xa?2:1),q=[q],ke=[ke],ge.xa){if(5>S){ue=7;break}G=q,xe=ke,Se=H,p==null||5>S?p=0:5<=S&&p[b+0]==47&&!(p[b+4]>>5)?(pe=[0],Je=[0],Le=[0],B(Ie=new R,p,b,S),bt(Ie,pe,Je,Le)?(G!=null&&(G[0]=pe[0]),xe!=null&&(xe[0]=Je[0]),Se!=null&&(Se[0]=Le[0]),p=1):p=0):p=0}else{if(10>S){ue=7;break}G=ke,p==null||10>S||!S2(p,b+3,S-3)?p=0:(xe=p[b+0]|p[b+1]<<8|p[b+2]<<16,Se=16383&(p[b+7]<<8|p[b+6]),p=16383&(p[b+9]<<8|p[b+8]),1&xe||3<(xe>>1&7)||!(xe>>4&1)||xe>>5>=ge.Ja||!Se||!p?p=0:(q&&(q[0]=Se),G&&(G[0]=p),p=1))}if(!p||(q=q[0],ke=ke[0],be&&(ee[0]!=q||le[0]!=ke)))return 3;Q!=null&&(Q[0]=ge,Q.offset=b-Q.w,e(4294967286>b-Q.w),e(Q.offset==Q.ha-S));break}return ue==0||ue==7&&be&&Q==null?(H!=null&&(H[0]|=ge.na!=null&&0<ge.na.length),I!=null&&(I[0]=q),U!=null&&(U[0]=ke),0):ue}function l1(p,b,S){var I=b.width,U=b.height,H=0,q=0,G=I,Q=U;if(b.Da=p!=null&&0<p.Da,b.Da&&(G=p.cd,Q=p.bd,H=p.v,q=p.j,11>S||(H&=-2,q&=-2),0>H||0>q||0>=G||0>=Q||H+G>I||q+Q>U))return 0;if(b.v=H,b.j=q,b.va=H+G,b.o=q+Q,b.U=G,b.T=Q,b.da=p!=null&&0<p.da,b.da){if(!Tt(G,Q,S=[p.ib],H=[p.hb]))return 0;b.ib=S[0],b.hb=H[0]}return b.ob=p!=null&&p.ob,b.Kb=p==null||!p.Sd,b.da&&(b.ob=b.ib<3*I/4&&b.hb<3*U/4,b.Kb=0),1}function u1(p){if(p==null)return 2;if(11>p.S){var b=p.f.RGBA;b.fb+=(p.height-1)*b.A,b.A=-b.A}else b=p.f.kb,p=p.height,b.O+=(p-1)*b.fa,b.fa=-b.fa,b.N+=(p-1>>1)*b.Ab,b.Ab=-b.Ab,b.W+=(p-1>>1)*b.Db,b.Db=-b.Db,b.F!=null&&(b.J+=(p-1)*b.lb,b.lb=-b.lb);return 0}function mm(p,b,S,I){if(I==null||0>=p||0>=b)return 2;if(S!=null){if(S.Da){var U=S.cd,H=S.bd,q=-2&S.v,G=-2&S.j;if(0>q||0>G||0>=U||0>=H||q+U>p||G+H>b)return 2;p=U,b=H}if(S.da){if(!Tt(p,b,U=[S.ib],H=[S.hb]))return 2;p=U[0],b=H[0]}}I.width=p,I.height=b;e:{var Q=I.width,ee=I.height;if(p=I.S,0>=Q||0>=ee||!(p>=G2&&13>p))p=2;else{if(0>=I.Rd&&I.sd==null){q=H=U=b=0;var le=(G=Q*N6[p])*ee;if(11>p||(H=(ee+1)/2*(b=(Q+1)/2),p==12&&(q=(U=Q)*ee)),(ee=s(le+2*H+q))==null){p=1;break e}I.sd=ee,11>p?((Q=I.f.RGBA).eb=ee,Q.fb=0,Q.A=G,Q.size=le):((Q=I.f.kb).y=ee,Q.O=0,Q.fa=G,Q.Fd=le,Q.f=ee,Q.N=0+le,Q.Ab=b,Q.Cd=H,Q.ea=ee,Q.W=0+le+H,Q.Db=b,Q.Ed=H,p==12&&(Q.F=ee,Q.J=0+le+2*H),Q.Tc=q,Q.lb=U)}if(b=1,U=I.S,H=I.width,q=I.height,U>=G2&&13>U)if(11>U)p=I.f.RGBA,b&=(G=Math.abs(p.A))*(q-1)+H<=p.size,b&=G>=H*N6[U],b&=p.eb!=null;else{p=I.f.kb,G=(H+1)/2,le=(q+1)/2,Q=Math.abs(p.fa),ee=Math.abs(p.Ab);var be=Math.abs(p.Db),xe=Math.abs(p.lb),ge=xe*(q-1)+H;b&=Q*(q-1)+H<=p.Fd,b&=ee*(le-1)+G<=p.Cd,b=(b&=be*(le-1)+G<=p.Ed)&Q>=H&ee>=G&be>=G,b&=p.y!=null,b&=p.f!=null,b&=p.ea!=null,U==12&&(b&=xe>=H,b&=ge<=p.Tc,b&=p.F!=null)}else b=0;p=b?0:2}}return p!=0||S!=null&&S.fd&&(p=u1(I)),p}var Ei=64,gm=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ym=24,wm=32,d1=8,Ls=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Me("Predictor0","PredictorAdd0"),P.Predictor0=function(){return 4278190080},P.Predictor1=function(p){return p},P.Predictor2=function(p,b,S){return b[S+0]},P.Predictor3=function(p,b,S){return b[S+1]},P.Predictor4=function(p,b,S){return b[S-1]},P.Predictor5=function(p,b,S){return Ve(Ve(p,b[S+1]),b[S+0])},P.Predictor6=function(p,b,S){return Ve(p,b[S-1])},P.Predictor7=function(p,b,S){return Ve(p,b[S+0])},P.Predictor8=function(p,b,S){return Ve(b[S-1],b[S+0])},P.Predictor9=function(p,b,S){return Ve(b[S+0],b[S+1])},P.Predictor10=function(p,b,S){return Ve(Ve(p,b[S-1]),Ve(b[S+0],b[S+1]))},P.Predictor11=function(p,b,S){var I=b[S+0];return 0>=Pt(I>>24&255,p>>24&255,(b=b[S-1])>>24&255)+Pt(I>>16&255,p>>16&255,b>>16&255)+Pt(I>>8&255,p>>8&255,b>>8&255)+Pt(255&I,255&p,255&b)?I:p},P.Predictor12=function(p,b,S){var I=b[S+0];return(mt((p>>24&255)+(I>>24&255)-((b=b[S-1])>>24&255))<<24|mt((p>>16&255)+(I>>16&255)-(b>>16&255))<<16|mt((p>>8&255)+(I>>8&255)-(b>>8&255))<<8|mt((255&p)+(255&I)-(255&b)))>>>0},P.Predictor13=function(p,b,S){var I=b[S-1];return(Et((p=Ve(p,b[S+0]))>>24&255,I>>24&255)<<24|Et(p>>16&255,I>>16&255)<<16|Et(p>>8&255,I>>8&255)<<8|Et(p>>0&255,I>>0&255))>>>0};var xC=P.PredictorAdd0;P.PredictorAdd1=Rt,Me("Predictor2","PredictorAdd2"),Me("Predictor3","PredictorAdd3"),Me("Predictor4","PredictorAdd4"),Me("Predictor5","PredictorAdd5"),Me("Predictor6","PredictorAdd6"),Me("Predictor7","PredictorAdd7"),Me("Predictor8","PredictorAdd8"),Me("Predictor9","PredictorAdd9"),Me("Predictor10","PredictorAdd10"),Me("Predictor11","PredictorAdd11"),Me("Predictor12","PredictorAdd12"),Me("Predictor13","PredictorAdd13");var h1=P.PredictorAdd2;Jt("ColorIndexInverseTransform","MapARGB","32b",function(p){return p>>8&255},function(p){return p}),Jt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(p){return p},function(p){return p>>8&255});var $2,zo=P.ColorIndexInverseTransform,vm=P.MapARGB,z2=P.VP8LColorIndexInverseTransformAlpha,V2=P.MapAlpha,Vu=P.VP8LPredictorsAdd=[];Vu.length=16,(P.VP8LPredictors=[]).length=16,(P.VP8LPredictorsAdd_C=[]).length=16,(P.VP8LPredictors_C=[]).length=16;var $h,Ds,hs,Hu,Tl,kl,bm,Ol,_r,f1,fs,Vo,xm,H2,p1,zh,Vh,qu,Hh,Em,qh,Wu,m1,Ho,qo,qn,Wn,Pr,Zr=s(511),Rl=s(2041),g1=s(225),Am=s(767),q2=0,EC=Rl,W2=g1,co=Am,Wo=Zr,G2=0,K2=1,p6=2,Y2=3,J2=4,AC=5,m6=6,SC=7,CC=8,Q2=9,NC=10,HW=[2,3,7],qW=[3,3,11],g6=[280,256,256,256,40],WW=[0,1,1,1,0],GW=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],KW=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],YW=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],JW=8,_C=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],PC=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],y1=null,QW=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ZW=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],y6=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],XW=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],eG=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],tG=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],nG=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Gu=[],Ra=[],Ll=[],rG=1,w6=2,Ku=[],Go=[];Ce("UpsampleRgbLinePair",rn,3),Ce("UpsampleBgrLinePair",cr,3),Ce("UpsampleRgbaLinePair",Oa,4),Ce("UpsampleBgraLinePair",ii,4),Ce("UpsampleArgbLinePair",zi,4),Ce("UpsampleRgba4444LinePair",zr,2),Ce("UpsampleRgb565LinePair",vr,2);var iG=P.UpsampleRgbLinePair,sG=P.UpsampleBgrLinePair,v6=P.UpsampleRgbaLinePair,b6=P.UpsampleBgraLinePair,x6=P.UpsampleArgbLinePair,E6=P.UpsampleRgba4444LinePair,oG=P.UpsampleRgb565LinePair,Z2=16,X2=1<<Z2-1,w1=-227,IC=482,A6=6,aG=(256<<A6)-1,S6=0,cG=s(256),lG=s(256),uG=s(256),dG=s(256),hG=s(IC-w1),fG=s(IC-w1);Ic("YuvToRgbRow",rn,3),Ic("YuvToBgrRow",cr,3),Ic("YuvToRgbaRow",Oa,4),Ic("YuvToBgraRow",ii,4),Ic("YuvToArgbRow",zi,4),Ic("YuvToRgba4444Row",zr,2),Ic("YuvToRgb565Row",vr,2);var C6=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],e5=[0,2,8],pG=[8,7,6,4,4,2,2,2,1,1,1,1],mG=1;this.WebPDecodeRGBA=function(p,b,S,I,U){var H=K2,q=new hm,G=new Ca;q.ba=G,G.S=H,G.width=[G.width],G.height=[G.height];var Q=G.width,ee=G.height,le=new Nl;if(le==null||p==null)var be=2;else e(le!=null),be=pm(p,b,S,le.width,le.height,le.Pd,le.Qd,le.format,null);if(be!=0?Q=0:(Q!=null&&(Q[0]=le.width[0]),ee!=null&&(ee[0]=le.height[0]),Q=1),Q){G.width=G.width[0],G.height=G.height[0],I!=null&&(I[0]=G.width),U!=null&&(U[0]=G.height);e:{if(I=new sm,(U=new r1).data=p,U.w=b,U.ha=S,U.kd=1,b=[0],e(U!=null),((p=pm(U.data,U.w,U.ha,null,null,null,b,null,U))==0||p==7)&&b[0]&&(p=4),(b=p)==0){if(e(q!=null),I.data=U.data,I.w=U.w+U.offset,I.ha=U.ha-U.offset,I.put=Ec,I.ac=xi,I.bc=Ac,I.ma=q,U.xa){if((p=$o())==null){q=1;break e}if(function(xe,ge){var ke=[0],Se=[0],ue=[0];t:for(;;){if(xe==null)return 0;if(ge==null)return xe.a=2,0;if(xe.l=ge,xe.a=0,B(xe.m,ge.data,ge.w,ge.ha),!bt(xe.m,ke,Se,ue)){xe.a=3;break t}if(xe.xb=w6,ge.width=ke[0],ge.height=Se[0],!Nc(ke[0],Se[0],1,xe,null))break t;return 1}return e(xe.a!=0),0}(p,I)){if(I=(b=mm(I.width,I.height,q.Oa,q.ba))==0){t:{I=p;n:for(;;){if(I==null){I=0;break t}if(e(I.s.yc!=null),e(I.s.Ya!=null),e(0<I.s.Wb),e((S=I.l)!=null),e((U=S.ma)!=null),I.xb!=0){if(I.ca=U.ba,I.tb=U.tb,e(I.ca!=null),!l1(U.Oa,S,Y2)){I.a=2;break n}if(!jh(I,S.width)||S.da)break n;if((S.da||vn(I.ca.S))&&we(),11>I.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),I.ca.f.kb.F!=null&&we()),I.Pb&&0<I.s.ua&&I.s.vb.X==null&&!et(I.s.vb,I.s.Wa.Xa)){I.a=1;break n}I.xb=0}if(!Ia(I,I.V,I.Ba,I.c,I.i,S.o,Xp))break n;U.Dc=I.Ma,I=1;break t}e(I.a!=0),I=0}I=!I}I&&(b=p.a)}else b=p.a}else{if((p=new nC)==null){q=1;break e}if(p.Fa=U.na,p.P=U.P,p.qc=U.Sa,C2(p,I)){if((b=mm(I.width,I.height,q.Oa,q.ba))==0){if(p.Aa=0,S=q.Oa,e((U=p)!=null),S!=null){if(0<(Q=0>(Q=S.Md)?0:100<Q?255:255*Q/100)){for(ee=le=0;4>ee;++ee)12>(be=U.pb[ee]).lc&&(be.ia=Q*pG[0>be.lc?0:be.lc]>>3),le|=be.ia;le&&(alert("todo:VP8InitRandom"),U.ia=1)}U.Ga=S.Id,100<U.Ga?U.Ga=100:0>U.Ga&&(U.Ga=0)}rC(p,I)||(b=p.a)}}else b=p.a}b==0&&q.Oa!=null&&q.Oa.fd&&(b=u1(q.ba))}q=b}H=q!=0?null:11>H?G.f.RGBA.eb:G.f.kb.y}else H=null;return H};var N6=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function l(P,L){for(var $="",_=0;_<4;_++)$+=String.fromCharCode(P[L++]);return $}function u(P,L){return(P[L+0]<<0|P[L+1]<<8|P[L+2]<<16)>>>0}function d(P,L){return(P[L+0]<<0|P[L+1]<<8|P[L+2]<<16|P[L+3]<<24)>>>0}new c;var h=[0],f=[0],m=[],g=new c,E=t,y=function(P,L){var $={},_=0,j=!1,K=0,V=0;if($.frames=[],!function(Y,J,ne,se){for(var de=0;de<se;de++)if(Y[J+de]!=ne.charCodeAt(de))return!0;return!1}(P,L,"RIFF",4)){var T,k;for(d(P,L+=4),L+=8;L<P.length;){var W=l(P,L),B=d(P,L+=4);L+=4;var z=B+(1&B);switch(W){case"VP8 ":case"VP8L":$.frames[_]===void 0&&($.frames[_]={}),(R=$.frames[_]).src_off=j?V:L-8,R.src_size=K+B+8,_++,j&&(j=!1,K=0,V=0);break;case"VP8X":(R=$.header={}).feature_flags=P[L];var Z=L+4;R.canvas_width=1+u(P,Z),Z+=3,R.canvas_height=1+u(P,Z),Z+=3;break;case"ALPH":j=!0,K=z+8,V=L-8;break;case"ANIM":(R=$.header).bgcolor=d(P,L),Z=L+4,R.loop_count=(T=P)[(k=Z)+0]<<0|T[k+1]<<8,Z+=2;break;case"ANMF":var he,R;(R=$.frames[_]={}).offset_x=2*u(P,L),L+=3,R.offset_y=2*u(P,L),L+=3,R.width=1+u(P,L),L+=3,R.height=1+u(P,L),L+=3,R.duration=u(P,L),L+=3,he=P[L++],R.dispose=1&he,R.blend=he>>1&1}W!="ANMF"&&(L+=z)}return $}}(E,0);y.response=E,y.rgbaoutput=!0,y.dataurl=!1;var w=y.header?y.header:null,x=y.frames?y.frames:null;if(w){w.loop_counter=w.loop_count,h=[w.canvas_height],f=[w.canvas_width];for(var C=0;C<x.length&&x[C].blend!=0;C++);}var N=x[0],D=g.WebPDecodeRGBA(E,N.src_off,N.src_size,f,h);N.rgba=D,N.imgwidth=f[0],N.imgheight=h[0];for(var O=0;O<f[0]*h[0]*4;O++)m[O]=D[O];return this.width=f,this.height=h,this.data=m,this}(function(t){var e=function(){return typeof PP=="function"},n=function(h,f,m,g){var E=4,y=o;switch(g){case t.image_compression.FAST:E=1,y=s;break;case t.image_compression.MEDIUM:E=6,y=a;break;case t.image_compression.SLOW:E=9,y=c}h=r(h,f,m,y);var w=PP(h,{level:E});return t.__addimage__.arrayBufferToBinaryString(w)},r=function(h,f,m,g){for(var E,y,w,x=h.length/f,C=new Uint8Array(h.length+x),N=u(),D=0;D<x;D+=1){if(w=D*f,E=h.subarray(w,w+f),g)C.set(g(E,m,y),w+D);else{for(var O,P=N.length,L=[];O<P;O+=1)L[O]=N[O](E,m,y);var $=d(L.concat());C.set(L[$],w+D)}y=E}return C},i=function(h){var f=Array.apply([],h);return f.unshift(0),f},s=function(h,f){var m,g=[],E=h.length;g[0]=1;for(var y=0;y<E;y+=1)m=h[y-f]||0,g[y+1]=h[y]-m+256&255;return g},o=function(h,f,m){var g,E=[],y=h.length;E[0]=2;for(var w=0;w<y;w+=1)g=m&&m[w]||0,E[w+1]=h[w]-g+256&255;return E},a=function(h,f,m){var g,E,y=[],w=h.length;y[0]=3;for(var x=0;x<w;x+=1)g=h[x-f]||0,E=m&&m[x]||0,y[x+1]=h[x]+256-(g+E>>>1)&255;return y},c=function(h,f,m){var g,E,y,w,x=[],C=h.length;x[0]=4;for(var N=0;N<C;N+=1)g=h[N-f]||0,E=m&&m[N]||0,y=m&&m[N-f]||0,w=l(g,E,y),x[N+1]=h[N]-w+256&255;return x},l=function(h,f,m){if(h===f&&f===m)return h;var g=Math.abs(f-m),E=Math.abs(h-m),y=Math.abs(h+f-m-m);return g<=E&&g<=y?h:E<=y?f:m},u=function(){return[i,s,o,a,c]},d=function(h){var f=h.map(function(m){return m.reduce(function(g,E){return g+Math.abs(E)},0)});return f.indexOf(Math.min.apply(null,f))};t.processPNG=function(h,f,m,g){var E,y,w,x,C,N,D,O,P,L,$,_,j,K,V,T=this.decode.FLATE_DECODE,k="";if(this.__addimage__.isArrayBuffer(h)&&(h=new Uint8Array(h)),this.__addimage__.isArrayBufferView(h)){if(h=(w=new gie(h)).imgData,y=w.bits,E=w.colorSpace,C=w.colors,[4,6].indexOf(w.colorType)!==-1){if(w.bits===8){P=(O=w.pixelBitlength==32?new Uint32Array(w.decodePixels().buffer):w.pixelBitlength==16?new Uint16Array(w.decodePixels().buffer):new Uint8Array(w.decodePixels().buffer)).length,$=new Uint8Array(P*w.colors),L=new Uint8Array(P);var W,B=w.pixelBitlength-w.bits;for(K=0,V=0;K<P;K++){for(j=O[K],W=0;W<B;)$[V++]=j>>>W&255,W+=w.bits;L[K]=j>>>W&255}}if(w.bits===16){P=(O=new Uint32Array(w.decodePixels().buffer)).length,$=new Uint8Array(P*(32/w.pixelBitlength)*w.colors),L=new Uint8Array(P*(32/w.pixelBitlength)),_=w.colors>1,K=0,V=0;for(var z=0;K<P;)j=O[K++],$[V++]=j>>>0&255,_&&($[V++]=j>>>16&255,j=O[K++],$[V++]=j>>>0&255),L[z++]=j>>>16&255;y=8}g!==t.image_compression.NONE&&e()?(h=n($,w.width*w.colors,w.colors,g),D=n(L,w.width,1,g)):(h=$,D=L,T=void 0)}if(w.colorType===3&&(E=this.color_spaces.INDEXED,N=w.palette,w.transparency.indexed)){var Z=w.transparency.indexed,he=0;for(K=0,P=Z.length;K<P;++K)he+=Z[K];if((he/=255)===P-1&&Z.indexOf(0)!==-1)x=[Z.indexOf(0)];else if(he!==P){for(O=w.decodePixels(),L=new Uint8Array(O.length),K=0,P=O.length;K<P;K++)L[K]=Z[O[K]];D=n(L,w.width,1)}}var R=function(Y){var J;switch(Y){case t.image_compression.FAST:J=11;break;case t.image_compression.MEDIUM:J=13;break;case t.image_compression.SLOW:J=14;break;default:J=12}return J}(g);return T===this.decode.FLATE_DECODE&&(k="/Predictor "+R+" "),k+="/Colors "+C+" /BitsPerComponent "+y+" /Columns "+w.width,(this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),(D&&this.__addimage__.isArrayBuffer(D)||this.__addimage__.isArrayBufferView(D))&&(D=this.__addimage__.arrayBufferToBinaryString(D)),{alias:m,data:h,index:f,filter:T,decodeParameters:k,transparency:x,palette:N,sMask:D,predictor:R,width:w.width,height:w.height,bitsPerComponent:y,colorSpace:E}}}})(Ct.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new yie(e),o=s.width,a=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var l={data:c,width:o,height:a},u=new $N(100).encode(l,100);return t.processJPEG.call(this,u,n,r,i)},t.processGIF87A=t.processGIF89A}(Ct.API),Ma.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Ma.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){$n.log("bit decode error:"+n)}},Ma.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+8*i*4,a=0;a<8&&8*i+a<this.width;a++){var c=this.palette[s>>7-a&1];this.data[o+4*a]=c.blue,this.data[o+4*a+1]=c.green,this.data[o+4*a+2]=c.red,this.data[o+4*a+3]=255}n!==0&&(this.pos+=4-n)}},Ma.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),o=r*this.width*4+2*i*4,a=s>>4,c=15&s,l=this.palette[a];if(this.data[o]=l.blue,this.data[o+1]=l.green,this.data[o+2]=l.red,this.data[o+3]=255,2*i+1>=this.width)break;l=this.palette[c],this.data[o+4]=l.blue,this.data[o+4+1]=l.green,this.data[o+4+2]=l.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Ma.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var o=this.palette[i];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Ma.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,a=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,l=s>>15?255:0,u=r*this.width*4+4*i;this.data[u]=c,this.data[u+1]=a,this.data[u+2]=o,this.data[u+3]=l}this.pos+=t}},Ma.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(o&e)/e*255|0,c=(o>>5&n)/n*255|0,l=(o>>11)/e*255|0,u=i*this.width*4+4*s;this.data[u]=l,this.data[u+1]=c,this.data[u+2]=a,this.data[u+3]=255}this.pos+=t}},Ma.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=255}this.pos+=this.width%4}},Ma.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=o}},Ma.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new Ma(e,!1),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},l=new $N(100).encode(c,100);return t.processJPEG.call(this,l,n,r,i)}}(Ct.API),J8.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new J8(e),o=s.width,a=s.height,c={data:s.getData(),width:o,height:a},l=new $N(100).encode(c,100);return t.processJPEG.call(this,l,n,r,i)}}(Ct.API),Ct.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),o=new Uint8Array(i/4),a=0,c=0,l=0;l<i;l+=4){var u=r[l],d=r[l+1],h=r[l+2],f=r[l+3];s[a++]=u,s[a++]=d,s[a++]=h,o[c++]=f}var m=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:m,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Tm=Ct.API,M5=Tm.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),a=e.widths?e.widths:i.metadata.Unicode.widths,c=a.fof?a.fof:1,l=e.kerning?e.kerning:i.metadata.Unicode.kerning,u=l.fof?l.fof:1,d=e.doKerning!==!1,h=0,f=t.length,m=0,g=a[0]||c,E=[];for(n=0;n<f;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?E.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+o*(1e3/s)||0)/1e3):(h=d&&In(l[r])==="object"&&!isNaN(parseInt(l[r][m],10))?l[r][m]/u:0,E.push((a[r]||g)/c+h)),m=r;return E},W8=Tm.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Tm.processArabic&&(t=Tm.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:M5.apply(this,arguments).reduce(function(s,o){return s+o},0)},G8=function(t,e,n,r){for(var i=[],s=0,o=t.length,a=0;s!==o&&a+e[s]<n;)a+=e[s],s++;i.push(t.slice(0,s));var c=s;for(a=0;s!==o;)a+e[s]>r&&(i.push(t.slice(c,s)),a=0,c=s),a+=e[s],s++;return c!==s&&i.push(t.slice(c,s)),i},K8=function(t,e,n){n||(n={});var r,i,s,o,a,c,l,u=[],d=[u],h=n.textIndent||0,f=0,m=0,g=t.split(" "),E=M5.apply(this,[" ",n])[0];if(c=n.lineIndent===-1?g[0].length+2:n.lineIndent||0){var y=Array(c).join(" "),w=[];g.map(function(C){(C=C.split(/\s*\n/)).length>1?w=w.concat(C.map(function(N,D){return(D&&N.length?`
`:"")+N})):w.push(C[0])}),g=w,c=W8.apply(this,[y,n])}for(s=0,o=g.length;s<o;s++){var x=0;if(r=g[s],c&&r[0]==`
`&&(r=r.substr(1),x=1),h+f+(m=(i=M5.apply(this,[r,n])).reduce(function(C,N){return C+N},0))>e||x){if(m>e){for(a=G8.apply(this,[r,i,e-(h+f),e]),u.push(a.shift()),u=[a.pop()];a.length;)d.push([a.shift()]);m=i.slice(r.length-(u[0]?u[0].length:0)).reduce(function(C,N){return C+N},0)}else u=[r];d.push(u),h=m+c,f=E}else u.push(r),h+=f+m,f=E}return l=c?function(C,N){return(N?y:"")+C.join(" ")}:function(C){return C.join(" ")},d.map(l)},Tm.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(u){if(u.widths&&u.kerning)return{widths:u.widths,kerning:u.kerning};var d=this.internal.getFont(u.fontName,u.fontStyle);return d.metadata.Unicode?{widths:d.metadata.Unicode.widths||{0:1},kerning:d.metadata.Unicode.kerning||{}}:{font:d.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var a,c,l=[];for(a=0,c=r.length;a<c;a++)l=l.concat(K8.apply(this,[r[a],o,s]));return l},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(d){return"0x"+parseInt(d,10).toString(16)},o=t.__fontmetrics__.compress=function(d){var h,f,m,g,E=["{"];for(var y in d){if(h=d[y],isNaN(parseInt(y,10))?f="'"+y+"'":(y=parseInt(y,10),f=(f=s(y).slice(2)).slice(0,-1)+r[f.slice(-1)]),typeof h=="number")h<0?(m=s(h).slice(3),g="-"):(m=s(h).slice(2),g=""),m=g+m.slice(0,-1)+r[m.slice(-1)];else{if(In(h)!=="object")throw new Error("Don't know what to do with value type "+In(h)+".");m=o(h)}E.push(f+m)}return E.push("}"),E.join("")},a=t.__fontmetrics__.uncompress=function(d){if(typeof d!="string")throw new Error("Invalid argument passed to uncompress.");for(var h,f,m,g,E={},y=1,w=E,x=[],C="",N="",D=d.length-1,O=1;O<D;O+=1)(g=d[O])=="'"?h?(m=h.join(""),h=void 0):h=[]:h?h.push(g):g=="{"?(x.push([w,m]),w={},m=void 0):g=="}"?((f=x.pop())[0][f[1]]=w,m=void 0,w=f[0]):g=="-"?y=-1:m===void 0?n.hasOwnProperty(g)?(C+=n[g],m=parseInt(C,16)*y,y=1,C=""):C+=g:n.hasOwnProperty(g)?(N+=n[g],w[m]=parseInt(N,16)*y,y=1,m=void 0,N=""):N+=g;return E},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:a("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},l={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":a("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":a("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:a("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":a("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:a("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":a("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":a("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":a("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":a("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(d){var h=d.font,f=u.Unicode[h.postScriptName];f&&(h.metadata.Unicode={},h.metadata.Unicode.widths=f.widths,h.metadata.Unicode.kerning=f.kerning);var m=l.Unicode[h.postScriptName];m&&(h.metadata.Unicode.encoding=m,h.encoding=m.codePages[0])}])}(Ct.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(o,a){a=/^\x00\x01\x00\x00/.test(a)?e(a):e(Dw(a)),o.metadata=t.API.TTFFont.open(a),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ct),function(t){function e(){return(Nt.canvg?Promise.resolve(Nt.canvg):ws(()=>import("./index.es-WjR1wjKi.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Ct.API.addSvgAsImage=function(n,r,i,s,o,a,c,l){if(isNaN(r)||isNaN(i))throw $n.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(o))throw $n.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var u=document.createElement("canvas");u.width=s,u.height=o;var d=u.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,u.width,u.height);var h={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},f=this;return e().then(function(m){return m.fromString(d,n,h)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(m){return m.render(h)}).then(function(){f.addImage(u.toDataURL("image/jpeg",1),r,i,s,o,c,l)})}}(),Ct.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Ct.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},a=Object.keys(o),c=[],l=0,u=0,d=0;function h(m,g){var E,y=!1;for(E=0;E<m.length;E+=1)m[E]===g&&(y=!0);return y}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var f=a.length;for(d=0;d<f;d+=1)n[a[d]].value=n[a[d]].defaultValue,n[a[d]].explicitSet=!1}if(In(t)==="object"){for(i in t)if(s=t[i],h(a,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&h(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(l=0;l<s.length;l+=1)if(r=!0,s[l].length===1&&typeof s[l][0]=="number")c.push(String(s[l]-1));else if(s[l].length>1){for(u=0;u<s[l].length;u+=1)typeof s[l][u]!="number"&&(r=!1);r===!0&&c.push([s[l][0]-1,s[l][1]-1].join(" "))}n[i].value="["+c.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var m,g=[];for(m in n)n[m].explicitSet===!0&&(n[m].type==="name"?g.push("/"+m+" /"+n[m].value):g.push("/"+m+" "+n[m].value));g.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+g.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),a=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),l=s.length+o.length+a.length+i.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+l+" >>"),this.internal.write("stream"),this.internal.write(i+s+o+a+c),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Ct.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,o){for(var a,c=o.metadata.Unicode.widths,l=["","0","00","000","0000"],u=[""],d=0,h=s.length;d<h;++d){if(a=o.metadata.characterToGlyph(s.charCodeAt(d)),o.metadata.glyIdsUsed.push(a),o.metadata.toUnicode[a]=s.charCodeAt(d),c.indexOf(a)==-1&&(c.push(a),c.push([parseInt(o.metadata.widthOfGlyph(a),10)])),a=="0")return u.join("");a=a.toString(16),u.push(l[4-a.length],a)}return u.join("")},r=function(s){var o,a,c,l,u,d,h;for(u=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],d=0,h=(a=Object.keys(s).sort(function(f,m){return f-m})).length;d<h;d++)o=a[d],c.length>=100&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(l=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+l+">"));return c.length&&(u+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),u+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,l=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="Identity-H"){for(var d=a.metadata.Unicode.widths,h=a.metadata.subset.encode(a.metadata.glyIdsUsed,1),f="",m=0;m<h.length;m++)f+=String.fromCharCode(h[m]);var g=l();u({data:f,addLength1:!0,objectId:g}),c("endobj");var E=l();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:E}),c("endobj");var y=l();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+ig(a.fontName)),c("/FontFile2 "+g+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/Flags "+a.metadata.flags),c("/StemV "+a.metadata.stemV),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c(">>"),c("endobj");var w=l();c("<<"),c("/Type /Font"),c("/BaseFont /"+ig(a.fontName)),c("/FontDescriptor "+y+" 0 R"),c("/W "+t.API.PDFObject.convert(d)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+a.encoding+")"),c(">>"),c(">>"),c("endobj"),a.objectNumber=l(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+E+" 0 R"),c("/BaseFont /"+ig(a.fontName)),c("/Encoding /"+a.encoding),c("/DescendantFonts ["+w+" 0 R]"),c(">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var a=o.font,c=o.out,l=o.newObject,u=o.putStream;if(a.metadata instanceof t.API.TTFFont&&a.encoding==="WinAnsiEncoding"){for(var d=a.metadata.rawData,h="",f=0;f<d.length;f++)h+=String.fromCharCode(d[f]);var m=l();u({data:h,addLength1:!0,objectId:m}),c("endobj");var g=l();u({data:r(a.metadata.toUnicode),addLength1:!0,objectId:g}),c("endobj");var E=l();c("<<"),c("/Descent "+a.metadata.decender),c("/CapHeight "+a.metadata.capHeight),c("/StemV "+a.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+m+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(a.metadata.bbox)),c("/FontName /"+ig(a.fontName)),c("/ItalicAngle "+a.metadata.italicAngle),c("/Ascent "+a.metadata.ascender),c(">>"),c("endobj"),a.objectNumber=l();for(var y=0;y<a.metadata.hmtx.widths.length;y++)a.metadata.hmtx.widths[y]=parseInt(a.metadata.hmtx.widths[y]*(1e3/a.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+g+" 0 R/BaseFont/"+ig(a.fontName)+"/FontDescriptor "+E+" 0 R/Encoding/"+a.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(a.metadata.hmtx.widths)+">>"),c("endobj"),a.isAlreadyPutted=!0}})(s)}]);var i=function(s){var o,a=s.text||"",c=s.x,l=s.y,u=s.options||{},d=s.mutex||{},h=d.pdfEscape,f=d.activeFontKey,m=d.fonts,g=f,E="",y=0,w="",x=m[g].encoding;if(m[g].encoding!=="Identity-H")return{text:a,x:c,y:l,options:u,mutex:d};for(w=a,g=f,Array.isArray(a)&&(w=a[0]),y=0;y<w.length;y+=1)m[g].metadata.hasOwnProperty("cmap")&&(o=m[g].metadata.cmap.unicode.codeMap[w[y].charCodeAt(0)]),o||w[y].charCodeAt(0)<256&&m[g].metadata.hasOwnProperty("Unicode")?E+=w[y]:E+="";var C="";return parseInt(g.slice(1))<14||x==="WinAnsiEncoding"?C=h(E,g).split("").map(function(N){return N.charCodeAt(0).toString(16)}).join(""):x==="Identity-H"&&(C=n(E,m[g])),d.isHex=!0,{text:C,x:c,y:l,options:u,mutex:d}};e.events.push(["postProcessText",function(s){var o=s.text||"",a=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var l=0;for(l=0;l<o.length;l+=1)Array.isArray(o[l])&&o[l].length===3?a.push([i(Object.assign({},c,{text:o[l][0]})).text,o[l][1],o[l][2]]):a.push(i(Object.assign({},c,{text:o[l]})).text);s.text=a}else s.text=i(Object.assign({},c,{text:o})).text}])}(Ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,o,a,c,l,u,d=e,h=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],f=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],m={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},g={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},E=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],y=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),w=!1,x=0;this.__bidiEngine__={};var C=function(_){var j=_.charCodeAt(),K=j>>8,V=g[K];return V!==void 0?d[256*V+(255&j)]:K===252||K===253?"AL":y.test(K)?"L":K===8?"R":"N"},N=function(_){for(var j,K=0;K<_.length;K++){if((j=C(_.charAt(K)))==="L")return!1;if(j==="R")return!0}return!1},D=function(_,j,K,V){var T,k,W,B,z=j[V];switch(z){case"L":case"R":w=!1;break;case"N":case"AN":break;case"EN":w&&(z="AN");break;case"AL":w=!0,z="R";break;case"WS":z="N";break;case"CS":V<1||V+1>=j.length||(T=K[V-1])!=="EN"&&T!=="AN"||(k=j[V+1])!=="EN"&&k!=="AN"?z="N":w&&(k="AN"),z=k===T?k:"N";break;case"ES":z=(T=V>0?K[V-1]:"B")==="EN"&&V+1<j.length&&j[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&K[V-1]==="EN"){z="EN";break}if(w){z="N";break}for(W=V+1,B=j.length;W<B&&j[W]==="ET";)W++;z=W<B&&j[W]==="EN"?"EN":"N";break;case"NSM":if(o&&!a){for(B=j.length,W=V+1;W<B&&j[W]==="NSM";)W++;if(W<B){var Z=_[V],he=Z>=1425&&Z<=2303||Z===64286;if(T=j[W],he&&(T==="R"||T==="AL")){z="R";break}}}z=V<1||(T=j[V-1])==="B"?"N":K[V-1];break;case"B":w=!1,i=!0,z=x;break;case"S":s=!0,z="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":w=!1;break;case"BN":z="N"}return z},O=function(_,j,K){var V=_.split("");return K&&P(V,K,{hiLevel:x}),V.reverse(),j&&j.reverse(),V.join("")},P=function(_,j,K){var V,T,k,W,B,z=-1,Z=_.length,he=0,R=[],Y=x?f:h,J=[];for(w=!1,i=!1,s=!1,T=0;T<Z;T++)J[T]=C(_[T]);for(k=0;k<Z;k++){if(B=he,R[k]=D(_,J,R,k),V=240&(he=Y[B][m[R[k]]]),he&=15,j[k]=W=Y[he][5],V>0)if(V===16){for(T=z;T<k;T++)j[T]=1;z=-1}else z=-1;if(Y[he][6])z===-1&&(z=k);else if(z>-1){for(T=z;T<k;T++)j[T]=W;z=-1}J[k]==="B"&&(j[k]=0),K.hiLevel|=W}s&&function(ne,se,de){for(var ye=0;ye<de;ye++)if(ne[ye]==="S"){se[ye]=x;for(var me=ye-1;me>=0&&ne[me]==="WS";me--)se[me]=x}}(J,j,Z)},L=function(_,j,K,V,T){if(!(T.hiLevel<_)){if(_===1&&x===1&&!i)return j.reverse(),void(K&&K.reverse());for(var k,W,B,z,Z=j.length,he=0;he<Z;){if(V[he]>=_){for(B=he+1;B<Z&&V[B]>=_;)B++;for(z=he,W=B-1;z<W;z++,W--)k=j[z],j[z]=j[W],j[W]=k,K&&(k=K[z],K[z]=K[W],K[W]=k);he=B}he++}}},$=function(_,j,K){var V=_.split(""),T={hiLevel:x};return K||(K=[]),P(V,K,T),function(k,W,B){if(B.hiLevel!==0&&u)for(var z,Z=0;Z<k.length;Z++)W[Z]===1&&(z=E.indexOf(k[Z]))>=0&&(k[Z]=E[z+1])}(V,K,T),L(2,V,j,K,T),L(1,V,j,K,T),V.join("")};return this.__bidiEngine__.doBidiReorder=function(_,j,K){if(function(T,k){if(k)for(var W=0;W<T.length;W++)k[W]=W;a===void 0&&(a=N(T)),l===void 0&&(l=N(T))}(_,j),o||!c||l)if(o&&c&&a^l)x=a?1:0,_=O(_,j,K);else if(!o&&c&&l)x=a?1:0,_=$(_,j,K),_=O(_,j);else if(!o||a||c||l){if(o&&!c&&a^l)_=O(_,j),a?(x=0,_=$(_,j,K)):(x=1,_=$(_,j,K),_=O(_,j));else if(o&&a&&!c&&l)x=1,_=$(_,j,K),_=O(_,j);else if(!o&&!c&&a^l){var V=u;a?(x=1,_=$(_,j,K),x=0,u=!1,_=$(_,j,K),u=V):(x=0,_=$(_,j,K),_=O(_,j),x=1,u=!1,_=$(_,j,K),u=V,_=O(_,j))}}else x=0,_=$(_,j,K);else x=a?1:0,_=$(_,j,K);return _},this.__bidiEngine__.setOptions=function(_){_&&(o=_.isInputVisual,c=_.isOutputVisual,a=_.isInputRtl,l=_.isOutputRtl,u=_.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),o=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var a=0;for(o=[],a=0;a<i.length;a+=1)Object.prototype.toString.call(i[a])==="[object Array]"?o.push([n.doBidiReorder(i[a][0]),i[a][1],i[a][2]]):o.push([n.doBidiReorder(i[a])]);r.text=o}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new xh(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new Oie(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new wie(this.contents),this.head=new bie(this),this.name=new Cie(this),this.cmap=new _$(this),this.toUnicode={},this.hhea=new xie(this),this.maxp=new Nie(this),this.hmtx=new _ie(this),this.post=new Aie(this),this.os2=new Eie(this),this.loca=new kie(this),this.glyf=new Pie(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,a,c,l;for(l=[],o=0,a=(c=this.bbox).length;o<a;o++)e=c[o],l.push(Math.round(e*this.scaleFactor));return l}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,o,a;for(o=0,s=0,a=(e=""+e).length;0<=a?s<a:s>a;s=0<=a?++s:--s)i=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return o*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var wc,xh=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,o,a,c;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),o=this.readByte(),a=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^o)+256*(255^a)+(255^c)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*o+256*a+c},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),wie=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,o,a,c,l,u,d,h,f,m,g;for(g in f=Object.keys(n).length,c=Math.log(2),d=16*Math.floor(Math.log(f)/c),o=Math.floor(d/c),u=16*f-d,(i=new xh).writeInt(this.scalarType),i.writeShort(f),i.writeShort(d),i.writeShort(o),i.writeShort(u),s=16*f,l=i.pos+s,a=null,m=[],n)for(h=n[g],i.writeString(g),i.writeInt(t(h)),i.writeInt(l),i.writeInt(h.length),m=m.concat(h),g==="head"&&(a=l),l+=h.length;l%4;)m.push(0),l++;return i.write(m),r=2981146554-t(i.data),i.pos=a+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,o;for(n=P$.call(n);n.length%4;)n.push(0);for(s=new xh(n),i=0,r=0,o=n.length;r<o;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),vie={}.hasOwnProperty,Cl=function(t,e){for(var n in e)vie.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};wc=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var bie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Cl(e,wc),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new xh).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Q8=function(){function t(e,n){var r,i,s,o,a,c,l,u,d,h,f,m,g,E,y,w,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(f=e.readUInt16(),h=f/2,e.pos+=6,s=function(){var C,N;for(N=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)N.push(e.readUInt16());return N}(),e.pos+=2,g=function(){var C,N;for(N=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)N.push(e.readUInt16());return N}(),l=function(){var C,N;for(N=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)N.push(e.readUInt16());return N}(),u=function(){var C,N;for(N=[],c=C=0;0<=h?C<h:C>h;c=0<=h?++C:--C)N.push(e.readUInt16());return N}(),i=(this.length-e.pos+this.offset)/2,a=function(){var C,N;for(N=[],c=C=0;0<=i?C<i:C>i;c=0<=i?++C:--C)N.push(e.readUInt16());return N}(),c=y=0,x=s.length;y<x;c=++y)for(E=s[c],r=w=m=g[c];m<=E?w<=E:w>=E;r=m<=E?++w:--w)u[c]===0?o=r+l[c]:(o=a[u[c]/2+(r-m)-(h-c)]||0)!==0&&(o+=l[c]),this.codeMap[r]=65535&o}e.pos=d}return t.encode=function(e,n){var r,i,s,o,a,c,l,u,d,h,f,m,g,E,y,w,x,C,N,D,O,P,L,$,_,j,K,V,T,k,W,B,z,Z,he,R,Y,J,ne,se,de,ye,me,Te,Pe,De;switch(V=new xh,o=Object.keys(e).sort(function(je,et){return je-et}),n){case"macroman":for(g=0,E=function(){var je=[];for(m=0;m<256;++m)je.push(0);return je}(),w={0:0},s={},T=0,z=o.length;T<z;T++)w[me=e[i=o[T]]]==null&&(w[me]=++g),s[i]={old:e[i],new:w[e[i]]},E[i]=w[e[i]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(E),{charMap:s,subtable:V.data,maxGlyphID:g+1};case"unicode":for(j=[],d=[],x=0,w={},r={},y=l=null,k=0,Z=o.length;k<Z;k++)w[N=e[i=o[k]]]==null&&(w[N]=++x),r[i]={old:N,new:w[N]},a=w[N]-i,y!=null&&a===l||(y&&d.push(y),j.push(i),l=a),y=i;for(y&&d.push(y),d.push(65535),j.push(65535),$=2*(L=j.length),P=2*Math.pow(Math.log(L)/Math.LN2,2),h=Math.log(P/2)/Math.LN2,O=2*L-P,c=[],D=[],f=[],m=W=0,he=j.length;W<he;m=++W){if(_=j[m],u=d[m],_===65535){c.push(0),D.push(0);break}if(_-(K=r[_].new)>=32768)for(c.push(0),D.push(2*(f.length+L-m)),i=B=_;_<=u?B<=u:B>=u;i=_<=u?++B:--B)f.push(r[i].new);else c.push(K-_),D.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*L+2*f.length),V.writeUInt16(0),V.writeUInt16($),V.writeUInt16(P),V.writeUInt16(h),V.writeUInt16(O),de=0,R=d.length;de<R;de++)i=d[de],V.writeUInt16(i);for(V.writeUInt16(0),ye=0,Y=j.length;ye<Y;ye++)i=j[ye],V.writeUInt16(i);for(Te=0,J=c.length;Te<J;Te++)a=c[Te],V.writeUInt16(a);for(Pe=0,ne=D.length;Pe<ne;Pe++)C=D[Pe],V.writeUInt16(C);for(De=0,se=f.length;De<se;De++)g=f[De],V.writeUInt16(g);return{charMap:r,subtable:V.data,maxGlyphID:x+1}}},t}(),_$=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Cl(e,wc),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Q8(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Q8.encode(n,r),(s=new xh).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),xie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Cl(e,wc),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),Eie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Cl(e,wc),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),Aie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Cl(e,wc),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var o;for(i=n.readUInt16(),this.glyphNameIndex=[],o=0;0<=i?o<i:o>i;o=0<=i?++o:--o)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var a,c,l;for(l=[],o=a=0,c=this.file.maxp.numGlyphs;0<=c?a<c:a>c;o=0<=c?++a:--a)l.push(n.readUInt32());return l}).call(this)}},e}(),Sie=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Cie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Cl(e,wc),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,o,a,c,l,u,d,h,f;for(n.pos=this.offset,n.readShort(),r=n.readShort(),c=n.readShort(),i=[],o=0;0<=r?o<r:o>r;o=0<=r?++o:--o)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+c+n.readShort()});for(l={},o=d=0,h=i.length;d<h;o=++d)s=i[o],n.pos=s.offset,u=n.readString(s.length),a=new Sie(u,s),l[f=s.nameID]==null&&(l[f]=[]),l[s.nameID].push(a);this.strings=l,this.copyright=l[0],this.fontFamily=l[1],this.fontSubfamily=l[2],this.uniqueSubfamily=l[3],this.fontName=l[4],this.version=l[5];try{this.postscriptName=l[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=l[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=l[7],this.manufacturer=l[8],this.designer=l[9],this.description=l[10],this.vendorUrl=l[11],this.designerUrl=l[12],this.license=l[13],this.licenseUrl=l[14],this.preferredFamily=l[15],this.preferredSubfamily=l[17],this.compatibleFull=l[18],this.sampleText=l[19]},e}(),Nie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Cl(e,wc),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),_ie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Cl(e,wc),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,o,a,c,l;for(n.pos=this.offset,this.metrics=[],r=0,c=this.file.hhea.numberOfMetrics;0<=c?r<c:r>c;r=0<=c?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var u,d;for(d=[],r=u=0;0<=s?u<s:u>s;r=0<=s?++u:--u)d.push(n.readInt16());return d}(),this.widths=(function(){var u,d,h,f;for(f=[],u=0,d=(h=this.metrics).length;u<d;u++)o=h[u],f.push(o.advance);return f}).call(this),i=this.widths[this.widths.length-1],l=[],r=a=0;0<=s?a<s:a>s;r=0<=s?++a:--a)l.push(this.widths.push(i));return l},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),P$=[].slice,Pie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Cl(e,wc),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,o,a,c,l,u,d,h;return n in this.cache?this.cache[n]:(o=this.file.loca,r=this.file.contents,i=o.indexOf(n),(s=o.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,a=(c=new xh(r.read(s))).readShort(),u=c.readShort(),h=c.readShort(),l=c.readShort(),d=c.readShort(),this.cache[n]=a===-1?new Tie(c,u,h,l,d):new Iie(c,a,u,h,l,d),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,o,a,c,l;for(a=[],o=[],c=0,l=r.length;c<l;c++)s=n[r[c]],o.push(a.length),s&&(a=a.concat(s.encode(i)));return o.push(a.length),{table:a,offsets:o}},e}(),Iie=function(){function t(e,n,r,i,s,o){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),Tie=function(){function t(e,n,r,i,s){var o,a;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;a=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&a;)o.pos+=1&a?4:2,128&a?o.pos+=8:64&a?o.pos+=4:8&a&&(o.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new xh(P$.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),kie=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Cl(e,wc),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=2)o.push(2*n.readUInt16());return o}).call(this):(function(){var s,o;for(o=[],i=0,s=this.length;i<s;i+=4)o.push(n.readUInt32());return o}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,o=0,a=0;a<i.length;++a)if(i[a]=s,o<r.length&&r[o]==a){++o,i[a]=s;var c=this.offsets[a],l=this.offsets[a+1]-c;l>0&&(s+=l)}for(var u=new Array(4*i.length),d=0;d<i.length;++d)u[4*d+3]=255&i[d],u[4*d+2]=(65280&i[d])>>8,u[4*d+1]=(16711680&i[d])>>16,u[4*d]=(4278190080&i[d])>>24;return u},e}(),Oie=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,o,a,c;for(i={},o=0,a=e.length;o<a;o++)i[s=e[o]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in c=this.glyphsFor(n))r=c[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,o,a,c,l,u,d,h,f,m,g,E,y;for(i in r=_$.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),f={0:0},y=r.charMap)f[(c=y[i]).old]=c.new;for(m in h=r.maxGlyphID,o)m in f||(f[m]=h++);return u=function(w){var x,C;for(x in C={},w)C[w[x]]=x;return C}(f),d=Object.keys(u).sort(function(w,x){return w-x}),g=function(){var w,x,C;for(C=[],w=0,x=d.length;w<x;w++)a=d[w],C.push(u[a]);return C}(),s=this.font.glyf.encode(o,g,f),l=this.font.loca.encode(s.offsets,g),E={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(E["OS/2"]=this.font.os2.raw()),this.font.directory.encode(E)},t}();Ct.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,o;if(Array.isArray(n))return"["+function(){var a,c,l;for(l=[],a=0,c=n.length;a<c;a++)r=n[a],l.push(e.convert(r));return l}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)o=n[i],s.push("/"+i+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+n},e}();const Rie=t=>{const e=new Ct({orientation:"portrait",unit:"mm",format:"a4"});let n=20;const r=20,i=e.internal.pageSize.width,s=7,o=(c,l)=>{const u=e.getStringUnitWidth(c)*e.internal.getFontSize()/e.internal.scaleFactor,d=(i-u)/2;e.text(c,d,l)};e.setFontSize(24),e.setTextColor(0,87,183),o("iUnlockExpert",n),n+=15,e.setFontSize(16),e.setTextColor(0,0,0),o("Payment Receipt",n),n+=5,e.setLineWidth(.5),e.line(r,n,i-r,n),e.setFontSize(10),n+=10;const a=(c,l)=>{e.setFont("helvetica","normal"),e.text(c,r,n),e.setFont("helvetica","bold"),e.text(l,r+40,n),n+=s};return e.setFont("helvetica","bold"),e.text("Order Information",r,n),n+=s,a("Order ID:",t.orderId),a("Date:",t.date),a("Email:",t.email),n+=5,e.setFont("helvetica","bold"),e.text("Device Information",r,n),n+=s,a("Device:",t.device),a("IMEI:",t.imei),a("Service:",t.service),n+=5,e.setFont("helvetica","bold"),e.text("Payment Details",r,n),n+=s,a("Original Price:",`${t.originalPrice.toFixed(2)}`),a("Discount:",`${t.discount.toFixed(2)}`),a("Payment Method:",t.paymentMethod),n+=5,e.setFillColor(240,247,255),e.rect(r,n,i-r*2,12,"F"),n+=8,e.setFont("helvetica","bold"),e.setFontSize(12),e.text("Total Amount:",r+2,n),e.text(`${t.finalPrice.toFixed(2)}`,i-r-25,n),n=e.internal.pageSize.height-30,e.setFontSize(8),e.setFont("helvetica","normal"),o("Thank you for choosing iUnlockExpert for your device unlocking needs.",n),n+=5,o("This receipt serves as proof of payment. Please keep it for your records.",n),n+=5,o("For support, contact us at support@iunlockexpert.com",n),n+=5,e.setFontSize(7),o("iUnlockExpert Inc. | 123 Tech Street, Digital City, 12345 | +1-800-UNLOCK-PRO",n),e.output("datauristring")},Lie=Symbol(),rk=Symbol(),j1="a",jw="w";let Die=(t,e)=>new Proxy(t,e);const DP=Object.getPrototypeOf,jP=new WeakMap,I$=t=>t&&(jP.has(t)?jP.get(t):DP(t)===Object.prototype||DP(t)===Array.prototype),YE=t=>typeof t=="object"&&t!==null,jie=t=>{if(Array.isArray(t))return Array.from(t);const e=Object.getOwnPropertyDescriptors(t);return Object.values(e).forEach(n=>{n.configurable=!0}),Object.create(DP(t),e)},ik=t=>t[rk]||t,T$=(t,e,n,r)=>{if(!I$(t))return t;let i=r&&r.get(t);if(!i){const c=ik(t);i=(l=>Object.values(Object.getOwnPropertyDescriptors(l)).some(u=>!u.configurable&&!u.writable))(c)?[c,jie(c)]:[c],r==null||r.set(t,i)}const[s,o]=i;let a=n&&n.get(s);return a&&a[1].f===!!o||(a=((c,l)=>{const u={f:l};let d=!1;const h=(m,g)=>{if(!d){let E=u[j1].get(c);if(E||(E={},u[j1].set(c,E)),m===jw)E[jw]=!0;else{let y=E[m];y||(y=new Set,E[m]=y),y.add(g)}}},f={get:(m,g)=>g===rk?c:(h("k",g),T$(Reflect.get(m,g),u[j1],u.c,u.t)),has:(m,g)=>g===Lie?(d=!0,u[j1].delete(c),!0):(h("h",g),Reflect.has(m,g)),getOwnPropertyDescriptor:(m,g)=>(h("o",g),Reflect.getOwnPropertyDescriptor(m,g)),ownKeys:m=>(h(jw),Reflect.ownKeys(m))};return l&&(f.set=f.deleteProperty=()=>!1),[f,u]})(s,!!o),a[1].p=Die(o||s,a[0]),n&&n.set(s,a)),a[1][j1]=e,a[1].c=n,a[1].t=r,a[1].p},k$=(t,e,n,r,i=Object.is)=>{if(i(t,e))return!1;if(!YE(t)||!YE(e))return!0;const s=n.get(ik(t));if(!s)return!0;if(r){const a=r.get(t);if(a&&a.n===e)return a.g;r.set(t,{n:e,g:!1})}let o=null;try{for(const a of s.h||[])if(o=Reflect.has(t,a)!==Reflect.has(e,a),o)return o;if(s[jw]===!0){if(o=((a,c)=>{const l=Reflect.ownKeys(a),u=Reflect.ownKeys(c);return l.length!==u.length||l.some((d,h)=>d!==u[h])})(t,e),o)return o}else for(const a of s.o||[])if(o=!!Reflect.getOwnPropertyDescriptor(t,a)!=!!Reflect.getOwnPropertyDescriptor(e,a),o)return o;for(const a of s.k||[])if(o=k$(t[a],e[a],n,r,i),o)return o;return o===null&&(o=!0),o}finally{r&&r.set(t,{n:e,g:o})}},Mie=t=>I$(t)&&t[rk]||null,Z8=(t,e=!0)=>{jP.set(t,e)},Bie=(t,e,n)=>{const r=[],i=new WeakSet,s=(o,a)=>{if(i.has(o))return;YE(o)&&i.add(o);const c=YE(o)&&e.get(ik(o));if(c){var l,u;if((l=c.h)==null||l.forEach(h=>{const f=`:has(${String(h)})`;r.push(a?[...a,f]:[f])}),c[jw]===!0){const h=":ownKeys";r.push(a?[...a,h]:[h])}else{var d;(d=c.o)==null||d.forEach(h=>{const f=`:hasOwn(${String(h)})`;r.push(a?[...a,f]:[f])})}(u=c.k)==null||u.forEach(h=>{!("value"in(Object.getOwnPropertyDescriptor(o,h)||{}))||s(o[h],a?[...a,h]:[h])})}else a&&r.push(a)};return s(t),r},JE={BASE_URL:"/iunlockexpert",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_IMEI_API_KEY:"PN7VOmB870ddyo8ojOE83HJ5NIZ1OpkKDu9Y5H3P2784288f",VITE_IMEI_SERVICE_ID:"1",VITE_PROJECT_ID:"acf46e0cc4d322acb6d86bb030902765",VITE_WALLET_CONNECT_PROJECT_ID:"acf46e0cc4d322acb6d86bb030902765"},zN=t=>typeof t=="object"&&t!==null,wd=new WeakMap,lw=new WeakSet,Uie=(t=Object.is,e=(l,u)=>new Proxy(l,u),n=l=>zN(l)&&!lw.has(l)&&(Array.isArray(l)||!(Symbol.iterator in l))&&!(l instanceof WeakMap)&&!(l instanceof WeakSet)&&!(l instanceof Error)&&!(l instanceof Number)&&!(l instanceof Date)&&!(l instanceof String)&&!(l instanceof RegExp)&&!(l instanceof ArrayBuffer),r=l=>{switch(l.status){case"fulfilled":return l.value;case"rejected":throw l.reason;default:throw l}},i=new WeakMap,s=(l,u,d=r)=>{const h=i.get(l);if((h==null?void 0:h[0])===u)return h[1];const f=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l));return Z8(f,!0),i.set(l,[u,f]),Reflect.ownKeys(l).forEach(m=>{if(Object.getOwnPropertyDescriptor(f,m))return;const g=Reflect.get(l,m),{enumerable:E}=Reflect.getOwnPropertyDescriptor(l,m),y={value:g,enumerable:E,configurable:!0};if(lw.has(g))Z8(g,!1);else if(g instanceof Promise)delete y.value,y.get=()=>d(g);else if(wd.has(g)){const[w,x]=wd.get(g);y.value=s(w,x(),d)}Object.defineProperty(f,m,y)}),Object.preventExtensions(f)},o=new WeakMap,a=[1,1],c=l=>{if(!zN(l))throw new Error("object required");const u=o.get(l);if(u)return u;let d=a[0];const h=new Set,f=(L,$=++a[0])=>{d!==$&&(d=$,h.forEach(_=>_(L,$)))};let m=a[1];const g=(L=++a[1])=>(m!==L&&!h.size&&(m=L,y.forEach(([$])=>{const _=$[1](L);_>d&&(d=_)})),d),E=L=>($,_)=>{const j=[...$];j[1]=[L,...j[1]],f(j,_)},y=new Map,w=(L,$)=>{if((JE?"production":void 0)!=="production"&&y.has(L))throw new Error("prop listener already exists");if(h.size){const _=$[3](E(L));y.set(L,[$,_])}else y.set(L,[$])},x=L=>{var $;const _=y.get(L);_&&(y.delete(L),($=_[1])==null||$.call(_))},C=L=>(h.add(L),h.size===1&&y.forEach(([_,j],K)=>{if((JE?"production":void 0)!=="production"&&j)throw new Error("remove already exists");const V=_[3](E(K));y.set(K,[_,V])}),()=>{h.delete(L),h.size===0&&y.forEach(([_,j],K)=>{j&&(j(),y.set(K,[_]))})}),N=Array.isArray(l)?[]:Object.create(Object.getPrototypeOf(l)),O=e(N,{deleteProperty(L,$){const _=Reflect.get(L,$);x($);const j=Reflect.deleteProperty(L,$);return j&&f(["delete",[$],_]),j},set(L,$,_,j){const K=Reflect.has(L,$),V=Reflect.get(L,$,j);if(K&&(t(V,_)||o.has(_)&&t(V,o.get(_))))return!0;x($),zN(_)&&(_=Mie(_)||_);let T=_;if(_ instanceof Promise)_.then(k=>{_.status="fulfilled",_.value=k,f(["resolve",[$],k])}).catch(k=>{_.status="rejected",_.reason=k,f(["reject",[$],k])});else{!wd.has(_)&&n(_)&&(T=c(_));const k=!lw.has(T)&&wd.get(T);k&&w($,k)}return Reflect.set(L,$,T,j),f(["set",[$],_,V]),!0}});o.set(l,O);const P=[N,g,s,C];return wd.set(O,P),Reflect.ownKeys(l).forEach(L=>{const $=Object.getOwnPropertyDescriptor(l,L);"value"in $&&(O[L]=l[L],delete $.value,delete $.writable),Object.defineProperty(N,L,$)}),O})=>[c,wd,lw,t,e,n,r,i,s,o,a],[Fie]=Uie();function gr(t={}){return Fie(t)}function ls(t,e,n){const r=wd.get(t);(JE?"production":void 0)!=="production"&&!r&&console.warn("Please use proxy object");let i;const s=[],o=r[3];let a=!1;const l=o(u=>{s.push(u),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function vp(t,e){const n=wd.get(t);(JE?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");const[r,i,s]=n;return s(r,i(),e)}function bp(t){return lw.add(t),t}function ro(t,e,n,r){let i=t[e];return ls(t,()=>{const s=t[e];Object.is(i,s)||n(i=s)})}function $ie(t){const e=gr({data:Array.from([]),has(n){return this.data.some(r=>r[0]===n)},set(n,r){const i=this.data.find(s=>s[0]===n);return i?i[1]=r:this.data.push([n,r]),this},get(n){var r;return(r=this.data.find(i=>i[0]===n))==null?void 0:r[1]},delete(n){const r=this.data.findIndex(i=>i[0]===n);return r===-1?!1:(this.data.splice(r,1),!0)},clear(){this.data.splice(0)},get size(){return this.data.length},toJSON(){return new Map(this.data)},forEach(n){this.data.forEach(r=>{n(r[1],r[0],this)})},keys(){return this.data.map(n=>n[0]).values()},values(){return this.data.map(n=>n[1]).values()},entries(){return new Map(this.data).entries()},get[Symbol.toStringTag](){return"Map"},[Symbol.iterator](){return this.entries()}});return Object.defineProperties(e,{data:{enumerable:!1},size:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(e),e}const O$={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return(t==null?void 0:t.filter(n=>n.chainNamespace===e))||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]}};var zie=20,Vie=1,xp=1e6,X8=1e6,Hie=-7,qie=21,Wie=!1,Qb="[big.js] ",Hp=Qb+"Invalid ",hS=Hp+"decimal places",Gie=Hp+"rounding mode",R$=Qb+"Division by zero",kn={},fl=void 0,Kie=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function L$(){function t(e){var n=this;if(!(n instanceof t))return e===fl?L$():new t(e);if(e instanceof t)n.s=e.s,n.e=e.e,n.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(Hp+"value");e=e===0&&1/e<0?"-0":String(e)}Yie(n,e)}n.constructor=t}return t.prototype=kn,t.DP=zie,t.RM=Vie,t.NE=Hie,t.PE=qie,t.strict=Wie,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function Yie(t,e){var n,r,i;if(!Kie.test(e))throw Error(Hp+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),i=e.length,r=0;r<i&&e.charAt(r)=="0";)++r;if(r==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=n-r-1,t.c=[],n=0;r<=i;)t.c[n++]=+e.charAt(r++)}return t}function qp(t,e,n,r){var i=t.c;if(n===fl&&(n=t.constructor.RM),n!==0&&n!==1&&n!==2&&n!==3)throw Error(Gie);if(e<1)r=n===3&&(r||!!i[0])||e===0&&(n===1&&i[0]>=5||n===2&&(i[0]>5||i[0]===5&&(r||i[1]!==fl))),i.length=1,r?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(r=n===1&&i[e]>=5||n===2&&(i[e]>5||i[e]===5&&(r||i[e+1]!==fl||i[e-1]&1))||n===3&&(r||!!i[0]),i.length=e,r){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function Wp(t,e,n){var r=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(r<0?"e":"e+")+r;else if(r<0){for(;++r;)i="0"+i;i="0."+i}else if(r>0)if(++r>s)for(r-=s;r--;)i+="0";else r<s&&(i=i.slice(0,r)+"."+i.slice(r));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&n?"-"+i:i}kn.abs=function(){var t=new this.constructor(this);return t.s=1,t};kn.cmp=function(t){var e,n=this,r=n.c,i=(t=new n.constructor(t)).c,s=n.s,o=t.s,a=n.e,c=t.e;if(!r[0]||!i[0])return r[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=r.length)<(c=i.length)?a:c,s=-1;++s<o;)if(r[s]!=i[s])return r[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};kn.div=function(t){var e=this,n=e.constructor,r=e.c,i=(t=new n(t)).c,s=e.s==t.s?1:-1,o=n.DP;if(o!==~~o||o<0||o>xp)throw Error(hS);if(!i[0])throw Error(R$);if(!r[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,d,h=i.slice(),f=a=i.length,m=r.length,g=r.slice(0,a),E=g.length,y=t,w=y.c=[],x=0,C=o+(y.e=e.e-t.e)+1;for(y.s=s,s=C<0?0:C,h.unshift(0);E++<a;)g.push(0);do{for(l=0;l<10;l++){if(a!=(E=g.length))u=a>E?1:-1;else for(d=-1,u=0;++d<a;)if(i[d]!=g[d]){u=i[d]>g[d]?1:-1;break}if(u<0){for(c=E==a?i:h;E;){if(g[--E]<c[E]){for(d=E;d&&!g[--d];)g[d]=9;--g[d],g[E]+=10}g[E]-=c[E]}for(;!g[0];)g.shift()}else break}w[x++]=u?l:++l,g[0]&&u?g[E]=r[f]||0:g=[r[f]]}while((f++<m||g[0]!==fl)&&s--);return!w[0]&&x!=1&&(w.shift(),y.e--,C--),x>C&&qp(y,C,n.RM,g[0]!==fl),y};kn.eq=function(t){return this.cmp(t)===0};kn.gt=function(t){return this.cmp(t)>0};kn.gte=function(t){return this.cmp(t)>-1};kn.lt=function(t){return this.cmp(t)<0};kn.lte=function(t){return this.cmp(t)<1};kn.minus=kn.sub=function(t){var e,n,r,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,d=t.c,h=t.e;if(!l[0]||!d[0])return d[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-h){for((i=a<0)?(a=-a,r=l):(h=u,r=d),r.reverse(),c=a;c--;)r.push(0);r.reverse()}else for(n=((i=l.length<d.length)?l:d).length,a=c=0;c<n;c++)if(l[c]!=d[c]){i=l[c]<d[c];break}if(i&&(r=l,l=d,d=r,t.s=-t.s),(c=(n=d.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;n>a;){if(l[--n]<d[n]){for(e=n;e&&!l[--e];)l[e]=9;--l[e],l[n]+=10}l[n]-=d[n]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};kn.mod=function(t){var e,n=this,r=n.constructor,i=n.s,s=(t=new r(t)).s;if(!t.c[0])throw Error(R$);return n.s=t.s=1,e=t.cmp(n)==1,n.s=i,t.s=s,e?new r(n):(i=r.DP,s=r.RM,r.DP=r.RM=0,n=n.div(t),r.DP=i,r.RM=s,this.minus(n.times(t)))};kn.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};kn.plus=kn.add=function(t){var e,n,r,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,r=l):(e=-e,r=a),r.reverse();e--;)r.push(0);r.reverse()}for(a.length-l.length<0&&(r=l,l=a,a=r),e=l.length,n=0;e;a[e]%=10)n=(a[--e]=a[e]+l[e]+n)/10|0;for(n&&(a.unshift(n),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};kn.pow=function(t){var e=this,n=new e.constructor("1"),r=n,i=t<0;if(t!==~~t||t<-X8||t>X8)throw Error(Hp+"exponent");for(i&&(t=-t);t&1&&(r=r.times(e)),t>>=1,!!t;)e=e.times(e);return i?n.div(r):r};kn.prec=function(t,e){if(t!==~~t||t<1||t>xp)throw Error(Hp+"precision");return qp(new this.constructor(this),t,e)};kn.round=function(t,e){if(t===fl)t=0;else if(t!==~~t||t<-xp||t>xp)throw Error(hS);return qp(new this.constructor(this),t+this.e+1,e)};kn.sqrt=function(){var t,e,n,r=this,i=r.constructor,s=r.s,o=r.e,a=new i("0.5");if(!r.c[0])return new i(r);if(s<0)throw Error(Qb+"No square root");s=Math.sqrt(+Wp(r,!0,!0)),s===0||s===1/0?(e=r.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do n=t,t=a.times(n.plus(r.div(n)));while(n.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return qp(t,(i.DP-=4)+t.e+1,i.RM)};kn.times=kn.mul=function(t){var e,n=this,r=n.constructor,i=n.c,s=(t=new r(t)).c,o=i.length,a=s.length,c=n.e,l=t.e;if(t.s=n.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};kn.toExponential=function(t,e){var n=this,r=n.c[0];if(t!==fl){if(t!==~~t||t<0||t>xp)throw Error(hS);for(n=qp(new n.constructor(n),++t,e);n.c.length<t;)n.c.push(0)}return Wp(n,!0,!!r)};kn.toFixed=function(t,e){var n=this,r=n.c[0];if(t!==fl){if(t!==~~t||t<0||t>xp)throw Error(hS);for(n=qp(new n.constructor(n),t+n.e+1,e),t=t+n.e+1;n.c.length<t;)n.c.push(0)}return Wp(n,!1,!!r)};kn[Symbol.for("nodejs.util.inspect.custom")]=kn.toJSON=kn.toString=function(){var t=this,e=t.constructor;return Wp(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};kn.toNumber=function(){var t=+Wp(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(Qb+"Imprecise conversion");return t};kn.toPrecision=function(t,e){var n=this,r=n.constructor,i=n.c[0];if(t!==fl){if(t!==~~t||t<1||t>xp)throw Error(Hp+"precision");for(n=qp(new r(n),t,e);n.c.length<t;)n.c.push(0)}return Wp(n,t<=n.e||n.e<=r.NE||n.e>=r.PE,!!i)};kn.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(Qb+"valueOf disallowed");return Wp(t,t.e<=e.NE||t.e>=e.PE,!0)};var M1=L$();const B5={bigNumber(t){return t?new M1(t):new M1(0)},multiply(t,e){if(t===void 0||e===void 0)return new M1(0);const n=new M1(t),r=new M1(e);return n.times(r)},formatNumberToLocalString(t,e=2){return t===void 0?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e})},parseLocalStringToNumber(t){return t===void 0?0:parseFloat(t.replace(/,/gu,""))}},Jie=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Qie=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],Zie=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],Ge={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],HTTP_STATUS_CODES:{SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network"},Xie={getERC20Abi:t=>Ge.USDT_CONTRACT_ADDRESSES.includes(t)?Zie:Jie,getSwapAbi:()=>Qie},Kl={validateCaipAddress(t){var e;if(((e=t.split(":"))==null?void 0:e.length)!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[n,r,i]=e;if(!n||!r||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:n,chainId:r,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[n,r]=e;if(!n||!r)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:n,chainId:r}}},Wt={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types"};function VN(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const $t={setItem(t,e){uw()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(uw())return localStorage.getItem(t)||void 0},removeItem(t){uw()&&localStorage.removeItem(t)},clear(){uw()&&localStorage.clear()}};function uw(){return typeof window<"u"&&typeof localStorage<"u"}function bu(t,e){return e==="light"?{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":(t==null?void 0:t["--w3m-accent"])||"hsla(230, 100%, 67%, 1)","--w3m-background":"#121313"}}function ese(t){return(t==null?void 0:t.endsWith(Ge.WC_NAME_SUFFIX_LEGACY))||(t==null?void 0:t.endsWith(Ge.WC_NAME_SUFFIX))}var eL={};const HN=(typeof process<"u"&&typeof eL<"u"?eL.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Y_e=[{label:"Coinbase",name:"coinbase",feeRange:"1-2%",url:"",supportedChains:["eip155"]},{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],J_e="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",os={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:HN,SECURE_SITE_DASHBOARD:`${HN}/dashboard`,SECURE_SITE_FAVICON:`${HN}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],WC_COINBASE_PAY_SDK_CHAINS:["ethereum","arbitrum","polygon","berachain","avalanche-c-chain","optimism","celo","base"],WC_COINBASE_PAY_SDK_FALLBACK_CHAIN:"ethereum",WC_COINBASE_PAY_SDK_CHAIN_NAME_MAP:{Ethereum:"ethereum","Arbitrum One":"arbitrum",Polygon:"polygon",Berachain:"berachain",Avalanche:"avalanche-c-chain","OP Mainnet":"optimism",Celo:"celo",Base:"base"},WC_COINBASE_ONRAMP_APP_ID:"bf18c88d-495a-463b-b249-0b9d3656cf5e",SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:["eip155","solana"],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:["eip155"],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:["eip155","solana"],ACTIVITY_ENABLED_CHAIN_NAMESPACES:["eip155"],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in a new browser tab"},DEFAULT_FEATURES:{swaps:!0,onramp:!0,receive:!0,send:!0,email:!0,emailShowWallets:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],history:!0,analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0},DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"}},ot={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=ot.getActiveNamespace(),e=ot.getActiveCaipNetworkId(),n=e?e.split(":")[1]:void 0,r=n?isNaN(Number(n))?n:Number(n):void 0;return{namespace:t,caipNetworkId:e,chainId:r}},setWalletConnectDeepLink({name:t,href:e}){try{$t.setItem(Wt.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=$t.getItem(Wt.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{$t.removeItem(Wt.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{$t.setItem(Wt.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{$t.setItem(Wt.ACTIVE_CAIP_NETWORK_ID,t),ot.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return $t.getItem(Wt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{$t.removeItem(Wt.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=VN(t);$t.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=ot.getRecentWallets();e.find(r=>r.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),$t.setItem(Wt.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=$t.getItem(Wt.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const n=VN(t);$t.setItem(n,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return $t.getItem(Wt.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=VN(t);return $t.getItem(e)}catch{console.info("Unable to get connected connector id in namespace ",t)}},setConnectedSocialProvider(t){try{$t.setItem(Wt.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return $t.getItem(Wt.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{$t.removeItem(Wt.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return $t.getItem(Wt.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){var n;const t=$t.getItem(Wt.ACTIVE_CAIP_NETWORK_ID);return(n=t==null?void 0:t.split(":"))==null?void 0:n[1]},setConnectionStatus(t){try{$t.setItem(Wt.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return $t.getItem(Wt.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=$t.getItem(Wt.CONNECTED_NAMESPACES);return t!=null&&t.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));$t.setItem(Wt.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=ot.getConnectedNamespaces();e.includes(t)||(e.push(t),ot.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=ot.getConnectedNamespaces(),n=e.indexOf(t);n>-1&&(e.splice(n,1),ot.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return $t.getItem(Wt.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{$t.setItem(Wt.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{$t.removeItem(Wt.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=$t.getItem(Wt.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=ot.getBalanceCache();$t.setItem(Wt.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const n=ot.getBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.portfolio))return n.balance;ot.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=ot.getBalanceCache();e[t.caipAddress]=t,$t.setItem(Wt.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=$t.getItem(Wt.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=ot.getBalanceCache();$t.setItem(Wt.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const n=ot.getNativeBalanceCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.nativeBalance))return n;console.info("Discarding cache for address",t),ot.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=ot.getNativeBalanceCache();e[t.caipAddress]=t,$t.setItem(Wt.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=$t.getItem(Wt.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const n=ot.getEnsCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.ens))return n.ens;ot.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=ot.getEnsCache();e[t.address]=t,$t.setItem(Wt.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=ot.getEnsCache();$t.setItem(Wt.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=$t.getItem(Wt.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const n=ot.getIdentityCache()[t];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.identity))return n.identity;ot.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=ot.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},$t.setItem(Wt.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=ot.getIdentityCache();$t.setItem(Wt.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{$t.removeItem(Wt.PORTFOLIO_CACHE),$t.removeItem(Wt.NATIVE_BALANCE_CACHE),$t.removeItem(Wt.ENS_CACHE),$t.removeItem(Wt.IDENTITY_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{$t.setItem(Wt.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=$t.getItem(Wt.PREFERRED_ACCOUNT_TYPES);return JSON.parse(t)}catch{console.info("Unable to get preferred account types")}}},kt={isMobile(){var t;return this.isClient()?!!((t=window==null?void 0:window.matchMedia("(pointer:coarse)"))!=null&&t.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t==null?void 0:t.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return kt.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window==null?void 0:window.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=os.TEN_SEC_MS:!0},isAllowedRetry(t,e=os.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return(window==null?void 0:window.self)!==(window==null?void 0:window.top)}catch{return!1}},getPairingExpiry(){return Date.now()+os.FOUR_MINUTES_MS},getNetworkId(t){return t==null?void 0:t.split(":")[1]},getPlainAddress(t){return t==null?void 0:t.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let n;return(...r)=>{function i(){t(...r)}n&&clearTimeout(n),n=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e){if(kt.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},formatUniversalUrl(t,e){if(!kt.isHttpUrl(t))return this.formatNativeUrl(t,e);let n=t;n.endsWith("/")||(n=`${n}/`);const r=encodeURIComponent(e);return{redirect:`${n}wc?uri=${r}`,href:n}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?ot.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,n){window==null||window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},returnOpenHref(t,e,n){return window==null?void 0:window.open(t,this.getOpenTargetForPlatform(e),n||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},async preloadImage(t){const e=new Promise((n,r)=>{const i=new Image;i.onload=n,i.onerror=r,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,kt.wait(2e3)])},formatBalance(t,e){let n="0.000";if(typeof t=="string"){const r=Number(t);if(r){const i=Math.floor(r*1e3)/1e3;i&&(n=i.toString())}}return`${n}${e?` ${e}`:""}`},formatBalance2(t,e){var r;let n;if(t==="0")n="0";else if(typeof t=="string"){const i=Number(t);i&&(n=(r=i.toString().match(/^-?\d+(?:\.\d{0,3})?/u))==null?void 0:r[0])}return{value:n??"0",rest:n==="0"?"000":"",symbol:e}},getApiUrl(){return Ge.W3M_API_URL},getBlockchainApiUrl(){return Ge.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return Ge.PULSE_API_URL},getUUID(){return crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){var e,n;return typeof t=="string"?t:typeof((n=(e=t==null?void 0:t.issues)==null?void 0:e[0])==null?void 0:n.message)=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const n={};return e&&t&&(t.forEach((r,i)=>{n[r]=i}),e.sort((r,i)=>{const s=n[r.id],o=n[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const n of t)e+=n.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[n,r]=e.split(".");return{dollars:n,pennies:r}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const n=new Set;return t.filter(r=>{const i=r[e];return n.has(i)?!1:(n.add(i),!0)})},generateSdkVersion(t,e,n){const i=t.length===0?os.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${n}`},createAccount(t,e,n,r,i){return{namespace:t,address:e,type:n,publicKey:r,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),n=e[0];return e.filter(Boolean).length===3&&n in Ge.CHAIN_NAME_MAP},isMac(){const t=window==null?void 0:window.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window==null?void 0:window.location.href)}`,n="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),n,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,n,e)},injectIntoUrl(t,e,n){const r=t.indexOf(e);if(r===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",r),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,r+s),c=t.substring(r+s,o),l=t.substring(i),u=c+n;return a+u+l}};async function B1(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class fS{constructor({baseUrl:e,clientId:n}){this.baseUrl=e,this.clientId=n}async get({headers:e,signal:n,cache:r,...i}){const s=this.createUrl(i);return(await B1(s,{method:"GET",headers:e,signal:n,cache:r})).json()}async getBlob({headers:e,signal:n,...r}){const i=this.createUrl(r);return(await B1(i,{method:"GET",headers:e,signal:n})).blob()}async post({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await B1(s,{method:"POST",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async put({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await B1(s,{method:"PUT",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}async delete({body:e,headers:n,signal:r,...i}){const s=this.createUrl(i);return(await B1(s,{method:"DELETE",headers:n,body:e?JSON.stringify(e):void 0,signal:r})).json()}createUrl({path:e,params:n}){const r=new URL(e,this.baseUrl);return n&&Object.entries(n).forEach(([i,s])=>{s&&r.searchParams.append(i,s)}),this.clientId&&r.searchParams.append("clientId",this.clientId),r}}const tse={handleSolanaDeeplinkRedirect(t){if(oe.state.activeChain===Ge.CHAIN.SOLANA){const e=window.location.href,n=encodeURIComponent(e);if(t==="Phantom"&&!("phantom"in window)){const r=e.startsWith("https")?"https":"http",i=e.split("/")[2],s=encodeURIComponent(`${r}://${i}`);window.location.href=`https://phantom.app/ul/browse/${n}?ref=${s}`}t==="Coinbase Wallet"&&!("coinbaseSolana"in window)&&(window.location.href=`https://go.cb-w.com/dapp?cb_url=${n}`)}}},ho=gr({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),rc={state:ho,subscribeNetworkImages(t){return ls(ho.networkImages,()=>t(ho.networkImages))},subscribeKey(t,e){return ro(ho,t,e)},subscribe(t){return ls(ho,()=>t(ho))},setWalletImage(t,e){ho.walletImages[t]=e},setNetworkImage(t,e){ho.networkImages[t]=e},setChainImage(t,e){ho.chainImages[t]=e},setConnectorImage(t,e){ho.connectorImages={...ho.connectorImages,[t]:e}},setTokenImage(t,e){ho.tokenImages[t]=e},setCurrencyImage(t,e){ho.currencyImages[t]=e}},nse={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00"},qN=gr({networkImagePromises:{}}),D$={async fetchWalletImage(t){if(t)return await Dt._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(qN.networkImagePromises[t]||(qN.networkImagePromises[t]=Dt._fetchNetworkImage(t)),await qN.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return rc.state.walletImages[t]},getWalletImage(t){if(t!=null&&t.image_url)return t==null?void 0:t.image_url;if(t!=null&&t.image_id)return rc.state.walletImages[t.image_id]},getNetworkImage(t){var e,n,r;if((e=t==null?void 0:t.assets)!=null&&e.imageUrl)return(n=t==null?void 0:t.assets)==null?void 0:n.imageUrl;if((r=t==null?void 0:t.assets)!=null&&r.imageId)return rc.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return rc.state.networkImages[t]},getConnectorImage(t){if(t!=null&&t.imageUrl)return t.imageUrl;if(t!=null&&t.imageId)return rc.state.connectorImages[t.imageId]},getChainImage(t){return rc.state.networkImages[nse[t]]}},rse={getFeatureValue(t,e){const n=e==null?void 0:e[t];return n===void 0?os.DEFAULT_FEATURES[t]:n},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(kt.isTelegram()){if(kt.isIos())return t.filter(e=>e!=="google");if(kt.isMac())return t.filter(e=>e!=="x");if(kt.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},St=gr({features:os.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:{solana:"eoa",bip122:"payment",polkadot:"eoa",eip155:"smartAccount"},enableNetworkSwitch:!0}),qe={state:St,subscribeKey(t,e){return ro(St,t,e)},setOptions(t){Object.assign(St,t)},setFeatures(t){if(!t)return;St.features||(St.features=os.DEFAULT_FEATURES);const e={...St.features,...t};St.features=e,St.features.socials&&(St.features.socials=rse.filterSocialsByPlatform(St.features.socials))},setProjectId(t){St.projectId=t},setCustomRpcUrls(t){St.customRpcUrls=t},setAllWallets(t){St.allWallets=t},setIncludeWalletIds(t){St.includeWalletIds=t},setExcludeWalletIds(t){St.excludeWalletIds=t},setFeaturedWalletIds(t){St.featuredWalletIds=t},setTokens(t){St.tokens=t},setTermsConditionsUrl(t){St.termsConditionsUrl=t},setPrivacyPolicyUrl(t){St.privacyPolicyUrl=t},setCustomWallets(t){St.customWallets=t},setIsSiweEnabled(t){St.isSiweEnabled=t},setIsUniversalProvider(t){St.isUniversalProvider=t},setSdkVersion(t){St.sdkVersion=t},setMetadata(t){St.metadata=t},setDisableAppend(t){St.disableAppend=t},setEIP6963Enabled(t){St.enableEIP6963=t},setDebug(t){St.debug=t},setEnableWalletConnect(t){St.enableWalletConnect=t},setEnableWalletGuide(t){St.enableWalletGuide=t},setEnableAuthLogger(t){St.enableAuthLogger=t},setEnableWallets(t){St.enableWallets=t},setHasMultipleAddresses(t){St.hasMultipleAddresses=t},setSIWX(t){St.siwx=t},setConnectMethodsOrder(t){St.features={...St.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){St.features={...St.features,walletFeaturesOrder:t}},setSocialsOrder(t){St.features={...St.features,socials:t}},setCollapseWallets(t){St.features={...St.features,collapseWallets:t}},setEnableEmbedded(t){St.enableEmbedded=t},setAllowUnsupportedChain(t){St.allowUnsupportedChain=t},setManualWCControl(t){St.manualWCControl=t},setEnableNetworkSwitch(t){St.enableNetworkSwitch=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,n])=>{n&&(St.defaultAccountTypes[e]=n)})},setUniversalProviderConfigOverride(t){St.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return St.universalProviderConfigOverride},getSnapshot(){return vp(St)}},rd=gr({message:"",variant:"info",open:!1}),Mw={state:rd,subscribeKey(t,e){return ro(rd,t,e)},open(t,e){const{debug:n}=qe.state,{shortMessage:r,longMessage:i}=t;n&&(rd.message=r,rd.variant=e,rd.open=!0),i&&console.error(typeof i=="function"?i():i)},close(){rd.open=!1,rd.message="",rd.variant="info"}},ise=kt.getAnalyticsUrl(),sse=new fS({baseUrl:ise,clientId:null}),ose=["MODAL_CREATED"],Ul=gr({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),Vn={state:Ul,subscribe(t){return ls(Ul,()=>t(Ul))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=qe.state;return{projectId:t,st:e,sv:n||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{const e=ut.state.address;if(ose.includes(t.data.event)||typeof window>"u")return;await sse.post({path:"/e",params:Vn.getSdkProperties(),body:{eventId:kt.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e}}}),Ul.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===Ge.HTTP_STATUS_CODES.FORBIDDEN&&!Ul.reportedErrors.FORBIDDEN&&(Mw.open({shortMessage:"Invalid App Configuration",longMessage:`Origin ${uw()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),Ul.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){var e;Ul.timestamp=Date.now(),Ul.data=t,(e=qe.state.features)!=null&&e.analytics&&Vn._sendAnalyticsEvent(Ul)}},ase=["1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79","fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa","a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393"],cse=kt.getApiUrl(),Jo=new fS({baseUrl:cse,clientId:null}),lse=40,tL=4,use=20,Nn=gr({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),Dt={state:Nn,subscribeKey(t,e){return ro(Nn,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:n}=qe.state;return{projectId:t,st:e||"appkit",sv:n||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return qe.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${Jo.baseUrl}/getWalletImage/${t}`,n=await Jo.getBlob({path:e,params:Dt._getSdkProperties()});rc.setWalletImage(t,URL.createObjectURL(n))},async _fetchNetworkImage(t){const e=`${Jo.baseUrl}/public/getAssetImage/${t}`,n=await Jo.getBlob({path:e,params:Dt._getSdkProperties()});rc.setNetworkImage(t,URL.createObjectURL(n))},async _fetchConnectorImage(t){const e=`${Jo.baseUrl}/public/getAssetImage/${t}`,n=await Jo.getBlob({path:e,params:Dt._getSdkProperties()});rc.setConnectorImage(t,URL.createObjectURL(n))},async _fetchCurrencyImage(t){const e=`${Jo.baseUrl}/public/getCurrencyImage/${t}`,n=await Jo.getBlob({path:e,params:Dt._getSdkProperties()});rc.setCurrencyImage(t,URL.createObjectURL(n))},async _fetchTokenImage(t){const e=`${Jo.baseUrl}/public/getTokenImage/${t}`,n=await Jo.getBlob({path:e,params:Dt._getSdkProperties()});rc.setTokenImage(t,URL.createObjectURL(n))},async fetchNetworkImages(){const t=oe.getAllRequestedCaipNetworks(),e=t==null?void 0:t.map(({assets:n})=>n==null?void 0:n.imageId).filter(Boolean).filter(n=>!D$.getNetworkImageById(n));e&&await Promise.allSettled(e.map(n=>Dt._fetchNetworkImage(n)))},async fetchConnectorImages(){const{connectors:t}=Vt.state,e=t.map(({imageId:n})=>n).filter(Boolean);await Promise.allSettled(e.map(n=>Dt._fetchConnectorImage(n)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>Dt._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>Dt._fetchTokenImage(e)))},async fetchWallets(t){var r,i;const e=t.exclude??[];return Dt._getSdkProperties().sv.startsWith("html-core-")&&e.push(...ase),await Jo.get({path:"/getWallets",params:{...Dt._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:(r=t.include)==null?void 0:r.join(","),exclude:(i=t.exclude)==null?void 0:i.join(",")}})},async fetchFeaturedWallets(){const{featuredWalletIds:t}=qe.state;if(t!=null&&t.length){const e={...Dt._getSdkProperties(),page:1,entries:(t==null?void 0:t.length)??tL,include:t},{data:n}=await Dt.fetchWallets(e);n.sort((i,s)=>t.indexOf(i.id)-t.indexOf(s.id));const r=n.map(i=>i.image_id).filter(Boolean);await Promise.allSettled(r.map(i=>Dt._fetchWalletImage(i))),Nn.featured=n,Nn.allFeatured=n}},async fetchRecommendedWallets(){try{Nn.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:n}=qe.state,r=[...e??[],...n??[]].filter(Boolean),i=oe.getRequestedCaipNetworkIds().join(","),s={page:1,entries:tL,include:t,exclude:r,chains:i},{data:o,count:a}=await Dt.fetchWallets(s),c=ot.getRecentWallets(),l=o.map(d=>d.image_id).filter(Boolean),u=c.map(d=>d.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(d=>Dt._fetchWalletImage(d))),Nn.recommended=o,Nn.allRecommended=o,Nn.count=a??0}catch{}finally{Nn.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:n,featuredWalletIds:r}=qe.state,i=oe.getRequestedCaipNetworkIds().join(","),s=[...Nn.recommended.map(({id:u})=>u),...n??[],...r??[]].filter(Boolean),o={page:t,entries:lse,include:e,exclude:s,chains:i},{data:a,count:c}=await Dt.fetchWallets(o),l=a.slice(0,use).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>Dt._fetchWalletImage(u))),Nn.wallets=kt.uniqueBy([...Nn.wallets,...Dt._filterOutExtensions(a)],"id"),Nn.count=c>Nn.count?c:Nn.count,Nn.page=t},async initializeExcludedWallets({ids:t}){const e=oe.getRequestedCaipNetworkIds().join(","),n={page:1,entries:t.length,include:t,chains:e},{data:r}=await Dt.fetchWallets(n);r&&r.forEach(i=>{Nn.excludedWallets.push({rdns:i.rdns,name:i.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:n,excludeWalletIds:r}=qe.state,i=oe.getRequestedCaipNetworkIds().join(",");Nn.search=[];const s={page:1,entries:100,search:t==null?void 0:t.trim(),badge_type:e,include:n,exclude:r,chains:i},{data:o}=await Dt.fetchWallets(s);Vn.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>Dt._fetchWalletImage(c)),kt.wait(300)]),Nn.search=Dt._filterOutExtensions(o)},initPromise(t,e){const n=Nn.promises[t];return n||(Nn.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:n=!0,fetchNetworkImages:r=!0}={}){const i=[t&&Dt.initPromise("connectorImages",Dt.fetchConnectorImages),e&&Dt.initPromise("featuredWallets",Dt.fetchFeaturedWallets),n&&Dt.initPromise("recommendedWallets",Dt.fetchRecommendedWallets),r&&Dt.initPromise("networkImages",Dt.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){var t;(t=qe.state.features)!=null&&t.analytics&&Dt.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await Jo.get({path:"/getAnalyticsConfig",params:Dt._getSdkProperties()});qe.setFeatures({analytics:t})}catch{qe.setFeatures({analytics:!1})}},setFilterByNamespace(t){if(!t){Nn.featured=Nn.allFeatured,Nn.recommended=Nn.allRecommended;return}const e=oe.getRequestedCaipNetworkIds().join(",");Nn.featured=Nn.allFeatured.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))}),Nn.recommended=Nn.allRecommended.filter(n=>{var r;return(r=n.chains)==null?void 0:r.some(i=>e.includes(i))})}},xn=gr({view:"Connect",history:["Connect"],transactionStack:[]}),Pn={state:xn,subscribeKey(t,e){return ro(xn,t,e)},pushTransactionStack(t){xn.transactionStack.push(t)},popTransactionStack(t){var n,r;const e=xn.transactionStack.pop();if(e)if(t)this.goBack(),(n=e==null?void 0:e.onCancel)==null||n.call(e);else{if(e.goBack)this.goBack();else if(e.replace){const s=xn.history.indexOf("ConnectingSiwe");s>0?this.goBackToIndex(s-1):(Mr.close(),xn.history=[])}else e.view&&this.reset(e.view);(r=e==null?void 0:e.onSuccess)==null||r.call(e)}},push(t,e){t!==xn.view&&(xn.view=t,xn.history.push(t),xn.data=e)},reset(t,e){xn.view=t,xn.history=[t],xn.data=e},replace(t,e){xn.history.at(-1)===t||(xn.view=t,xn.history[xn.history.length-1]=t,xn.data=e)},goBack(){var e;const t=!oe.state.activeCaipAddress&&this.state.view==="ConnectingFarcaster";if(xn.history.length>1&&!xn.history.includes("UnsupportedChain")){xn.history.pop();const[n]=xn.history.slice(-1);n&&(xn.view=n)}else Mr.close();(e=xn.data)!=null&&e.wallet&&(xn.data.wallet=void 0),setTimeout(()=>{var n,r,i;if(t){ut.setFarcasterUrl(void 0,oe.state.activeChain);const s=Vt.getAuthConnector();(n=s==null?void 0:s.provider)==null||n.reload();const o=vp(qe.state);(i=(r=s==null?void 0:s.provider)==null?void 0:r.syncDappData)==null||i.call(r,{metadata:o.metadata,sdkVersion:o.sdkVersion,projectId:o.projectId,sdkType:o.sdkType})}},100)},goBackToIndex(t){if(xn.history.length>1){xn.history=xn.history.slice(0,t+1);const[e]=xn.history.slice(-1);e&&(xn.view=e)}}},Fl=gr({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),ts={state:Fl,subscribe(t){return ls(Fl,()=>t(Fl))},setThemeMode(t){Fl.themeMode=t;try{const e=Vt.getAuthConnector();if(e){const n=ts.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:n,w3mThemeVariables:bu(n,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){Fl.themeVariables={...Fl.themeVariables,...t};try{const e=Vt.getAuthConnector();if(e){const n=ts.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:n,w3mThemeVariables:bu(Fl.themeVariables,Fl.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return vp(Fl)}},j$={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},_n=gr({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:{...j$}}),Vt={state:_n,subscribe(t){return ls(_n,()=>{t(_n)})},subscribeKey(t,e){return ro(_n,t,e)},initialize(t){t.forEach(e=>{const n=ot.getConnectedConnectorId(e);n&&this.setConnectorId(n,e)})},setActiveConnector(t){t&&(_n.activeConnector=bp(t))},setConnectors(t){t.filter(n=>!_n.allConnectors.some(r=>r.id===n.id&&this.getConnectorName(r.name)===this.getConnectorName(n.name)&&r.chain===n.chain)).forEach(n=>{n.type!=="MULTI_CHAIN"&&_n.allConnectors.push(bp(n))}),_n.connectors=this.mergeMultiChainConnectors(_n.allConnectors)},removeAdapter(t){_n.allConnectors=_n.allConnectors.filter(e=>e.chain!==t),_n.connectors=this.mergeMultiChainConnectors(_n.allConnectors)},mergeMultiChainConnectors(t){const e=this.generateConnectorMapByName(t),n=[];return e.forEach(r=>{const i=r[0],s=(i==null?void 0:i.id)===Ge.CONNECTOR_ID.AUTH;r.length>1&&i?n.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...r],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:(i==null?void 0:i.id)||""}):i&&n.push(i)}),n},generateConnectorMapByName(t){const e=new Map;return t.forEach(n=>{const{name:r}=n,i=this.getConnectorName(r);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===n.chain)||s.push(n),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(n=>{e.find(r=>r.chain===n.chain)||e.push(n)}),e},addConnector(t){var e,n,r;if(t.id===Ge.CONNECTOR_ID.AUTH){const i=t,s=vp(qe.state),o=ts.getSnapshot().themeMode,a=ts.getSnapshot().themeVariables;(n=(e=i==null?void 0:i.provider)==null?void 0:e.syncDappData)==null||n.call(e,{metadata:s.metadata,sdkVersion:s.sdkVersion,projectId:s.projectId,sdkType:s.sdkType}),(r=i==null?void 0:i.provider)==null||r.syncTheme({themeMode:o,themeVariables:a,w3mThemeVariables:bu(a,o)}),this.setConnectors([t])}else this.setConnectors([t])},getAuthConnector(t){var r;const e=t||oe.state.activeChain,n=_n.connectors.find(i=>i.id===Ge.CONNECTOR_ID.AUTH);if(n)return(r=n==null?void 0:n.connectors)!=null&&r.length?n.connectors.find(s=>s.chain===e):n},getAnnouncedConnectorRdns(){return _n.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>{var e;return(e=t.info)==null?void 0:e.rdns})},getConnectorById(t){return _n.allConnectors.find(e=>e.id===t)},getConnector(t,e){return _n.allConnectors.filter(r=>r.chain===oe.state.activeChain).find(r=>{var i;return r.explorerId===t||((i=r.info)==null?void 0:i.rdns)===e})},syncIfAuthConnector(t){var s,o;if(t.id!=="ID_AUTH")return;const e=t,n=vp(qe.state),r=ts.getSnapshot().themeMode,i=ts.getSnapshot().themeVariables;(o=(s=e==null?void 0:e.provider)==null?void 0:s.syncDappData)==null||o.call(s,{metadata:n.metadata,sdkVersion:n.sdkVersion,sdkType:n.sdkType,projectId:n.projectId}),e.provider.syncTheme({themeMode:r,themeVariables:i,w3mThemeVariables:bu(i,r)})},getConnectorsByNamespace(t){const e=_n.allConnectors.filter(n=>n.chain===t);return this.mergeMultiChainConnectors(e)},selectWalletConnector(t){const e=Vt.getConnector(t.id,t.rdns);oe.state.activeChain===Ge.CHAIN.SOLANA&&tse.handleSolanaDeeplinkRedirect((e==null?void 0:e.name)||t.name||""),e?Pn.push("ConnectingExternal",{connector:e}):Pn.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?this.getConnectorsByNamespace(t):this.mergeMultiChainConnectors(_n.allConnectors)},setFilterByNamespace(t){_n.filterByNamespace=t,_n.connectors=this.getConnectors(t),Dt.setFilterByNamespace(t)},setConnectorId(t,e){t&&(_n.activeConnectorIds={..._n.activeConnectorIds,[e]:t},ot.setConnectedConnectorId(e,t))},removeConnectorId(t){_n.activeConnectorIds={..._n.activeConnectorIds,[t]:void 0},ot.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return _n.activeConnectorIds[t]},isConnected(t){return t?!!_n.activeConnectorIds[t]:Object.values(_n.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){_n.activeConnectorIds={...j$}}};function U5(t,e){return Vt.getConnectorId(t)===e}function dse(t){const e=Array.from(oe.state.chains.keys());let n=[];return t?(n.push([t,oe.state.chains.get(t)]),U5(t,Ge.CONNECTOR_ID.WALLET_CONNECT)?e.forEach(r=>{r!==t&&U5(r,Ge.CONNECTOR_ID.WALLET_CONNECT)&&n.push([r,oe.state.chains.get(r)])}):U5(t,Ge.CONNECTOR_ID.AUTH)&&e.forEach(r=>{r!==t&&U5(r,Ge.CONNECTOR_ID.AUTH)&&n.push([r,oe.state.chains.get(r)])})):n=Array.from(oe.state.chains.entries()),n}var sk={exports:{}},Zg=typeof Reflect=="object"?Reflect:null,nL=Zg&&typeof Zg.apply=="function"?Zg.apply:function(e,n,r){return Function.prototype.apply.call(e,n,r)},Mx;Zg&&typeof Zg.ownKeys=="function"?Mx=Zg.ownKeys:Object.getOwnPropertySymbols?Mx=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Mx=function(e){return Object.getOwnPropertyNames(e)};function hse(t){console&&console.warn&&console.warn(t)}var M$=Number.isNaN||function(e){return e!==e};function jn(){jn.init.call(this)}sk.exports=jn;sk.exports.once=gse;jn.EventEmitter=jn;jn.prototype._events=void 0;jn.prototype._eventsCount=0;jn.prototype._maxListeners=void 0;var rL=10;function pS(t){if(typeof t!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof t)}Object.defineProperty(jn,"defaultMaxListeners",{enumerable:!0,get:function(){return rL},set:function(t){if(typeof t!="number"||t<0||M$(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");rL=t}});jn.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};jn.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||M$(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function B$(t){return t._maxListeners===void 0?jn.defaultMaxListeners:t._maxListeners}jn.prototype.getMaxListeners=function(){return B$(this)};jn.prototype.emit=function(e){for(var n=[],r=1;r<arguments.length;r++)n.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var o;if(n.length>0&&(o=n[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=s[e];if(c===void 0)return!1;if(typeof c=="function")nL(c,this,n);else for(var l=c.length,u=V$(c,l),r=0;r<l;++r)nL(u[r],this,n);return!0};function U$(t,e,n,r){var i,s,o;if(pS(n),s=t._events,s===void 0?(s=t._events=Object.create(null),t._eventsCount=0):(s.newListener!==void 0&&(t.emit("newListener",e,n.listener?n.listener:n),s=t._events),o=s[e]),o===void 0)o=s[e]=n,++t._eventsCount;else if(typeof o=="function"?o=s[e]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),i=B$(t),i>0&&o.length>i&&!o.warned){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");a.name="MaxListenersExceededWarning",a.emitter=t,a.type=e,a.count=o.length,hse(a)}return t}jn.prototype.addListener=function(e,n){return U$(this,e,n,!1)};jn.prototype.on=jn.prototype.addListener;jn.prototype.prependListener=function(e,n){return U$(this,e,n,!0)};function fse(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function F$(t,e,n){var r={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},i=fse.bind(r);return i.listener=n,r.wrapFn=i,i}jn.prototype.once=function(e,n){return pS(n),this.on(e,F$(this,e,n)),this};jn.prototype.prependOnceListener=function(e,n){return pS(n),this.prependListener(e,F$(this,e,n)),this};jn.prototype.removeListener=function(e,n){var r,i,s,o,a;if(pS(n),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===n||r.listener===n)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||n));else if(typeof r!="function"){for(s=-1,o=r.length-1;o>=0;o--)if(r[o]===n||r[o].listener===n){a=r[o].listener,s=o;break}if(s<0)return this;s===0?r.shift():pse(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,a||n)}return this};jn.prototype.off=jn.prototype.removeListener;jn.prototype.removeAllListeners=function(e){var n,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),o;for(i=0;i<s.length;++i)o=s[i],o!=="removeListener"&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(n=r[e],typeof n=="function")this.removeListener(e,n);else if(n!==void 0)for(i=n.length-1;i>=0;i--)this.removeListener(e,n[i]);return this};function $$(t,e,n){var r=t._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?n?[i.listener||i]:[i]:n?mse(i):V$(i,i.length)}jn.prototype.listeners=function(e){return $$(this,e,!0)};jn.prototype.rawListeners=function(e){return $$(this,e,!1)};jn.listenerCount=function(t,e){return typeof t.listenerCount=="function"?t.listenerCount(e):z$.call(t,e)};jn.prototype.listenerCount=z$;function z$(t){var e=this._events;if(e!==void 0){var n=e[t];if(typeof n=="function")return 1;if(n!==void 0)return n.length}return 0}jn.prototype.eventNames=function(){return this._eventsCount>0?Mx(this._events):[]};function V$(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t[r];return n}function pse(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function mse(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}function gse(t,e){return new Promise(function(n,r){function i(o){t.removeListener(e,s),r(o)}function s(){typeof t.removeListener=="function"&&t.removeListener("error",i),n([].slice.call(arguments))}H$(t,e,s,{once:!0}),e!=="error"&&yse(t,i,{once:!0})})}function yse(t,e,n){typeof t.on=="function"&&H$(t,"error",e,n)}function H$(t,e,n,r){if(typeof t.on=="function")r.once?t.once(e,n):t.on(e,n);else if(typeof t.addEventListener=="function")t.addEventListener(e,function i(s){r.once&&t.removeEventListener(e,i),n(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof t)}var xa=sk.exports;const ok=Ub(xa);var We={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var MP=function(t,e){return MP=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},MP(t,e)};function wse(t,e){MP(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var BP=function(){return BP=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},BP.apply(this,arguments)};function vse(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bse(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function xse(t,e){return function(n,r){e(n,r,t)}}function Ese(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function Ase(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function Sse(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function Cse(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function Nse(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function UP(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function q$(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function _se(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(q$(arguments[e]));return t}function Pse(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Av(t){return this instanceof Av?(this.v=t,this):new Av(t)}function Ise(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(m,g){s.push([h,f,m,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof Av?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Tse(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Av(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function kse(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof UP=="function"?UP(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Ose(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function Rse(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Lse(t){return t&&t.__esModule?t:{default:t}}function Dse(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function jse(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const Mse=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return BP},__asyncDelegator:Tse,__asyncGenerator:Ise,__asyncValues:kse,__await:Av,__awaiter:Ase,__classPrivateFieldGet:Dse,__classPrivateFieldSet:jse,__createBinding:Cse,__decorate:bse,__exportStar:Nse,__extends:wse,__generator:Sse,__importDefault:Lse,__importStar:Rse,__makeTemplateObject:Ose,__metadata:Ese,__param:xse,__read:q$,__rest:vse,__spread:_se,__spreadArrays:Pse,__values:UP},Symbol.toStringTag,{value:"Module"})),mS=U7(Mse);var WN={},U1={},iL;function Bse(){if(iL)return U1;iL=1,Object.defineProperty(U1,"__esModule",{value:!0}),U1.delay=void 0;function t(e){return new Promise(n=>{setTimeout(()=>{n(!0)},e)})}return U1.delay=t,U1}var Kh={},GN={},Yh={},sL;function Use(){return sL||(sL=1,Object.defineProperty(Yh,"__esModule",{value:!0}),Yh.ONE_THOUSAND=Yh.ONE_HUNDRED=void 0,Yh.ONE_HUNDRED=100,Yh.ONE_THOUSAND=1e3),Yh}var KN={},oL;function Fse(){return oL||(oL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(KN)),KN}var aL;function W$(){return aL||(aL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=mS;e.__exportStar(Use(),t),e.__exportStar(Fse(),t)}(GN)),GN}var cL;function $se(){if(cL)return Kh;cL=1,Object.defineProperty(Kh,"__esModule",{value:!0}),Kh.fromMiliseconds=Kh.toMiliseconds=void 0;const t=W$();function e(r){return r*t.ONE_THOUSAND}Kh.toMiliseconds=e;function n(r){return Math.floor(r/t.ONE_THOUSAND)}return Kh.fromMiliseconds=n,Kh}var lL;function zse(){return lL||(lL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=mS;e.__exportStar(Bse(),t),e.__exportStar($se(),t)}(WN)),WN}var km={},uL;function Vse(){if(uL)return km;uL=1,Object.defineProperty(km,"__esModule",{value:!0}),km.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(n){if(this.timestamps.has(n))throw new Error(`Watch already started for label: ${n}`);this.timestamps.set(n,{started:Date.now()})}stop(n){const r=this.get(n);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${n}`);const i=Date.now()-r.started;this.timestamps.set(n,{started:r.started,elapsed:i})}get(n){const r=this.timestamps.get(n);if(typeof r>"u")throw new Error(`No timestamp found for label: ${n}`);return r}elapsed(n){const r=this.get(n);return r.elapsed||Date.now()-r.started}}return km.Watch=t,km.default=t,km}var YN={},F1={},dL;function Hse(){if(dL)return F1;dL=1,Object.defineProperty(F1,"__esModule",{value:!0}),F1.IWatch=void 0;class t{}return F1.IWatch=t,F1}var hL;function qse(){return hL||(hL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),mS.__exportStar(Hse(),t)}(YN)),YN}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=mS;e.__exportStar(zse(),t),e.__exportStar(Vse(),t),e.__exportStar(qse(),t),e.__exportStar(W$(),t)})(We);class Gp{}let Wse=class extends Gp{constructor(e){super()}};const fL=We.FIVE_SECONDS,My={pulse:"heartbeat_pulse"};let Gse=class G$ extends Wse{constructor(e){super(e),this.events=new xa.EventEmitter,this.interval=fL,this.interval=(e==null?void 0:e.interval)||fL}static async init(e){const n=new G$(e);return await n.init(),n}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),We.toMiliseconds(this.interval))}pulse(){this.events.emit(My.pulse)}};const Kse=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Yse=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Jse=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Qse(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Zse(t);return}return e}function Zse(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function F5(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const n=t.trim();if(n.length<=9)switch(n.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Jse.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Kse.test(t)||Yse.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Qse)}return JSON.parse(t)}catch(r){if(e.strict)throw r;return t}}function Xse(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function li(t,...e){try{return Xse(t(...e))}catch(n){return Promise.reject(n)}}function eoe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function toe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function Bx(t){if(eoe(t))return String(t);if(toe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return Bx(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const FP="base64:";function noe(t){return typeof t=="string"?t:FP+soe(t)}function roe(t){return typeof t!="string"||!t.startsWith(FP)?t:ioe(t.slice(FP.length))}function ioe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function soe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function zs(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function ooe(...t){return zs(t.join(":"))}function $5(t){return t=zs(t),t?t+":":""}function aoe(t,e){if(e===void 0)return!0;let n=0,r=t.indexOf(":");for(;r>-1;)n++,r=t.indexOf(":",r+1);return n<=e}function coe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const loe="memory",uoe=()=>{const t=new Map;return{name:loe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,n){t.set(e,n)},setItemRaw(e,n){t.set(e,n)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function doe(t={}){const e={mounts:{"":t.driver||uoe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},n=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},r=(l,u)=>e.mountpoints.filter(d=>d.startsWith(l)||u&&l.startsWith(d)).map(d=>({relativeBase:l.length>d.length?l.slice(d.length):void 0,mountpoint:d,driver:e.mounts[d]})),i=(l,u)=>{if(e.watching){u=zs(u);for(const d of e.watchListeners)d(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await pL(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,d)=>{const h=new Map,f=m=>{let g=h.get(m.base);return g||(g={driver:m.driver,base:m.base,items:[]},h.set(m.base,g)),g};for(const m of l){const g=typeof m=="string",E=zs(g?m:m.key),y=g?void 0:m.value,w=g||!m.options?u:{...u,...m.options},x=n(E);f(x).items.push({key:E,value:y,relativeKey:x.relativeKey,options:w})}return Promise.all([...h.values()].map(m=>d(m))).then(m=>m.flat())},c={hasItem(l,u={}){l=zs(l);const{relativeKey:d,driver:h}=n(l);return li(h.hasItem,d,u)},getItem(l,u={}){l=zs(l);const{relativeKey:d,driver:h}=n(l);return li(h.getItem,d,u).then(f=>F5(f))},getItems(l,u={}){return a(l,u,d=>d.driver.getItems?li(d.driver.getItems,d.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(f=>({key:ooe(d.base,f.key),value:F5(f.value)}))):Promise.all(d.items.map(h=>li(d.driver.getItem,h.relativeKey,h.options).then(f=>({key:h.key,value:F5(f)})))))},getItemRaw(l,u={}){l=zs(l);const{relativeKey:d,driver:h}=n(l);return h.getItemRaw?li(h.getItemRaw,d,u):li(h.getItem,d,u).then(f=>roe(f))},async setItem(l,u,d={}){if(u===void 0)return c.removeItem(l);l=zs(l);const{relativeKey:h,driver:f}=n(l);f.setItem&&(await li(f.setItem,h,Bx(u),d),f.watch||i("update",l))},async setItems(l,u){await a(l,u,async d=>{if(d.driver.setItems)return li(d.driver.setItems,d.items.map(h=>({key:h.relativeKey,value:Bx(h.value),options:h.options})),u);d.driver.setItem&&await Promise.all(d.items.map(h=>li(d.driver.setItem,h.relativeKey,Bx(h.value),h.options)))})},async setItemRaw(l,u,d={}){if(u===void 0)return c.removeItem(l,d);l=zs(l);const{relativeKey:h,driver:f}=n(l);if(f.setItemRaw)await li(f.setItemRaw,h,u,d);else if(f.setItem)await li(f.setItem,h,noe(u),d);else return;f.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=zs(l);const{relativeKey:d,driver:h}=n(l);h.removeItem&&(await li(h.removeItem,d,u),(u.removeMeta||u.removeMata)&&await li(h.removeItem,d+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=zs(l);const{relativeKey:d,driver:h}=n(l),f=Object.create(null);if(h.getMeta&&Object.assign(f,await li(h.getMeta,d,u)),!u.nativeOnly){const m=await li(h.getItem,d+"$",u).then(g=>F5(g));m&&typeof m=="object"&&(typeof m.atime=="string"&&(m.atime=new Date(m.atime)),typeof m.mtime=="string"&&(m.mtime=new Date(m.mtime)),Object.assign(f,m))}return f},setMeta(l,u,d={}){return this.setItem(l+"$",u,d)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){var E;l=$5(l);const d=r(l,!0);let h=[];const f=[];let m=!0;for(const y of d){(E=y.driver.flags)!=null&&E.maxDepth||(m=!1);const w=await li(y.driver.getKeys,y.relativeBase,u);for(const x of w){const C=y.mountpoint+zs(x);h.some(N=>C.startsWith(N))||f.push(C)}h=[y.mountpoint,...h.filter(x=>!x.startsWith(y.mountpoint))]}const g=u.maxDepth!==void 0&&!m;return f.filter(y=>(!g||aoe(y,u.maxDepth))&&coe(y,l))},async clear(l,u={}){l=$5(l),await Promise.all(r(l,!1).map(async d=>{if(d.driver.clear)return li(d.driver.clear,d.relativeBase,u);if(d.driver.removeItem){const h=await d.driver.getKeys(d.relativeBase||"",u);return Promise.all(h.map(f=>d.driver.removeItem(f,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>mL(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=$5(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((d,h)=>h.length-d.length)),e.mounts[l]=u,e.watching&&Promise.resolve(pL(u,i,l)).then(d=>{e.unwatch[l]=d}).catch(console.error),c},async unmount(l,u=!0){var d,h;l=$5(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&((h=(d=e.unwatch)[l])==null||h.call(d),delete e.unwatch[l]),u&&await mL(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=zs(l)+":";const u=n(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=zs(l),r(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,d={})=>c.setItem(l,u,d),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function pL(t,e,n){return t.watch?t.watch((r,i)=>e(r,n+i)):()=>{}}async function mL(t){typeof t.dispose=="function"&&await li(t.dispose)}function Kp(t){return new Promise((e,n)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>n(t.error)})}function K$(t,e){const n=indexedDB.open(t);n.onupgradeneeded=()=>n.result.createObjectStore(e);const r=Kp(n);return(i,s)=>r.then(o=>s(o.transaction(e,i).objectStore(e)))}let JN;function Zb(){return JN||(JN=K$("keyval-store","keyval")),JN}function gL(t,e=Zb()){return e("readonly",n=>Kp(n.get(t)))}function hoe(t,e,n=Zb()){return n("readwrite",r=>(r.put(e,t),Kp(r.transaction)))}function foe(t,e=Zb()){return e("readwrite",n=>(n.delete(t),Kp(n.transaction)))}function poe(t=Zb()){return t("readwrite",e=>(e.clear(),Kp(e.transaction)))}function moe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},Kp(t.transaction)}function goe(t=Zb()){return t("readonly",e=>{if(e.getAllKeys)return Kp(e.getAllKeys());const n=[];return moe(e,r=>n.push(r.key)).then(()=>n)})}const yoe=t=>JSON.stringify(t,(e,n)=>typeof n=="bigint"?n.toString()+"n":n),woe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,n=t.replace(e,'$1"$2n"$3');return JSON.parse(n,(r,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function Ep(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return woe(t)}catch{return t}}function Lu(t){return typeof t=="string"?t:yoe(t)||""}const voe="idb-keyval";var boe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",n=i=>e+i;let r;return t.dbName&&t.storeName&&(r=K$(t.dbName,t.storeName)),{name:voe,options:t,async hasItem(i){return!(typeof await gL(n(i),r)>"u")},async getItem(i){return await gL(n(i),r)??null},setItem(i,s){return hoe(n(i),s,r)},removeItem(i){return foe(n(i),r)},getKeys(){return goe(r)},clear(){return poe(r)}}};const xoe="WALLET_CONNECT_V2_INDEXED_DB",Eoe="keyvaluestorage";let Aoe=class{constructor(){this.indexedDb=doe({driver:boe({dbName:xoe,storeName:Eoe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const n=await this.indexedDb.getItem(e);if(n!==null)return n}async setItem(e,n){await this.indexedDb.setItem(e,Lu(n))}async removeItem(e){await this.indexedDb.removeItem(e)}};var QN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ux={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(n){return this.hasOwnProperty(n)?String(this[n]):null},t.prototype.setItem=function(n,r){this[n]=String(r)},t.prototype.removeItem=function(n){delete this[n]},t.prototype.clear=function(){const n=this;Object.keys(n).forEach(function(r){n[r]=void 0,delete n[r]})},t.prototype.key=function(n){return n=n||0,Object.keys(this)[n]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof QN<"u"&&QN.localStorage?Ux.exports=QN.localStorage:typeof window<"u"&&window.localStorage?Ux.exports=window.localStorage:Ux.exports=new e})();function Soe(t){var e;return[t[0],Ep((e=t[1])!=null?e:"")]}let Coe=class{constructor(){this.localStorage=Ux.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(Soe)}async getItem(e){const n=this.localStorage.getItem(e);if(n!==null)return Ep(n)}async setItem(e,n){this.localStorage.setItem(e,Lu(n))}async removeItem(e){this.localStorage.removeItem(e)}};const Noe="wc_storage_version",yL=1,_oe=async(t,e,n)=>{const r=Noe,i=await e.getItem(r);if(i&&i>=yL){n(e);return}const s=await t.getKeys();if(!s.length){n(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(r,yL),n(e),Poe(t,o)},Poe=async(t,e)=>{e.length&&e.forEach(async n=>{await t.removeItem(n)})};let Ioe=class{constructor(){this.initialized=!1,this.setInitialized=n=>{this.storage=n,this.initialized=!0};const e=new Coe;this.storage=e;try{const n=new Aoe;_oe(e,n,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,n){return await this.initialize(),this.storage.setItem(e,n)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const n=setInterval(()=>{this.initialized&&(clearInterval(n),e())},20)})}};function Toe(t){try{return JSON.stringify(t)}catch{return'"[Circular]"'}}var koe=Ooe;function Ooe(t,e,n){var r=n&&n.stringify||Toe,i=1;if(typeof t=="object"&&t!==null){var s=e.length+i;if(s===1)return t;var o=new Array(s);o[0]=r(t);for(var a=1;a<s;a++)o[a]=r(e[a]);return o.join(" ")}if(typeof t!="string")return t;var c=e.length;if(c===0)return t;for(var l="",u=1-i,d=-1,h=t&&t.length||0,f=0;f<h;){if(t.charCodeAt(f)===37&&f+1<h){switch(d=d>-1?d:0,t.charCodeAt(f+1)){case 100:case 102:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Number(e[u]),d=f+2,f++;break;case 105:if(u>=c||e[u]==null)break;d<f&&(l+=t.slice(d,f)),l+=Math.floor(Number(e[u])),d=f+2,f++;break;case 79:case 111:case 106:if(u>=c||e[u]===void 0)break;d<f&&(l+=t.slice(d,f));var m=typeof e[u];if(m==="string"){l+="'"+e[u]+"'",d=f+2,f++;break}if(m==="function"){l+=e[u].name||"<anonymous>",d=f+2,f++;break}l+=r(e[u]),d=f+2,f++;break;case 115:if(u>=c)break;d<f&&(l+=t.slice(d,f)),l+=String(e[u]),d=f+2,f++;break;case 37:d<f&&(l+=t.slice(d,f)),l+="%",d=f+2,f++,u--;break}++u}++f}return d===-1?t:(d<h&&(l+=t.slice(d)),l)}const wL=koe;var sg=pl;const Sv=zoe().console||{},Roe={mapHttpRequest:z5,mapHttpResponse:z5,wrapRequestSerializer:ZN,wrapResponseSerializer:ZN,wrapErrorSerializer:ZN,req:z5,res:z5,err:Boe};function Loe(t,e){return Array.isArray(t)?t.filter(function(r){return r!=="!stdSerializers.err"}):t===!0?Object.keys(e):!1}function pl(t){t=t||{},t.browser=t.browser||{};const e=t.browser.transmit;if(e&&typeof e.send!="function")throw Error("pino: transmit option must have a send function");const n=t.browser.write||Sv;t.browser.write&&(t.browser.asObject=!0);const r=t.serializers||{},i=Loe(t.browser.serialize,r);let s=t.browser.serialize;Array.isArray(t.browser.serialize)&&t.browser.serialize.indexOf("!stdSerializers.err")>-1&&(s=!1);const o=["error","fatal","warn","info","debug","trace"];typeof n=="function"&&(n.error=n.fatal=n.warn=n.info=n.debug=n.trace=n),t.enabled===!1&&(t.level="silent");const a=t.level||"info",c=Object.create(n);c.log||(c.log=Cv),Object.defineProperty(c,"levelVal",{get:u}),Object.defineProperty(c,"level",{get:d,set:h});const l={transmit:e,serialize:i,asObject:t.browser.asObject,levels:o,timestamp:Uoe(t)};c.levels=pl.levels,c.level=a,c.setMaxListeners=c.getMaxListeners=c.emit=c.addListener=c.on=c.prependListener=c.once=c.prependOnceListener=c.removeListener=c.removeAllListeners=c.listeners=c.listenerCount=c.eventNames=c.write=c.flush=Cv,c.serializers=r,c._serialize=i,c._stdErrSerialize=s,c.child=f,e&&(c._logEvent=$P());function u(){return this.level==="silent"?1/0:this.levels.values[this.level]}function d(){return this._level}function h(m){if(m!=="silent"&&!this.levels.values[m])throw Error("unknown level "+m);this._level=m,Om(l,c,"error","log"),Om(l,c,"fatal","error"),Om(l,c,"warn","error"),Om(l,c,"info","log"),Om(l,c,"debug","log"),Om(l,c,"trace","log")}function f(m,g){if(!m)throw new Error("missing bindings for child Pino");g=g||{},i&&m.serializers&&(g.serializers=m.serializers);const E=g.serializers;if(i&&E){var y=Object.assign({},r,E),w=t.browser.serialize===!0?Object.keys(y):i;delete m.serializers,gS([m],w,y,this._stdErrSerialize)}function x(C){this._childLevel=(C._childLevel|0)+1,this.error=Rm(C,m,"error"),this.fatal=Rm(C,m,"fatal"),this.warn=Rm(C,m,"warn"),this.info=Rm(C,m,"info"),this.debug=Rm(C,m,"debug"),this.trace=Rm(C,m,"trace"),y&&(this.serializers=y,this._serialize=w),e&&(this._logEvent=$P([].concat(C._logEvent.bindings,m)))}return x.prototype=this,new x(this)}return c}pl.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}};pl.stdSerializers=Roe;pl.stdTimeFunctions=Object.assign({},{nullTime:Y$,epochTime:J$,unixTime:Foe,isoTime:$oe});function Om(t,e,n,r){const i=Object.getPrototypeOf(e);e[n]=e.levelVal>e.levels.values[n]?Cv:i[n]?i[n]:Sv[n]||Sv[r]||Cv,Doe(t,e,n)}function Doe(t,e,n){!t.transmit&&e[n]===Cv||(e[n]=function(r){return function(){const s=t.timestamp(),o=new Array(arguments.length),a=Object.getPrototypeOf&&Object.getPrototypeOf(this)===Sv?Sv:this;for(var c=0;c<o.length;c++)o[c]=arguments[c];if(t.serialize&&!t.asObject&&gS(o,this._serialize,this.serializers,this._stdErrSerialize),t.asObject?r.call(a,joe(this,n,o,s)):r.apply(a,o),t.transmit){const l=t.transmit.level||e.level,u=pl.levels.values[l],d=pl.levels.values[n];if(d<u)return;Moe(this,{ts:s,methodLevel:n,methodValue:d,transmitLevel:l,transmitValue:pl.levels.values[t.transmit.level||e.level],send:t.transmit.send,val:e.levelVal},o)}}}(e[n]))}function joe(t,e,n,r){t._serialize&&gS(n,t._serialize,t.serializers,t._stdErrSerialize);const i=n.slice();let s=i[0];const o={};r&&(o.time=r),o.level=pl.levels.values[e];let a=(t._childLevel|0)+1;if(a<1&&(a=1),s!==null&&typeof s=="object"){for(;a--&&typeof i[0]=="object";)Object.assign(o,i.shift());s=i.length?wL(i.shift(),i):void 0}else typeof s=="string"&&(s=wL(i.shift(),i));return s!==void 0&&(o.msg=s),o}function gS(t,e,n,r){for(const i in t)if(r&&t[i]instanceof Error)t[i]=pl.stdSerializers.err(t[i]);else if(typeof t[i]=="object"&&!Array.isArray(t[i]))for(const s in t[i])e&&e.indexOf(s)>-1&&s in n&&(t[i][s]=n[s](t[i][s]))}function Rm(t,e,n){return function(){const r=new Array(1+arguments.length);r[0]=e;for(var i=1;i<r.length;i++)r[i]=arguments[i-1];return t[n].apply(this,r)}}function Moe(t,e,n){const r=e.send,i=e.ts,s=e.methodLevel,o=e.methodValue,a=e.val,c=t._logEvent.bindings;gS(n,t._serialize||Object.keys(t.serializers),t.serializers,t._stdErrSerialize===void 0?!0:t._stdErrSerialize),t._logEvent.ts=i,t._logEvent.messages=n.filter(function(l){return c.indexOf(l)===-1}),t._logEvent.level.label=s,t._logEvent.level.value=o,r(s,t._logEvent,a),t._logEvent=$P(c)}function $P(t){return{ts:0,messages:[],bindings:t||[],level:{label:"",value:0}}}function Boe(t){const e={type:t.constructor.name,msg:t.message,stack:t.stack};for(const n in t)e[n]===void 0&&(e[n]=t[n]);return e}function Uoe(t){return typeof t.timestamp=="function"?t.timestamp:t.timestamp===!1?Y$:J$}function z5(){return{}}function ZN(t){return t}function Cv(){}function Y$(){return!1}function J$(){return Date.now()}function Foe(){return Math.round(Date.now()/1e3)}function $oe(){return new Date(Date.now()).toISOString()}function zoe(){function t(e){return typeof e<"u"&&e}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return t(self)||t(window)||t(this)||{}}}const Xb=Ub(sg),Voe={level:"info"},e2="custom_context",ak=1e3*1024;let Hoe=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},vL=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const n=new Hoe(e);if(n.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${n.size}`);for(;this.size+n.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=n),this.tail=n):(this.head=n,this.tail=n),this.lengthInNodes++,this.sizeInBytes+=n.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let n=this.head;for(;n!==null;)e.push(n.value),n=n.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const n=e.value;return e=e.next,{done:!1,value:n}}}}},Q$=class{constructor(e,n=ak){this.level=e??"error",this.levelValue=sg.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=n,this.logs=new vL(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,n){n===sg.levels.values.error?console.error(e):n===sg.levels.values.warn?console.warn(e):n===sg.levels.values.debug?console.debug(e):n===sg.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Lu({timestamp:new Date().toISOString(),log:e}));const n=typeof e=="string"?JSON.parse(e).level:e.level;n>=this.levelValue&&this.forwardToConsole(e,n)}getLogs(){return this.logs}clearLogs(){this.logs=new vL(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const n=this.getLogArray();return n.push(Lu({extraMetadata:e})),new Blob(n,{type:"application/json"})}},qoe=class{constructor(e,n=ak){this.baseChunkLogger=new Q$(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const n=URL.createObjectURL(this.logsToBlob(e)),r=document.createElement("a");r.href=n,r.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(n)}},Woe=class{constructor(e,n=ak){this.baseChunkLogger=new Q$(e,n)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var Goe=Object.defineProperty,Koe=Object.defineProperties,Yoe=Object.getOwnPropertyDescriptors,bL=Object.getOwnPropertySymbols,Joe=Object.prototype.hasOwnProperty,Qoe=Object.prototype.propertyIsEnumerable,xL=(t,e,n)=>e in t?Goe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,QE=(t,e)=>{for(var n in e||(e={}))Joe.call(e,n)&&xL(t,n,e[n]);if(bL)for(var n of bL(e))Qoe.call(e,n)&&xL(t,n,e[n]);return t},ZE=(t,e)=>Koe(t,Yoe(e));function By(t){return ZE(QE({},t),{level:(t==null?void 0:t.level)||Voe.level})}function Zoe(t,e=e2){return t[e]||""}function Xoe(t,e,n=e2){return t[n]=e,t}function io(t,e=e2){let n="";return typeof t.bindings>"u"?n=Zoe(t,e):n=t.bindings().context||"",n}function eae(t,e,n=e2){const r=io(t,n);return r.trim()?`${r}/${e}`:e}function ds(t,e,n=e2){const r=eae(t,e,n),i=t.child({context:r});return Xoe(i,r,n)}function tae(t){var e,n;const r=new qoe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Xb(ZE(QE({},t.opts),{level:"trace",browser:ZE(QE({},(n=t.opts)==null?void 0:n.browser),{write:i=>r.write(i)})})),chunkLoggerController:r}}function nae(t){var e;const n=new Woe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Xb(ZE(QE({},t.opts),{level:"trace"}),n),chunkLoggerController:n}}function ck(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?tae(t):nae(t)}var rae=Object.defineProperty,iae=(t,e,n)=>e in t?rae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,EL=(t,e,n)=>iae(t,typeof e!="symbol"?e+"":e,n);let sae=class extends Gp{constructor(e){super(),this.opts=e,EL(this,"protocol","wc"),EL(this,"version",2)}};var oae=Object.defineProperty,aae=(t,e,n)=>e in t?oae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cae=(t,e,n)=>aae(t,e+"",n);let lae=class extends Gp{constructor(e,n){super(),this.core=e,this.logger=n,cae(this,"records",new Map)}},uae=class{constructor(e,n){this.logger=e,this.core=n}},dae=class extends Gp{constructor(e,n){super(),this.relayer=e,this.logger=n}},hae=class extends Gp{constructor(e){super()}},fae=class{constructor(e,n,r,i){this.core=e,this.logger=n,this.name=r}},pae=class extends Gp{constructor(e,n){super(),this.relayer=e,this.logger=n}},mae=class extends Gp{constructor(e,n){super(),this.core=e,this.logger=n}},gae=class{constructor(e,n,r){this.core=e,this.logger=n,this.store=r}},yae=class{constructor(e,n){this.projectId=e,this.logger=n}},wae=class{constructor(e,n,r){this.core=e,this.logger=n,this.telemetryEnabled=r}};var vae=Object.defineProperty,bae=(t,e,n)=>e in t?vae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,AL=(t,e,n)=>bae(t,typeof e!="symbol"?e+"":e,n);let xae=class{constructor(e){this.opts=e,AL(this,"protocol","wc"),AL(this,"version",2)}},Eae=class{constructor(e){this.client=e}};function Aae(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Z$(t,...e){if(!Aae(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function SL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Sae(t,e){Z$(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const Lm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const XN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Cae(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function X$(t){return typeof t=="string"&&(t=Cae(t)),Z$(t),t}let Nae=class{clone(){return this._cloneInto()}};function _ae(t){const e=r=>t().update(X$(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ez(t=32){if(Lm&&typeof Lm.getRandomValues=="function")return Lm.getRandomValues(new Uint8Array(t));if(Lm&&typeof Lm.randomBytes=="function")return Lm.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function Pae(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}let Iae=class extends Nae{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=XN(this.buffer)}update(e){SL(this);const{view:n,buffer:r,blockLen:i}=this;e=X$(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=XN(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){SL(this),Sae(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;Pae(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=XN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const V5=BigInt(2**32-1),zP=BigInt(32);function tz(t,e=!1){return e?{h:Number(t&V5),l:Number(t>>zP&V5)}:{h:Number(t>>zP&V5)|0,l:Number(t&V5)|0}}function Tae(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=tz(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const kae=(t,e)=>BigInt(t>>>0)<<zP|BigInt(e>>>0),Oae=(t,e,n)=>t>>>n,Rae=(t,e,n)=>t<<32-n|e>>>n,Lae=(t,e,n)=>t>>>n|e<<32-n,Dae=(t,e,n)=>t<<32-n|e>>>n,jae=(t,e,n)=>t<<64-n|e>>>n-32,Mae=(t,e,n)=>t>>>n-32|e<<64-n,Bae=(t,e)=>e,Uae=(t,e)=>t,Fae=(t,e,n)=>t<<n|e>>>32-n,$ae=(t,e,n)=>e<<n|t>>>32-n,zae=(t,e,n)=>e<<n-32|t>>>64-n,Vae=(t,e,n)=>t<<n-32|e>>>64-n;function Hae(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const qae=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),Wae=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,Gae=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),Kae=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,Yae=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),Jae=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Gt={fromBig:tz,split:Tae,toBig:kae,shrSH:Oae,shrSL:Rae,rotrSH:Lae,rotrSL:Dae,rotrBH:jae,rotrBL:Mae,rotr32H:Bae,rotr32L:Uae,rotlSH:Fae,rotlSL:$ae,rotlBH:zae,rotlBL:Vae,add:Hae,add3L:qae,add3H:Wae,add4L:Gae,add4H:Kae,add5H:Jae,add5L:Yae},[Qae,Zae]=Gt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),id=new Uint32Array(80),sd=new Uint32Array(80);let Xae=class extends Iae{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:m,Hh:g,Hl:E}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,f,m,g,E]}set(e,n,r,i,s,o,a,c,l,u,d,h,f,m,g,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=m|0,this.Hh=g|0,this.Hl=E|0}process(e,n){for(let x=0;x<16;x++,n+=4)id[x]=e.getUint32(n),sd[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const C=id[x-15]|0,N=sd[x-15]|0,D=Gt.rotrSH(C,N,1)^Gt.rotrSH(C,N,8)^Gt.shrSH(C,N,7),O=Gt.rotrSL(C,N,1)^Gt.rotrSL(C,N,8)^Gt.shrSL(C,N,7),P=id[x-2]|0,L=sd[x-2]|0,$=Gt.rotrSH(P,L,19)^Gt.rotrBH(P,L,61)^Gt.shrSH(P,L,6),_=Gt.rotrSL(P,L,19)^Gt.rotrBL(P,L,61)^Gt.shrSL(P,L,6),j=Gt.add4L(O,_,sd[x-7],sd[x-16]),K=Gt.add4H(j,D,$,id[x-7],id[x-16]);id[x]=K|0,sd[x]=j|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:m,Gh:g,Gl:E,Hh:y,Hl:w}=this;for(let x=0;x<80;x++){const C=Gt.rotrSH(d,h,14)^Gt.rotrSH(d,h,18)^Gt.rotrBH(d,h,41),N=Gt.rotrSL(d,h,14)^Gt.rotrSL(d,h,18)^Gt.rotrBL(d,h,41),D=d&f^~d&g,O=h&m^~h&E,P=Gt.add5L(w,N,O,Zae[x],sd[x]),L=Gt.add5H(P,y,C,D,Qae[x],id[x]),$=P|0,_=Gt.rotrSH(r,i,28)^Gt.rotrBH(r,i,34)^Gt.rotrBH(r,i,39),j=Gt.rotrSL(r,i,28)^Gt.rotrBL(r,i,34)^Gt.rotrBL(r,i,39),K=r&s^r&a^s&a,V=i&o^i&c^o&c;y=g|0,w=E|0,g=f|0,E=m|0,f=d|0,m=h|0,{h:d,l:h}=Gt.add(l|0,u|0,L|0,$|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const T=Gt.add3L($,j,V);r=Gt.add3H(T,L,_,K),i=T|0}({h:r,l:i}=Gt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Gt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Gt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Gt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Gt.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:m}=Gt.add(this.Fh|0,this.Fl|0,f|0,m|0),{h:g,l:E}=Gt.add(this.Gh|0,this.Gl|0,g|0,E|0),{h:y,l:w}=Gt.add(this.Hh|0,this.Hl|0,y|0,w|0),this.set(r,i,s,o,a,c,l,u,d,h,f,m,g,E,y,w)}roundClean(){id.fill(0),sd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const ece=_ae(()=>new Xae);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const lk=BigInt(0),nz=BigInt(1),tce=BigInt(2);function uk(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function dk(t){if(!uk(t))throw new Error("Uint8Array expected")}function e_(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const nce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function hk(t){dk(t);let e="";for(let n=0;n<t.length;n++)e+=nce[t[n]];return e}function rz(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?lk:BigInt("0x"+t)}const $l={_0:48,_9:57,A:65,F:70,a:97,f:102};function CL(t){if(t>=$l._0&&t<=$l._9)return t-$l._0;if(t>=$l.A&&t<=$l.F)return t-($l.A-10);if(t>=$l.a&&t<=$l.f)return t-($l.a-10)}function iz(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=CL(t.charCodeAt(s)),a=CL(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function rce(t){return rz(hk(t))}function Fx(t){return dk(t),rz(hk(Uint8Array.from(t).reverse()))}function sz(t,e){return iz(t.toString(16).padStart(e*2,"0"))}function VP(t,e){return sz(t,e).reverse()}function zl(t,e,n){let r;if(typeof e=="string")try{r=iz(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(uk(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function NL(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];dk(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}const t_=t=>typeof t=="bigint"&&lk<=t;function ice(t,e,n){return t_(t)&&t_(e)&&t_(n)&&e<=t&&t<n}function $1(t,e,n,r){if(!ice(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function sce(t){let e;for(e=0;t>lk;t>>=nz,e+=1);return e}const oce=t=>(tce<<BigInt(t-1))-nz,ace={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||uk(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function fk(t,e,n={}){const r=(i,s,o)=>{const a=ace[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}function _L(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}const yi=BigInt(0),Dr=BigInt(1),df=BigInt(2),cce=BigInt(3),HP=BigInt(4),PL=BigInt(5),IL=BigInt(8);function ni(t,e){const n=t%e;return n>=yi?n:e+n}function lce(t,e,n){if(e<yi)throw new Error("invalid exponent, negatives unsupported");if(n<=yi)throw new Error("invalid modulus");if(n===Dr)return yi;let r=Dr;for(;e>yi;)e&Dr&&(r=r*t%n),t=t*t%n,e>>=Dr;return r}function Oc(t,e,n){let r=t;for(;e-- >yi;)r*=r,r%=n;return r}function TL(t,e){if(t===yi)throw new Error("invert: expected non-zero number");if(e<=yi)throw new Error("invert: expected positive modulus, got "+e);let n=ni(t,e),r=e,i=yi,s=Dr;for(;n!==yi;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==Dr)throw new Error("invert: does not exist");return ni(i,e)}function uce(t){const e=(t-Dr)/df;let n,r,i;for(n=t-Dr,r=0;n%df===yi;n/=df,r++);for(i=df;i<t&&lce(i,e,t)!==t-Dr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+Dr)/HP;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+Dr)/df;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let m=o.sqr(d);h<c&&!o.eql(m,o.ONE);h++)m=o.sqr(m);const f=o.pow(l,Dr<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function dce(t){if(t%HP===cce){const e=(t+Dr)/HP;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%IL===PL){const e=(t-PL)/IL;return function(n,r){const i=n.mul(r,df),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,df),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return uce(t)}const hce=(t,e)=>(ni(t,e)&Dr)===Dr,fce=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function pce(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=fce.reduce((r,i)=>(r[i]="function",r),e);return fk(t,n)}function mce(t,e,n){if(n<yi)throw new Error("invalid exponent, negatives unsupported");if(n===yi)return t.ONE;if(n===Dr)return e;let r=t.ONE,i=e;for(;n>yi;)n&Dr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Dr;return r}function gce(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function oz(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function az(t,e,n=!1,r={}){if(t<=yi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=oz(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:oce(i),ZERO:yi,ONE:Dr,create:c=>ni(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return yi<=c&&c<t},is0:c=>c===yi,isOdd:c=>(c&Dr)===Dr,neg:c=>ni(-c,t),eql:(c,l)=>c===l,sqr:c=>ni(c*c,t),add:(c,l)=>ni(c+l,t),sub:(c,l)=>ni(c-l,t),mul:(c,l)=>ni(c*l,t),pow:(c,l)=>mce(a,c,l),div:(c,l)=>ni(c*TL(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>TL(c,t),sqrt:r.sqrt||(c=>(o||(o=dce(t)),o(a,c))),invertBatch:c=>gce(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?VP(c,s):sz(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Fx(c):rce(c)}});return Object.freeze(a)}const kL=BigInt(0),H5=BigInt(1);function n_(t,e){const n=e.negate();return t?n:e}function cz(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function r_(t,e){cz(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function yce(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function wce(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const i_=new WeakMap,lz=new WeakMap;function s_(t){return lz.get(t)||1}function vce(t,e){return{constTimeNegate:n_,hasPrecomputes(n){return s_(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>kL;)r&H5&&(i=i.add(s)),s=s.double(),r>>=H5;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=r_(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=r_(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*o;let m=Number(i&l);i>>=d,m>o&&(m-=u,i+=H5);const g=f,E=f+Math.abs(m)-1,y=h%2!==0,w=m<0;m===0?c=c.add(n_(y,r[g])):a=a.add(n_(w,r[E]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=r_(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===kL)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=H5),f===0)continue;let m=r[h+Math.abs(f)-1];f<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(n,r,i){let s=i_.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&i_.set(r,i(s))),s},wNAFCached(n,r,i){const s=s_(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=s_(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){cz(r,e),lz.set(n,r),i_.delete(n)}}}function bce(t,e,n,r){if(yce(n,t),wce(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=sce(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<r.length;f++){const m=r[f],g=Number(m>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[f])}let h=i;for(let f=c.length-1,m=i;f>0;f--)m=m.add(c[f]),h=h.add(m);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function xce(t){return pce(t.Fp),fk(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...oz(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Ba=BigInt(0),Bs=BigInt(1),q5=BigInt(2),Ece=BigInt(8),Ace={zip215:!0};function Sce(t){const e=xce(t);return fk(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Cce(t){const e=Sce(t),{Fp:n,n:r,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=q5<<BigInt(a*8)-Bs,u=n.create,d=az(e.n,e.nBitLength),h=e.uvRatio||((T,k)=>{try{return{isValid:!0,value:n.sqrt(T*n.inv(k))}}catch{return{isValid:!1,value:Ba}}}),f=e.adjustScalarBytes||(T=>T),m=e.domain||((T,k,W)=>{if(e_("phflag",W),k.length||W)throw new Error("Contexts/pre-hash are not supported");return T});function g(T,k){$1("coordinate "+T,k,Ba,l)}function E(T){if(!(T instanceof x))throw new Error("ExtendedPoint expected")}const y=_L((T,k)=>{const{ex:W,ey:B,ez:z}=T,Z=T.is0();k==null&&(k=Z?Ece:n.inv(z));const he=u(W*k),R=u(B*k),Y=u(z*k);if(Z)return{x:Ba,y:Bs};if(Y!==Bs)throw new Error("invZ was invalid");return{x:he,y:R}}),w=_L(T=>{const{a:k,d:W}=e;if(T.is0())throw new Error("bad point: ZERO");const{ex:B,ey:z,ez:Z,et:he}=T,R=u(B*B),Y=u(z*z),J=u(Z*Z),ne=u(J*J),se=u(R*k),de=u(J*u(se+Y)),ye=u(ne+u(W*u(R*Y)));if(de!==ye)throw new Error("bad point: equation left != right (1)");const me=u(B*z),Te=u(Z*he);if(me!==Te)throw new Error("bad point: equation left != right (2)");return!0});class x{constructor(k,W,B,z){this.ex=k,this.ey=W,this.ez=B,this.et=z,g("x",k),g("y",W),g("z",B),g("t",z),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(k){if(k instanceof x)throw new Error("extended point not allowed");const{x:W,y:B}=k||{};return g("x",W),g("y",B),new x(W,B,Bs,u(W*B))}static normalizeZ(k){const W=n.invertBatch(k.map(B=>B.ez));return k.map((B,z)=>B.toAffine(W[z])).map(x.fromAffine)}static msm(k,W){return bce(x,d,k,W)}_setWindowSize(k){D.setWindowSize(this,k)}assertValidity(){w(this)}equals(k){E(k);const{ex:W,ey:B,ez:z}=this,{ex:Z,ey:he,ez:R}=k,Y=u(W*R),J=u(Z*z),ne=u(B*R),se=u(he*z);return Y===J&&ne===se}is0(){return this.equals(x.ZERO)}negate(){return new x(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:k}=e,{ex:W,ey:B,ez:z}=this,Z=u(W*W),he=u(B*B),R=u(q5*u(z*z)),Y=u(k*Z),J=W+B,ne=u(u(J*J)-Z-he),se=Y+he,de=se-R,ye=Y-he,me=u(ne*de),Te=u(se*ye),Pe=u(ne*ye),De=u(de*se);return new x(me,Te,De,Pe)}add(k){E(k);const{a:W,d:B}=e,{ex:z,ey:Z,ez:he,et:R}=this,{ex:Y,ey:J,ez:ne,et:se}=k;if(W===BigInt(-1)){const Ne=u((Z-z)*(J+Y)),Me=u((Z+z)*(J-Y)),ze=u(Me-Ne);if(ze===Ba)return this.double();const Ve=u(he*q5*se),mt=u(R*q5*ne),Et=mt+Ve,Pt=Me+Ne,Rt=mt-Ve,Zt=u(Et*ze),wn=u(Pt*Rt),At=u(Et*Rt),Jt=u(ze*Pt);return new x(Zt,wn,Jt,At)}const de=u(z*Y),ye=u(Z*J),me=u(R*B*se),Te=u(he*ne),Pe=u((z+Z)*(Y+J)-de-ye),De=Te-me,je=Te+me,et=u(ye-W*de),Ae=u(Pe*De),ie=u(je*et),Tt=u(Pe*et),Oe=u(De*je);return new x(Ae,ie,Oe,Tt)}subtract(k){return this.add(k.negate())}wNAF(k){return D.wNAFCached(this,k,x.normalizeZ)}multiply(k){const W=k;$1("scalar",W,Bs,r);const{p:B,f:z}=this.wNAF(W);return x.normalizeZ([B,z])[0]}multiplyUnsafe(k,W=x.ZERO){const B=k;return $1("scalar",B,Ba,r),B===Ba?N:this.is0()||B===Bs?this:D.wNAFCachedUnsafe(this,B,x.normalizeZ,W)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return D.unsafeLadder(this,r).is0()}toAffine(k){return y(this,k)}clearCofactor(){const{h:k}=e;return k===Bs?this:this.multiplyUnsafe(k)}static fromHex(k,W=!1){const{d:B,a:z}=e,Z=n.BYTES;k=zl("pointHex",k,Z),e_("zip215",W);const he=k.slice(),R=k[Z-1];he[Z-1]=R&-129;const Y=Fx(he),J=W?l:n.ORDER;$1("pointHex.y",Y,Ba,J);const ne=u(Y*Y),se=u(ne-Bs),de=u(B*ne-z);let{isValid:ye,value:me}=h(se,de);if(!ye)throw new Error("Point.fromHex: invalid y coordinate");const Te=(me&Bs)===Bs,Pe=(R&128)!==0;if(!W&&me===Ba&&Pe)throw new Error("Point.fromHex: x=0 and x_0=1");return Pe!==Te&&(me=u(-me)),x.fromAffine({x:me,y:Y})}static fromPrivateKey(k){return L(k).point}toRawBytes(){const{x:k,y:W}=this.toAffine(),B=VP(W,n.BYTES);return B[B.length-1]|=k&Bs?128:0,B}toHex(){return hk(this.toRawBytes())}}x.BASE=new x(e.Gx,e.Gy,Bs,u(e.Gx*e.Gy)),x.ZERO=new x(Ba,Bs,Bs,Ba);const{BASE:C,ZERO:N}=x,D=vce(x,a*8);function O(T){return ni(T,r)}function P(T){return O(Fx(T))}function L(T){const k=n.BYTES;T=zl("private key",T,k);const W=zl("hashed private key",s(T),2*k),B=f(W.slice(0,k)),z=W.slice(k,2*k),Z=P(B),he=C.multiply(Z),R=he.toRawBytes();return{head:B,prefix:z,scalar:Z,point:he,pointBytes:R}}function $(T){return L(T).pointBytes}function _(T=new Uint8Array,...k){const W=NL(...k);return P(s(m(W,zl("context",T),!!i)))}function j(T,k,W={}){T=zl("message",T),i&&(T=i(T));const{prefix:B,scalar:z,pointBytes:Z}=L(k),he=_(W.context,B,T),R=C.multiply(he).toRawBytes(),Y=_(W.context,R,Z,T),J=O(he+Y*z);$1("signature.s",J,Ba,r);const ne=NL(R,VP(J,n.BYTES));return zl("result",ne,n.BYTES*2)}const K=Ace;function V(T,k,W,B=K){const{context:z,zip215:Z}=B,he=n.BYTES;T=zl("signature",T,2*he),k=zl("message",k),W=zl("publicKey",W,he),Z!==void 0&&e_("zip215",Z),i&&(k=i(k));const R=Fx(T.slice(he,2*he));let Y,J,ne;try{Y=x.fromHex(W,Z),J=x.fromHex(T.slice(0,he),Z),ne=C.multiplyUnsafe(R)}catch{return!1}if(!Z&&Y.isSmallOrder())return!1;const se=_(z,J.toRawBytes(),Y.toRawBytes(),k);return J.add(Y.multiplyUnsafe(se)).subtract(ne).clearCofactor().equals(x.ZERO)}return C._setWindowSize(8),{CURVE:e,getPublicKey:$,sign:j,verify:V,ExtendedPoint:x,utils:{getExtendedPublicKey:L,randomPrivateKey:()=>o(n.BYTES),precompute(T=8,k=x.BASE){return k._setWindowSize(T),k.multiply(BigInt(3)),k}}}}BigInt(0),BigInt(1);const pk=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),OL=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Nce=BigInt(1),RL=BigInt(2);BigInt(3);const _ce=BigInt(5),Pce=BigInt(8);function Ice(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=pk,o=t*t%s*t%s,a=Oc(o,RL,s)*o%s,c=Oc(a,Nce,s)*t%s,l=Oc(c,_ce,s)*c%s,u=Oc(l,e,s)*l%s,d=Oc(u,n,s)*u%s,h=Oc(d,r,s)*d%s,f=Oc(h,i,s)*h%s,m=Oc(f,i,s)*h%s,g=Oc(m,e,s)*l%s;return{pow_p_5_8:Oc(g,RL,s)*t%s,b2:o}}function Tce(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function kce(t,e){const n=pk,r=ni(e*e*e,n),i=ni(r*r*e,n),s=Ice(t*i).pow_p_5_8;let o=ni(t*r*s,n);const a=ni(e*o*o,n),c=o,l=ni(o*OL,n),u=a===t,d=a===ni(-t,n),h=a===ni(-t*OL,n);return u&&(o=c),(d||h)&&(o=l),hce(o,n)&&(o=ni(-o,n)),{isValid:u||d,value:o}}const Oce=az(pk,void 0,!0),Rce={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:Oce,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Pce,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:ece,randomBytes:ez,adjustScalarBytes:Tce,uvRatio:kce},uz=Cce(Rce),Lce="EdDSA",Dce="JWT",XE=".",yS="base64url",dz="utf8",hz="utf8",jce=":",Mce="did",Bce="key",LL="base58btc",Uce="z",Fce="K36",$ce=32;function mk(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function fz(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?mk(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function pz(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=fz(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return mk(n)}function zce(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,E=0,y=0,w=m.length;y!==w&&m[y]===0;)y++,g++;for(var x=(w-y)*u+1>>>0,C=new Uint8Array(x);y!==w;){for(var N=m[y],D=0,O=x-1;(N!==0||D<E)&&O!==-1;O--,D++)N+=256*C[O]>>>0,C[O]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");E=D,y++}for(var P=x-E;P!==x&&C[P]===0;)P++;for(var L=c.repeat(g);P<x;++P)L+=t.charAt(C[P]);return L}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var E=0,y=0;m[g]===c;)E++,g++;for(var w=(m.length-g)*l+1>>>0,x=new Uint8Array(w);m[g];){var C=n[m.charCodeAt(g)];if(C===255)return;for(var N=0,D=w-1;(C!==0||N<y)&&D!==-1;D--,N++)C+=a*x[D]>>>0,x[D]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");y=N,g++}if(m[g]!==" "){for(var O=w-y;O!==w&&x[O]===0;)O++;for(var P=new Uint8Array(E+(w-O)),L=E;O!==w;)P[L++]=x[O++];return P}}}function f(m){var g=h(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Vce=zce,Hce=Vce;const mz=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},qce=t=>new TextEncoder().encode(t),Wce=t=>new TextDecoder().decode(t);let Gce=class{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},Kce=class{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return gz(this,e)}},Yce=class{constructor(e){this.decoders=e}or(e){return gz(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const gz=(t,e)=>new Yce({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Jce=class{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Gce(e,n,r),this.decoder=new Kce(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const wS=({name:t,prefix:e,encode:n,decode:r})=>new Jce(t,e,n,r),t2=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=Hce(n,e);return wS({prefix:t,name:e,encode:r,decode:s=>mz(i(s))})},Qce=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Zce=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Mi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>wS({prefix:e,name:t,encode(i){return Zce(i,r,n)},decode(i){return Qce(i,r,n,t)}}),Xce=wS({prefix:"\0",name:"identity",encode:t=>Wce(t),decode:t=>qce(t)});var ele=Object.freeze({__proto__:null,identity:Xce});const tle=Mi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var nle=Object.freeze({__proto__:null,base2:tle});const rle=Mi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var ile=Object.freeze({__proto__:null,base8:rle});const sle=t2({prefix:"9",name:"base10",alphabet:"0123456789"});var ole=Object.freeze({__proto__:null,base10:sle});const ale=Mi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),cle=Mi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var lle=Object.freeze({__proto__:null,base16:ale,base16upper:cle});const ule=Mi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),dle=Mi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),hle=Mi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),fle=Mi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ple=Mi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),mle=Mi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),gle=Mi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),yle=Mi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),wle=Mi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var vle=Object.freeze({__proto__:null,base32:ule,base32upper:dle,base32pad:hle,base32padupper:fle,base32hex:ple,base32hexupper:mle,base32hexpad:gle,base32hexpadupper:yle,base32z:wle});const ble=t2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),xle=t2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ele=Object.freeze({__proto__:null,base36:ble,base36upper:xle});const Ale=t2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Sle=t2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Cle=Object.freeze({__proto__:null,base58btc:Ale,base58flickr:Sle});const Nle=Mi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),_le=Mi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Ple=Mi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ile=Mi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Tle=Object.freeze({__proto__:null,base64:Nle,base64pad:_le,base64url:Ple,base64urlpad:Ile});const yz=Array.from(""),kle=yz.reduce((t,e,n)=>(t[n]=e,t),[]),Ole=yz.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function Rle(t){return t.reduce((e,n)=>(e+=kle[n],e),"")}function Lle(t){const e=[];for(const n of t){const r=Ole[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Dle=wS({prefix:"",name:"base256emoji",encode:Rle,decode:Lle});var jle=Object.freeze({__proto__:null,base256emoji:Dle}),Mle=wz,DL=128,Ble=127,Ule=~Ble,Fle=Math.pow(2,31);function wz(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Fle;)e[n++]=t&255|DL,t/=128;for(;t&Ule;)e[n++]=t&255|DL,t>>>=7;return e[n]=t|0,wz.bytes=n-r+1,e}var $le=qP,zle=128,jL=127;function qP(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw qP.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&jL)<<i:(o&jL)*Math.pow(2,i),i+=7}while(o>=zle);return qP.bytes=s-r,n}var Vle=Math.pow(2,7),Hle=Math.pow(2,14),qle=Math.pow(2,21),Wle=Math.pow(2,28),Gle=Math.pow(2,35),Kle=Math.pow(2,42),Yle=Math.pow(2,49),Jle=Math.pow(2,56),Qle=Math.pow(2,63),Zle=function(t){return t<Vle?1:t<Hle?2:t<qle?3:t<Wle?4:t<Gle?5:t<Kle?6:t<Yle?7:t<Jle?8:t<Qle?9:10},Xle={encode:Mle,decode:$le,encodingLength:Zle},vz=Xle;const ML=(t,e,n=0)=>(vz.encode(t,e,n),e),BL=t=>vz.encodingLength(t),WP=(t,e)=>{const n=e.byteLength,r=BL(t),i=r+BL(n),s=new Uint8Array(i+n);return ML(t,s,0),ML(n,s,r),s.set(e,i),new eue(t,n,e,s)};let eue=class{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}};const bz=({name:t,code:e,encode:n})=>new tue(t,e,n);let tue=class{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?WP(this.code,n):n.then(r=>WP(this.code,r))}else throw Error("Unknown type, must be binary type")}};const xz=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),nue=bz({name:"sha2-256",code:18,encode:xz("SHA-256")}),rue=bz({name:"sha2-512",code:19,encode:xz("SHA-512")});var iue=Object.freeze({__proto__:null,sha256:nue,sha512:rue});const Ez=0,sue="identity",Az=mz,oue=t=>WP(Ez,Az(t)),aue={code:Ez,name:sue,encode:Az,digest:oue};var cue=Object.freeze({__proto__:null,identity:aue});new TextEncoder,new TextDecoder;const UL={...ele,...nle,...ile,...ole,...lle,...vle,...Ele,...Cle,...Tle,...jle};({...iue,...cue});function Sz(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const FL=Sz("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),o_=Sz("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=fz(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Cz={utf8:FL,"utf-8":FL,hex:UL.base16,latin1:o_,ascii:o_,binary:o_,...UL};function vS(t,e="utf8"){const n=Cz[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}function Uy(t,e="utf8"){const n=Cz[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?mk(globalThis.Buffer.from(t,"utf-8")):n.decoder.decode(`${n.prefix}${t}`)}function $L(t){return Ep(vS(Uy(t,yS),dz))}function eA(t){return vS(Uy(Lu(t),dz),yS)}function Nz(t){const e=Uy(Fce,LL),n=Uce+vS(pz([e,t]),LL);return[Mce,Bce,n].join(jce)}function lue(t){return vS(t,yS)}function uue(t){return Uy(t,yS)}function due(t){return Uy([eA(t.header),eA(t.payload)].join(XE),hz)}function hue(t){return[eA(t.header),eA(t.payload),lue(t.signature)].join(XE)}function GP(t){const e=t.split(XE),n=$L(e[0]),r=$L(e[1]),i=uue(e[2]),s=Uy(e.slice(0,2).join(XE),hz);return{header:n,payload:r,signature:i,data:s}}function zL(t=ez($ce)){const e=uz.getPublicKey(t);return{secretKey:pz([t,e]),publicKey:e}}async function fue(t,e,n,r,i=We.fromMiliseconds(Date.now())){const s={alg:Lce,typ:Dce},o=Nz(r.publicKey),a=i+n,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=due({header:s,payload:c}),u=uz.sign(l,r.secretKey.slice(0,32));return hue({header:s,payload:c,signature:u})}var VL=function(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))},pue=function(){function t(e,n,r){this.name=e,this.version=n,this.os=r,this.type="browser"}return t}(),mue=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),gue=function(){function t(e,n,r,i){this.name=e,this.version=n,this.os=r,this.bot=i,this.type="bot-device"}return t}(),yue=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),wue=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),vue=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,bue=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,HL=3,xue=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",vue]],qL=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Eue(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new wue:typeof navigator<"u"?Sue(navigator.userAgent):Nue()}function Aue(t){return t!==""&&xue.reduce(function(e,n){var r=n[0],i=n[1];if(e)return e;var s=i.exec(t);return!!s&&[r,s]},!1)}function Sue(t){var e=Aue(t);if(!e)return null;var n=e[0],r=e[1];if(n==="searchbot")return new yue;var i=r[1]&&r[1].split(".").join("_").split("_").slice(0,3);i?i.length<HL&&(i=VL(VL([],i,!0),_ue(HL-i.length),!0)):i=[];var s=i.join("."),o=Cue(t),a=bue.exec(t);return a&&a[1]?new gue(n,s,o,a[1]):new pue(n,s,o)}function Cue(t){for(var e=0,n=qL.length;e<n;e++){var r=qL[e],i=r[0],s=r[1],o=s.exec(t);if(o)return i}return null}function Nue(){var t=typeof process<"u"&&process.version;return t?new mue(process.version.slice(1)):null}function _ue(t){for(var e=[],n=0;n<t;n++)e.push("0");return e}var Jn={};Object.defineProperty(Jn,"__esModule",{value:!0});Jn.getLocalStorage=Jn.getLocalStorageOrThrow=Jn.getCrypto=Jn.getCryptoOrThrow=_z=Jn.getLocation=Jn.getLocationOrThrow=gk=Jn.getNavigator=Jn.getNavigatorOrThrow=n2=Jn.getDocument=Jn.getDocumentOrThrow=Jn.getFromWindowOrThrow=Jn.getFromWindow=void 0;function Yp(t){let e;return typeof window<"u"&&typeof window[t]<"u"&&(e=window[t]),e}Jn.getFromWindow=Yp;function Fy(t){const e=Yp(t);if(!e)throw new Error(`${t} is not defined in Window`);return e}Jn.getFromWindowOrThrow=Fy;function Pue(){return Fy("document")}Jn.getDocumentOrThrow=Pue;function Iue(){return Yp("document")}var n2=Jn.getDocument=Iue;function Tue(){return Fy("navigator")}Jn.getNavigatorOrThrow=Tue;function kue(){return Yp("navigator")}var gk=Jn.getNavigator=kue;function Oue(){return Fy("location")}Jn.getLocationOrThrow=Oue;function Rue(){return Yp("location")}var _z=Jn.getLocation=Rue;function Lue(){return Fy("crypto")}Jn.getCryptoOrThrow=Lue;function Due(){return Yp("crypto")}Jn.getCrypto=Due;function jue(){return Fy("localStorage")}Jn.getLocalStorageOrThrow=jue;function Mue(){return Yp("localStorage")}Jn.getLocalStorage=Mue;var yk={};Object.defineProperty(yk,"__esModule",{value:!0});var Pz=yk.getWindowMetadata=void 0;const WL=Jn;function Bue(){let t,e;try{t=WL.getDocumentOrThrow(),e=WL.getLocationOrThrow()}catch{return null}function n(){const d=t.getElementsByTagName("link"),h=[];for(let f=0;f<d.length;f++){const m=d[f],g=m.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){const E=m.getAttribute("href");if(E)if(E.toLowerCase().indexOf("https:")===-1&&E.toLowerCase().indexOf("http:")===-1&&E.indexOf("//")!==0){let y=e.protocol+"//"+e.host;if(E.indexOf("/")===0)y+=E;else{const w=e.pathname.split("/");w.pop();const x=w.join("/");y+=x+"/"+E}h.push(y)}else if(E.indexOf("//")===0){const y=e.protocol+E;h.push(y)}else h.push(E)}}return h}function r(...d){const h=t.getElementsByTagName("meta");for(let f=0;f<h.length;f++){const m=h[f],g=["itemprop","property","name"].map(E=>m.getAttribute(E)).filter(E=>E?d.includes(E):!1);if(g.length&&g){const E=m.getAttribute("content");if(E)return E}}return""}function i(){let d=r("name","og:site_name","og:title","twitter:title");return d||(d=t.title),d}function s(){return r("description","og:description","twitter:description","keywords")}const o=i(),a=s(),c=e.origin,l=n();return{description:a,url:c,icons:l,name:o}}Pz=yk.getWindowMetadata=Bue;function Nv(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function GL(t){return Nv(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Iz="2.23.2";let z1={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Iz}`},bS=class KP extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof KP?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof KP&&n.cause.docsPath||n.docsPath,s=(a=z1.getDocsUrl)==null?void 0:a.call(z1,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...z1.version?[`Version: ${z1.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Iz}walk(e){return Tz(this,e)}};function Tz(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Tz(t.cause,e):e?null:t}let kz=class extends bS{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};function $y(t,{dir:e,size:n=32}={}){return typeof t=="string"?Uue(t,{dir:e,size:n}):Fue(t,{dir:e,size:n})}function Uue(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new kz({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Fue(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new kz({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}let $ue=class extends bS{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}},zue=class extends bS{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function zy(t,{size:e}){if(GL(t)>e)throw new zue({givenSize:GL(t),maxSize:e})}function YP(t,e={}){const{signed:n}=e;e.size&&zy(t,{size:e.size});const r=BigInt(t);if(!n)return r;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return r<=s?r:r-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function Vue(t,e={}){return Number(YP(t,e))}const Hue=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function JP(t,e={}){return typeof t=="number"||typeof t=="bigint"?Rz(t,e):typeof t=="string"?Gue(t,e):typeof t=="boolean"?que(t,e):Oz(t,e)}function que(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(zy(n,{size:e.size}),$y(n,{size:e.size})):n}function Oz(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Hue[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(zy(r,{size:e.size}),$y(r,{dir:"right",size:e.size})):r}function Rz(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new $ue({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?$y(a,{size:r}):a}const Wue=new TextEncoder;function Gue(t,e={}){const n=Wue.encode(t);return Oz(n,e)}const Kue=new TextEncoder;function Yue(t,e={}){return typeof t=="number"||typeof t=="bigint"?Que(t,e):typeof t=="boolean"?Jue(t,e):Nv(t)?Lz(t,e):Dz(t,e)}function Jue(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(zy(n,{size:e.size}),$y(n,{size:e.size})):n}const Vl={zero:48,nine:57,A:65,F:70,a:97,f:102};function KL(t){if(t>=Vl.zero&&t<=Vl.nine)return t-Vl.zero;if(t>=Vl.A&&t<=Vl.F)return t-(Vl.A-10);if(t>=Vl.a&&t<=Vl.f)return t-(Vl.a-10)}function Lz(t,e={}){let n=t;e.size&&(zy(n,{size:e.size}),n=$y(n,{dir:"right",size:e.size}));let r=n.slice(2);r.length%2&&(r=`0${r}`);const i=r.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=KL(r.charCodeAt(a++)),l=KL(r.charCodeAt(a++));if(c===void 0||l===void 0)throw new bS(`Invalid byte sequence ("${r[a-2]}${r[a-1]}" in "${r}").`);s[o]=c*16+l}return s}function Que(t,e){const n=Rz(t,e);return Lz(n)}function Dz(t,e={}){const n=Kue.encode(t);return typeof e.size=="number"?(zy(n,{size:e.size}),$y(n,{dir:"right",size:e.size})):n}function tA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Zue(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function xS(t,...e){if(!Zue(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function k3e(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");tA(t.outputLen),tA(t.blockLen)}function YL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Xue(t,e){xS(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const W5=BigInt(2**32-1),JL=BigInt(32);function ede(t,e=!1){return e?{h:Number(t&W5),l:Number(t>>JL&W5)}:{h:Number(t>>JL&W5)|0,l:Number(t&W5)|0}}function tde(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=ede(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const nde=(t,e,n)=>t<<n|e>>>32-n,rde=(t,e,n)=>e<<n|t>>>32-n,ide=(t,e,n)=>e<<n-32|t>>>64-n,sde=(t,e,n)=>t<<n-32|e>>>64-n,Dm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ode(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function O3e(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function R3e(t,e){return t<<32-e|t>>>e}const QL=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function ade(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function ZL(t){for(let e=0;e<t.length;e++)t[e]=ade(t[e])}function cde(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function jz(t){return typeof t=="string"&&(t=cde(t)),xS(t),t}function L3e(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];xS(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let lde=class{clone(){return this._cloneInto()}};function ude(t){const e=r=>t().update(jz(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function j3e(t=32){if(Dm&&typeof Dm.getRandomValues=="function")return Dm.getRandomValues(new Uint8Array(t));if(Dm&&typeof Dm.randomBytes=="function")return Dm.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const Mz=[],Bz=[],Uz=[],dde=BigInt(0),V1=BigInt(1),hde=BigInt(2),fde=BigInt(7),pde=BigInt(256),mde=BigInt(113);for(let t=0,e=V1,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Mz.push(2*(5*r+n)),Bz.push((t+1)*(t+2)/2%64);let i=dde;for(let s=0;s<7;s++)e=(e<<V1^(e>>fde)*mde)%pde,e&hde&&(i^=V1<<(V1<<BigInt(s))-V1);Uz.push(i)}const[gde,yde]=tde(Uz,!0),XL=(t,e,n)=>n>32?ide(t,e,n):nde(t,e,n),eD=(t,e,n)=>n>32?sde(t,e,n):rde(t,e,n);function wde(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=XL(l,u,1)^n[a],h=eD(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Bz[o],c=XL(i,s,a),l=eD(i,s,a),u=Mz[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=gde[r],t[1]^=yde[r]}n.fill(0)}let vde=class Fz extends lde{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,tA(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ode(this.state)}keccak(){QL||ZL(this.state32),wde(this.state32,this.rounds),QL||ZL(this.state32),this.posOut=0,this.pos=0}update(e){YL(this);const{blockLen:n,state:r}=this;e=jz(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){YL(this,!1),xS(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return tA(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Xue(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Fz(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const bde=(t,e,n)=>ude(()=>new vde(e,t,n)),xde=bde(1,136,256/8);function $z(t,e){const n=e||"hex",r=xde(Nv(t,{strict:!1})?Yue(t):t);return n==="bytes"?r:JP(r)}let Ede=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}};const a_=new Ede(8192);function Ade(t,e){if(a_.has(`${t}.${e}`))return a_.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),r=$z(Dz(n),"bytes"),i=n.split("");for(let o=0;o<40;o+=2)r[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(r[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return a_.set(`${t}.${e}`,s),s}function Sde(t){const e=$z(`0x${t.substring(4)}`).substring(26);return Ade(`0x${e}`)}async function Cde({hash:t,signature:e}){const n=Nv(t)?t:JP(t),{secp256k1:r}=await ws(async()=>{const{secp256k1:o}=await import("./secp256k1-DqM3uaQ4.js");return{secp256k1:o}},[]);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:d,yParity:h}=e,f=Number(h??d),m=tD(f);return new r.Signature(YP(l),YP(u)).addRecoveryBit(m)}const o=Nv(e)?e:JP(e),a=Vue(`0x${o.slice(130)}`),c=tD(a);return r.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function tD(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Nde({hash:t,signature:e}){return Sde(await Cde({hash:t,signature:e}))}function _de(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),d=u.charCodeAt(0);if(e[d]!==255)throw new TypeError(u+" is ambiguous");e[d]=l}const n=t.length,r=t.charAt(0),i=Math.log(n)/Math.log(256),s=Math.log(256)/Math.log(n);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,d=0,h=0;const f=l.length;for(;h!==f&&l[h]===0;)h++,u++;const m=(f-h)*s+1>>>0,g=new Uint8Array(m);for(;h!==f;){let w=l[h],x=0;for(let C=m-1;(w!==0||x<d)&&C!==-1;C--,x++)w+=256*g[C]>>>0,g[C]=w%n>>>0,w=w/n>>>0;if(w!==0)throw new Error("Non-zero carry");d=x,h++}let E=m-d;for(;E!==m&&g[E]===0;)E++;let y=r.repeat(u);for(;E<m;++E)y+=t.charAt(g[E]);return y}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,d=0,h=0;for(;l[u]===r;)d++,u++;const f=(l.length-u)*i+1>>>0,m=new Uint8Array(f);for(;u<l.length;){const w=l.charCodeAt(u);if(w>255)return;let x=e[w];if(x===255)return;let C=0;for(let N=f-1;(x!==0||C<h)&&N!==-1;N--,C++)x+=n*m[N]>>>0,m[N]=x%256>>>0,x=x/256>>>0;if(x!==0)throw new Error("Non-zero carry");h=C,u++}let g=f-h;for(;g!==f&&m[g]===0;)g++;const E=new Uint8Array(d+(f-g));let y=d;for(;g!==f;)E[y++]=m[g++];return E}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+n+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var Pde="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const zz=_de(Pde);function Vz(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function Bw(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const n=Vz(e);let r=0;for(const i of t)n.set(i,r),r+=i.length;return n}function Ide(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,E=0,y=0,w=m.length;y!==w&&m[y]===0;)y++,g++;for(var x=(w-y)*u+1>>>0,C=new Uint8Array(x);y!==w;){for(var N=m[y],D=0,O=x-1;(N!==0||D<E)&&O!==-1;O--,D++)N+=256*C[O]>>>0,C[O]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");E=D,y++}for(var P=x-E;P!==x&&C[P]===0;)P++;for(var L=c.repeat(g);P<x;++P)L+=t.charAt(C[P]);return L}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var E=0,y=0;m[g]===c;)E++,g++;for(var w=(m.length-g)*l+1>>>0,x=new Uint8Array(w);m[g];){var C=n[m.charCodeAt(g)];if(C===255)return;for(var N=0,D=w-1;(C!==0||N<y)&&D!==-1;D--,N++)C+=a*x[D]>>>0,x[D]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");y=N,g++}if(m[g]!==" "){for(var O=w-y;O!==w&&x[O]===0;)O++;for(var P=new Uint8Array(E+(w-O)),L=E;O!==w;)P[L++]=x[O++];return P}}}function f(m){var g=h(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var Tde=Ide,kde=Tde;const Ode=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Rde=t=>new TextEncoder().encode(t),Lde=t=>new TextDecoder().decode(t);class Dde{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class jde{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Hz(this,e)}}class Mde{constructor(e){this.decoders=e}or(e){return Hz(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Hz=(t,e)=>new Mde({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Bde{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new Dde(e,n,r),this.decoder=new jde(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const ES=({name:t,prefix:e,encode:n,decode:r})=>new Bde(t,e,n,r),r2=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=kde(n,e);return ES({prefix:t,name:e,encode:r,decode:s=>Ode(i(s))})},Ude=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Fde=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Bi=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>ES({prefix:e,name:t,encode(i){return Fde(i,r,n)},decode(i){return Ude(i,r,n,t)}}),$de=ES({prefix:"\0",name:"identity",encode:t=>Lde(t),decode:t=>Rde(t)}),zde=Object.freeze(Object.defineProperty({__proto__:null,identity:$de},Symbol.toStringTag,{value:"Module"})),Vde=Bi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),Hde=Object.freeze(Object.defineProperty({__proto__:null,base2:Vde},Symbol.toStringTag,{value:"Module"})),qde=Bi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),Wde=Object.freeze(Object.defineProperty({__proto__:null,base8:qde},Symbol.toStringTag,{value:"Module"})),Gde=r2({prefix:"9",name:"base10",alphabet:"0123456789"}),Kde=Object.freeze(Object.defineProperty({__proto__:null,base10:Gde},Symbol.toStringTag,{value:"Module"})),Yde=Bi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Jde=Bi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),Qde=Object.freeze(Object.defineProperty({__proto__:null,base16:Yde,base16upper:Jde},Symbol.toStringTag,{value:"Module"})),Zde=Bi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Xde=Bi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),ehe=Bi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),the=Bi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),nhe=Bi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),rhe=Bi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),ihe=Bi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),she=Bi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),ohe=Bi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),ahe=Object.freeze(Object.defineProperty({__proto__:null,base32:Zde,base32hex:nhe,base32hexpad:ihe,base32hexpadupper:she,base32hexupper:rhe,base32pad:ehe,base32padupper:the,base32upper:Xde,base32z:ohe},Symbol.toStringTag,{value:"Module"})),che=r2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),lhe=r2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),uhe=Object.freeze(Object.defineProperty({__proto__:null,base36:che,base36upper:lhe},Symbol.toStringTag,{value:"Module"})),dhe=r2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),hhe=r2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),fhe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:dhe,base58flickr:hhe},Symbol.toStringTag,{value:"Module"})),phe=Bi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),mhe=Bi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ghe=Bi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),yhe=Bi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),whe=Object.freeze(Object.defineProperty({__proto__:null,base64:phe,base64pad:mhe,base64url:ghe,base64urlpad:yhe},Symbol.toStringTag,{value:"Module"})),qz=Array.from(""),vhe=qz.reduce((t,e,n)=>(t[n]=e,t),[]),bhe=qz.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function xhe(t){return t.reduce((e,n)=>(e+=vhe[n],e),"")}function Ehe(t){const e=[];for(const n of t){const r=bhe[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const Ahe=ES({prefix:"",name:"base256emoji",encode:xhe,decode:Ehe}),She=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:Ahe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const nD={...zde,...Hde,...Wde,...Kde,...Qde,...ahe,...uhe,...fhe,...whe,...She};function Wz(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const rD=Wz("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),c_=Wz("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Vz(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Gz={utf8:rD,"utf-8":rD,hex:nD.base16,latin1:c_,ascii:c_,binary:c_,...nD};function ya(t,e="utf8"){const n=Gz[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}function eo(t,e="utf8"){const n=Gz[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):n.encoder.encode(t).substring(1)}const Che={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Nhe={};const _he=":";function Xg(t){const[e,n]=t.split(_he);return{namespace:e,reference:n}}function Kz(t,e){return t.includes(":")?[t]:e.chains||[]}var Phe=Object.defineProperty,Ihe=Object.defineProperties,The=Object.getOwnPropertyDescriptors,iD=Object.getOwnPropertySymbols,khe=Object.prototype.hasOwnProperty,Ohe=Object.prototype.propertyIsEnumerable,sD=(t,e,n)=>e in t?Phe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,oD=(t,e)=>{for(var n in e||(e={}))khe.call(e,n)&&sD(t,n,e[n]);if(iD)for(var n of iD(e))Ohe.call(e,n)&&sD(t,n,e[n]);return t},Rhe=(t,e)=>Ihe(t,The(e));const Lhe="ReactNative",To={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Dhe="js";function nA(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Oh(){return!n2()&&!!gk()&&navigator.product===Lhe}function jhe(){return Oh()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function Mhe(){return Oh()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function i2(){return!nA()&&!!gk()&&!!n2()}function s2(){return Oh()?To.reactNative:nA()?To.node:i2()?To.browser:To.unknown}function aD(){var t;try{return Oh()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Bhe(t,e){const n=new URLSearchParams(t);for(const r of Object.keys(e).sort())if(e.hasOwnProperty(r)){const i=e[r];i!==void 0&&n.set(r,i)}return n.toString()}function Uhe(t){var e,n;const r=Yz();try{return t!=null&&t.url&&r.url&&t.url!==r.url&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${r.url}. This is probably unintended and can lead to issues.`),t.url=r.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),Rhe(oD(oD({},r),t),{url:(t==null?void 0:t.url)||r.url,name:(t==null?void 0:t.name)||r.name,description:(t==null?void 0:t.description)||r.description,icons:(n=t==null?void 0:t.icons)!=null&&n.length&&t.icons.length>0?t.icons:r.icons})}catch(i){return console.warn("Error populating app metadata",i),t||r}}function Yz(){return Pz()||{name:"",description:"",url:"",icons:[""]}}function Fhe(){if(s2()===To.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:n,Version:r}=global.Platform;return[n,r].join("-")}const t=Eue();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function $he(){var t;const e=s2();return e===To.browser?[e,((t=_z())==null?void 0:t.host)||"unknown"].join(":"):e}function Jz(t,e,n){const r=Fhe(),i=$he();return[[t,e].join("-"),[Dhe,n].join("-"),r,i].join("/")}function zhe({protocol:t,version:e,relayUrl:n,sdkVersion:r,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=n.split("?"),u=Jz(t,e,r),d={auth:i,ua:u,projectId:s,useOnCloseEvent:o||void 0,packageName:c||void 0,bundleId:a||void 0},h=Bhe(l[1]||"",d);return l[0]+"?"+h}function Af(t,e){return t.filter(n=>e.includes(n)).length===t.length}function QP(t){return Object.fromEntries(t.entries())}function ZP(t){return new Map(Object.entries(t))}function of(t=We.FIVE_MINUTES,e){const n=We.toMiliseconds(t||We.FIVE_MINUTES);let r,i,s,o;return{resolve:a=>{s&&r&&(clearTimeout(s),r(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},n),r=a,i=c})}}function Zd(t,e,n){return new Promise(async(r,i)=>{const s=setTimeout(()=>i(new Error(n)),e);try{const o=await t;r(o)}catch(o){i(o)}clearTimeout(s)})}function Qz(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Vhe(t){return Qz("topic",t)}function Hhe(t){return Qz("id",t)}function Zz(t){const[e,n]=t.split(":"),r={id:void 0,topic:void 0};if(e==="topic"&&typeof n=="string")r.topic=n;else if(e==="id"&&Number.isInteger(Number(n)))r.id=Number(n);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${n}`);return r}function ei(t,e){return We.fromMiliseconds(Date.now()+We.toMiliseconds(t))}function vd(t){return Date.now()>=We.toMiliseconds(t)}function En(t,e){return`${t}${e?`:${e}`:""}`}function $x(t=[],e=[]){return[...new Set([...t,...e])]}async function qhe({id:t,topic:e,wcDeepLink:n}){var r;try{if(!n)return;const i=typeof n=="string"?JSON.parse(n):n,s=i==null?void 0:i.href;if(typeof s!="string")return;const o=Whe(s,t,e),a=s2();if(a===To.browser){if(!((r=n2())!=null&&r.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}Ghe(o)}else a===To.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function Whe(t,e,n){const r=`requestId=${e}&sessionTopic=${n}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${Qhe(r,!0)}`}else i=`${i}/wc?${r}`;return i}function Ghe(t){let e="_self";Jhe()?e="_top":(Yhe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Khe(t,e){let n="";try{if(i2()&&(n=localStorage.getItem(e),n))return n;n=await t.getItem(e)}catch(r){console.error(r)}return n}function cD(t,e){if(!t.includes(e))return null;const n=t.split(/([&,?,=])/),r=n.indexOf(e);return n[r+2]}function lD(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function wk(){return typeof process<"u"&&Nhe.IS_VITEST==="true"}function Yhe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Jhe(){try{return window.self!==window.top}catch{return!1}}function Qhe(t,e=!1){const n=Buffer.from(t).toString("base64");return e?n.replace(/[=]/g,""):n}function Xz(t){return Buffer.from(t,"base64").toString("utf-8")}function Zhe(t){return new Promise(e=>setTimeout(e,t))}function _v(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Xhe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function o2(t,...e){if(!Xhe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function vk(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");_v(t.outputLen),_v(t.blockLen)}function ay(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function eV(t,e){o2(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}const G5=BigInt(2**32-1),uD=BigInt(32);function efe(t,e=!1){return e?{h:Number(t&G5),l:Number(t>>uD&G5)}:{h:Number(t>>uD&G5)|0,l:Number(t&G5)|0}}function tfe(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=efe(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const nfe=(t,e,n)=>t<<n|e>>>32-n,rfe=(t,e,n)=>e<<n|t>>>32-n,ife=(t,e,n)=>e<<n-32|t>>>64-n,sfe=(t,e,n)=>t<<n-32|e>>>64-n,jm=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function ofe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function l_(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Rc(t,e){return t<<32-e|t>>>e}const dD=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function afe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function hD(t){for(let e=0;e<t.length;e++)t[e]=afe(t[e])}function cfe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function cy(t){return typeof t=="string"&&(t=cfe(t)),o2(t),t}function lfe(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];o2(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}let bk=class{clone(){return this._cloneInto()}};function tV(t){const e=r=>t().update(cy(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function Vy(t=32){if(jm&&typeof jm.getRandomValues=="function")return jm.getRandomValues(new Uint8Array(t));if(jm&&typeof jm.randomBytes=="function")return jm.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}const nV=[],rV=[],iV=[],ufe=BigInt(0),H1=BigInt(1),dfe=BigInt(2),hfe=BigInt(7),ffe=BigInt(256),pfe=BigInt(113);for(let t=0,e=H1,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],nV.push(2*(5*r+n)),rV.push((t+1)*(t+2)/2%64);let i=ufe;for(let s=0;s<7;s++)e=(e<<H1^(e>>hfe)*pfe)%ffe,e&dfe&&(i^=H1<<(H1<<BigInt(s))-H1);iV.push(i)}const[mfe,gfe]=tfe(iV,!0),fD=(t,e,n)=>n>32?ife(t,e,n):nfe(t,e,n),pD=(t,e,n)=>n>32?sfe(t,e,n):rfe(t,e,n);function yfe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=fD(l,u,1)^n[a],h=pD(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=rV[o],c=fD(i,s,a),l=pD(i,s,a),u=nV[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=mfe[r],t[1]^=gfe[r]}n.fill(0)}let wfe=class sV extends bk{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,_v(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=ofe(this.state)}keccak(){dD||hD(this.state32),yfe(this.state32,this.rounds),dD||hD(this.state32),this.posOut=0,this.pos=0}update(e){ay(this);const{blockLen:n,state:r}=this;e=cy(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){ay(this,!1),o2(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return _v(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(eV(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new sV(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const vfe=(t,e,n)=>tV(()=>new wfe(e,t,n)),bfe=vfe(1,136,256/8),xfe="https://rpc.walletconnect.org/v1";function oV(t){const e=`Ethereum Signed Message:
${t.length}`,n=new TextEncoder().encode(e+t);return"0x"+Buffer.from(bfe(n)).toString("hex")}async function Efe(t,e,n,r,i,s){switch(n.t){case"eip191":return await Afe(t,e,n.s);case"eip1271":return await Sfe(t,e,n.s,r,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${n.t}`)}}async function Afe(t,e,n){return(await Nde({hash:oV(e),signature:n})).toLowerCase()===t.toLowerCase()}async function Sfe(t,e,n,r,i,s){const o=Xg(r);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${r}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l="0000000000000000000000000000000000000000000000000000000000000041",u=n.substring(2),d=oV(e).substring(2),h=a+d+c+l+u,f=await fetch(`${s||xfe}/?chainId=${r}&projectId=${i}`,{method:"POST",body:JSON.stringify({id:Cfe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:m}=await f.json();return m?m.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Cfe(){return Date.now()+Math.floor(Math.random()*1e3)}function Nfe(t){const e=atob(t),n=new Uint8Array(e.length);for(let o=0;o<e.length;o++)n[o]=e.charCodeAt(o);const r=n[0];if(r===0)throw new Error("No signatures found");const i=1+r*64;if(n.length<i)throw new Error("Transaction data too short for claimed signature count");if(n.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return zz.encode(s)}var _fe=Object.defineProperty,Pfe=Object.defineProperties,Ife=Object.getOwnPropertyDescriptors,mD=Object.getOwnPropertySymbols,Tfe=Object.prototype.hasOwnProperty,kfe=Object.prototype.propertyIsEnumerable,gD=(t,e,n)=>e in t?_fe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ofe=(t,e)=>{for(var n in e||(e={}))Tfe.call(e,n)&&gD(t,n,e[n]);if(mD)for(var n of mD(e))kfe.call(e,n)&&gD(t,n,e[n]);return t},Rfe=(t,e)=>Pfe(t,Ife(e));const Lfe="did:pkh:",xk=t=>t==null?void 0:t.split(":"),Dfe=t=>{const e=t&&xk(t);if(e)return t.includes(Lfe)?e[3]:e[1]},XP=t=>{const e=t&&xk(t);if(e)return e[2]+":"+e[3]},rA=t=>{const e=t&&xk(t);if(e)return e.pop()};async function yD(t){const{cacao:e,projectId:n}=t,{s:r,p:i}=e,s=aV(i,i.iss),o=rA(i.iss);return await Efe(o,s,r,XP(i.iss),n)}const aV=(t,e)=>{const n=`${t.domain} wants you to sign in with your Ethereum account:`,r=rA(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Dfe(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,d=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,f=t.resources?`Resources:${t.resources.map(g=>`
- ${g}`).join("")}`:void 0,m=zx(t.resources);if(m){const g=Pv(m);i=Hfe(i,g)}return[n,r,"",i,"",s,o,a,c,l,u,d,h,f].filter(g=>g!=null).join(`
`)};function jfe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Mfe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Ap(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(n=>{const r=t.att[n];if(Array.isArray(r))throw new Error(`Resource must be an object: ${n}`);if(typeof r!="object")throw new Error(`Resource must be an object: ${n}`);if(!Object.keys(r).length)throw new Error(`Resource object is empty: ${n}`);Object.keys(r).forEach(i=>{const s=r[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Bfe(t,e,n,r={}){return n==null||n.sort((i,s)=>i.localeCompare(s)),{att:{[t]:Ufe(e,n,r)}}}function Ufe(t,e,n={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const r=e.map(i=>({[`${t}/${i}`]:[n]}));return Object.assign({},...r)}function cV(t){return Ap(t),`urn:recap:${jfe(t).replace(/=/g,"")}`}function Pv(t){const e=Mfe(t.replace("urn:recap:",""));return Ap(e),e}function Ffe(t,e,n){const r=Bfe(t,e,n);return cV(r)}function $fe(t){return t&&t.includes("urn:recap:")}function zfe(t,e){const n=Pv(t),r=Pv(e),i=Vfe(n,r);return cV(i)}function Vfe(t,e){Ap(t),Ap(e);const n=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),r={att:{}};return n.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;r.att[i]=Rfe(Ofe({},r.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),r}function Hfe(t="",e){Ap(e);const n="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(n))return t;const r=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(d=>({ability:d.split("/")[0],action:d.split("/")[1]}));c.sort((d,h)=>d.action.localeCompare(h.action));const l={};c.forEach(d=>{l[d.ability]||(l[d.ability]=[]),l[d.ability].push(d.action)});const u=Object.keys(l).map(d=>(i++,`(${i}) '${d}': '${l[d].join("', '")}' for '${a}'.`));r.push(u.join(", ").replace(".,","."))});const s=r.join(" "),o=`${n}${s}`;return`${t?t+" ":""}${o}`}function wD(t){var e;const n=Pv(t);Ap(n);const r=(e=n.att)==null?void 0:e.eip155;return r?Object.keys(r).map(i=>i.split("/")[1]):[]}function vD(t){const e=Pv(t);Ap(e);const n=[];return Object.values(e.att).forEach(r=>{Object.values(r).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&n.push(i[0].chains)})}),[...new Set(n.flat())]}function zx(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return $fe(e)?e:void 0}function u_(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function lV(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function No(t,...e){if(!lV(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function bD(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function qfe(t,e){No(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function xD(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}const uh=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),Wfe=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Gfe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!Gfe)throw new Error("Non little-endian hardware is not supported");function Kfe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function e4(t){if(typeof t=="string")t=Kfe(t);else if(lV(t))t=t4(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function Yfe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function Jfe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}const Qfe=(t,e)=>{function n(r,...i){if(No(r),t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?No(l):No(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&No(i[1]);const o=e(r,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");No(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,No(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(No(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(n,t),n};function ED(t,e,n=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(n&&!Zfe(e))throw new Error("invalid output, must be aligned");return e}function AD(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s);t.setUint32(e+4,o,r),t.setUint32(e+0,a,r)}function Zfe(t){return t.byteOffset%4===0}function t4(t){return Uint8Array.from(t)}function ly(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const uV=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),Xfe=uV("expand 16-byte k"),epe=uV("expand 32-byte k"),tpe=uh(Xfe),npe=uh(epe);function hn(t,e){return t<<e|t>>>32-e}function n4(t){return t.byteOffset%4===0}const K5=64,rpe=16,dV=2**32-1,SD=new Uint32Array;function ipe(t,e,n,r,i,s,o,a){const c=i.length,l=new Uint8Array(K5),u=uh(l),d=n4(i)&&n4(s),h=d?uh(i):SD,f=d?uh(s):SD;for(let m=0;m<c;o++){if(t(e,n,r,u,o,a),o>=dV)throw new Error("arx: counter overflow");const g=Math.min(K5,c-m);if(d&&g===K5){const E=m/4;if(m%4!==0)throw new Error("arx: invalid block position");for(let y=0,w;y<rpe;y++)w=E+y,f[w]=h[w]^u[y];m+=K5;continue}for(let E=0,y;E<g;E++)y=m+E,s[y]=i[y]^l[E];m+=g}}function spe(t,e){const{allowShortKeys:n,extendNonceFn:r,counterLength:i,counterRight:s,rounds:o}=Yfe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return u_(i),u_(o),xD(s),xD(n),(a,c,l,u,d=0)=>{No(a),No(c),No(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),No(u),u_(d),d<0||d>=dV)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const f=[];let m=a.length,g,E;if(m===32)f.push(g=t4(a)),E=npe;else if(m===16&&n)g=new Uint8Array(32),g.set(a),g.set(a,16),E=tpe,f.push(g);else throw new Error(`arx: invalid 32-byte key, got length=${m}`);n4(c)||f.push(c=t4(c));const y=uh(g);if(r){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");r(E,y,uh(c.subarray(0,16)),y),c=c.subarray(16)}const w=16-i;if(w!==c.length)throw new Error(`arx: nonce must be ${w} or 16 bytes`);if(w!==12){const C=new Uint8Array(12);C.set(c,s?0:12-c.length),c=C,f.push(c)}const x=uh(c);return ipe(t,E,y,x,l,u,d,o),ly(...f),u}}const Si=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class ope{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=e4(e),No(e,32);const n=Si(e,0),r=Si(e,2),i=Si(e,4),s=Si(e,6),o=Si(e,8),a=Si(e,10),c=Si(e,12),l=Si(e,14);this.r[0]=n&8191,this.r[1]=(n>>>13|r<<3)&8191,this.r[2]=(r>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=Si(e,16+2*u)}process(e,n,r=!1){const i=r?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],d=o[4],h=o[5],f=o[6],m=o[7],g=o[8],E=o[9],y=Si(e,n+0),w=Si(e,n+2),x=Si(e,n+4),C=Si(e,n+6),N=Si(e,n+8),D=Si(e,n+10),O=Si(e,n+12),P=Si(e,n+14);let L=s[0]+(y&8191),$=s[1]+((y>>>13|w<<3)&8191),_=s[2]+((w>>>10|x<<6)&8191),j=s[3]+((x>>>7|C<<9)&8191),K=s[4]+((C>>>4|N<<12)&8191),V=s[5]+(N>>>1&8191),T=s[6]+((N>>>14|D<<2)&8191),k=s[7]+((D>>>11|O<<5)&8191),W=s[8]+((O>>>8|P<<8)&8191),B=s[9]+(P>>>5|i),z=0,Z=z+L*a+$*(5*E)+_*(5*g)+j*(5*m)+K*(5*f);z=Z>>>13,Z&=8191,Z+=V*(5*h)+T*(5*d)+k*(5*u)+W*(5*l)+B*(5*c),z+=Z>>>13,Z&=8191;let he=z+L*c+$*a+_*(5*E)+j*(5*g)+K*(5*m);z=he>>>13,he&=8191,he+=V*(5*f)+T*(5*h)+k*(5*d)+W*(5*u)+B*(5*l),z+=he>>>13,he&=8191;let R=z+L*l+$*c+_*a+j*(5*E)+K*(5*g);z=R>>>13,R&=8191,R+=V*(5*m)+T*(5*f)+k*(5*h)+W*(5*d)+B*(5*u),z+=R>>>13,R&=8191;let Y=z+L*u+$*l+_*c+j*a+K*(5*E);z=Y>>>13,Y&=8191,Y+=V*(5*g)+T*(5*m)+k*(5*f)+W*(5*h)+B*(5*d),z+=Y>>>13,Y&=8191;let J=z+L*d+$*u+_*l+j*c+K*a;z=J>>>13,J&=8191,J+=V*(5*E)+T*(5*g)+k*(5*m)+W*(5*f)+B*(5*h),z+=J>>>13,J&=8191;let ne=z+L*h+$*d+_*u+j*l+K*c;z=ne>>>13,ne&=8191,ne+=V*a+T*(5*E)+k*(5*g)+W*(5*m)+B*(5*f),z+=ne>>>13,ne&=8191;let se=z+L*f+$*h+_*d+j*u+K*l;z=se>>>13,se&=8191,se+=V*c+T*a+k*(5*E)+W*(5*g)+B*(5*m),z+=se>>>13,se&=8191;let de=z+L*m+$*f+_*h+j*d+K*u;z=de>>>13,de&=8191,de+=V*l+T*c+k*a+W*(5*E)+B*(5*g),z+=de>>>13,de&=8191;let ye=z+L*g+$*m+_*f+j*h+K*d;z=ye>>>13,ye&=8191,ye+=V*u+T*l+k*c+W*a+B*(5*E),z+=ye>>>13,ye&=8191;let me=z+L*E+$*g+_*m+j*f+K*h;z=me>>>13,me&=8191,me+=V*d+T*u+k*l+W*c+B*a,z+=me>>>13,me&=8191,z=(z<<2)+z|0,z=z+Z|0,Z=z&8191,z=z>>>13,he+=z,s[0]=Z,s[1]=he,s[2]=R,s[3]=Y,s[4]=J,s[5]=ne,s[6]=se,s[7]=de,s[8]=ye,s[9]=me}finalize(){const{h:e,pad:n}=this,r=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,r[0]=e[0]+5,i=r[0]>>>13,r[0]&=8191;for(let a=1;a<10;a++)r[a]=e[a]+i,i=r[a]>>>13,r[a]&=8191;r[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)r[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|r[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+n[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+n[a]|0)+(o>>>16)|0,e[a]=o&65535;ly(r)}update(e){bD(this);const{buffer:n,blockLen:r}=this;e=e4(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);if(o===r){for(;r<=i-s;s+=r)this.process(e,s);continue}n.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===r&&(this.process(n,0,!1),this.pos=0)}return this}destroy(){ly(this.h,this.r,this.buffer,this.pad)}digestInto(e){bD(this),qfe(e,this),this.finished=!0;const{buffer:n,h:r}=this;let{pos:i}=this;if(i){for(n[i++]=1;i<16;i++)n[i]=0;this.process(n,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=r[o]>>>0,e[s++]=r[o]>>>8;return e}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}}function ape(t){const e=(r,i)=>t(i).update(e4(r)).digest(),n=t(new Uint8Array(32));return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=r=>t(r),e}const cpe=ape(t=>new ope(t));function lpe(t,e,n,r,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],d=e[1],h=e[2],f=e[3],m=e[4],g=e[5],E=e[6],y=e[7],w=i,x=n[0],C=n[1],N=n[2],D=o,O=a,P=c,L=l,$=u,_=d,j=h,K=f,V=m,T=g,k=E,W=y,B=w,z=x,Z=C,he=N;for(let Y=0;Y<s;Y+=2)D=D+$|0,B=hn(B^D,16),V=V+B|0,$=hn($^V,12),D=D+$|0,B=hn(B^D,8),V=V+B|0,$=hn($^V,7),O=O+_|0,z=hn(z^O,16),T=T+z|0,_=hn(_^T,12),O=O+_|0,z=hn(z^O,8),T=T+z|0,_=hn(_^T,7),P=P+j|0,Z=hn(Z^P,16),k=k+Z|0,j=hn(j^k,12),P=P+j|0,Z=hn(Z^P,8),k=k+Z|0,j=hn(j^k,7),L=L+K|0,he=hn(he^L,16),W=W+he|0,K=hn(K^W,12),L=L+K|0,he=hn(he^L,8),W=W+he|0,K=hn(K^W,7),D=D+_|0,he=hn(he^D,16),k=k+he|0,_=hn(_^k,12),D=D+_|0,he=hn(he^D,8),k=k+he|0,_=hn(_^k,7),O=O+j|0,B=hn(B^O,16),W=W+B|0,j=hn(j^W,12),O=O+j|0,B=hn(B^O,8),W=W+B|0,j=hn(j^W,7),P=P+K|0,z=hn(z^P,16),V=V+z|0,K=hn(K^V,12),P=P+K|0,z=hn(z^P,8),V=V+z|0,K=hn(K^V,7),L=L+$|0,Z=hn(Z^L,16),T=T+Z|0,$=hn($^T,12),L=L+$|0,Z=hn(Z^L,8),T=T+Z|0,$=hn($^T,7);let R=0;r[R++]=o+D|0,r[R++]=a+O|0,r[R++]=c+P|0,r[R++]=l+L|0,r[R++]=u+$|0,r[R++]=d+_|0,r[R++]=h+j|0,r[R++]=f+K|0,r[R++]=m+V|0,r[R++]=g+T|0,r[R++]=E+k|0,r[R++]=y+W|0,r[R++]=w+B|0,r[R++]=x+z|0,r[R++]=C+Z|0,r[R++]=N+he|0}const upe=spe(lpe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),dpe=new Uint8Array(16),CD=(t,e)=>{t.update(e);const n=e.length%16;n&&t.update(dpe.subarray(n))},hpe=new Uint8Array(32);function ND(t,e,n,r,i){const s=t(e,n,hpe),o=cpe.create(s);i&&CD(o,i),CD(o,r);const a=new Uint8Array(16),c=Wfe(a);AD(c,0,BigInt(i?i.length:0),!0),AD(c,8,BigInt(r.length),!0),o.update(a);const l=o.digest();return ly(s,a),l}const fpe=t=>(e,n,r)=>({encrypt(i,s){const o=i.length;s=ED(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,n,a,a,1);const c=ND(t,e,n,a,r);return s.set(c,o),ly(c),s},decrypt(i,s){s=ED(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=ND(t,e,n,o,r);if(!Jfe(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,n,s,s,1),ly(c),s}}),hV=Qfe({blockSize:64,nonceLength:12,tagLength:16},fpe(upe));let fV=class extends bk{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,vk(e);const r=cy(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return ay(this),this.iHash.update(e),this}digestInto(e){ay(this),o2(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const AS=(t,e,n)=>new fV(t,e).update(n).digest();AS.create=(t,e)=>new fV(t,e);function ppe(t,e,n){return vk(t),n===void 0&&(n=new Uint8Array(t.outputLen)),AS(t,cy(n),cy(e))}const d_=new Uint8Array([0]),_D=new Uint8Array;function mpe(t,e,n,r=32){if(vk(t),_v(r),r>255*t.outputLen)throw new Error("Length should be <= 255*HashLen");const i=Math.ceil(r/t.outputLen);n===void 0&&(n=_D);const s=new Uint8Array(i*t.outputLen),o=AS.create(t,e),a=o._cloneInto(),c=new Uint8Array(o.outputLen);for(let l=0;l<i;l++)d_[0]=l+1,a.update(l===0?_D:c).update(n).update(d_).digestInto(c),s.set(c,t.outputLen*l),o._cloneInto(a);return o.destroy(),a.destroy(),c.fill(0),d_.fill(0),s.slice(0,r)}const gpe=(t,e,n,r,i)=>mpe(t,ppe(t,e,n),r,i);function ype(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}function wpe(t,e,n){return t&e^~t&n}function vpe(t,e,n){return t&e^t&n^e&n}let bpe=class extends bk{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=l_(this.buffer)}update(e){ay(this);const{view:n,buffer:r,blockLen:i}=this;e=cy(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=l_(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){ay(this),eV(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;ype(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=l_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}};const xpe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),od=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ad=new Uint32Array(64);class Epe extends bpe{constructor(){super(64,32,8,!1),this.A=od[0]|0,this.B=od[1]|0,this.C=od[2]|0,this.D=od[3]|0,this.E=od[4]|0,this.F=od[5]|0,this.G=od[6]|0,this.H=od[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ad[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ad[d-15],f=ad[d-2],m=Rc(h,7)^Rc(h,18)^h>>>3,g=Rc(f,17)^Rc(f,19)^f>>>10;ad[d]=g+ad[d-7]+m+ad[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=Rc(a,6)^Rc(a,11)^Rc(a,25),f=u+h+wpe(a,c,l)+xpe[d]+ad[d]|0,m=(Rc(r,2)^Rc(r,13)^Rc(r,22))+vpe(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+m|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){ad.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const a2=tV(()=>new Epe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const SS=BigInt(0),CS=BigInt(1),Ape=BigInt(2);function Sp(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function c2(t){if(!Sp(t))throw new Error("Uint8Array expected")}function uy(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Spe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function dy(t){c2(t);let e="";for(let n=0;n<t.length;n++)e+=Spe[t[n]];return e}function kg(t){const e=t.toString(16);return e.length&1?"0"+e:e}function Ek(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?SS:BigInt("0x"+t)}const Hl={_0:48,_9:57,A:65,F:70,a:97,f:102};function PD(t){if(t>=Hl._0&&t<=Hl._9)return t-Hl._0;if(t>=Hl.A&&t<=Hl.F)return t-(Hl.A-10);if(t>=Hl.a&&t<=Hl.f)return t-(Hl.a-10)}function hy(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const r=new Uint8Array(n);for(let i=0,s=0;i<n;i++,s+=2){const o=PD(t.charCodeAt(s)),a=PD(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}r[i]=o*16+a}return r}function ip(t){return Ek(dy(t))}function Iv(t){return c2(t),Ek(dy(Uint8Array.from(t).reverse()))}function fy(t,e){return hy(t.toString(16).padStart(e*2,"0"))}function NS(t,e){return fy(t,e).reverse()}function Cpe(t){return hy(kg(t))}function So(t,e,n){let r;if(typeof e=="string")try{r=hy(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(Sp(e))r=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(t+" of length "+n+" expected, got "+i);return r}function Tv(...t){let e=0;for(let r=0;r<t.length;r++){const i=t[r];c2(i),e+=i.length}const n=new Uint8Array(e);for(let r=0,i=0;r<t.length;r++){const s=t[r];n.set(s,i),i+=s.length}return n}function Npe(t,e){if(t.length!==e.length)return!1;let n=0;for(let r=0;r<t.length;r++)n|=t[r]^e[r];return n===0}function _pe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}const h_=t=>typeof t=="bigint"&&SS<=t;function _S(t,e,n){return h_(t)&&h_(e)&&h_(n)&&e<=t&&t<n}function Cu(t,e,n,r){if(!_S(e,n,r))throw new Error("expected valid "+t+": "+n+" <= n < "+r+", got "+e)}function pV(t){let e;for(e=0;t>SS;t>>=CS,e+=1);return e}function Ppe(t,e){return t>>BigInt(e)&CS}function Ipe(t,e,n){return t|(n?CS:SS)<<BigInt(e)}const Ak=t=>(Ape<<BigInt(t-1))-CS,f_=t=>new Uint8Array(t),ID=t=>Uint8Array.from(t);function mV(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=f_(t),i=f_(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...u)=>n(i,r,...u),c=(u=f_())=>{i=a(ID([0]),u),r=a(),u.length!==0&&(i=a(ID([1]),u),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let u=0;const d=[];for(;u<e;){r=a();const h=r.slice();d.push(h),u+=r.length}return Tv(...d)};return(u,d)=>{o(),c(u);let h;for(;!(h=d(l()));)c();return o(),h}}const Tpe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Sp(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Hy(t,e,n={}){const r=(i,s,o)=>{const a=Tpe[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const kpe=()=>{throw new Error("not implemented")};function r4(t){const e=new WeakMap;return(n,...r)=>{const i=e.get(n);if(i!==void 0)return i;const s=t(n,...r);return e.set(n,s),s}}var Ope=Object.freeze({__proto__:null,isBytes:Sp,abytes:c2,abool:uy,bytesToHex:dy,numberToHexUnpadded:kg,hexToNumber:Ek,hexToBytes:hy,bytesToNumberBE:ip,bytesToNumberLE:Iv,numberToBytesBE:fy,numberToBytesLE:NS,numberToVarBytesBE:Cpe,ensureBytes:So,concatBytes:Tv,equalBytes:Npe,utf8ToBytes:_pe,inRange:_S,aInRange:Cu,bitLen:pV,bitGet:Ppe,bitSet:Ipe,bitMask:Ak,createHmacDrbg:mV,validateObject:Hy,notImplemented:kpe,memoized:r4});const wi=BigInt(0),jr=BigInt(1),hf=BigInt(2),Rpe=BigInt(3),i4=BigInt(4),TD=BigInt(5),kD=BigInt(8);function Ws(t,e){const n=t%e;return n>=wi?n:e+n}function gV(t,e,n){if(e<wi)throw new Error("invalid exponent, negatives unsupported");if(n<=wi)throw new Error("invalid modulus");if(n===jr)return wi;let r=jr;for(;e>wi;)e&jr&&(r=r*t%n),t=t*t%n,e>>=jr;return r}function za(t,e,n){let r=t;for(;e-- >wi;)r*=r,r%=n;return r}function s4(t,e){if(t===wi)throw new Error("invert: expected non-zero number");if(e<=wi)throw new Error("invert: expected positive modulus, got "+e);let n=Ws(t,e),r=e,i=wi,s=jr;for(;n!==wi;){const o=r/n,a=r%n,c=i-s*o;r=n,n=a,i=s,s=c}if(r!==jr)throw new Error("invert: does not exist");return Ws(i,e)}function Lpe(t){const e=(t-jr)/hf;let n,r,i;for(n=t-jr,r=0;n%hf===wi;n/=hf,r++);for(i=hf;i<t&&gV(i,e,t)!==t-jr;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(r===1){const o=(t+jr)/i4;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(n+jr)/hf;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=r,l=o.pow(o.mul(o.ONE,i),n),u=o.pow(a,s),d=o.pow(a,n);for(;!o.eql(d,o.ONE);){if(o.eql(d,o.ZERO))return o.ZERO;let h=1;for(let m=o.sqr(d);h<c&&!o.eql(m,o.ONE);h++)m=o.sqr(m);const f=o.pow(l,jr<<BigInt(c-h-1));l=o.sqr(f),u=o.mul(u,f),d=o.mul(d,l),c=h}return u}}function Dpe(t){if(t%i4===Rpe){const e=(t+jr)/i4;return function(n,r){const i=n.pow(r,e);if(!n.eql(n.sqr(i),r))throw new Error("Cannot find square root");return i}}if(t%kD===TD){const e=(t-TD)/kD;return function(n,r){const i=n.mul(r,hf),s=n.pow(i,e),o=n.mul(r,s),a=n.mul(n.mul(o,hf),s),c=n.mul(o,n.sub(a,n.ONE));if(!n.eql(n.sqr(c),r))throw new Error("Cannot find square root");return c}}return Lpe(t)}const jpe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Mpe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=jpe.reduce((r,i)=>(r[i]="function",r),e);return Hy(t,n)}function Bpe(t,e,n){if(n<wi)throw new Error("invalid exponent, negatives unsupported");if(n===wi)return t.ONE;if(n===jr)return e;let r=t.ONE,i=e;for(;n>wi;)n&jr&&(r=t.mul(r,i)),i=t.sqr(i),n>>=jr;return r}function Upe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function yV(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function wV(t,e,n=!1,r={}){if(t<=wi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=yV(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:n,BITS:i,BYTES:s,MASK:Ak(i),ZERO:wi,ONE:jr,create:c=>Ws(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return wi<=c&&c<t},is0:c=>c===wi,isOdd:c=>(c&jr)===jr,neg:c=>Ws(-c,t),eql:(c,l)=>c===l,sqr:c=>Ws(c*c,t),add:(c,l)=>Ws(c+l,t),sub:(c,l)=>Ws(c-l,t),mul:(c,l)=>Ws(c*l,t),pow:(c,l)=>Bpe(a,c,l),div:(c,l)=>Ws(c*s4(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>s4(c,t),sqrt:r.sqrt||(c=>(o||(o=Dpe(t)),o(a,c))),invertBatch:c=>Upe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?NS(c,s):fy(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return n?Iv(c):ip(c)}});return Object.freeze(a)}function vV(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function bV(t){const e=vV(t);return e+Math.ceil(e/2)}function Fpe(t,e,n=!1){const r=t.length,i=vV(e),s=bV(e);if(r<16||r<s||r>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+r);const o=n?Iv(t):ip(t),a=Ws(o,e-jr)+jr;return n?NS(a,i):fy(a,i)}const OD=BigInt(0),Y5=BigInt(1);function p_(t,e){const n=e.negate();return t?n:e}function xV(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function m_(t,e){xV(t,e);const n=Math.ceil(e/t)+1,r=2**(t-1);return{windows:n,windowSize:r}}function $pe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,r)=>{if(!(n instanceof e))throw new Error("invalid point at index "+r)})}function zpe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,r)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+r)})}const g_=new WeakMap,EV=new WeakMap;function y_(t){return EV.get(t)||1}function Vpe(t,e){return{constTimeNegate:p_,hasPrecomputes(n){return y_(n)!==1},unsafeLadder(n,r,i=t.ZERO){let s=n;for(;r>OD;)r&Y5&&(i=i.add(s)),s=s.double(),r>>=Y5;return i},precomputeWindow(n,r){const{windows:i,windowSize:s}=m_(r,e),o=[];let a=n,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(n,r,i){const{windows:s,windowSize:o}=m_(n,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**n-1),u=2**n,d=BigInt(n);for(let h=0;h<s;h++){const f=h*o;let m=Number(i&l);i>>=d,m>o&&(m-=u,i+=Y5);const g=f,E=f+Math.abs(m)-1,y=h%2!==0,w=m<0;m===0?c=c.add(p_(y,r[g])):a=a.add(p_(w,r[E]))}return{p:a,f:c}},wNAFUnsafe(n,r,i,s=t.ZERO){const{windows:o,windowSize:a}=m_(n,e),c=BigInt(2**n-1),l=2**n,u=BigInt(n);for(let d=0;d<o;d++){const h=d*a;if(i===OD)break;let f=Number(i&c);if(i>>=u,f>a&&(f-=l,i+=Y5),f===0)continue;let m=r[h+Math.abs(f)-1];f<0&&(m=m.negate()),s=s.add(m)}return s},getPrecomputes(n,r,i){let s=g_.get(r);return s||(s=this.precomputeWindow(r,n),n!==1&&g_.set(r,i(s))),s},wNAFCached(n,r,i){const s=y_(n);return this.wNAF(s,this.getPrecomputes(s,n,i),r)},wNAFCachedUnsafe(n,r,i,s){const o=y_(n);return o===1?this.unsafeLadder(n,r,s):this.wNAFUnsafe(o,this.getPrecomputes(o,n,i),r,s)},setWindowSize(n,r){xV(r,e),EV.set(n,r),g_.delete(n)}}}function Hpe(t,e,n,r){if($pe(n,t),zpe(r,e),n.length!==r.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=pV(BigInt(n.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let d=l;d>=0;d-=o){c.fill(i);for(let f=0;f<r.length;f++){const m=r[f],g=Number(m>>BigInt(d)&BigInt(a));c[g]=c[g].add(n[f])}let h=i;for(let f=c.length-1,m=i;f>0;f--)m=m.add(c[f]),h=h.add(m);if(u=u.add(h),d!==0)for(let f=0;f<o;f++)u=u.double()}return u}function AV(t){return Mpe(t.Fp),Hy(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...yV(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Mm=BigInt(0),w_=BigInt(1);function qpe(t){return Hy(t,{a:"bigint"},{montgomeryBits:"isSafeInteger",nByteLength:"isSafeInteger",adjustScalarBytes:"function",domain:"function",powPminus2:"function",Gu:"bigint"}),Object.freeze({...t})}function Wpe(t){const e=qpe(t),{P:n}=e,r=w=>Ws(w,n),i=e.montgomeryBits,s=Math.ceil(i/8),o=e.nByteLength,a=e.adjustScalarBytes||(w=>w),c=e.powPminus2||(w=>gV(w,n-BigInt(2),n));function l(w,x,C){const N=r(w*(x-C));return x=r(x-N),C=r(C+N),[x,C]}const u=(e.a-BigInt(2))/BigInt(4);function d(w,x){Cu("u",w,Mm,n),Cu("scalar",x,Mm,n);const C=x,N=w;let D=w_,O=Mm,P=w,L=w_,$=Mm,_;for(let K=BigInt(i-1);K>=Mm;K--){const V=C>>K&w_;$^=V,_=l($,D,P),D=_[0],P=_[1],_=l($,O,L),O=_[0],L=_[1],$=V;const T=D+O,k=r(T*T),W=D-O,B=r(W*W),z=k-B,Z=P+L,he=P-L,R=r(he*T),Y=r(Z*W),J=R+Y,ne=R-Y;P=r(J*J),L=r(N*r(ne*ne)),D=r(k*B),O=r(z*(k+r(u*z)))}_=l($,D,P),D=_[0],P=_[1],_=l($,O,L),O=_[0],L=_[1];const j=c(O);return r(D*j)}function h(w){return NS(r(w),s)}function f(w){const x=So("u coordinate",w,s);return o===32&&(x[31]&=127),Iv(x)}function m(w){const x=So("scalar",w),C=x.length;if(C!==s&&C!==o){let N=""+s+" or "+o;throw new Error("invalid scalar, expected "+N+" bytes, got "+C)}return Iv(a(x))}function g(w,x){const C=f(x),N=m(w),D=d(C,N);if(D===Mm)throw new Error("invalid private or public key received");return h(D)}const E=h(e.Gu);function y(w){return g(w,E)}return{scalarMult:g,scalarMultBase:y,getSharedSecret:(w,x)=>g(w,x),getPublicKey:w=>y(w),utils:{randomPrivateKey:()=>e.randomBytes(e.nByteLength)},GuBytes:E}}const o4=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949");BigInt(0);const Gpe=BigInt(1),RD=BigInt(2),Kpe=BigInt(3),Ype=BigInt(5);BigInt(8);function Jpe(t){const e=BigInt(10),n=BigInt(20),r=BigInt(40),i=BigInt(80),s=o4,o=t*t%s*t%s,a=za(o,RD,s)*o%s,c=za(a,Gpe,s)*t%s,l=za(c,Ype,s)*c%s,u=za(l,e,s)*l%s,d=za(u,n,s)*u%s,h=za(d,r,s)*d%s,f=za(h,i,s)*h%s,m=za(f,i,s)*h%s,g=za(m,e,s)*l%s;return{pow_p_5_8:za(g,RD,s)*t%s,b2:o}}function Qpe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const a4=Wpe({P:o4,a:BigInt(486662),montgomeryBits:255,nByteLength:32,Gu:BigInt(9),powPminus2:t=>{const e=o4,{pow_p_5_8:n,b2:r}=Jpe(t);return Ws(za(n,Kpe,e)*r,e)},adjustScalarBytes:Qpe,randomBytes:Vy});function LD(t){t.lowS!==void 0&&uy("lowS",t.lowS),t.prehash!==void 0&&uy("prehash",t.prehash)}function Zpe(t){const e=AV(t);Hy(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("invalid endomorphism, can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("invalid endomorphism, expected beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Xpe,hexToBytes:eme}=Ope;class tme extends Error{constructor(e=""){super(e)}}const nu={Err:tme,_tlv:{encode:(t,e)=>{const{Err:n}=nu;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const r=e.length/2,i=kg(r);if(i.length/2&128)throw new n("tlv.encode: long form length too big");const s=r>127?kg(i.length/2|128):"";return kg(t)+s+i+e},decode(t,e){const{Err:n}=nu;let r=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[r++]!==t)throw new n("tlv.decode: wrong tlv");const i=e[r++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const l=e.subarray(r,r+c);if(l.length!==c)throw new n("tlv.decode: length bytes not complete");if(l[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(r+=c,o<128)throw new n("tlv.decode(long): not minimal encoding")}const a=e.subarray(r,r+o);if(a.length!==o)throw new n("tlv.decode: wrong value length");return{v:a,l:e.subarray(r+o)}}},_int:{encode(t){const{Err:e}=nu;if(t<gu)throw new e("integer: negative integers are not allowed");let n=kg(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=nu;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Xpe(t)}},toSig(t){const{Err:e,_int:n,_tlv:r}=nu,i=typeof t=="string"?eme(t):t;c2(i);const{v:s,l:o}=r.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=r.decode(2,s),{v:l,l:u}=r.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(a),s:n.decode(l)}},hexFromSig(t){const{_tlv:e,_int:n}=nu,r=e.encode(2,n.encode(t.r)),i=e.encode(2,n.encode(t.s)),s=r+i;return e.encode(48,s)}},gu=BigInt(0),di=BigInt(1);BigInt(2);const DD=BigInt(3);BigInt(4);function nme(t){const e=Zpe(t),{Fp:n}=e,r=wV(e.n,e.nBitLength),i=e.toBytes||((g,E,y)=>{const w=E.toAffine();return Tv(Uint8Array.from([4]),n.toBytes(w.x),n.toBytes(w.y))}),s=e.fromBytes||(g=>{const E=g.subarray(1),y=n.fromBytes(E.subarray(0,n.BYTES)),w=n.fromBytes(E.subarray(n.BYTES,2*n.BYTES));return{x:y,y:w}});function o(g){const{a:E,b:y}=e,w=n.sqr(g),x=n.mul(w,g);return n.add(n.add(x,n.mul(g,E)),y)}if(!n.eql(n.sqr(e.Gy),o(e.Gx)))throw new Error("bad generator point: equation left != right");function a(g){return _S(g,di,e.n)}function c(g){const{allowedPrivateKeyLengths:E,nByteLength:y,wrapPrivateKey:w,n:x}=e;if(E&&typeof g!="bigint"){if(Sp(g)&&(g=dy(g)),typeof g!="string"||!E.includes(g.length))throw new Error("invalid private key");g=g.padStart(y*2,"0")}let C;try{C=typeof g=="bigint"?g:ip(So("private key",g,y))}catch{throw new Error("invalid private key, expected hex or "+y+" bytes, got "+typeof g)}return w&&(C=Ws(C,x)),Cu("private key",C,di,x),C}function l(g){if(!(g instanceof h))throw new Error("ProjectivePoint expected")}const u=r4((g,E)=>{const{px:y,py:w,pz:x}=g;if(n.eql(x,n.ONE))return{x:y,y:w};const C=g.is0();E==null&&(E=C?n.ONE:n.inv(x));const N=n.mul(y,E),D=n.mul(w,E),O=n.mul(x,E);if(C)return{x:n.ZERO,y:n.ZERO};if(!n.eql(O,n.ONE))throw new Error("invZ was invalid");return{x:N,y:D}}),d=r4(g=>{if(g.is0()){if(e.allowInfinityPoint&&!n.is0(g.py))return;throw new Error("bad point: ZERO")}const{x:E,y}=g.toAffine();if(!n.isValid(E)||!n.isValid(y))throw new Error("bad point: x or y not FE");const w=n.sqr(y),x=o(E);if(!n.eql(w,x))throw new Error("bad point: equation left != right");if(!g.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class h{constructor(E,y,w){if(this.px=E,this.py=y,this.pz=w,E==null||!n.isValid(E))throw new Error("x required");if(y==null||!n.isValid(y))throw new Error("y required");if(w==null||!n.isValid(w))throw new Error("z required");Object.freeze(this)}static fromAffine(E){const{x:y,y:w}=E||{};if(!E||!n.isValid(y)||!n.isValid(w))throw new Error("invalid affine point");if(E instanceof h)throw new Error("projective point not allowed");const x=C=>n.eql(C,n.ZERO);return x(y)&&x(w)?h.ZERO:new h(y,w,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(E){const y=n.invertBatch(E.map(w=>w.pz));return E.map((w,x)=>w.toAffine(y[x])).map(h.fromAffine)}static fromHex(E){const y=h.fromAffine(s(So("pointHex",E)));return y.assertValidity(),y}static fromPrivateKey(E){return h.BASE.multiply(c(E))}static msm(E,y){return Hpe(h,r,E,y)}_setWindowSize(E){m.setWindowSize(this,E)}assertValidity(){d(this)}hasEvenY(){const{y:E}=this.toAffine();if(n.isOdd)return!n.isOdd(E);throw new Error("Field doesn't support isOdd")}equals(E){l(E);const{px:y,py:w,pz:x}=this,{px:C,py:N,pz:D}=E,O=n.eql(n.mul(y,D),n.mul(C,x)),P=n.eql(n.mul(w,D),n.mul(N,x));return O&&P}negate(){return new h(this.px,n.neg(this.py),this.pz)}double(){const{a:E,b:y}=e,w=n.mul(y,DD),{px:x,py:C,pz:N}=this;let D=n.ZERO,O=n.ZERO,P=n.ZERO,L=n.mul(x,x),$=n.mul(C,C),_=n.mul(N,N),j=n.mul(x,C);return j=n.add(j,j),P=n.mul(x,N),P=n.add(P,P),D=n.mul(E,P),O=n.mul(w,_),O=n.add(D,O),D=n.sub($,O),O=n.add($,O),O=n.mul(D,O),D=n.mul(j,D),P=n.mul(w,P),_=n.mul(E,_),j=n.sub(L,_),j=n.mul(E,j),j=n.add(j,P),P=n.add(L,L),L=n.add(P,L),L=n.add(L,_),L=n.mul(L,j),O=n.add(O,L),_=n.mul(C,N),_=n.add(_,_),L=n.mul(_,j),D=n.sub(D,L),P=n.mul(_,$),P=n.add(P,P),P=n.add(P,P),new h(D,O,P)}add(E){l(E);const{px:y,py:w,pz:x}=this,{px:C,py:N,pz:D}=E;let O=n.ZERO,P=n.ZERO,L=n.ZERO;const $=e.a,_=n.mul(e.b,DD);let j=n.mul(y,C),K=n.mul(w,N),V=n.mul(x,D),T=n.add(y,w),k=n.add(C,N);T=n.mul(T,k),k=n.add(j,K),T=n.sub(T,k),k=n.add(y,x);let W=n.add(C,D);return k=n.mul(k,W),W=n.add(j,V),k=n.sub(k,W),W=n.add(w,x),O=n.add(N,D),W=n.mul(W,O),O=n.add(K,V),W=n.sub(W,O),L=n.mul($,k),O=n.mul(_,V),L=n.add(O,L),O=n.sub(K,L),L=n.add(K,L),P=n.mul(O,L),K=n.add(j,j),K=n.add(K,j),V=n.mul($,V),k=n.mul(_,k),K=n.add(K,V),V=n.sub(j,V),V=n.mul($,V),k=n.add(k,V),j=n.mul(K,k),P=n.add(P,j),j=n.mul(W,k),O=n.mul(T,O),O=n.sub(O,j),j=n.mul(T,K),L=n.mul(W,L),L=n.add(L,j),new h(O,P,L)}subtract(E){return this.add(E.negate())}is0(){return this.equals(h.ZERO)}wNAF(E){return m.wNAFCached(this,E,h.normalizeZ)}multiplyUnsafe(E){const{endo:y,n:w}=e;Cu("scalar",E,gu,w);const x=h.ZERO;if(E===gu)return x;if(this.is0()||E===di)return this;if(!y||m.hasPrecomputes(this))return m.wNAFCachedUnsafe(this,E,h.normalizeZ);let{k1neg:C,k1:N,k2neg:D,k2:O}=y.splitScalar(E),P=x,L=x,$=this;for(;N>gu||O>gu;)N&di&&(P=P.add($)),O&di&&(L=L.add($)),$=$.double(),N>>=di,O>>=di;return C&&(P=P.negate()),D&&(L=L.negate()),L=new h(n.mul(L.px,y.beta),L.py,L.pz),P.add(L)}multiply(E){const{endo:y,n:w}=e;Cu("scalar",E,di,w);let x,C;if(y){const{k1neg:N,k1:D,k2neg:O,k2:P}=y.splitScalar(E);let{p:L,f:$}=this.wNAF(D),{p:_,f:j}=this.wNAF(P);L=m.constTimeNegate(N,L),_=m.constTimeNegate(O,_),_=new h(n.mul(_.px,y.beta),_.py,_.pz),x=L.add(_),C=$.add(j)}else{const{p:N,f:D}=this.wNAF(E);x=N,C=D}return h.normalizeZ([x,C])[0]}multiplyAndAddUnsafe(E,y,w){const x=h.BASE,C=(D,O)=>O===gu||O===di||!D.equals(x)?D.multiplyUnsafe(O):D.multiply(O),N=C(this,y).add(C(E,w));return N.is0()?void 0:N}toAffine(E){return u(this,E)}isTorsionFree(){const{h:E,isTorsionFree:y}=e;if(E===di)return!0;if(y)return y(h,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:E,clearCofactor:y}=e;return E===di?this:y?y(h,this):this.multiplyUnsafe(e.h)}toRawBytes(E=!0){return uy("isCompressed",E),this.assertValidity(),i(h,this,E)}toHex(E=!0){return uy("isCompressed",E),dy(this.toRawBytes(E))}}h.BASE=new h(e.Gx,e.Gy,n.ONE),h.ZERO=new h(n.ZERO,n.ONE,n.ZERO);const f=e.nBitLength,m=Vpe(h,e.endo?Math.ceil(f/2):f);return{CURVE:e,ProjectivePoint:h,normPrivateKeyToScalar:c,weierstrassEquation:o,isWithinCurveOrder:a}}function rme(t){const e=AV(t);return Hy(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function ime(t){const e=rme(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(V){return Ws(V,r)}function a(V){return s4(V,r)}const{ProjectivePoint:c,normPrivateKeyToScalar:l,weierstrassEquation:u,isWithinCurveOrder:d}=nme({...e,toBytes(V,T,k){const W=T.toAffine(),B=n.toBytes(W.x),z=Tv;return uy("isCompressed",k),k?z(Uint8Array.from([T.hasEvenY()?2:3]),B):z(Uint8Array.from([4]),B,n.toBytes(W.y))},fromBytes(V){const T=V.length,k=V[0],W=V.subarray(1);if(T===i&&(k===2||k===3)){const B=ip(W);if(!_S(B,di,n.ORDER))throw new Error("Point is not on curve");const z=u(B);let Z;try{Z=n.sqrt(z)}catch(R){const Y=R instanceof Error?": "+R.message:"";throw new Error("Point is not on curve"+Y)}const he=(Z&di)===di;return(k&1)===1!==he&&(Z=n.neg(Z)),{x:B,y:Z}}else if(T===s&&k===4){const B=n.fromBytes(W.subarray(0,n.BYTES)),z=n.fromBytes(W.subarray(n.BYTES,2*n.BYTES));return{x:B,y:z}}else{const B=i,z=s;throw new Error("invalid Point, expected length of "+B+", or uncompressed "+z+", got "+T)}}}),h=V=>dy(fy(V,e.nByteLength));function f(V){const T=r>>di;return V>T}function m(V){return f(V)?o(-V):V}const g=(V,T,k)=>ip(V.slice(T,k));class E{constructor(T,k,W){this.r=T,this.s=k,this.recovery=W,this.assertValidity()}static fromCompact(T){const k=e.nByteLength;return T=So("compactSignature",T,k*2),new E(g(T,0,k),g(T,k,2*k))}static fromDER(T){const{r:k,s:W}=nu.toSig(So("DER",T));return new E(k,W)}assertValidity(){Cu("r",this.r,di,r),Cu("s",this.s,di,r)}addRecoveryBit(T){return new E(this.r,this.s,T)}recoverPublicKey(T){const{r:k,s:W,recovery:B}=this,z=D(So("msgHash",T));if(B==null||![0,1,2,3].includes(B))throw new Error("recovery id invalid");const Z=B===2||B===3?k+e.n:k;if(Z>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const he=B&1?"03":"02",R=c.fromHex(he+h(Z)),Y=a(Z),J=o(-z*Y),ne=o(W*Y),se=c.BASE.multiplyAndAddUnsafe(R,J,ne);if(!se)throw new Error("point at infinify");return se.assertValidity(),se}hasHighS(){return f(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,o(-this.s),this.recovery):this}toDERRawBytes(){return hy(this.toDERHex())}toDERHex(){return nu.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return hy(this.toCompactHex())}toCompactHex(){return h(this.r)+h(this.s)}}const y={isValidPrivateKey(V){try{return l(V),!0}catch{return!1}},normPrivateKeyToScalar:l,randomPrivateKey:()=>{const V=bV(e.n);return Fpe(e.randomBytes(V),e.n)},precompute(V=8,T=c.BASE){return T._setWindowSize(V),T.multiply(BigInt(3)),T}};function w(V,T=!0){return c.fromPrivateKey(V).toRawBytes(T)}function x(V){const T=Sp(V),k=typeof V=="string",W=(T||k)&&V.length;return T?W===i||W===s:k?W===2*i||W===2*s:V instanceof c}function C(V,T,k=!0){if(x(V))throw new Error("first arg must be private key");if(!x(T))throw new Error("second arg must be public key");return c.fromHex(T).multiply(l(V)).toRawBytes(k)}const N=e.bits2int||function(V){if(V.length>8192)throw new Error("input is too large");const T=ip(V),k=V.length*8-e.nBitLength;return k>0?T>>BigInt(k):T},D=e.bits2int_modN||function(V){return o(N(V))},O=Ak(e.nBitLength);function P(V){return Cu("num < 2^"+e.nBitLength,V,gu,O),fy(V,e.nByteLength)}function L(V,T,k=$){if(["recovered","canonical"].some(ye=>ye in k))throw new Error("sign() legacy options not supported");const{hash:W,randomBytes:B}=e;let{lowS:z,prehash:Z,extraEntropy:he}=k;z==null&&(z=!0),V=So("msgHash",V),LD(k),Z&&(V=So("prehashed msgHash",W(V)));const R=D(V),Y=l(T),J=[P(Y),P(R)];if(he!=null&&he!==!1){const ye=he===!0?B(n.BYTES):he;J.push(So("extraEntropy",ye))}const ne=Tv(...J),se=R;function de(ye){const me=N(ye);if(!d(me))return;const Te=a(me),Pe=c.BASE.multiply(me).toAffine(),De=o(Pe.x);if(De===gu)return;const je=o(Te*o(se+De*Y));if(je===gu)return;let et=(Pe.x===De?0:2)|Number(Pe.y&di),Ae=je;return z&&f(je)&&(Ae=m(je),et^=1),new E(De,Ae,et)}return{seed:ne,k2sig:de}}const $={lowS:e.lowS,prehash:!1},_={lowS:e.lowS,prehash:!1};function j(V,T,k=$){const{seed:W,k2sig:B}=L(V,T,k),z=e;return mV(z.hash.outputLen,z.nByteLength,z.hmac)(W,B)}c.BASE._setWindowSize(8);function K(V,T,k,W=_){var je;const B=V;T=So("msgHash",T),k=So("publicKey",k);const{lowS:z,prehash:Z,format:he}=W;if(LD(W),"strict"in W)throw new Error("options.strict was renamed to lowS");if(he!==void 0&&he!=="compact"&&he!=="der")throw new Error("format must be compact or der");const R=typeof B=="string"||Sp(B),Y=!R&&!he&&typeof B=="object"&&B!==null&&typeof B.r=="bigint"&&typeof B.s=="bigint";if(!R&&!Y)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let J,ne;try{if(Y&&(J=new E(B.r,B.s)),R){try{he!=="compact"&&(J=E.fromDER(B))}catch(et){if(!(et instanceof nu.Err))throw et}!J&&he!=="der"&&(J=E.fromCompact(B))}ne=c.fromHex(k)}catch{return!1}if(!J||z&&J.hasHighS())return!1;Z&&(T=e.hash(T));const{r:se,s:de}=J,ye=D(T),me=a(de),Te=o(ye*me),Pe=o(se*me),De=(je=c.BASE.multiplyAndAddUnsafe(ne,Te,Pe))==null?void 0:je.toAffine();return De?o(De.x)===se:!1}return{CURVE:e,getPublicKey:w,getSharedSecret:C,sign:j,verify:K,ProjectivePoint:c,Signature:E,utils:y}}function sme(t){return{hash:t,hmac:(e,...n)=>AS(t,e,lfe(...n)),randomBytes:Vy}}function ome(t,e){const n=r=>ime({...t,...sme(r)});return{...n(e),create:n}}const SV=wV(BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff")),ame=SV.create(BigInt("-3")),cme=BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),lme=ome({a:ame,b:cme,Fp:SV,n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5"),h:BigInt(1),lowS:!1},a2),CV="base10",_s="base16",sc="base64pad",Sd="base64url",l2="utf8",NV=0,Nu=1,u2=2,ume=0,jD=1,Uw=12,Sk=32;function dme(){const t=a4.utils.randomPrivateKey(),e=a4.getPublicKey(t);return{privateKey:eo(t,_s),publicKey:eo(e,_s)}}function c4(){const t=Vy(Sk);return eo(t,_s)}function hme(t,e){const n=a4.getSharedSecret(ya(t,_s),ya(e,_s)),r=gpe(a2,n,void 0,void 0,Sk);return eo(r,_s)}function Vx(t){const e=a2(ya(t,_s));return eo(e,_s)}function Xc(t){const e=a2(ya(t,l2));return eo(e,_s)}function _V(t){return ya(`${t}`,CV)}function Cp(t){return Number(eo(t,CV))}function PV(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function IV(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return e+"=".repeat(n)}function fme(t){const e=_V(typeof t.type<"u"?t.type:NV);if(Cp(e)===Nu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const n=typeof t.senderPublicKey<"u"?ya(t.senderPublicKey,_s):void 0,r=typeof t.iv<"u"?ya(t.iv,_s):Vy(Uw),i=ya(t.symKey,_s),s=hV(i,r).encrypt(ya(t.message,l2)),o=TV({type:e,sealed:s,iv:r,senderPublicKey:n});return t.encoding===Sd?PV(o):o}function pme(t){const e=ya(t.symKey,_s),{sealed:n,iv:r}=kv({encoded:t.encoded,encoding:t.encoding}),i=hV(e,r).decrypt(n);if(i===null)throw new Error("Failed to decrypt");return eo(i,l2)}function mme(t,e){const n=_V(u2),r=Vy(Uw),i=ya(t,l2),s=TV({type:n,sealed:i,iv:r});return e===Sd?PV(s):s}function gme(t,e){const{sealed:n}=kv({encoded:t,encoding:e});return eo(n,l2)}function TV(t){if(Cp(t.type)===u2)return eo(Bw([t.type,t.sealed]),sc);if(Cp(t.type)===Nu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return eo(Bw([t.type,t.senderPublicKey,t.iv,t.sealed]),sc)}return eo(Bw([t.type,t.iv,t.sealed]),sc)}function kv(t){const e=(t.encoding||sc)===Sd?IV(t.encoded):t.encoded,n=ya(e,sc),r=n.slice(ume,jD),i=jD;if(Cp(r)===Nu){const c=i+Sk,l=c+Uw,u=n.slice(i,c),d=n.slice(c,l),h=n.slice(l);return{type:r,sealed:h,iv:d,senderPublicKey:u}}if(Cp(r)===u2){const c=n.slice(i),l=Vy(Uw);return{type:r,sealed:c,iv:l}}const s=i+Uw,o=n.slice(i,s),a=n.slice(s);return{type:r,sealed:a,iv:o}}function yme(t,e){const n=kv({encoded:t,encoding:e==null?void 0:e.encoding});return kV({type:Cp(n.type),senderPublicKey:typeof n.senderPublicKey<"u"?eo(n.senderPublicKey,_s):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function kV(t){const e=(t==null?void 0:t.type)||NV;if(e===Nu){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function MD(t){return t.type===Nu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function BD(t){return t.type===u2}function wme(t){const e=Buffer.from(t.x,"base64"),n=Buffer.from(t.y,"base64");return Bw([new Uint8Array([4]),e,n])}function vme(t,e){const[n,r,i]=t.split("."),s=Buffer.from(IV(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${n}.${r}`,l=a2(c),u=wme(e);if(!lme.verify(Bw([o,a]),l,u))throw new Error("Invalid signature");return GP(t).payload}const bme="irn";function iA(t){return(t==null?void 0:t.relay)||{protocol:bme}}function dw(t){const e=Che[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function xme(t,e="-"){const n={},r="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(r)){const s=i.replace(r,""),o=t[i];n[s]=o}}),n}function UD(t){if(!t.includes("wc:")){const l=Xz(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),n=t.indexOf("?")!==-1?t.indexOf("?"):void 0,r=t.substring(0,e),i=t.substring(e+1,n).split("@"),s=typeof n<"u"?t.substring(n):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:r,topic:Eme(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:xme(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Eme(t){return t.startsWith("//")?t.substring(2):t}function Ame(t,e="-"){const n="relay",r={};return Object.keys(t).forEach(i=>{const s=i,o=n+e+s;t[s]&&(r[o]=t[s])}),r}function FD(t){const e=new URLSearchParams,n=Ame(t.relay);Object.keys(n).sort().forEach(i=>{e.set(i,n[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const r=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${r}`}function J5(t,e,n){return`${t}?wc_ev=${n}&topic=${e}`}function qy(t){const e=[];return t.forEach(n=>{const[r,i]=n.split(":");e.push(`${r}:${i}`)}),e}function Sme(t){const e=[];return Object.values(t).forEach(n=>{e.push(...qy(n.accounts))}),e}function Cme(t,e){const n=[];return Object.values(t).forEach(r=>{qy(r.accounts).includes(e)&&n.push(...r.methods)}),n}function Nme(t,e){const n=[];return Object.values(t).forEach(r=>{qy(r.accounts).includes(e)&&n.push(...r.events)}),n}function Ck(t){return t.includes(":")}function hw(t){return Ck(t)?t.split(":")[0]:t}function _me(t){const e={};return t==null||t.forEach(n=>{var r;const[i,s]=n.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(n),(r=e[i].chains)==null||r.push(`${i}:${s}`)}),e}function $D(t,e){e=e.map(r=>r.replace("did:pkh:",""));const n=_me(e);for(const[r,i]of Object.entries(n))i.methods?i.methods=$x(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return n}const Pme={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Ime={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function Ke(t,e){const{message:n,code:r}=Ime[t];return{message:e?`${n} ${e}`:n,code:r}}function Ln(t,e){const{message:n,code:r}=Pme[t];return{message:e?`${n} ${e}`:n,code:r}}function dh(t,e){return!!Array.isArray(t)}function Ov(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function ns(t){return typeof t>"u"}function Wr(t,e){return e&&ns(t)?!0:typeof t=="string"&&!!t.trim().length}function Nk(t,e){return typeof t=="number"&&!isNaN(t)}function Tme(t,e){const{requiredNamespaces:n}=e,r=Object.keys(t.namespaces),i=Object.keys(n);let s=!0;return Af(i,r)?(r.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=qy(a),d=n[o];(!Af(Kz(o,d),u)||!Af(d.methods,c)||!Af(d.events,l))&&(s=!1)}),s):!1}function sA(t){return Wr(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function kme(t){if(Wr(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const n=e[0]+":"+e[1];return!!e[2]&&sA(n)}}return!1}function Ome(t){function e(n){try{return typeof new URL(n)<"u"}catch{return!1}}try{if(Wr(t,!1)){if(e(t))return!0;const n=Xz(t);return e(n)}}catch{}return!1}function Rme(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function Lme(t){return t==null?void 0:t.topic}function Dme(t,e){let n=null;return Wr(t==null?void 0:t.publicKey,!1)||(n=Ke("MISSING_OR_INVALID",`${e} controller public key should be a string`)),n}function zD(t){let e=!0;return dh(t)?t.length&&(e=t.every(n=>Wr(n,!1))):e=!1,e}function jme(t,e,n){let r=null;return dh(e)&&e.length?e.forEach(i=>{r||sA(i)||(r=Ln("UNSUPPORTED_CHAINS",`${n}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):sA(t)||(r=Ln("UNSUPPORTED_CHAINS",`${n}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),r}function Mme(t,e,n){let r=null;return Object.entries(t).forEach(([i,s])=>{if(r)return;const o=jme(i,Kz(i,s),`${e} ${n}`);o&&(r=o)}),r}function Bme(t,e){let n=null;return dh(t)?t.forEach(r=>{n||kme(r)||(n=Ln("UNSUPPORTED_ACCOUNTS",`${e}, account ${r} should be a string and conform to "namespace:chainId:address" format`))}):n=Ln("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),n}function Ume(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Bme(r==null?void 0:r.accounts,`${e} namespace`);i&&(n=i)}),n}function Fme(t,e){let n=null;return zD(t==null?void 0:t.methods)?zD(t==null?void 0:t.events)||(n=Ln("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):n=Ln("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),n}function OV(t,e){let n=null;return Object.values(t).forEach(r=>{if(n)return;const i=Fme(r,`${e}, namespace`);i&&(n=i)}),n}function $me(t,e,n){let r=null;if(t&&Ov(t)){const i=OV(t,e);i&&(r=i);const s=Mme(t,e,n);s&&(r=s)}else r=Ke("MISSING_OR_INVALID",`${e}, ${n} should be an object with data`);return r}function v_(t,e){let n=null;if(t&&Ov(t)){const r=OV(t,e);r&&(n=r);const i=Ume(t,e);i&&(n=i)}else n=Ke("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return n}function RV(t){return Wr(t.protocol,!0)}function zme(t,e){let n=!1;return t?t&&dh(t)&&t.length&&t.forEach(r=>{n=RV(r)}):n=!0,n}function Vme(t){return typeof t=="number"}function Vs(t){return typeof t<"u"&&typeof t!==null}function Hme(t){return!(!t||typeof t!="object"||!t.code||!Nk(t.code)||!t.message||!Wr(t.message,!1))}function qme(t){return!(ns(t)||!Wr(t.method,!1))}function Wme(t){return!(ns(t)||ns(t.result)&&ns(t.error)||!Nk(t.id)||!Wr(t.jsonrpc,!1))}function Gme(t){return!(ns(t)||!Wr(t.name,!1))}function VD(t,e){return!(!sA(e)||!Sme(t).includes(e))}function Kme(t,e,n){return Wr(n,!1)?Cme(t,e).includes(n):!1}function Yme(t,e,n){return Wr(n,!1)?Nme(t,e).includes(n):!1}function HD(t,e,n){let r=null;const i=Jme(t),s=Qme(e),o=Object.keys(i),a=Object.keys(s),c=qD(Object.keys(t)),l=qD(Object.keys(e)),u=c.filter(d=>!l.includes(d));return u.length&&(r=Ke("NON_CONFORMING_NAMESPACES",`${n} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),Af(o,a)||(r=Ke("NON_CONFORMING_NAMESPACES",`${n} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(d=>{if(!d.includes(":")||r)return;const h=qy(e[d].accounts);h.includes(d)||(r=Ke("NON_CONFORMING_NAMESPACES",`${n} namespaces accounts don't satisfy namespace accounts for ${d}
        Required: ${d}
        Approved: ${h.toString()}`))}),o.forEach(d=>{r||(Af(i[d].methods,s[d].methods)?Af(i[d].events,s[d].events)||(r=Ke("NON_CONFORMING_NAMESPACES",`${n} namespaces events don't satisfy namespace events for ${d}`)):r=Ke("NON_CONFORMING_NAMESPACES",`${n} namespaces methods don't satisfy namespace methods for ${d}`))}),r}function Jme(t){const e={};return Object.keys(t).forEach(n=>{var r;n.includes(":")?e[n]=t[n]:(r=t[n].chains)==null||r.forEach(i=>{e[i]={methods:t[n].methods,events:t[n].events}})}),e}function qD(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function Qme(t){const e={};return Object.keys(t).forEach(n=>{if(n.includes(":"))e[n]=t[n];else{const r=qy(t[n].accounts);r==null||r.forEach(i=>{e[i]={accounts:t[n].accounts.filter(s=>s.includes(`${i}:`)),methods:t[n].methods,events:t[n].events}})}}),e}function Zme(t,e){return Nk(t)&&t<=e.max&&t>=e.min}function WD(){const t=s2();return new Promise(e=>{switch(t){case To.browser:e(Xme());break;case To.reactNative:e(ege());break;case To.node:e(tge());break;default:e(!0)}})}function Xme(){return i2()&&(navigator==null?void 0:navigator.onLine)}async function ege(){if(Oh()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function tge(){return!0}function nge(t){switch(s2()){case To.browser:rge(t);break;case To.reactNative:ige(t);break}}function rge(t){!Oh()&&i2()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function ige(t){Oh()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}const b_={};class q1{static get(e){return b_[e]}static set(e,n){b_[e]=n}static delete(e){delete b_[e]}}const sge="PARSE_ERROR",oge="INVALID_REQUEST",age="METHOD_NOT_FOUND",cge="INVALID_PARAMS",LV="INTERNAL_ERROR",_k="SERVER_ERROR",lge=[-32700,-32600,-32601,-32602,-32603],Fw={[sge]:{code:-32700,message:"Parse error"},[oge]:{code:-32600,message:"Invalid Request"},[age]:{code:-32601,message:"Method not found"},[cge]:{code:-32602,message:"Invalid params"},[LV]:{code:-32603,message:"Internal error"},[_k]:{code:-32e3,message:"Server error"}},DV=_k;function uge(t){return lge.includes(t)}function GD(t){return Object.keys(Fw).includes(t)?Fw[t]:Fw[DV]}function dge(t){const e=Object.values(Fw).find(n=>n.code===t);return e||Fw[DV]}function jV(t,e,n){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${n} RPC url at ${e}`):t}var MV={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var l4=function(t,e){return l4=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,r){n.__proto__=r}||function(n,r){for(var i in r)r.hasOwnProperty(i)&&(n[i]=r[i])},l4(t,e)};function hge(t,e){l4(t,e);function n(){this.constructor=t}t.prototype=e===null?Object.create(e):(n.prototype=e.prototype,new n)}var u4=function(){return u4=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},u4.apply(this,arguments)};function fge(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function pge(t,e,n,r){var i=arguments.length,s=i<3?e:r===null?r=Object.getOwnPropertyDescriptor(e,n):r,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,n,r);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,n,s):o(e,n))||s);return i>3&&s&&Object.defineProperty(e,n,s),s}function mge(t,e){return function(n,r){e(n,r,t)}}function gge(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function yge(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}function wge(t,e){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(r)throw new TypeError("Generator is already executing.");for(;n;)try{if(r=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return n.label++,{value:l[1],done:!1};case 5:n.label++,i=l[1],l=[0];continue;case 7:l=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){n=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){n.label=l[1];break}if(l[0]===6&&n.label<s[1]){n.label=s[1],s=l;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(l);break}s[2]&&n.ops.pop(),n.trys.pop();continue}l=e.call(t,n)}catch(u){l=[6,u],i=0}finally{r=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function vge(t,e,n,r){r===void 0&&(r=n),t[r]=e[n]}function bge(t,e){for(var n in t)n!=="default"&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function d4(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function BV(t,e){var n=typeof Symbol=="function"&&t[Symbol.iterator];if(!n)return t;var r=n.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function xge(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(BV(arguments[e]));return t}function Ege(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)r[i]=s[o];return r}function Rv(t){return this instanceof Rv?(this.v=t,this):new Rv(t)}function Age(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){r[h]&&(i[h]=function(f){return new Promise(function(m,g){s.push([h,f,m,g])>1||a(h,f)})})}function a(h,f){try{c(r[h](f))}catch(m){d(s[0][3],m)}}function c(h){h.value instanceof Rv?Promise.resolve(h.value.v).then(l,u):d(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function d(h,f){h(f),s.shift(),s.length&&a(s[0][0],s[0][1])}}function Sge(t){var e,n;return e={},r("next"),r("throw",function(i){throw i}),r("return"),e[Symbol.iterator]=function(){return this},e;function r(i,s){e[i]=t[i]?function(o){return(n=!n)?{value:Rv(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function Cge(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof d4=="function"?d4(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function Nge(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function _ge(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function Pge(t){return t&&t.__esModule?t:{default:t}}function Ige(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function Tge(t,e,n){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,n),n}const kge=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return u4},__asyncDelegator:Sge,__asyncGenerator:Age,__asyncValues:Cge,__await:Rv,__awaiter:yge,__classPrivateFieldGet:Ige,__classPrivateFieldSet:Tge,__createBinding:vge,__decorate:pge,__exportStar:bge,__extends:hge,__generator:wge,__importDefault:Pge,__importStar:_ge,__makeTemplateObject:Nge,__metadata:gge,__param:mge,__read:BV,__rest:fge,__spread:xge,__spreadArrays:Ege,__values:d4},Symbol.toStringTag,{value:"Module"})),Oge=U7(kge);var ql={},KD;function Rge(){if(KD)return ql;KD=1,Object.defineProperty(ql,"__esModule",{value:!0}),ql.isBrowserCryptoAvailable=ql.getSubtleCrypto=ql.getBrowerCrypto=void 0;function t(){return(Zc==null?void 0:Zc.crypto)||(Zc==null?void 0:Zc.msCrypto)||{}}ql.getBrowerCrypto=t;function e(){const r=t();return r.subtle||r.webkitSubtle}ql.getSubtleCrypto=e;function n(){return!!t()&&!!e()}return ql.isBrowserCryptoAvailable=n,ql}var Wl={},YD;function Lge(){if(YD)return Wl;YD=1,Object.defineProperty(Wl,"__esModule",{value:!0}),Wl.isBrowser=Wl.isNode=Wl.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Wl.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Wl.isNode=e;function n(){return!t()&&!e()}return Wl.isBrowser=n,Wl}(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=Oge;e.__exportStar(Rge(),t),e.__exportStar(Lge(),t)})(MV);function Fc(t=3){const e=Date.now()*Math.pow(10,t),n=Math.floor(Math.random()*Math.pow(10,t));return e+n}function Sf(t=6){return BigInt(Fc(t))}function Xd(t,e,n){return{id:n||Fc(),jsonrpc:"2.0",method:t,params:e}}function PS(t,e){return{id:t,jsonrpc:"2.0",result:e}}function IS(t,e,n){return{id:t,jsonrpc:"2.0",error:Dge(e)}}function Dge(t,e){return typeof t>"u"?GD(LV):(typeof t=="string"&&(t=Object.assign(Object.assign({},GD(_k)),{message:t})),uge(t.code)&&(t=dge(t.code)),t)}let jge=class{},Mge=class extends jge{constructor(){super()}},Bge=class extends Mge{constructor(e){super()}};const Uge="^https?:",Fge="^wss?:";function $ge(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function UV(t,e){const n=$ge(t);return typeof n>"u"?!1:new RegExp(e).test(n)}function JD(t){return UV(t,Uge)}function QD(t){return UV(t,Fge)}function zge(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function FV(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function Pk(t){return FV(t)&&"method"in t}function TS(t){return FV(t)&&($c(t)||da(t))}function $c(t){return"result"in t}function da(t){return"error"in t}let Ea=class extends Bge{constructor(e){super(e),this.events=new xa.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async request(e,n){return this.requestStrict(Xd(e.method,e.params||[],e.id||Sf().toString()),n)}async requestStrict(e,n){return new Promise(async(r,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{da(s)?i(s.error):r(s.result)});try{await this.connection.send(e,n)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),TS(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const Vge=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),Hge=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",ZD=t=>t.split("?")[0],XD=10,qge=Vge();let Wge=class{constructor(e){if(this.url=e,this.events=new xa.EventEmitter,this.registering=!1,!QD(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,n)=>{if(typeof this.socket>"u"){n(new Error("Connection already closed"));return}this.socket.onclose=r=>{this.onClose(r),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Lu(e))}catch(n){this.onError(e.id,n)}}register(e=this.url){if(!QD(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));r(this.socket)})})}return this.url=e,this.registering=!0,new Promise((n,r)=>{const i=MV.isReactNative()?void 0:{rejectUnauthorized:!zge(e)},s=new qge(e,[],i);Hge()?s.onerror=o=>{const a=o;r(this.emitError(a.error))}:s.on("error",o=>{r(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),n(s)}})}onOpen(e){e.onmessage=n=>this.onPayload(n),e.onclose=n=>this.onClose(n),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Ep(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=IS(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return jV(e,ZD(n),"WS")}resetMaxListeners(){this.events.getMaxListeners()>XD&&this.events.setMaxListeners(XD)}emitError(e){const n=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${ZD(this.url)}`));return this.events.emit("register_error",n),n}};var Gge={};const $V="wc",zV=2,oA="core",wl=`${$V}@2:${oA}:`,Kge={name:oA,logger:"error"},Yge={database:":memory:"},Jge="crypto",ej="client_ed25519_seed",Qge=We.ONE_DAY,Zge="keychain",Xge="0.3",e0e="messages",t0e="0.3",tj=We.SIX_HOURS,n0e="publisher",VV="irn",r0e="error",HV="wss://relay.walletconnect.org",i0e="relayer",mi={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},s0e="_subscription",Qo={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},o0e=.1,h4="2.19.2",er={link_mode:"link_mode",relay:"relay"},Hx={inbound:"inbound",outbound:"outbound"},a0e="0.3",c0e="WALLETCONNECT_CLIENT_ID",nj="WALLETCONNECT_LINK_MODE_APPS",yo={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},l0e="subscription",u0e="0.3",d0e="pairing",h0e="0.3",W1={wc_pairingDelete:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:We.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:We.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:We.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:We.ONE_DAY,prompt:!1,tag:0},res:{ttl:We.ONE_DAY,prompt:!1,tag:0}}},ff={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Ua={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},f0e="history",p0e="0.3",m0e="expirer",ia={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},g0e="0.3",y0e="verify-api",w0e="https://verify.walletconnect.com",qV="https://verify.walletconnect.org",$w=qV,v0e=`${$w}/v3`,b0e=[w0e,qV],x0e="echo",E0e="https://echo.walletconnect.com",Bc={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},Yl={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Fa={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Jh={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Qh={authenticated_session_approve_started:"authenticated_session_approve_started",authenticated_session_not_expired:"authenticated_session_not_expired",chains_caip2_compliant:"chains_caip2_compliant",chains_evm_compliant:"chains_evm_compliant",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve",authenticated_session_approve_publish_success:"authenticated_session_approve_publish_success"},G1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",missing_session_authenticate_request:"missing_session_authenticate_request",session_authenticate_request_expired:"session_authenticate_request_expired",chains_caip2_compliant_failure:"chains_caip2_compliant_failure",chains_evm_compliant_failure:"chains_evm_compliant_failure",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},A0e=.1,S0e="event-client",C0e=86400,N0e="https://pulse.walletconnect.org/batch";function _0e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var n=new Uint8Array(256),r=0;r<n.length;r++)n[r]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(n[o]!==255)throw new TypeError(s+" is ambiguous");n[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function d(m){if(m instanceof Uint8Array||(ArrayBuffer.isView(m)?m=new Uint8Array(m.buffer,m.byteOffset,m.byteLength):Array.isArray(m)&&(m=Uint8Array.from(m))),!(m instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(m.length===0)return"";for(var g=0,E=0,y=0,w=m.length;y!==w&&m[y]===0;)y++,g++;for(var x=(w-y)*u+1>>>0,C=new Uint8Array(x);y!==w;){for(var N=m[y],D=0,O=x-1;(N!==0||D<E)&&O!==-1;O--,D++)N+=256*C[O]>>>0,C[O]=N%a>>>0,N=N/a>>>0;if(N!==0)throw new Error("Non-zero carry");E=D,y++}for(var P=x-E;P!==x&&C[P]===0;)P++;for(var L=c.repeat(g);P<x;++P)L+=t.charAt(C[P]);return L}function h(m){if(typeof m!="string")throw new TypeError("Expected String");if(m.length===0)return new Uint8Array;var g=0;if(m[g]!==" "){for(var E=0,y=0;m[g]===c;)E++,g++;for(var w=(m.length-g)*l+1>>>0,x=new Uint8Array(w);m[g];){var C=n[m.charCodeAt(g)];if(C===255)return;for(var N=0,D=w-1;(C!==0||N<y)&&D!==-1;D--,N++)C+=a*x[D]>>>0,x[D]=C%256>>>0,C=C/256>>>0;if(C!==0)throw new Error("Non-zero carry");y=N,g++}if(m[g]!==" "){for(var O=w-y;O!==w&&x[O]===0;)O++;for(var P=new Uint8Array(E+(w-O)),L=E;O!==w;)P[L++]=x[O++];return P}}}function f(m){var g=h(m);if(g)return g;throw new Error(`Non-${e} character`)}return{encode:d,decodeUnsafe:h,decode:f}}var P0e=_0e,I0e=P0e;const WV=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},T0e=t=>new TextEncoder().encode(t),k0e=t=>new TextDecoder().decode(t);class O0e{constructor(e,n,r){this.name=e,this.prefix=n,this.baseEncode=r}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class R0e{constructor(e,n,r){if(this.name=e,this.prefix=n,n.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=n.codePointAt(0),this.baseDecode=r}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return GV(this,e)}}class L0e{constructor(e){this.decoders=e}or(e){return GV(this,e)}decode(e){const n=e[0],r=this.decoders[n];if(r)return r.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const GV=(t,e)=>new L0e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class D0e{constructor(e,n,r,i){this.name=e,this.prefix=n,this.baseEncode=r,this.baseDecode=i,this.encoder=new O0e(e,n,r),this.decoder=new R0e(e,n,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const kS=({name:t,prefix:e,encode:n,decode:r})=>new D0e(t,e,n,r),d2=({prefix:t,name:e,alphabet:n})=>{const{encode:r,decode:i}=I0e(n,e);return kS({prefix:t,name:e,encode:r,decode:s=>WV(i(s))})},j0e=(t,e,n,r)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*n/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const d=i[t[u]];if(d===void 0)throw new SyntaxError(`Non-${r} character`);c=c<<n|d,a+=n,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=n||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},M0e=(t,e,n)=>{const r=e[e.length-1]==="=",i=(1<<n)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>n;)o-=n,s+=e[i&a>>o];if(o&&(s+=e[i&a<<n-o]),r)for(;s.length*n&7;)s+="=";return s},Ui=({name:t,prefix:e,bitsPerChar:n,alphabet:r})=>kS({prefix:e,name:t,encode(i){return M0e(i,r,n)},decode(i){return j0e(i,r,n,t)}}),B0e=kS({prefix:"\0",name:"identity",encode:t=>k0e(t),decode:t=>T0e(t)});var U0e=Object.freeze({__proto__:null,identity:B0e});const F0e=Ui({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var $0e=Object.freeze({__proto__:null,base2:F0e});const z0e=Ui({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var V0e=Object.freeze({__proto__:null,base8:z0e});const H0e=d2({prefix:"9",name:"base10",alphabet:"0123456789"});var q0e=Object.freeze({__proto__:null,base10:H0e});const W0e=Ui({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),G0e=Ui({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var K0e=Object.freeze({__proto__:null,base16:W0e,base16upper:G0e});const Y0e=Ui({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),J0e=Ui({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Q0e=Ui({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Z0e=Ui({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),X0e=Ui({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),eye=Ui({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),tye=Ui({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),nye=Ui({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),rye=Ui({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var iye=Object.freeze({__proto__:null,base32:Y0e,base32upper:J0e,base32pad:Q0e,base32padupper:Z0e,base32hex:X0e,base32hexupper:eye,base32hexpad:tye,base32hexpadupper:nye,base32z:rye});const sye=d2({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),oye=d2({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var aye=Object.freeze({__proto__:null,base36:sye,base36upper:oye});const cye=d2({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),lye=d2({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var uye=Object.freeze({__proto__:null,base58btc:cye,base58flickr:lye});const dye=Ui({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),hye=Ui({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),fye=Ui({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),pye=Ui({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var mye=Object.freeze({__proto__:null,base64:dye,base64pad:hye,base64url:fye,base64urlpad:pye});const KV=Array.from(""),gye=KV.reduce((t,e,n)=>(t[n]=e,t),[]),yye=KV.reduce((t,e,n)=>(t[e.codePointAt(0)]=n,t),[]);function wye(t){return t.reduce((e,n)=>(e+=gye[n],e),"")}function vye(t){const e=[];for(const n of t){const r=yye[n.codePointAt(0)];if(r===void 0)throw new Error(`Non-base256emoji character: ${n}`);e.push(r)}return new Uint8Array(e)}const bye=kS({prefix:"",name:"base256emoji",encode:wye,decode:vye});var xye=Object.freeze({__proto__:null,base256emoji:bye}),Eye=YV,rj=128,Aye=127,Sye=~Aye,Cye=Math.pow(2,31);function YV(t,e,n){e=e||[],n=n||0;for(var r=n;t>=Cye;)e[n++]=t&255|rj,t/=128;for(;t&Sye;)e[n++]=t&255|rj,t>>>=7;return e[n]=t|0,YV.bytes=n-r+1,e}var Nye=f4,_ye=128,ij=127;function f4(t,r){var n=0,r=r||0,i=0,s=r,o,a=t.length;do{if(s>=a)throw f4.bytes=0,new RangeError("Could not decode varint");o=t[s++],n+=i<28?(o&ij)<<i:(o&ij)*Math.pow(2,i),i+=7}while(o>=_ye);return f4.bytes=s-r,n}var Pye=Math.pow(2,7),Iye=Math.pow(2,14),Tye=Math.pow(2,21),kye=Math.pow(2,28),Oye=Math.pow(2,35),Rye=Math.pow(2,42),Lye=Math.pow(2,49),Dye=Math.pow(2,56),jye=Math.pow(2,63),Mye=function(t){return t<Pye?1:t<Iye?2:t<Tye?3:t<kye?4:t<Oye?5:t<Rye?6:t<Lye?7:t<Dye?8:t<jye?9:10},Bye={encode:Eye,decode:Nye,encodingLength:Mye},JV=Bye;const sj=(t,e,n=0)=>(JV.encode(t,e,n),e),oj=t=>JV.encodingLength(t),p4=(t,e)=>{const n=e.byteLength,r=oj(t),i=r+oj(n),s=new Uint8Array(i+n);return sj(t,s,0),sj(n,s,r),s.set(e,i),new Uye(t,n,e,s)};class Uye{constructor(e,n,r,i){this.code=e,this.size=n,this.digest=r,this.bytes=i}}const QV=({name:t,code:e,encode:n})=>new Fye(t,e,n);class Fye{constructor(e,n,r){this.name=e,this.code=n,this.encode=r}digest(e){if(e instanceof Uint8Array){const n=this.encode(e);return n instanceof Uint8Array?p4(this.code,n):n.then(r=>p4(this.code,r))}else throw Error("Unknown type, must be binary type")}}const ZV=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),$ye=QV({name:"sha2-256",code:18,encode:ZV("SHA-256")}),zye=QV({name:"sha2-512",code:19,encode:ZV("SHA-512")});var Vye=Object.freeze({__proto__:null,sha256:$ye,sha512:zye});const XV=0,Hye="identity",eH=WV,qye=t=>p4(XV,eH(t)),Wye={code:XV,name:Hye,encode:eH,digest:qye};var Gye=Object.freeze({__proto__:null,identity:Wye});new TextEncoder,new TextDecoder;const aj={...U0e,...$0e,...V0e,...q0e,...K0e,...iye,...aye,...uye,...mye,...xye};({...Vye,...Gye});function Kye(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(t):new Uint8Array(t)}function tH(t,e,n,r){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:n},decoder:{decode:r}}}const cj=tH("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),x_=tH("ascii","a",t=>{let e="a";for(let n=0;n<t.length;n++)e+=String.fromCharCode(t[n]);return e},t=>{t=t.substring(1);const e=Kye(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}),Yye={utf8:cj,"utf-8":cj,hex:aj.base16,latin1:x_,ascii:x_,binary:x_,...aj};function Jye(t,e="utf8"){const n=Yye[e];if(!n)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t,"utf8"):n.decoder.decode(`${n.prefix}${t}`)}var Qye=Object.defineProperty,Zye=(t,e,n)=>e in t?Qye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Lc=(t,e,n)=>Zye(t,typeof e!="symbol"?e+"":e,n);class Xye{constructor(e,n){this.core=e,this.logger=n,Lc(this,"keychain",new Map),Lc(this,"name",Zge),Lc(this,"version",Xge),Lc(this,"initialized",!1),Lc(this,"storagePrefix",wl),Lc(this,"init",async()=>{if(!this.initialized){const r=await this.getKeyChain();typeof r<"u"&&(this.keychain=r),this.initialized=!0}}),Lc(this,"has",r=>(this.isInitialized(),this.keychain.has(r))),Lc(this,"set",async(r,i)=>{this.isInitialized(),this.keychain.set(r,i),await this.persist()}),Lc(this,"get",r=>{this.isInitialized();const i=this.keychain.get(r);if(typeof i>"u"){const{message:s}=Ke("NO_MATCHING_KEY",`${this.name}: ${r}`);throw new Error(s)}return i}),Lc(this,"del",async r=>{this.isInitialized(),this.keychain.delete(r),await this.persist()}),this.core=e,this.logger=ds(n,this.name)}get context(){return io(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,QP(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ZP(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=Ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var e1e=Object.defineProperty,t1e=(t,e,n)=>e in t?e1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ci=(t,e,n)=>t1e(t,typeof e!="symbol"?e+"":e,n);class n1e{constructor(e,n,r){this.core=e,this.logger=n,Ci(this,"name",Jge),Ci(this,"keychain"),Ci(this,"randomSessionIdentifier",c4()),Ci(this,"initialized",!1),Ci(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),Ci(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),Ci(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=zL(i);return Nz(s.publicKey)}),Ci(this,"generateKeyPair",()=>{this.isInitialized();const i=dme();return this.setPrivateKey(i.publicKey,i.privateKey)}),Ci(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=zL(s),a=this.randomSessionIdentifier;return await fue(a,i,Qge,o)}),Ci(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=hme(a,s);return this.setSymKey(c,o)}),Ci(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||Vx(i);return await this.keychain.set(o,i),o}),Ci(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ci(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),Ci(this,"encode",async(i,s,o)=>{this.isInitialized();const a=kV(o),c=Lu(s);if(BD(a))return mme(c,o==null?void 0:o.encoding);if(MD(a)){const h=a.senderPublicKey,f=a.receiverPublicKey;i=await this.generateSharedKey(h,f)}const l=this.getSymKey(i),{type:u,senderPublicKey:d}=a;return fme({type:u,symKey:l,message:c,senderPublicKey:d,encoding:o==null?void 0:o.encoding})}),Ci(this,"decode",async(i,s,o)=>{this.isInitialized();const a=yme(s,o);if(BD(a)){const c=gme(s,o==null?void 0:o.encoding);return Ep(c)}if(MD(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=pme({symKey:c,encoded:s,encoding:o==null?void 0:o.encoding});return Ep(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),Ci(this,"getPayloadType",(i,s=sc)=>{const o=kv({encoded:i,encoding:s});return Cp(o.type)}),Ci(this,"getPayloadSenderPublicKey",(i,s=sc)=>{const o=kv({encoded:i,encoding:s});return o.senderPublicKey?eo(o.senderPublicKey,_s):void 0}),this.core=e,this.logger=ds(n,this.name),this.keychain=r||new Xye(this.core,this.logger)}get context(){return io(this.logger)}async setPrivateKey(e,n){return await this.keychain.set(e,n),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(ej)}catch{e=c4(),await this.keychain.set(ej,e)}return Jye(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=Ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var r1e=Object.defineProperty,i1e=Object.defineProperties,s1e=Object.getOwnPropertyDescriptors,lj=Object.getOwnPropertySymbols,o1e=Object.prototype.hasOwnProperty,a1e=Object.prototype.propertyIsEnumerable,m4=(t,e,n)=>e in t?r1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,c1e=(t,e)=>{for(var n in e||(e={}))o1e.call(e,n)&&m4(t,n,e[n]);if(lj)for(var n of lj(e))a1e.call(e,n)&&m4(t,n,e[n]);return t},l1e=(t,e)=>i1e(t,s1e(e)),fo=(t,e,n)=>m4(t,typeof e!="symbol"?e+"":e,n);class u1e extends uae{constructor(e,n){super(e,n),this.logger=e,this.core=n,fo(this,"messages",new Map),fo(this,"messagesWithoutClientAck",new Map),fo(this,"name",e0e),fo(this,"version",t0e),fo(this,"initialized",!1),fo(this,"storagePrefix",wl),fo(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const r=await this.getRelayerMessages();typeof r<"u"&&(this.messages=r);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(r){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(r)}finally{this.initialized=!0}}}),fo(this,"set",async(r,i,s)=>{this.isInitialized();const o=Xc(i);let a=this.messages.get(r);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(r,a),s===Hx.inbound){const c=this.messagesWithoutClientAck.get(r)||{};this.messagesWithoutClientAck.set(r,l1e(c1e({},c),{[o]:i}))}return await this.persist(),o}),fo(this,"get",r=>{this.isInitialized();let i=this.messages.get(r);return typeof i>"u"&&(i={}),i}),fo(this,"getWithoutAck",r=>{this.isInitialized();const i={};for(const s of r){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),fo(this,"has",(r,i)=>{this.isInitialized();const s=this.get(r),o=Xc(i);return typeof s[o]<"u"}),fo(this,"ack",async(r,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(r);if(typeof s>"u")return;const o=Xc(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(r):this.messagesWithoutClientAck.set(r,s),await this.persist()}),fo(this,"del",async r=>{this.isInitialized(),this.messages.delete(r),this.messagesWithoutClientAck.delete(r),await this.persist()}),this.logger=ds(e,this.name),this.core=n}get context(){return io(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,QP(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,QP(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?ZP(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?ZP(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=Ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var d1e=Object.defineProperty,h1e=Object.defineProperties,f1e=Object.getOwnPropertyDescriptors,uj=Object.getOwnPropertySymbols,p1e=Object.prototype.hasOwnProperty,m1e=Object.prototype.propertyIsEnumerable,g4=(t,e,n)=>e in t?d1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Q5=(t,e)=>{for(var n in e||(e={}))p1e.call(e,n)&&g4(t,n,e[n]);if(uj)for(var n of uj(e))m1e.call(e,n)&&g4(t,n,e[n]);return t},E_=(t,e)=>h1e(t,f1e(e)),$a=(t,e,n)=>g4(t,typeof e!="symbol"?e+"":e,n);class g1e extends dae{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,$a(this,"events",new xa.EventEmitter),$a(this,"name",n0e),$a(this,"queue",new Map),$a(this,"publishTimeout",We.toMiliseconds(We.ONE_MINUTE)),$a(this,"initialPublishTimeout",We.toMiliseconds(We.ONE_SECOND*15)),$a(this,"needsTransportRestart",!1),$a(this,"publish",async(r,i,s)=>{var o;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:r,message:i,opts:s}});const a=(s==null?void 0:s.ttl)||tj,c=iA(s),l=(s==null?void 0:s.prompt)||!1,u=(s==null?void 0:s.tag)||0,d=(s==null?void 0:s.id)||Sf().toString(),h={topic:r,message:i,opts:{ttl:a,relay:c,prompt:l,tag:u,id:d,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}},f=`Failed to publish payload, please try again. id:${d} tag:${u}`;try{const m=new Promise(async g=>{const E=({id:w})=>{h.opts.id===w&&(this.removeRequestFromQueue(w),this.relayer.events.removeListener(mi.publish,E),g(h))};this.relayer.events.on(mi.publish,E);const y=Zd(new Promise((w,x)=>{this.rpcPublish({topic:r,message:i,ttl:a,prompt:l,tag:u,id:d,attestation:s==null?void 0:s.attestation,tvf:s==null?void 0:s.tvf}).then(w).catch(C=>{this.logger.warn(C,C==null?void 0:C.message),x(C)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${d} tag:${u}`);try{await y,this.events.removeListener(mi.publish,E)}catch(w){this.queue.set(d,E_(Q5({},h),{attempt:1})),this.logger.warn(w,w==null?void 0:w.message)}});this.logger.trace({type:"method",method:"publish",params:{id:d,topic:r,message:i,opts:s}}),await Zd(m,this.publishTimeout,f)}catch(m){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(m),(o=s==null?void 0:s.internal)!=null&&o.throwOnFailedPublish)throw m}finally{this.queue.delete(d)}}),$a(this,"on",(r,i)=>{this.events.on(r,i)}),$a(this,"once",(r,i)=>{this.events.once(r,i)}),$a(this,"off",(r,i)=>{this.events.off(r,i)}),$a(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.relayer=e,this.logger=ds(n,this.name),this.registerEventListeners()}get context(){return io(this.logger)}async rpcPublish(e){var n,r,i,s;const{topic:o,message:a,ttl:c=tj,prompt:l,tag:u,id:d,attestation:h,tvf:f}=e,m={method:dw(iA().protocol).publish,params:Q5({topic:o,message:a,ttl:c,prompt:l,tag:u,attestation:h},f),id:d};ns((n=m.params)==null?void 0:n.prompt)&&((r=m.params)==null||delete r.prompt),ns((i=m.params)==null?void 0:i.tag)&&((s=m.params)==null||delete s.tag),this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:m});const g=await this.relayer.request(m);return this.relayer.events.emit(mi.publish,e),this.logger.debug("Successfully Published Payload"),g}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,n)=>{const r=e.attempt+1;this.queue.set(n,E_(Q5({},e),{attempt:r}));const{topic:i,message:s,opts:o,attestation:a}=e;this.logger.warn({},`Publisher: queue->publishing: ${e.opts.id}, tag: ${e.opts.tag}, attempt: ${r}`),await this.rpcPublish(E_(Q5({},e),{topic:i,message:s,ttl:o.ttl,prompt:o.prompt,tag:o.tag,id:o.id,attestation:a,tvf:o.tvf})),this.logger.warn({},`Publisher: queue->published: ${e.opts.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(My.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(mi.connection_stalled);return}this.checkQueue()}),this.relayer.on(mi.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var y1e=Object.defineProperty,w1e=(t,e,n)=>e in t?y1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Bm=(t,e,n)=>w1e(t,typeof e!="symbol"?e+"":e,n);class v1e{constructor(){Bm(this,"map",new Map),Bm(this,"set",(e,n)=>{const r=this.get(e);this.exists(e,n)||this.map.set(e,[...r,n])}),Bm(this,"get",e=>this.map.get(e)||[]),Bm(this,"exists",(e,n)=>this.get(e).includes(n)),Bm(this,"delete",(e,n)=>{if(typeof n>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const r=this.get(e);if(!this.exists(e,n))return;const i=r.filter(s=>s!==n);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),Bm(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var b1e=Object.defineProperty,x1e=Object.defineProperties,E1e=Object.getOwnPropertyDescriptors,dj=Object.getOwnPropertySymbols,A1e=Object.prototype.hasOwnProperty,S1e=Object.prototype.propertyIsEnumerable,y4=(t,e,n)=>e in t?b1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,K1=(t,e)=>{for(var n in e||(e={}))A1e.call(e,n)&&y4(t,n,e[n]);if(dj)for(var n of dj(e))S1e.call(e,n)&&y4(t,n,e[n]);return t},A_=(t,e)=>x1e(t,E1e(e)),Un=(t,e,n)=>y4(t,typeof e!="symbol"?e+"":e,n);class C1e extends pae{constructor(e,n){super(e,n),this.relayer=e,this.logger=n,Un(this,"subscriptions",new Map),Un(this,"topicMap",new v1e),Un(this,"events",new xa.EventEmitter),Un(this,"name",l0e),Un(this,"version",u0e),Un(this,"pending",new Map),Un(this,"cached",[]),Un(this,"initialized",!1),Un(this,"storagePrefix",wl),Un(this,"subscribeTimeout",We.toMiliseconds(We.ONE_MINUTE)),Un(this,"initialSubscribeTimeout",We.toMiliseconds(We.ONE_SECOND*15)),Un(this,"clientId"),Un(this,"batchSubscribeTopicsLimit",500),Un(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Un(this,"subscribe",async(r,i)=>{this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}});try{const s=iA(i),o={topic:r,relay:s,transportType:i==null?void 0:i.transportType};this.pending.set(r,o);const a=await this.rpcSubscribe(r,s,i);return typeof a=="string"&&(this.onSubscribe(a,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:r,opts:i}})),a}catch(s){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(s),s}}),Un(this,"unsubscribe",async(r,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(r,i.id,i):await this.unsubscribeByTopic(r,i)}),Un(this,"isSubscribed",r=>new Promise(i=>{i(this.topicMap.topics.includes(r))})),Un(this,"isKnownTopic",r=>new Promise(i=>{i(this.topicMap.topics.includes(r)||this.pending.has(r)||this.cached.some(s=>s.topic===r))})),Un(this,"on",(r,i)=>{this.events.on(r,i)}),Un(this,"once",(r,i)=>{this.events.once(r,i)}),Un(this,"off",(r,i)=>{this.events.off(r,i)}),Un(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),Un(this,"start",async()=>{await this.onConnect()}),Un(this,"stop",async()=>{await this.onDisconnect()}),Un(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Un(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const r=[];this.pending.forEach(i=>{r.push(i)}),await this.batchSubscribe(r)}),Un(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(My.pulse,async()=>{await this.checkPending()}),this.events.on(yo.created,async r=>{const i=yo.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()}),this.events.on(yo.deleted,async r=>{const i=yo.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:r}),await this.persist()})}),this.relayer=e,this.logger=ds(n,this.name),this.clientId=""}get context(){return io(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,n){let r=!1;try{r=this.getSubscription(e).topic===n}catch{}return r}reset(){this.cached=[],this.initialized=!0}onDisable(){this.cached=this.values,this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,n){const r=this.topicMap.get(e);await Promise.all(r.map(async i=>await this.unsubscribeById(e,i,n)))}async unsubscribeById(e,n,r){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}});try{const i=iA(r);await this.restartToComplete({topic:e,id:n,relay:i}),await this.rpcUnsubscribe(e,n,i);const s=Ln("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,n,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:n,opts:r}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,n,r){var i;(!r||(r==null?void 0:r.transportType)===er.relay)&&await this.restartToComplete({topic:e,id:e,relay:n});const s={method:dw(n.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:s});const o=(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;try{const a=await this.getSubscriptionId(e);if((r==null?void 0:r.transportType)===er.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(s).catch(u=>this.logger.warn(u))},We.toMiliseconds(We.ONE_SECOND)),a;const c=new Promise(async u=>{const d=h=>{h.topic===e&&(this.events.removeListener(yo.created,d),u(h.id))};this.events.on(yo.created,d);try{const h=await Zd(new Promise((f,m)=>{this.relayer.request(s).catch(g=>{this.logger.warn(g,g==null?void 0:g.message),m(g)}).then(f)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(yo.created,d),u(h)}catch{}}),l=await Zd(c,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!l&&o)throw new Error(`Subscribing to ${e} failed, please try again`);return l?a:null}catch(a){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(mi.connection_stalled),o)throw a}return null}async rpcBatchSubscribe(e){if(!e.length)return;const n=e[0].relay,r={method:dw(n.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});try{await await Zd(new Promise(i=>{this.relayer.request(r).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(mi.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const n=e[0].relay,r={method:dw(n.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:r});let i;try{i=await await Zd(new Promise((s,o)=>{this.relayer.request(r).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(mi.connection_stalled)}return i}rpcUnsubscribe(e,n,r){const i={method:dw(r.protocol).unsubscribe,params:{topic:e,id:n}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,n){this.setSubscription(e,A_(K1({},n),{id:e})),this.pending.delete(n.topic)}onBatchSubscribe(e){e.length&&e.forEach(n=>{this.setSubscription(n.id,K1({},n)),this.pending.delete(n.topic)})}async onUnsubscribe(e,n,r){this.events.removeAllListeners(n),this.hasSubscription(n,e)&&this.deleteSubscription(n,r),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,n){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:n}),this.addSubscription(e,n)}addSubscription(e,n){this.subscriptions.set(e,K1({},n)),this.topicMap.set(n.topic,e),this.events.emit(yo.created,n)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const n=this.subscriptions.get(e);if(!n){const{message:r}=Ke("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}deleteSubscription(e,n){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:n});const r=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(r.topic,e),this.events.emit(yo.deleted,A_(K1({},r),{reason:n}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(yo.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],n=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let r=0;r<n;r++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(yo.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size){const{message:n}=Ke("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async n=>A_(K1({},n),{id:await this.getSubscriptionId(n.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const n=await this.rpcBatchFetchMessages(e);n&&n.messages&&(await Zhe(We.toMiliseconds(We.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(n.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=Ke("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Xc(e+await this.getClientId())}}var N1e=Object.defineProperty,hj=Object.getOwnPropertySymbols,_1e=Object.prototype.hasOwnProperty,P1e=Object.prototype.propertyIsEnumerable,w4=(t,e,n)=>e in t?N1e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fj=(t,e)=>{for(var n in e||(e={}))_1e.call(e,n)&&w4(t,n,e[n]);if(hj)for(var n of hj(e))P1e.call(e,n)&&w4(t,n,e[n]);return t},fn=(t,e,n)=>w4(t,typeof e!="symbol"?e+"":e,n);class I1e extends hae{constructor(e){super(e),fn(this,"protocol","wc"),fn(this,"version",2),fn(this,"core"),fn(this,"logger"),fn(this,"events",new xa.EventEmitter),fn(this,"provider"),fn(this,"messages"),fn(this,"subscriber"),fn(this,"publisher"),fn(this,"name",i0e),fn(this,"transportExplicitlyClosed",!1),fn(this,"initialized",!1),fn(this,"connectionAttemptInProgress",!1),fn(this,"relayUrl"),fn(this,"projectId"),fn(this,"packageName"),fn(this,"bundleId"),fn(this,"hasExperiencedNetworkDisruption",!1),fn(this,"pingTimeout"),fn(this,"heartBeatTimeout",We.toMiliseconds(We.THIRTY_SECONDS+We.FIVE_SECONDS)),fn(this,"reconnectTimeout"),fn(this,"connectPromise"),fn(this,"reconnectInProgress",!1),fn(this,"requestsInFlight",[]),fn(this,"connectTimeout",We.toMiliseconds(We.ONE_SECOND*15)),fn(this,"request",async n=>{var r,i;this.logger.debug("Publishing Request Payload");const s=n.id||Sf().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:n.method,topic:(r=n.params)==null?void 0:r.topic},"relayer.request - publishing...");const o=`${s}:${((i=n.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(n);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),fn(this,"resetPingTimeout",()=>{nA()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var n,r,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(r=(n=this.provider)==null?void 0:n.connection)==null?void 0:r.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o==null?void 0:o.message)}},this.heartBeatTimeout))}),fn(this,"onPayloadHandler",n=>{this.onProviderPayload(n),this.resetPingTimeout()}),fn(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(mi.connect)}),fn(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),fn(this,"onProviderErrorHandler",n=>{this.logger.fatal(`Fatal socket error: ${n.message}`),this.events.emit(mi.error,n),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),fn(this,"registerProviderListeners",()=>{this.provider.on(Qo.payload,this.onPayloadHandler),this.provider.on(Qo.connect,this.onConnectHandler),this.provider.on(Qo.disconnect,this.onDisconnectHandler),this.provider.on(Qo.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?ds(e.logger,this.name):Xb(By({level:e.logger||r0e})),this.messages=new u1e(this.logger,e.core),this.subscriber=new C1e(this,this.logger),this.publisher=new g1e(this,this.logger),this.relayUrl=(e==null?void 0:e.relayUrl)||HV,this.projectId=e.projectId,jhe()?this.packageName=aD():Mhe()&&(this.bundleId=aD()),this.provider={}}async init(){if(this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.subscriber.hasAnyTopics)try{await this.transportOpen()}catch(e){this.logger.warn(e,e==null?void 0:e.message)}}get context(){return io(this.logger)}get connected(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===1||!1}get connecting(){var e,n,r;return((r=(n=(e=this.provider)==null?void 0:e.connection)==null?void 0:n.socket)==null?void 0:r.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,n,r){this.isInitialized(),await this.publisher.publish(e,n,r),await this.recordMessageEvent({topic:e,message:n,publishedAt:Date.now(),transportType:er.relay},Hx.outbound)}async subscribe(e,n){var r,i,s;this.isInitialized(),(!(n!=null&&n.transportType)||(n==null?void 0:n.transportType)==="relay")&&await this.toEstablishConnection();const o=typeof((r=n==null?void 0:n.internal)==null?void 0:r.throwOnFailedPublish)>"u"?!0:(i=n==null?void 0:n.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(yo.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(yo.created,l)}),new Promise(async(u,d)=>{a=await this.subscriber.subscribe(e,fj({internal:{throwOnFailedPublish:o}},n)).catch(h=>{o&&d(h)})||a,u()})]),a}async unsubscribe(e,n){this.isInitialized(),await this.subscriber.unsubscribe(e,n)}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await Zd(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.warn("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(n,r)=>{await this.connect(e).then(n).catch(r).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await WD())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const n=e.sort((r,i)=>r.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${n.length} message events sorted`);for(const r of n)try{await this.onMessageEvent(r)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${n.length} message events processed`)}async onLinkMessageEvent(e,n){const{topic:r}=e;if(!n.sessionExists){const i=ei(We.FIVE_MINUTES),s={topic:r,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(r,s)}this.events.emit(mi.message,e),await this.recordMessageEvent(e,Hx.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let n=1;for(;n<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${n}...`),await this.createProvider(),await new Promise(async(r,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Qo.disconnect,s),await Zd(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(Qo.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{a(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Qo.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(Qo.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,r()})}catch(r){await this.subscriber.stop();const i=r;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${n}`);break}await new Promise(r=>setTimeout(r,We.toMiliseconds(n*1))),n++}}startPingTimeout(){var e,n,r,i,s;if(nA())try{(n=(e=this.provider)==null?void 0:e.connection)!=null&&n.socket&&((s=(i=(r=this.provider)==null?void 0:r.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o==null?void 0:o.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new Ea(new Wge(zhe({sdkVersion:h4,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,n){const{topic:r,message:i}=e;await this.messages.set(r,i,n)}async shouldIgnoreMessageEvent(e){const{topic:n,message:r}=e;if(!r||r.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${r}`),!0;if(!await this.subscriber.isKnownTopic(n))return this.logger.warn(`Ignoring message for unknown topic ${n}`),!0;const i=this.messages.has(n,r);return i&&this.logger.warn(`Ignoring duplicate message: ${r}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),Pk(e)){if(!e.method.endsWith(s0e))return;const n=e.params,{topic:r,message:i,publishedAt:s,attestation:o}=n.data,a={topic:r,message:i,publishedAt:s,transportType:er.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(fj({type:"event",event:n.id},a)),this.events.emit(n.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else TS(e)&&this.events.emit(mi.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Hx.inbound),this.events.emit(mi.message,e))}async acknowledgePayload(e){const n=PS(e.id,!0);await this.provider.connection.send(n)}unregisterProviderListeners(){this.provider.off(Qo.payload,this.onPayloadHandler),this.provider.off(Qo.connect,this.onConnectHandler),this.provider.off(Qo.disconnect,this.onDisconnectHandler),this.provider.off(Qo.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await WD();nge(async n=>{e!==n&&(e=n,n?await this.transportOpen().catch(r=>this.logger.error(r,r==null?void 0:r.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(mi.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},We.toMiliseconds(o0e)))))}isInitialized(){if(!this.initialized){const{message:e}=Ke("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){await this.confirmOnlineStateOrThrow(),!this.connected&&await this.connect()}}function T1e(){}function pj(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function mj(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function gj(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const k1e="[object RegExp]",O1e="[object String]",R1e="[object Number]",L1e="[object Boolean]",yj="[object Arguments]",D1e="[object Symbol]",j1e="[object Date]",M1e="[object Map]",B1e="[object Set]",U1e="[object Array]",F1e="[object Function]",$1e="[object ArrayBuffer]",S_="[object Object]",z1e="[object Error]",V1e="[object DataView]",H1e="[object Uint8Array]",q1e="[object Uint8ClampedArray]",W1e="[object Uint16Array]",G1e="[object Uint32Array]",K1e="[object BigUint64Array]",Y1e="[object Int8Array]",J1e="[object Int16Array]",Q1e="[object Int32Array]",Z1e="[object BigInt64Array]",X1e="[object Float32Array]",ewe="[object Float64Array]";function twe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function nwe(t,e,n){return fw(t,e,void 0,void 0,void 0,void 0,n)}function fw(t,e,n,r,i,s,o){const a=o(t,e,n,r,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return zw(t,e,s,o)}return zw(t,e,s,o)}function zw(t,e,n,r){if(Object.is(t,e))return!0;let i=gj(t),s=gj(e);if(i===yj&&(i=S_),s===yj&&(s=S_),i!==s)return!1;switch(i){case O1e:return t.toString()===e.toString();case R1e:{const c=t.valueOf(),l=e.valueOf();return twe(c,l)}case L1e:case j1e:case D1e:return Object.is(t.valueOf(),e.valueOf());case k1e:return t.source===e.source&&t.flags===e.flags;case F1e:return t===e}n=n??new Map;const o=n.get(t),a=n.get(e);if(o!=null&&a!=null)return o===e;n.set(t,e),n.set(e,t);try{switch(i){case M1e:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!fw(l,e.get(c),c,t,e,n,r))return!1;return!0}case B1e:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const d=c[u],h=l.findIndex(f=>fw(d,f,void 0,t,e,n,r));if(h===-1)return!1;l.splice(h,1)}return!0}case U1e:case H1e:case q1e:case W1e:case G1e:case K1e:case Y1e:case J1e:case Q1e:case Z1e:case X1e:case ewe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!fw(t[c],e[c],c,t,e,n,r))return!1;return!0}case $1e:return t.byteLength!==e.byteLength?!1:zw(new Uint8Array(t),new Uint8Array(e),n,r);case V1e:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:zw(new Uint8Array(t),new Uint8Array(e),n,r);case z1e:return t.name===e.name&&t.message===e.message;case S_:{if(!(zw(t.constructor,e.constructor,n,r)||pj(t)&&pj(e)))return!1;const c=[...Object.keys(t),...mj(t)],l=[...Object.keys(e),...mj(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const d=c[u],h=t[d];if(!Object.hasOwn(e,d))return!1;const f=e[d];if(!fw(h,f,d,t,e,n,r))return!1}return!0}default:return!1}}finally{n.delete(t),n.delete(e)}}function rwe(t,e){return nwe(t,e,T1e)}var iwe=Object.defineProperty,wj=Object.getOwnPropertySymbols,swe=Object.prototype.hasOwnProperty,owe=Object.prototype.propertyIsEnumerable,v4=(t,e,n)=>e in t?iwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,vj=(t,e)=>{for(var n in e||(e={}))swe.call(e,n)&&v4(t,n,e[n]);if(wj)for(var n of wj(e))owe.call(e,n)&&v4(t,n,e[n]);return t},Us=(t,e,n)=>v4(t,typeof e!="symbol"?e+"":e,n);class Jp extends fae{constructor(e,n,r,i=wl,s=void 0){super(e,n,r,i),this.core=e,this.logger=n,this.name=r,Us(this,"map",new Map),Us(this,"version",a0e),Us(this,"cached",[]),Us(this,"initialized",!1),Us(this,"getKey"),Us(this,"storagePrefix",wl),Us(this,"recentlyDeleted",[]),Us(this,"recentlyDeletedLimit",200),Us(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!ns(o)?this.map.set(this.getKey(o),o):Rme(o)?this.map.set(o.id,o):Lme(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),Us(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),Us(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),Us(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>rwe(a[c],o[c]))):this.values)),Us(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=vj(vj({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),Us(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=ds(n,this.name),this.storagePrefix=i,this.getKey=s}get context(){return io(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const n=this.map.get(e);if(!n){if(this.recentlyDeleted.includes(e)){const{message:i}=Ke("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:r}=Ke("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(r),new Error(r)}return n}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:n}=Ke("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var awe=Object.defineProperty,cwe=(t,e,n)=>e in t?awe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,tn=(t,e,n)=>cwe(t,typeof e!="symbol"?e+"":e,n);class lwe{constructor(e,n){this.core=e,this.logger=n,tn(this,"name",d0e),tn(this,"version",h0e),tn(this,"events",new ok),tn(this,"pairings"),tn(this,"initialized",!1),tn(this,"storagePrefix",wl),tn(this,"ignoredPayloadTypes",[Nu]),tn(this,"registeredMethods",[]),tn(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),tn(this,"register",({methods:r})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...r])]}),tn(this,"create",async r=>{this.isInitialized();const i=c4(),s=await this.core.crypto.setSymKey(i),o=ei(We.FIVE_MINUTES),a={protocol:VV},c={topic:s,expiry:o,relay:a,active:!1,methods:r==null?void 0:r.methods},l=FD({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:r==null?void 0:r.methods});return this.events.emit(ff.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:r==null?void 0:r.transportType}),{topic:s,uri:l}}),tn(this,"pair",async r=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:r==null?void 0:r.uri,trace:[Bc.pairing_started]}});this.isValidPair(r,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=UD(r.uri);i.props.properties.topic=s,i.addTrace(Bc.pairing_uri_validation_success),i.addTrace(Bc.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(Bc.existing_pairing),u.active)throw i.setError(Yl.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Bc.pairing_not_expired)}const d=c||ei(We.FIVE_MINUTES),h={topic:s,relay:a,expiry:d,active:!1,methods:l};this.core.expirer.set(s,d),await this.pairings.set(s,h),i.addTrace(Bc.store_new_pairing),r.activatePairing&&await this.activate({topic:s}),this.events.emit(ff.create,h),i.addTrace(Bc.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(Bc.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(Yl.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(f){throw i.setError(Yl.subscribe_pairing_topic_failure),f}return i.addTrace(Bc.subscribe_pairing_topic_success),h}),tn(this,"activate",async({topic:r})=>{this.isInitialized();const i=ei(We.FIVE_MINUTES);this.core.expirer.set(r,i),await this.pairings.update(r,{active:!0,expiry:i})}),tn(this,"ping",async r=>{this.isInitialized(),await this.isValidPing(r),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=r;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=of();this.events.once(En("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),tn(this,"updateExpiry",async({topic:r,expiry:i})=>{this.isInitialized(),await this.pairings.update(r,{expiry:i})}),tn(this,"updateMetadata",async({topic:r,metadata:i})=>{this.isInitialized(),await this.pairings.update(r,{peerMetadata:i})}),tn(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),tn(this,"disconnect",async r=>{this.isInitialized(),await this.isValidDisconnect(r);const{topic:i}=r;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Ln("USER_DISCONNECTED")),await this.deletePairing(i))}),tn(this,"formatUriFromPairing",r=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=r,c=this.core.crypto.keychain.get(i);return FD({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),tn(this,"sendRequest",async(r,i,s)=>{const o=Xd(i,s),a=await this.core.crypto.encode(r,o),c=W1[i].req;return this.core.history.set(r,o),this.core.relayer.publish(r,a,c),o.id}),tn(this,"sendResult",async(r,i,s)=>{const o=PS(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=W1[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),tn(this,"sendError",async(r,i,s)=>{const o=IS(r,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,r)).request.method,l=W1[c]?W1[c].res:W1.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),tn(this,"deletePairing",async(r,i)=>{await this.core.relayer.unsubscribe(r),await Promise.all([this.pairings.delete(r,Ln("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(r),i?Promise.resolve():this.core.expirer.del(r)])}),tn(this,"cleanup",async()=>{const r=this.pairings.getAll().filter(i=>vd(i.expiry));await Promise.all(r.map(i=>this.deletePairing(i.topic)))}),tn(this,"onRelayEventRequest",async r=>{const{topic:i,payload:s}=r;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),tn(this,"onRelayEventResponse",async r=>{const{topic:i,payload:s}=r,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),tn(this,"onPairingPingRequest",async(r,i)=>{const{id:s}=i;try{this.isValidPing({topic:r}),await this.sendResult(s,r,!0),this.events.emit(ff.ping,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),tn(this,"onPairingPingResponse",(r,i)=>{const{id:s}=i;setTimeout(()=>{$c(i)?this.events.emit(En("pairing_ping",s),{}):da(i)&&this.events.emit(En("pairing_ping",s),{error:i.error})},500)}),tn(this,"onPairingDeleteRequest",async(r,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:r}),await this.deletePairing(r),this.events.emit(ff.delete,{id:s,topic:r})}catch(o){await this.sendError(s,r,o),this.logger.error(o)}}),tn(this,"onUnknownRpcMethodRequest",async(r,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Ln("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,r,a),this.logger.error(a)}catch(a){await this.sendError(s,r,a),this.logger.error(a)}}),tn(this,"onUnknownRpcMethodResponse",r=>{this.registeredMethods.includes(r)||this.logger.error(Ln("WC_METHOD_UNSUPPORTED",r))}),tn(this,"isValidPair",(r,i)=>{var s;if(!Vs(r)){const{message:a}=Ke("MISSING_OR_INVALID",`pair() params: ${r}`);throw i.setError(Yl.malformed_pairing_uri),new Error(a)}if(!Ome(r.uri)){const{message:a}=Ke("MISSING_OR_INVALID",`pair() uri: ${r.uri}`);throw i.setError(Yl.malformed_pairing_uri),new Error(a)}const o=UD(r==null?void 0:r.uri);if(!((s=o==null?void 0:o.relay)!=null&&s.protocol)){const{message:a}=Ke("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(Yl.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=Ke("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(Yl.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&We.toMiliseconds(o==null?void 0:o.expiryTimestamp)<Date.now()){i.setError(Yl.pairing_expired);const{message:a}=Ke("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),tn(this,"isValidPing",async r=>{if(!Vs(r)){const{message:s}=Ke("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),tn(this,"isValidDisconnect",async r=>{if(!Vs(r)){const{message:s}=Ke("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(s)}const{topic:i}=r;await this.isValidPairingTopic(i)}),tn(this,"isValidPairingTopic",async r=>{if(!Wr(r,!1)){const{message:i}=Ke("MISSING_OR_INVALID",`pairing topic should be a string: ${r}`);throw new Error(i)}if(!this.pairings.keys.includes(r)){const{message:i}=Ke("NO_MATCHING_KEY",`pairing topic doesn't exist: ${r}`);throw new Error(i)}if(vd(this.pairings.get(r).expiry)){await this.deletePairing(r);const{message:i}=Ke("EXPIRED",`pairing topic: ${r}`);throw new Error(i)}}),this.core=e,this.logger=ds(n,this.name),this.pairings=new Jp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return io(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=Ke("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(mi.message,async e=>{const{topic:n,message:r,transportType:i}=e;if(this.pairings.keys.includes(n)&&i!==er.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(r)))try{const s=await this.core.crypto.decode(n,r);Pk(s)?(this.core.history.set(n,s),await this.onRelayEventRequest({topic:n,payload:s})):TS(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:n,payload:s}),this.core.history.delete(n,s.id)),await this.core.relayer.messages.ack(n,r)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(ia.expired,async e=>{const{topic:n}=Zz(e.target);n&&this.pairings.keys.includes(n)&&(await this.deletePairing(n,!0),this.events.emit(ff.expire,{topic:n}))})}}var uwe=Object.defineProperty,dwe=(t,e,n)=>e in t?uwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ni=(t,e,n)=>dwe(t,typeof e!="symbol"?e+"":e,n);class hwe extends lae{constructor(e,n){super(e,n),this.core=e,this.logger=n,Ni(this,"records",new Map),Ni(this,"events",new xa.EventEmitter),Ni(this,"name",f0e),Ni(this,"version",p0e),Ni(this,"cached",[]),Ni(this,"initialized",!1),Ni(this,"storagePrefix",wl),Ni(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.records.set(r.id,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Ni(this,"set",(r,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:r,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:r,request:{method:i.method,params:i.params||null},chainId:s,expiry:ei(We.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(Ua.created,o)}),Ni(this,"resolve",async r=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:r}),!this.records.has(r.id))return;const i=await this.getRecord(r.id);typeof i.response>"u"&&(i.response=da(r)?{error:r.error}:{result:r.result},this.records.set(i.id,i),this.persist(),this.events.emit(Ua.updated,i))}),Ni(this,"get",async(r,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:r,id:i}),await this.getRecord(i))),Ni(this,"delete",(r,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===r){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Ua.deleted,s)}}),this.persist()}),Ni(this,"exists",async(r,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===r:!1)),Ni(this,"on",(r,i)=>{this.events.on(r,i)}),Ni(this,"once",(r,i)=>{this.events.once(r,i)}),Ni(this,"off",(r,i)=>{this.events.off(r,i)}),Ni(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ds(n,this.name)}get context(){return io(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(n=>{if(typeof n.response<"u")return;const r={topic:n.topic,request:Xd(n.request.method,n.request.params,n.id),chainId:n.chainId};return e.push(r)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const n=this.records.get(e);if(!n){const{message:r}=Ke("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(r)}return n}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Ua.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:n}=Ke("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Ua.created,e=>{const n=Ua.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ua.updated,e=>{const n=Ua.updated;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.events.on(Ua.deleted,e=>{const n=Ua.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,record:e})}),this.core.heartbeat.on(My.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(n=>{We.toMiliseconds(n.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${n.id}`),this.records.delete(n.id),this.events.emit(Ua.deleted,n,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=Ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var fwe=Object.defineProperty,pwe=(t,e,n)=>e in t?fwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Yi=(t,e,n)=>pwe(t,typeof e!="symbol"?e+"":e,n);class mwe extends mae{constructor(e,n){super(e,n),this.core=e,this.logger=n,Yi(this,"expirations",new Map),Yi(this,"events",new xa.EventEmitter),Yi(this,"name",m0e),Yi(this,"version",g0e),Yi(this,"cached",[]),Yi(this,"initialized",!1),Yi(this,"storagePrefix",wl),Yi(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(r=>this.expirations.set(r.target,r)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Yi(this,"has",r=>{try{const i=this.formatTarget(r);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Yi(this,"set",(r,i)=>{this.isInitialized();const s=this.formatTarget(r),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(ia.created,{target:s,expiration:o})}),Yi(this,"get",r=>{this.isInitialized();const i=this.formatTarget(r);return this.getExpiration(i)}),Yi(this,"del",r=>{if(this.isInitialized(),this.has(r)){const i=this.formatTarget(r),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(ia.deleted,{target:i,expiration:s})}}),Yi(this,"on",(r,i)=>{this.events.on(r,i)}),Yi(this,"once",(r,i)=>{this.events.once(r,i)}),Yi(this,"off",(r,i)=>{this.events.off(r,i)}),Yi(this,"removeListener",(r,i)=>{this.events.removeListener(r,i)}),this.logger=ds(n,this.name)}get context(){return io(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Vhe(e);if(typeof e=="number")return Hhe(e);const{message:n}=Ke("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(n)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ia.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:n}=Ke("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(n),new Error(n)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const n=this.expirations.get(e);if(!n){const{message:r}=Ke("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(r),new Error(r)}return n}checkExpiry(e,n){const{expiry:r}=n;We.toMiliseconds(r)-Date.now()<=0&&this.expire(e,n)}expire(e,n){this.expirations.delete(e),this.events.emit(ia.expired,{target:e,expiration:n})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,n)=>this.checkExpiry(n,e))}registerEventListeners(){this.core.heartbeat.on(My.pulse,()=>this.checkExpirations()),this.events.on(ia.created,e=>{const n=ia.created;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ia.expired,e=>{const n=ia.expired;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()}),this.events.on(ia.deleted,e=>{const n=ia.deleted;this.logger.info(`Emitting ${n}`),this.logger.debug({type:"event",event:n,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=Ke("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gwe=Object.defineProperty,ywe=(t,e,n)=>e in t?gwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qr=(t,e,n)=>ywe(t,typeof e!="symbol"?e+"":e,n);class wwe extends gae{constructor(e,n,r){super(e,n,r),this.core=e,this.logger=n,this.store=r,qr(this,"name",y0e),qr(this,"abortController"),qr(this,"isDevEnv"),qr(this,"verifyUrlV3",v0e),qr(this,"storagePrefix",wl),qr(this,"version",zV),qr(this,"publicKey"),qr(this,"fetchPromise"),qr(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&We.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),qr(this,"register",async i=>{if(!i2()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=n2(),u=this.startAbortTimer(We.ONE_SECOND*5),d=await new Promise((h,f)=>{const m=()=>{window.removeEventListener("message",E),l.body.removeChild(g),f("attestation aborted")};this.abortController.signal.addEventListener("abort",m);const g=l.createElement("iframe");g.src=c,g.style.display="none",g.addEventListener("error",m,{signal:this.abortController.signal});const E=y=>{if(y.data&&typeof y.data=="string")try{const w=JSON.parse(y.data);if(w.type==="verify_attestation"){if(GP(w.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(g),this.abortController.signal.removeEventListener("abort",m),window.removeEventListener("message",E),h(w.attestation===null?"":w.attestation)}}catch(w){this.logger.warn(w)}};l.body.appendChild(g),window.addEventListener("message",E,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",d),d}catch(l){this.logger.warn(l)}return""}),qr(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(GP(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(o,c)}),qr(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(We.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),qr(this,"getVerifyUrl",i=>{let s=i||$w;return b0e.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${$w}`),s=$w),s}),qr(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(We.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),qr(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),qr(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),qr(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),qr(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),qr(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),qr(this,"validateAttestation",(i,s)=>{const o=vme(i,s.publicKey),a={hasExpired:We.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=ds(n,this.name),this.abortController=new AbortController,this.isDevEnv=wk(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return io(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),We.toMiliseconds(e))}}var vwe=Object.defineProperty,bwe=(t,e,n)=>e in t?vwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,bj=(t,e,n)=>bwe(t,typeof e!="symbol"?e+"":e,n);class xwe extends yae{constructor(e,n){super(e,n),this.projectId=e,this.logger=n,bj(this,"context",x0e),bj(this,"registerDeviceToken",async r=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=r,c=`${E0e}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=ds(n,this.context)}}var Ewe=Object.defineProperty,xj=Object.getOwnPropertySymbols,Awe=Object.prototype.hasOwnProperty,Swe=Object.prototype.propertyIsEnumerable,b4=(t,e,n)=>e in t?Ewe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Y1=(t,e)=>{for(var n in e||(e={}))Awe.call(e,n)&&b4(t,n,e[n]);if(xj)for(var n of xj(e))Swe.call(e,n)&&b4(t,n,e[n]);return t},ai=(t,e,n)=>b4(t,typeof e!="symbol"?e+"":e,n);class Cwe extends wae{constructor(e,n,r=!0){super(e,n,r),this.core=e,this.logger=n,ai(this,"context",S0e),ai(this,"storagePrefix",wl),ai(this,"storageVersion",A0e),ai(this,"events",new Map),ai(this,"shouldPersist",!1),ai(this,"init",async()=>{if(!wk())try{const i={eventId:lD(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:Jz(this.core.relayer.protocol,this.core.relayer.version,h4)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),ai(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=lD(),u=this.core.projectId||"",d=Date.now(),h=Y1({eventId:l,timestamp:d,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),ai(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return Y1(Y1({},a),this.setMethods(a.eventId))}),ai(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),ai(this,"setEventListeners",()=>{this.core.heartbeat.on(My.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{We.fromMiliseconds(Date.now())-We.fromMiliseconds(i.timestamp)>C0e&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),ai(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),ai(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),ai(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),ai(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),ai(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,Y1(Y1({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),ai(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),ai(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${N0e}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${h4}${s}`,{method:"POST",body:JSON.stringify(i)})}),ai(this,"getAppDomain",()=>Yz().url),this.logger=ds(n,this.context),this.telemetryEnabled=r,r?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Nwe=Object.defineProperty,Ej=Object.getOwnPropertySymbols,_we=Object.prototype.hasOwnProperty,Pwe=Object.prototype.propertyIsEnumerable,x4=(t,e,n)=>e in t?Nwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Aj=(t,e)=>{for(var n in e||(e={}))_we.call(e,n)&&x4(t,n,e[n]);if(Ej)for(var n of Ej(e))Pwe.call(e,n)&&x4(t,n,e[n]);return t},Gn=(t,e,n)=>x4(t,typeof e!="symbol"?e+"":e,n);let Iwe=class nH extends sae{constructor(e){var n;super(e),Gn(this,"protocol",$V),Gn(this,"version",zV),Gn(this,"name",oA),Gn(this,"relayUrl"),Gn(this,"projectId"),Gn(this,"customStoragePrefix"),Gn(this,"events",new xa.EventEmitter),Gn(this,"logger"),Gn(this,"heartbeat"),Gn(this,"relayer"),Gn(this,"crypto"),Gn(this,"storage"),Gn(this,"history"),Gn(this,"expirer"),Gn(this,"pairing"),Gn(this,"verify"),Gn(this,"echoClient"),Gn(this,"linkModeSupportedApps"),Gn(this,"eventClient"),Gn(this,"initialized",!1),Gn(this,"logChunkController"),Gn(this,"on",(a,c)=>this.events.on(a,c)),Gn(this,"once",(a,c)=>this.events.once(a,c)),Gn(this,"off",(a,c)=>this.events.off(a,c)),Gn(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),Gn(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:er.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const r=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(r)try{return this.customStoragePrefix=r.customStoragePrefix,this.logger=r.logger,this.heartbeat=r.heartbeat,this.crypto=r.crypto,this.history=r.history,this.expirer=r.expirer,this.storage=r.storage,this.relayer=r.relayer,this.pairing=r.pairing,this.verify=r.verify,this.echoClient=r.echoClient,this.linkModeSupportedApps=r.linkModeSupportedApps,this.eventClient=r.eventClient,this.initialized=r.initialized,this.logChunkController=r.logChunkController,r}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||HV,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=By({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:Kge.logger,name:oA}),{logger:s,chunkLoggerController:o}=ck({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=o,(n=this.logChunkController)!=null&&n.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=ds(s,this.name),this.heartbeat=new Gse,this.crypto=new n1e(this,this.logger,e==null?void 0:e.keychain),this.history=new hwe(this,this.logger),this.expirer=new mwe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new Ioe(Aj(Aj({},Yge),e==null?void 0:e.storageOptions)),this.relayer=new I1e({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new lwe(this,this.logger),this.verify=new wwe(this,this.logger,this.storage),this.echoClient=new xwe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Cwe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const n=new nH(e);await n.initialize();const r=await n.crypto.getClientId();return await n.storage.setItem(c0e,r),n}get context(){return io(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(nj,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(nj)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${e}`,r=`${n}_count`;return globalThis[r]=(globalThis[r]||0)+1,globalThis[r]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[r]} times.`),globalThis[n]}catch(n){console.warn("Failed to get global WalletConnect core",n);return}}setGlobalCore(e){var n;try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${((n=e.opts)==null?void 0:n.customStoragePrefix)||""}`;globalThis[r]=e}catch(r){console.warn("Failed to set global WalletConnect core",r)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&Gge.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const Twe=Iwe,rH="wc",iH=2,sH="client",Ik=`${rH}@${iH}:${sH}:`,C_={name:sH,logger:"error",controller:!1,relayUrl:"wss://relay.walletconnect.org"},Sj="WALLETCONNECT_DEEPLINK_CHOICE",kwe="proposal",Cj="Proposal expired",Owe="session",Um=We.SEVEN_DAYS,Rwe="engine",ci={wc_sessionPropose:{req:{ttl:We.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1104},res:{ttl:We.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1106},res:{ttl:We.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:We.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:We.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1112},res:{ttl:We.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:We.ONE_DAY,prompt:!1,tag:1114},res:{ttl:We.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:We.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:We.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:We.FIVE_MINUTES,prompt:!1,tag:1119}}},N_={min:We.FIVE_MINUTES,max:We.SEVEN_DAYS},Dc={idle:"IDLE",active:"ACTIVE"},Nj={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"}},Lwe="request",Dwe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],jwe="wc",Mwe="auth",Bwe="authKeys",Uwe="pairingTopics",Fwe="requests",OS=`${jwe}@${1.5}:${Mwe}:`,qx=`${OS}:PUB_KEY`;var $we=Object.defineProperty,zwe=Object.defineProperties,Vwe=Object.getOwnPropertyDescriptors,_j=Object.getOwnPropertySymbols,Hwe=Object.prototype.hasOwnProperty,qwe=Object.prototype.propertyIsEnumerable,E4=(t,e,n)=>e in t?$we(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fn=(t,e)=>{for(var n in e||(e={}))Hwe.call(e,n)&&E4(t,n,e[n]);if(_j)for(var n of _j(e))qwe.call(e,n)&&E4(t,n,e[n]);return t},ms=(t,e)=>zwe(t,Vwe(e)),Ue=(t,e,n)=>E4(t,typeof e!="symbol"?e+"":e,n);class Wwe extends Eae{constructor(e){super(e),Ue(this,"name",Rwe),Ue(this,"events",new ok),Ue(this,"initialized",!1),Ue(this,"requestQueue",{state:Dc.idle,queue:[]}),Ue(this,"sessionRequestQueue",{state:Dc.idle,queue:[]}),Ue(this,"requestQueueDelay",We.ONE_SECOND),Ue(this,"expectedPairingMethodMap",new Map),Ue(this,"recentlyDeletedMap",new Map),Ue(this,"recentlyDeletedLimit",200),Ue(this,"relayMessageCache",[]),Ue(this,"pendingSessions",new Map),Ue(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(ci)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},We.toMiliseconds(this.requestQueueDelay)))}),Ue(this,"connect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const r=ms(Fn({},n),{requiredNamespaces:n.requiredNamespaces||{},optionalNamespaces:n.optionalNamespaces||{}});await this.isValidConnect(r);const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=r;let u=i,d,h=!1;try{if(u){const D=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=D.active}}catch(D){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),D}if(!u||!h){const{topic:D,uri:O}=await this.client.core.pairing.create();u=D,d=O}if(!u){const{message:D}=Ke("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(D)}const f=await this.client.core.crypto.generateKeyPair(),m=ci.wc_sessionPropose.req.ttl||We.FIVE_MINUTES,g=ei(m),E=ms(Fn(Fn({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:VV}],proposer:{publicKey:f,metadata:this.client.metadata},expiryTimestamp:g,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:Fc()}),y=En("session_connect",E.id),{reject:w,resolve:x,done:C}=of(m,Cj),N=({id:D})=>{D===E.id&&(this.client.events.off("proposal_expire",N),this.pendingSessions.delete(E.id),this.events.emit(y,{error:{message:Cj,code:0}}))};return this.client.events.on("proposal_expire",N),this.events.once(y,({error:D,session:O})=>{this.client.events.off("proposal_expire",N),D?w(D):O&&x(O)}),await this.sendRequest({topic:u,method:"wc_sessionPropose",params:E,throwOnFailedPublish:!0,clientRpcId:E.id}),await this.setProposal(E.id,E),{uri:d,approval:C}}),Ue(this,"pair",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(n)}catch(r){throw this.client.logger.error("pair() failed"),r}}),Ue(this,"approve",async n=>{var r,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(r=n==null?void 0:n.id)==null?void 0:r.toString(),trace:[Fa.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(L){throw o.setError(Jh.no_internet_connection),L}try{await this.isValidProposalId(n==null?void 0:n.id)}catch(L){throw this.client.logger.error(`approve() -> proposal.get(${n==null?void 0:n.id}) failed`),o.setError(Jh.proposal_not_found),L}try{await this.isValidApprove(n)}catch(L){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Jh.session_approve_namespace_validation_failure),L}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=n,f=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:m,proposer:g,requiredNamespaces:E,optionalNamespaces:y}=f;let w=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:m});w||(w=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Fa.session_approve_started,properties:{topic:m,trace:[Fa.session_approve_started,Fa.session_namespaces_validation_success]}}));const x=await this.client.core.crypto.generateKeyPair(),C=g.publicKey,N=await this.client.core.crypto.generateSharedKey(x,C),D=Fn(Fn(Fn({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:x,metadata:this.client.metadata},expiry:ei(Um)},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),O=er.relay;w.addTrace(Fa.subscribing_session_topic);try{await this.client.core.relayer.subscribe(N,{transportType:O})}catch(L){throw w.setError(Jh.subscribe_session_topic_failure),L}w.addTrace(Fa.subscribe_session_topic_success);const P=ms(Fn({},D),{topic:N,requiredNamespaces:E,optionalNamespaces:y,pairingTopic:m,acknowledged:!1,self:D.controller,peer:{publicKey:g.publicKey,metadata:g.metadata},controller:x,transportType:er.relay});await this.client.session.set(N,P),w.addTrace(Fa.store_session);try{w.addTrace(Fa.publishing_session_settle),await this.sendRequest({topic:N,method:"wc_sessionSettle",params:D,throwOnFailedPublish:!0}).catch(L=>{throw w==null||w.setError(Jh.session_settle_publish_failure),L}),w.addTrace(Fa.session_settle_publish_success),w.addTrace(Fa.publishing_session_approve),await this.sendResult({id:a,topic:m,result:{relay:{protocol:c??"irn"},responderPublicKey:x},throwOnFailedPublish:!0}).catch(L=>{throw w==null||w.setError(Jh.session_approve_publish_failure),L}),w.addTrace(Fa.session_approve_publish_success)}catch(L){throw this.client.logger.error(L),this.client.session.delete(N,Ln("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(N),L}return this.client.core.eventClient.deleteEvent({eventId:w.eventId}),await this.client.core.pairing.updateMetadata({topic:m,metadata:g.metadata}),await this.client.proposal.delete(a,Ln("USER_DISCONNECTED")),await this.client.core.pairing.activate({topic:m}),await this.setExpiry(N,ei(Um)),{topic:N,acknowledged:()=>Promise.resolve(this.client.session.get(N))}}),Ue(this,"reject",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(n)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:r,reason:i}=n;let s;try{s=this.client.proposal.get(r).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${r}) failed`),o}s&&(await this.sendError({id:r,topic:s,error:i,rpcOpts:ci.wc_sessionPropose.reject}),await this.client.proposal.delete(r,Ln("USER_DISCONNECTED")))}),Ue(this,"update",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(n)}catch(d){throw this.client.logger.error("update() -> isValidUpdate() failed"),d}const{topic:r,namespaces:i}=n,{done:s,resolve:o,reject:a}=of(),c=Fc(),l=Sf().toString(),u=this.client.session.get(r).namespaces;return this.events.once(En("session_update",c),({error:d})=>{d?a(d):o()}),await this.client.session.update(r,{namespaces:i}),await this.sendRequest({topic:r,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(d=>{this.client.logger.error(d),this.client.session.update(r,{namespaces:u}),a(d)}),{acknowledged:s}}),Ue(this,"extend",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(n)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:r}=n,i=Fc(),{done:s,resolve:o,reject:a}=of();return this.events.once(En("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(r,ei(Um)),this.sendRequest({topic:r,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),Ue(this,"request",async n=>{this.isInitialized();try{await this.isValidRequest(n)}catch(y){throw this.client.logger.error("request() -> isValidRequest() failed"),y}const{chainId:r,request:i,topic:s,expiry:o=ci.wc_sessionRequest.req.ttl}=n,a=this.client.session.get(s);(a==null?void 0:a.transportType)===er.relay&&await this.confirmOnlineStateOrThrow();const c=Fc(),l=Sf().toString(),{done:u,resolve:d,reject:h}=of(o,"Request expired. Please try again.");this.events.once(En("session_request",c),({error:y,result:w})=>{y?h(y):d(w)});const f="wc_sessionRequest",m=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(m)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:{request:ms(Fn({},i),{expiryTimestamp:ei(o)}),chainId:r},expiry:o,throwOnFailedPublish:!0,appLink:m}).catch(y=>h(y)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),await u();const g={request:ms(Fn({},i),{expiryTimestamp:ei(o)}),chainId:r},E=this.shouldSetTVF(f,g);return await Promise.all([new Promise(async y=>{await this.sendRequest(Fn({clientRpcId:c,relayRpcId:l,topic:s,method:f,params:g,expiry:o,throwOnFailedPublish:!0},E&&{tvf:this.getTVFParams(c,g)})).catch(w=>h(w)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:r,id:c}),y()}),new Promise(async y=>{var w;if(!((w=a.sessionConfig)!=null&&w.disableDeepLink)){const x=await Khe(this.client.core.storage,Sj);await qhe({id:c,topic:s,wcDeepLink:x})}y()}),u()]).then(y=>y[2])}),Ue(this,"respond",async n=>{this.isInitialized(),await this.isValidRespond(n);const{topic:r,response:i}=n,{id:s}=i,o=this.client.session.get(r);o.transportType===er.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);$c(i)?await this.sendResult({id:s,topic:r,result:i.result,throwOnFailedPublish:!0,appLink:a}):da(i)&&await this.sendError({id:s,topic:r,error:i.error,appLink:a}),this.cleanupAfterResponse(n)}),Ue(this,"ping",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(n)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:r}=n;if(this.client.session.keys.includes(r)){const i=Fc(),s=Sf().toString(),{done:o,resolve:a,reject:c}=of();this.events.once(En("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:r,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(r)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:r}))}),Ue(this,"emit",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(n);const{topic:r,event:i,chainId:s}=n,o=Sf().toString(),a=Fc();await this.sendRequest({topic:r,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Ue(this,"disconnect",async n=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(n);const{topic:r}=n;if(this.client.session.keys.includes(r))await this.sendRequest({topic:r,method:"wc_sessionDelete",params:Ln("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:r,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(r))await this.client.core.pairing.disconnect({topic:r});else{const{message:i}=Ke("MISMATCHED_TOPIC",`Session or pairing topic not found: ${r}`);throw new Error(i)}}),Ue(this,"find",n=>(this.isInitialized(),this.client.session.getAll().filter(r=>Tme(r,n)))),Ue(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Ue(this,"authenticate",async(n,r)=>{var i;this.isInitialized(),this.isValidAuthenticate(n);const s=r&&this.client.core.linkModeSupportedApps.includes(r)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?er.link_mode:er.relay;o===er.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:d,type:h,exp:f,nbf:m,methods:g=[],expiry:E}=n,y=[...n.resources||[]],{topic:w,uri:x}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:w,uri:x}});const C=await this.client.core.crypto.generateKeyPair(),N=Vx(C);if(await Promise.all([this.client.auth.authKeys.set(qx,{responseTopic:N,publicKey:C}),this.client.auth.pairingTopics.set(N,{topic:N,pairingTopic:w})]),await this.client.core.relayer.subscribe(N,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${w}`),g.length>0){const{namespace:z}=Xg(a[0]);let Z=Ffe(z,"request",g);zx(y)&&(Z=zfe(Z,y.pop())),y.push(Z)}const D=E&&E>ci.wc_sessionAuthenticate.req.ttl?E:ci.wc_sessionAuthenticate.req.ttl,O={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:d,iat:new Date().toISOString(),exp:f,nbf:m,resources:y},requester:{publicKey:C,metadata:this.client.metadata},expiryTimestamp:ei(D)},P={eip155:{chains:a,methods:[...new Set(["personal_sign",...g])],events:["chainChanged","accountsChanged"]}},L={requiredNamespaces:{},optionalNamespaces:P,relays:[{protocol:"irn"}],pairingTopic:w,proposer:{publicKey:C,metadata:this.client.metadata},expiryTimestamp:ei(ci.wc_sessionPropose.req.ttl),id:Fc()},{done:$,resolve:_,reject:j}=of(D,"Request expired"),K=Fc(),V=En("session_connect",L.id),T=En("session_request",K),k=async({error:z,session:Z})=>{this.events.off(T,W),z?j(z):Z&&_({session:Z})},W=async z=>{var Z,he,R;if(await this.deletePendingAuthRequest(K,{message:"fulfilled",code:0}),z.error){const me=Ln("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return z.error.code===me.code?void 0:(this.events.off(V,k),j(z.error.message))}await this.deleteProposal(L.id),this.events.off(V,k);const{cacaos:Y,responder:J}=z.result,ne=[],se=[];for(const me of Y){await yD({cacao:me,projectId:this.client.core.projectId})||(this.client.logger.error(me,"Signature verification failed"),j(Ln("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:Te}=me,Pe=zx(Te.resources),De=[XP(Te.iss)],je=rA(Te.iss);if(Pe){const et=wD(Pe),Ae=vD(Pe);ne.push(...et),De.push(...Ae)}for(const et of De)se.push(`${et}:${je}`)}const de=await this.client.core.crypto.generateSharedKey(C,J.publicKey);let ye;ne.length>0&&(ye={topic:de,acknowledged:!0,self:{publicKey:C,metadata:this.client.metadata},peer:J,controller:J.publicKey,expiry:ei(Um),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:w,namespaces:$D([...new Set(ne)],[...new Set(se)]),transportType:o},await this.client.core.relayer.subscribe(de,{transportType:o}),await this.client.session.set(de,ye),w&&await this.client.core.pairing.updateMetadata({topic:w,metadata:J.metadata}),ye=this.client.session.get(de)),(Z=this.client.metadata.redirect)!=null&&Z.linkMode&&(he=J.metadata.redirect)!=null&&he.linkMode&&(R=J.metadata.redirect)!=null&&R.universal&&r&&(this.client.core.addLinkModeSupportedApp(J.metadata.redirect.universal),this.client.session.update(de,{transportType:er.link_mode})),_({auths:Y,session:ye})};this.events.once(V,k),this.events.once(T,W);let B;try{if(s){const z=Xd("wc_sessionAuthenticate",O,K);this.client.core.history.set(w,z);const Z=await this.client.core.crypto.encode("",z,{type:u2,encoding:Sd});B=J5(r,w,Z)}else await Promise.all([this.sendRequest({topic:w,method:"wc_sessionAuthenticate",params:O,expiry:n.expiry,throwOnFailedPublish:!0,clientRpcId:K}),this.sendRequest({topic:w,method:"wc_sessionPropose",params:L,expiry:ci.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:L.id})])}catch(z){throw this.events.off(V,k),this.events.off(T,W),z}return await this.setProposal(L.id,L),await this.setAuthRequest(K,{request:ms(Fn({},O),{verifyContext:{}}),pairingTopic:w,transportType:o}),{uri:B??x,response:$}}),Ue(this,"approveSessionAuthenticate",async n=>{const{id:r,auths:i}=n,s=this.client.core.eventClient.createEvent({properties:{topic:r.toString(),trace:[Qh.authenticated_session_approve_started]}});try{this.isInitialized()}catch(E){throw s.setError(G1.no_internet_connection),E}const o=this.getPendingAuthRequest(r);if(!o)throw s.setError(G1.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${r}`);const a=o.transportType||er.relay;a===er.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Vx(c),d={type:Nu,receiverPublicKey:c,senderPublicKey:l},h=[],f=[];for(const E of i){if(!await yD({cacao:E,projectId:this.client.core.projectId})){s.setError(G1.invalid_cacao);const N=Ln("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:r,topic:u,error:N,encodeOpts:d}),new Error(N.message)}s.addTrace(Qh.cacaos_verified);const{p:y}=E,w=zx(y.resources),x=[XP(y.iss)],C=rA(y.iss);if(w){const N=wD(w),D=vD(w);h.push(...N),x.push(...D)}for(const N of x)f.push(`${N}:${C}`)}const m=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Qh.create_authenticated_session_topic);let g;if((h==null?void 0:h.length)>0){g={topic:m,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:ei(Um),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:$D([...new Set(h)],[...new Set(f)]),transportType:a},s.addTrace(Qh.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(m,{transportType:a})}catch(E){throw s.setError(G1.subscribe_authenticated_session_topic_failure),E}s.addTrace(Qh.subscribe_authenticated_session_topic_success),await this.client.session.set(m,g),s.addTrace(Qh.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Qh.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:r,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:d,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(E){throw s.setError(G1.authenticated_session_approve_publish_failure),E}return await this.client.auth.requests.delete(r,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:g}}),Ue(this,"rejectSessionAuthenticate",async n=>{this.isInitialized();const{id:r,reason:i}=n,s=this.getPendingAuthRequest(r);if(!s)throw new Error(`Could not find pending auth request with id ${r}`);s.transportType===er.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Vx(o),l={type:Nu,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:r,topic:c,error:i,encodeOpts:l,rpcOpts:ci.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(r,{message:"rejected",code:0}),await this.client.proposal.delete(r,Ln("USER_DISCONNECTED"))}),Ue(this,"formatAuthMessage",n=>{this.isInitialized();const{request:r,iss:i}=n;return aV(r,i)}),Ue(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const n=this.relayMessageCache.shift();n&&await this.onRelayMessage(n)}catch(n){this.client.logger.error(n)}},50)}),Ue(this,"cleanupDuplicatePairings",async n=>{if(n.pairingTopic)try{const r=this.client.core.pairing.pairings.get(n.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===n.peer.metadata.url&&s.topic&&s.topic!==r.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(r){this.client.logger.error(r)}}),Ue(this,"deleteSession",async n=>{var r;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=n,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Ln("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(Sj).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Ln("USER_DISCONNECTED"))}),i===((r=this.sessionRequestQueue.queue[0])==null?void 0:r.topic)&&(this.sessionRequestQueue.state=Dc.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),Ue(this,"deleteProposal",async(n,r)=>{if(r)try{const i=this.client.proposal.get(n),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(Jh.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(n,Ln("USER_DISCONNECTED")),r?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"proposal")}),Ue(this,"deletePendingSessionRequest",async(n,r,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)]),this.addToRecentlyDeleted(n,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==n),i&&(this.sessionRequestQueue.state=Dc.idle,this.client.events.emit("session_request_expire",{id:n}))}),Ue(this,"deletePendingAuthRequest",async(n,r,i=!1)=>{await Promise.all([this.client.auth.requests.delete(n,r),i?Promise.resolve():this.client.core.expirer.del(n)])}),Ue(this,"setExpiry",async(n,r)=>{this.client.session.keys.includes(n)&&(this.client.core.expirer.set(n,r),await this.client.session.update(n,{expiry:r}))}),Ue(this,"setProposal",async(n,r)=>{this.client.core.expirer.set(n,ei(ci.wc_sessionPropose.req.ttl)),await this.client.proposal.set(n,r)}),Ue(this,"setAuthRequest",async(n,r)=>{const{request:i,pairingTopic:s,transportType:o=er.relay}=r;this.client.core.expirer.set(n,i.expiryTimestamp),await this.client.auth.requests.set(n,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:n,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Ue(this,"setPendingSessionRequest",async n=>{const{id:r,topic:i,params:s,verifyContext:o}=n,a=s.request.expiryTimestamp||ei(ci.wc_sessionRequest.req.ttl);this.client.core.expirer.set(r,a),await this.client.pendingRequest.set(r,{id:r,topic:i,params:s,verifyContext:o})}),Ue(this,"sendRequest",async n=>{const{topic:r,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:d}=n,h=Xd(i,s,c);let f;const m=!!u;try{const y=m?Sd:sc;f=await this.client.core.crypto.encode(r,h,{encoding:y})}catch(y){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${r} failed`),y}let g;if(Dwe.includes(i)){const y=Xc(JSON.stringify(h)),w=Xc(f);g=await this.client.core.verify.register({id:w,decryptedId:y})}const E=ci[i].req;if(E.attestation=g,o&&(E.ttl=o),a&&(E.id=a),this.client.core.history.set(r,h),m){const y=J5(u,r,f);await global.Linking.openURL(y,this.client.name)}else{const y=ci[i].req;o&&(y.ttl=o),a&&(y.id=a),y.tvf=ms(Fn({},d),{correlationId:h.id}),l?(y.internal=ms(Fn({},y.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(r,f,y)):this.client.core.relayer.publish(r,f,y).catch(w=>this.client.logger.error(w))}return h.id}),Ue(this,"sendResult",async n=>{const{id:r,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=n,l=PS(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const m=d?Sd:sc;u=await this.client.core.crypto.encode(i,l,ms(Fn({},a||{}),{encoding:m}))}catch(m){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),m}let h,f;try{h=await this.client.core.history.get(i,r);const m=h.request;try{this.shouldSetTVF(m.method,m.params)&&(f=this.getTVFParams(r,m.params,s))}catch(g){this.client.logger.warn("sendResult() -> getTVFParams() failed",g)}}catch(m){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${r}) failed`),m}if(d){const m=J5(c,i,u);await global.Linking.openURL(m,this.client.name)}else{const m=h.request.method,g=ci[m].res;g.tvf=ms(Fn({},f),{correlationId:r}),o?(g.internal=ms(Fn({},g.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,g)):this.client.core.relayer.publish(i,u,g).catch(E=>this.client.logger.error(E))}await this.client.core.history.resolve(l)}),Ue(this,"sendError",async n=>{const{id:r,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=n,l=IS(r,s);let u;const d=c&&typeof(global==null?void 0:global.Linking)<"u";try{const f=d?Sd:sc;u=await this.client.core.crypto.encode(i,l,ms(Fn({},o||{}),{encoding:f}))}catch(f){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),f}let h;try{h=await this.client.core.history.get(i,r)}catch(f){throw this.client.logger.error(`sendError() -> history.get(${i}, ${r}) failed`),f}if(d){const f=J5(c,i,u);await global.Linking.openURL(f,this.client.name)}else{const f=h.request.method,m=a||ci[f].res;this.client.core.relayer.publish(i,u,m)}await this.client.core.history.resolve(l)}),Ue(this,"cleanup",async()=>{const n=[],r=[];this.client.session.getAll().forEach(i=>{let s=!1;vd(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&n.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{vd(i.expiryTimestamp)&&r.push(i.id)}),await Promise.all([...n.map(i=>this.deleteSession({topic:i})),...r.map(i=>this.deleteProposal(i))])}),Ue(this,"onProviderMessageEvent",async n=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(n):await this.onRelayMessage(n)}),Ue(this,"onRelayEventRequest",async n=>{this.requestQueue.queue.push(n),await this.processRequestsQueue()}),Ue(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Dc.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Dc.active;const n=this.requestQueue.queue.shift();if(n)try{await this.processRequest(n)}catch(r){this.client.logger.warn(r)}}this.requestQueue.state=Dc.idle}),Ue(this,"processRequest",async n=>{const{topic:r,payload:i,attestation:s,transportType:o,encryptedId:a}=n,c=i.method;if(!this.shouldIgnorePairingRequest({topic:r,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:r,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(r,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(r,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(r,i);case"wc_sessionPing":return await this.onSessionPingRequest(r,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(r,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(r,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:r,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Ue(this,"onRelayEventResponse",async n=>{const{topic:r,payload:i,transportType:s}=n,o=(await this.client.core.history.get(r,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(r,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(r,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(r,i);case"wc_sessionExtend":return this.onSessionExtendResponse(r,i);case"wc_sessionPing":return this.onSessionPingResponse(r,i);case"wc_sessionRequest":return this.onSessionRequestResponse(r,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(r,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Ue(this,"onRelayEventUnknownPayload",n=>{const{topic:r}=n,{message:i}=Ke("MISSING_OR_INVALID",`Decoded payload on topic ${r} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Ue(this,"shouldIgnorePairingRequest",n=>{const{topic:r,requestMethod:i}=n,s=this.expectedPairingMethodMap.get(r);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Ue(this,"onSessionProposeRequest",async n=>{const{topic:r,payload:i,attestation:s,encryptedId:o}=n,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:r});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l==null||l.setError(Yl.proposal_listener_not_found)),this.isValidConnect(Fn({},i.params));const u=a.expiryTimestamp||ei(ci.wc_sessionPropose.req.ttl),d=Fn({id:c,pairingTopic:r,expiryTimestamp:u},a);await this.setProposal(c,d);const h=await this.getVerifyContext({attestationId:s,hash:Xc(JSON.stringify(i)),encryptedId:o,metadata:d.proposer.metadata});l==null||l.addTrace(Bc.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:d,verifyContext:h})}catch(l){await this.sendError({id:c,topic:r,error:l,rpcOpts:ci.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Ue(this,"onSessionProposeResponse",async(n,r,i)=>{const{id:s}=r;if($c(r)){const{result:o}=r;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:n,proposalId:s,publicKey:c});const d=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:d}),await this.client.core.pairing.activate({topic:n})}else if(da(r)){await this.client.proposal.delete(s,Ln("USER_DISCONNECTED"));const o=En("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:r.error})}}),Ue(this,"onSessionSettleRequest",async(n,r)=>{const{id:i,params:s}=r;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:d,sessionConfig:h}=r.params,f=[...this.pendingSessions.values()].find(E=>E.sessionTopic===n);if(!f)return this.client.logger.error(`Pending session not found for topic ${n}`);const m=this.client.proposal.get(f.proposalId),g=ms(Fn(Fn(Fn({topic:n,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:f.pairingTopic,requiredNamespaces:m.requiredNamespaces,optionalNamespaces:m.optionalNamespaces,controller:a.publicKey,self:{publicKey:f.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),d&&{scopedProperties:d}),h&&{sessionConfig:h}),{transportType:er.relay});await this.client.session.set(g.topic,g),await this.setExpiry(g.topic,g.expiry),await this.client.core.pairing.updateMetadata({topic:f.pairingTopic,metadata:g.peer.metadata}),this.client.events.emit("session_connect",{session:g}),this.events.emit(En("session_connect",f.proposalId),{session:g}),this.pendingSessions.delete(f.proposalId),this.deleteProposal(f.proposalId,!1),this.cleanupDuplicatePairings(g),await this.sendResult({id:r.id,topic:n,result:!0,throwOnFailedPublish:!0})}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Ue(this,"onSessionSettleResponse",async(n,r)=>{const{id:i}=r;$c(r)?(await this.client.session.update(n,{acknowledged:!0}),this.events.emit(En("session_approve",i),{})):da(r)&&(await this.client.session.delete(n,Ln("USER_DISCONNECTED")),this.events.emit(En("session_approve",i),{error:r.error}))}),Ue(this,"onSessionUpdateRequest",async(n,r)=>{const{params:i,id:s}=r;try{const o=`${n}_session_update`,a=q1.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:n,error:Ln("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Fn({topic:n},i));try{q1.set(o,s),await this.client.session.update(n,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:n,result:!0,throwOnFailedPublish:!0})}catch(c){throw q1.delete(o),c}this.client.events.emit("session_update",{id:s,topic:n,params:i})}catch(o){await this.sendError({id:s,topic:n,error:o}),this.client.logger.error(o)}}),Ue(this,"isRequestOutOfSync",(n,r)=>r.toString().slice(0,-3)<n.toString().slice(0,-3)),Ue(this,"onSessionUpdateResponse",(n,r)=>{const{id:i}=r,s=En("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);$c(r)?this.events.emit(En("session_update",i),{}):da(r)&&this.events.emit(En("session_update",i),{error:r.error})}),Ue(this,"onSessionExtendRequest",async(n,r)=>{const{id:i}=r;try{this.isValidExtend({topic:n}),await this.setExpiry(n,ei(Um)),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_extend",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Ue(this,"onSessionExtendResponse",(n,r)=>{const{id:i}=r,s=En("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);$c(r)?this.events.emit(En("session_extend",i),{}):da(r)&&this.events.emit(En("session_extend",i),{error:r.error})}),Ue(this,"onSessionPingRequest",async(n,r)=>{const{id:i}=r;try{this.isValidPing({topic:n}),await this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:n})}catch(s){await this.sendError({id:i,topic:n,error:s}),this.client.logger.error(s)}}),Ue(this,"onSessionPingResponse",(n,r)=>{const{id:i}=r,s=En("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);$c(r)?this.events.emit(En("session_ping",i),{}):da(r)&&this.events.emit(En("session_ping",i),{error:r.error})},500)}),Ue(this,"onSessionDeleteRequest",async(n,r)=>{const{id:i}=r;try{this.isValidDisconnect({topic:n,reason:r.params}),Promise.all([new Promise(s=>{this.client.core.relayer.once(mi.publish,async()=>{s(await this.deleteSession({topic:n,id:i}))})}),this.sendResult({id:i,topic:n,result:!0,throwOnFailedPublish:!0}),this.cleanupPendingSentRequestsForTopic({topic:n,error:Ln("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Ue(this,"onSessionRequest",async n=>{var r,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=n,{id:d,params:h}=a;try{await this.isValidRequest(Fn({topic:o},h));const f=this.client.session.get(o),m=await this.getVerifyContext({attestationId:c,hash:Xc(JSON.stringify(Xd("wc_sessionRequest",h,d))),encryptedId:l,metadata:f.peer.metadata,transportType:u}),g={id:d,topic:o,params:h,verifyContext:m};await this.setPendingSessionRequest(g),u===er.link_mode&&(r=f.peer.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp((i=f.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(g):(this.addSessionRequestToSessionRequestQueue(g),this.processSessionRequestQueue())}catch(f){await this.sendError({id:d,topic:o,error:f}),this.client.logger.error(f)}}),Ue(this,"onSessionRequestResponse",(n,r)=>{const{id:i}=r,s=En("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);$c(r)?this.events.emit(En("session_request",i),{result:r.result}):da(r)&&this.events.emit(En("session_request",i),{error:r.error})}),Ue(this,"onSessionEventRequest",async(n,r)=>{const{id:i,params:s}=r;try{const o=`${n}_session_event_${s.event.name}`,a=q1.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Fn({topic:n},s)),this.client.events.emit("session_event",{id:i,topic:n,params:s}),q1.set(o,i)}catch(o){await this.sendError({id:i,topic:n,error:o}),this.client.logger.error(o)}}),Ue(this,"onSessionAuthenticateResponse",(n,r)=>{const{id:i}=r;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:n,payload:r}),$c(r)?this.events.emit(En("session_request",i),{result:r.result}):da(r)&&this.events.emit(En("session_request",i),{error:r.error})}),Ue(this,"onSessionAuthenticateRequest",async n=>{var r;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=n;try{const{requester:l,authPayload:u,expiryTimestamp:d}=s.params,h=await this.getVerifyContext({attestationId:o,hash:Xc(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),f={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:d};await this.setAuthRequest(s.id,{request:f,pairingTopic:i,transportType:c}),c===er.link_mode&&(r=l.metadata.redirect)!=null&&r.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,d=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),f={type:Nu,receiverPublicKey:u,senderPublicKey:d};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:f,rpcOpts:ci.wc_sessionAuthenticate.autoReject,appLink:h})}}),Ue(this,"addSessionRequestToSessionRequestQueue",n=>{this.sessionRequestQueue.queue.push(n)}),Ue(this,"cleanupAfterResponse",n=>{this.deletePendingSessionRequest(n.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Dc.idle,this.processSessionRequestQueue()},We.toMiliseconds(this.requestQueueDelay))}),Ue(this,"cleanupPendingSentRequestsForTopic",({topic:n,error:r})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===n&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=En("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(En("session_request",s.request.id),{error:r})})}),Ue(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Dc.active){this.client.logger.info("session request queue is already active.");return}const n=this.sessionRequestQueue.queue[0];if(!n){this.client.logger.info("session request queue is empty.");return}try{this.sessionRequestQueue.state=Dc.active,this.emitSessionRequest(n)}catch(r){this.client.logger.error(r)}}),Ue(this,"emitSessionRequest",n=>{this.client.events.emit("session_request",n)}),Ue(this,"onPairingCreated",n=>{if(n.methods&&this.expectedPairingMethodMap.set(n.topic,n.methods),n.active)return;const r=this.client.proposal.getAll().find(i=>i.pairingTopic===n.topic);r&&this.onSessionProposeRequest({topic:n.topic,payload:Xd("wc_sessionPropose",ms(Fn({},r),{requiredNamespaces:r.requiredNamespaces,optionalNamespaces:r.optionalNamespaces,relays:r.relays,proposer:r.proposer,sessionProperties:r.sessionProperties,scopedProperties:r.scopedProperties}),r.id)})}),Ue(this,"isValidConnect",async n=>{if(!Vs(n)){const{message:l}=Ke("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(n)}`);throw new Error(l)}const{pairingTopic:r,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=n;if(ns(r)||await this.isValidPairingTopic(r),!zme(c)){const{message:l}=Ke("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!ns(i)&&Ov(i)!==0&&this.validateNamespaces(i,"requiredNamespaces"),!ns(s)&&Ov(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),ns(o)||this.validateSessionProps(o,"sessionProperties"),!ns(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u)))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Ue(this,"validateNamespaces",(n,r)=>{const i=$me(n,"connect()",r);if(i)throw new Error(i.message)}),Ue(this,"isValidApprove",async n=>{if(!Vs(n))throw new Error(Ke("MISSING_OR_INVALID",`approve() params: ${n}`).message);const{id:r,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=n;this.checkRecentlyDeleted(r),await this.isValidProposalId(r);const c=this.client.proposal.get(r),l=v_(i,"approve()");if(l)throw new Error(l.message);const u=HD(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!Wr(s,!0)){const{message:d}=Ke("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(d)}if(ns(o)||this.validateSessionProps(o,"sessionProperties"),!ns(a)){this.validateSessionProps(a,"scopedProperties");const d=new Set(Object.keys(i));if(!Object.keys(a).every(h=>d.has(h)))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(d).join(", ")}`)}}),Ue(this,"isValidReject",async n=>{if(!Vs(n)){const{message:s}=Ke("MISSING_OR_INVALID",`reject() params: ${n}`);throw new Error(s)}const{id:r,reason:i}=n;if(this.checkRecentlyDeleted(r),await this.isValidProposalId(r),!Hme(i)){const{message:s}=Ke("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Ue(this,"isValidSessionSettleRequest",n=>{if(!Vs(n)){const{message:l}=Ke("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${n}`);throw new Error(l)}const{relay:r,controller:i,namespaces:s,expiry:o}=n;if(!RV(r)){const{message:l}=Ke("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Dme(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=v_(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(vd(o)){const{message:l}=Ke("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),Ue(this,"isValidUpdate",async n=>{if(!Vs(n)){const{message:c}=Ke("MISSING_OR_INVALID",`update() params: ${n}`);throw new Error(c)}const{topic:r,namespaces:i}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const s=this.client.session.get(r),o=v_(i,"update()");if(o)throw new Error(o.message);const a=HD(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),Ue(this,"isValidExtend",async n=>{if(!Vs(n)){const{message:i}=Ke("MISSING_OR_INVALID",`extend() params: ${n}`);throw new Error(i)}const{topic:r}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r)}),Ue(this,"isValidRequest",async n=>{if(!Vs(n)){const{message:c}=Ke("MISSING_OR_INVALID",`request() params: ${n}`);throw new Error(c)}const{topic:r,request:i,chainId:s,expiry:o}=n;this.checkRecentlyDeleted(r),await this.isValidSessionTopic(r);const{namespaces:a}=this.client.session.get(r);if(!VD(a,s)){const{message:c}=Ke("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!qme(i)){const{message:c}=Ke("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!Kme(a,s,i.method)){const{message:c}=Ke("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!Zme(o,N_)){const{message:c}=Ke("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${N_.min} and ${N_.max}`);throw new Error(c)}}),Ue(this,"isValidRespond",async n=>{var r;if(!Vs(n)){const{message:o}=Ke("MISSING_OR_INVALID",`respond() params: ${n}`);throw new Error(o)}const{topic:i,response:s}=n;try{await this.isValidSessionTopic(i)}catch(o){throw(r=n==null?void 0:n.response)!=null&&r.id&&this.cleanupAfterResponse(n),o}if(!Wme(s)){const{message:o}=Ke("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),Ue(this,"isValidPing",async n=>{if(!Vs(n)){const{message:i}=Ke("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Ue(this,"isValidEmit",async n=>{if(!Vs(n)){const{message:a}=Ke("MISSING_OR_INVALID",`emit() params: ${n}`);throw new Error(a)}const{topic:r,event:i,chainId:s}=n;await this.isValidSessionTopic(r);const{namespaces:o}=this.client.session.get(r);if(!VD(o,s)){const{message:a}=Ke("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!Gme(i)){const{message:a}=Ke("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!Yme(o,s,i.name)){const{message:a}=Ke("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Ue(this,"isValidDisconnect",async n=>{if(!Vs(n)){const{message:i}=Ke("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(i)}const{topic:r}=n;await this.isValidSessionOrPairingTopic(r)}),Ue(this,"isValidAuthenticate",n=>{const{chains:r,uri:i,domain:s,nonce:o}=n;if(!Array.isArray(r)||r.length===0)throw new Error("chains is required and must be a non-empty array");if(!Wr(i,!1))throw new Error("uri is required parameter");if(!Wr(s,!1))throw new Error("domain is required parameter");if(!Wr(o,!1))throw new Error("nonce is required parameter");if([...new Set(r.map(c=>Xg(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=Xg(r[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Ue(this,"getVerifyContext",async n=>{const{attestationId:r,hash:i,encryptedId:s,metadata:o,transportType:a}=n,c={verified:{verifyUrl:o.verifyUrl||$w,validation:"UNKNOWN",origin:o.url||""}};try{if(a===er.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:r,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Ue(this,"validateSessionProps",(n,r)=>{Object.values(n).forEach((i,s)=>{if(i==null){const{message:o}=Ke("MISSING_OR_INVALID",`${r} must contain an existing value for each key. Received: ${i} for key ${Object.keys(n)[s]}`);throw new Error(o)}})}),Ue(this,"getPendingAuthRequest",n=>{const r=this.client.auth.requests.get(n);return typeof r=="object"?r:void 0}),Ue(this,"addToRecentlyDeleted",(n,r)=>{if(this.recentlyDeletedMap.set(n,r),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Ue(this,"checkRecentlyDeleted",n=>{const r=this.recentlyDeletedMap.get(n);if(r){const{message:i}=Ke("MISSING_OR_INVALID",`Record was recently deleted - ${r}: ${n}`);throw new Error(i)}}),Ue(this,"isLinkModeEnabled",(n,r)=>{var i,s,o,a,c,l,u,d,h;return!n||r!==er.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=n==null?void 0:n.redirect)==null?void 0:u.universal)!==void 0&&((d=n==null?void 0:n.redirect)==null?void 0:d.universal)!==""&&((h=n==null?void 0:n.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(n.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Ue(this,"getAppLinkIfEnabled",(n,r)=>{var i;return this.isLinkModeEnabled(n,r)?(i=n==null?void 0:n.redirect)==null?void 0:i.universal:void 0}),Ue(this,"handleLinkModeMessage",({url:n})=>{if(!n||!n.includes("wc_ev")||!n.includes("topic"))return;const r=cD(n,"topic")||"",i=decodeURIComponent(cD(n,"wc_ev")||""),s=this.client.session.keys.includes(r);s&&this.client.session.update(r,{transportType:er.link_mode}),this.client.core.dispatchEnvelope({topic:r,message:i,sessionExists:s})}),Ue(this,"registerLinkModeListeners",async()=>{var n;if(wk()||Oh()&&(n=this.client.metadata.redirect)!=null&&n.linkMode){const r=global==null?void 0:global.Linking;if(typeof r<"u"){r.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await r.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Ue(this,"shouldSetTVF",(n,r)=>{if(!r||n!=="wc_sessionRequest")return!1;const{request:i}=r;return Object.keys(Nj).includes(i.method)}),Ue(this,"getTVFParams",(n,r,i)=>{var s,o;try{const a=r.request.method,c=this.extractTxHashesFromResult(a,i);return ms(Fn({correlationId:n,rpcMethods:[a],chainId:r.chainId},this.isValidContractData(r.request.params)&&{contractAddresses:[(o=(s=r.request.params)==null?void 0:s[0])==null?void 0:o.to]}),{txHashes:c})}catch(a){this.client.logger.warn("Error getting TVF params",a)}return{}}),Ue(this,"isValidContractData",n=>{var r;if(!n)return!1;try{const i=(n==null?void 0:n.data)||((r=n==null?void 0:n[0])==null?void 0:r.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Ue(this,"extractTxHashesFromResult",(n,r)=>{try{const i=Nj[n];if(typeof r=="string")return[r];const s=r[i.key];if(dh(s))return n==="solana_signAllTransactions"?s.map(o=>Nfe(o)):s;if(typeof s=="string")return[s]}catch(i){this.client.logger.warn("Error extracting tx hashes from result",i)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,n=this.client.core.relayer.messages.getWithoutAck(e);for(const[r,i]of Object.entries(n))for(const s of i)try{await this.onProviderMessageEvent({topic:r,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${r}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=Ke("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(mi.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:n,message:r,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(qx)?this.client.auth.authKeys.get(qx):{responseTopic:void 0,publicKey:void 0};try{const a=await this.client.core.crypto.decode(n,r,{receiverPublicKey:o,encoding:s===er.link_mode?Sd:sc});Pk(a)?(this.client.core.history.set(n,a),await this.onRelayEventRequest({topic:n,payload:a,attestation:i,transportType:s,encryptedId:Xc(r)})):TS(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:n,payload:a,transportType:s}),this.client.core.history.delete(n,a.id)):await this.onRelayEventUnknownPayload({topic:n,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(n,r)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(ia.expired,async e=>{const{topic:n,id:r}=Zz(e.target);if(r&&this.client.pendingRequest.keys.includes(r))return await this.deletePendingSessionRequest(r,Ke("EXPIRED"),!0);if(r&&this.client.auth.requests.keys.includes(r))return await this.deletePendingAuthRequest(r,Ke("EXPIRED"),!0);n?this.client.session.keys.includes(n)&&(await this.deleteSession({topic:n,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:n})):r&&(await this.deleteProposal(r,!0),this.client.events.emit("proposal_expire",{id:r}))})}registerPairingEvents(){this.client.core.pairing.events.on(ff.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(ff.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!Wr(e,!1)){const{message:n}=Ke("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(n)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:n}=Ke("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(n)}if(vd(this.client.core.pairing.pairings.get(e).expiry)){const{message:n}=Ke("EXPIRED",`pairing topic: ${e}`);throw new Error(n)}}async isValidSessionTopic(e){if(!Wr(e,!1)){const{message:n}=Ke("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(n)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:n}=Ke("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(n)}if(vd(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:n}=Ke("EXPIRED",`session topic: ${e}`);throw new Error(n)}if(!this.client.core.crypto.keychain.has(e)){const{message:n}=Ke("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(n)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(Wr(e,!1)){const{message:n}=Ke("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(n)}else{const{message:n}=Ke("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(n)}}async isValidProposalId(e){if(!Vme(e)){const{message:n}=Ke("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(n)}if(!this.client.proposal.keys.includes(e)){const{message:n}=Ke("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(n)}if(vd(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:n}=Ke("EXPIRED",`proposal id: ${e}`);throw new Error(n)}}}class Gwe extends Jp{constructor(e,n){super(e,n,kwe,Ik),this.core=e,this.logger=n}}let Kwe=class extends Jp{constructor(e,n){super(e,n,Owe,Ik),this.core=e,this.logger=n}};class Ywe extends Jp{constructor(e,n){super(e,n,Lwe,Ik,r=>r.id),this.core=e,this.logger=n}}class Jwe extends Jp{constructor(e,n){super(e,n,Bwe,OS,()=>qx),this.core=e,this.logger=n}}class Qwe extends Jp{constructor(e,n){super(e,n,Uwe,OS),this.core=e,this.logger=n}}class Zwe extends Jp{constructor(e,n){super(e,n,Fwe,OS,r=>r.id),this.core=e,this.logger=n}}var Xwe=Object.defineProperty,eve=(t,e,n)=>e in t?Xwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,__=(t,e,n)=>eve(t,typeof e!="symbol"?e+"":e,n);class tve{constructor(e,n){this.core=e,this.logger=n,__(this,"authKeys"),__(this,"pairingTopics"),__(this,"requests"),this.authKeys=new Jwe(this.core,this.logger),this.pairingTopics=new Qwe(this.core,this.logger),this.requests=new Zwe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var nve=Object.defineProperty,rve=(t,e,n)=>e in t?nve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,nn=(t,e,n)=>rve(t,typeof e!="symbol"?e+"":e,n);let ive=class oH extends xae{constructor(e){super(e),nn(this,"protocol",rH),nn(this,"version",iH),nn(this,"name",C_.name),nn(this,"metadata"),nn(this,"core"),nn(this,"logger"),nn(this,"events",new xa.EventEmitter),nn(this,"engine"),nn(this,"session"),nn(this,"proposal"),nn(this,"pendingRequest"),nn(this,"auth"),nn(this,"signConfig"),nn(this,"on",(r,i)=>this.events.on(r,i)),nn(this,"once",(r,i)=>this.events.once(r,i)),nn(this,"off",(r,i)=>this.events.off(r,i)),nn(this,"removeListener",(r,i)=>this.events.removeListener(r,i)),nn(this,"removeAllListeners",r=>this.events.removeAllListeners(r)),nn(this,"connect",async r=>{try{return await this.engine.connect(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"pair",async r=>{try{return await this.engine.pair(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"approve",async r=>{try{return await this.engine.approve(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"reject",async r=>{try{return await this.engine.reject(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"update",async r=>{try{return await this.engine.update(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"extend",async r=>{try{return await this.engine.extend(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"request",async r=>{try{return await this.engine.request(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"respond",async r=>{try{return await this.engine.respond(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"ping",async r=>{try{return await this.engine.ping(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"emit",async r=>{try{return await this.engine.emit(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"disconnect",async r=>{try{return await this.engine.disconnect(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"find",r=>{try{return this.engine.find(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(r){throw this.logger.error(r.message),r}}),nn(this,"authenticate",async(r,i)=>{try{return await this.engine.authenticate(r,i)}catch(s){throw this.logger.error(s.message),s}}),nn(this,"formatAuthMessage",r=>{try{return this.engine.formatAuthMessage(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"approveSessionAuthenticate",async r=>{try{return await this.engine.approveSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),nn(this,"rejectSessionAuthenticate",async r=>{try{return await this.engine.rejectSessionAuthenticate(r)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||C_.name,this.metadata=Uhe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const n=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Xb(By({level:(e==null?void 0:e.logger)||C_.logger}));this.core=(e==null?void 0:e.core)||new Twe(e),this.logger=ds(n,this.name),this.session=new Kwe(this.core,this.logger),this.proposal=new Gwe(this.core,this.logger),this.pendingRequest=new Ywe(this.core,this.logger),this.engine=new Wwe(this),this.auth=new tve(this.core,this.logger)}static async init(e){const n=new oH(e);return await n.initialize(),n}get context(){return io(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success"),setTimeout(()=>{this.engine.processRelayMessageCache()},We.toMiliseconds(We.ONE_SECOND))}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var A4={exports:{}};(function(t,e){var n=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Zc<"u"&&Zc,r=function(){function s(){this.fetch=!1,this.DOMException=n.DOMException}return s.prototype=n,new s}();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof Zc<"u"&&Zc||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(T){return T&&DataView.prototype.isPrototypeOf(T)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],d=ArrayBuffer.isView||function(T){return T&&u.indexOf(Object.prototype.toString.call(T))>-1};function h(T){if(typeof T!="string"&&(T=String(T)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(T)||T==="")throw new TypeError('Invalid character in header field name: "'+T+'"');return T.toLowerCase()}function f(T){return typeof T!="string"&&(T=String(T)),T}function m(T){var k={next:function(){var W=T.shift();return{done:W===void 0,value:W}}};return c.iterable&&(k[Symbol.iterator]=function(){return k}),k}function g(T){this.map={},T instanceof g?T.forEach(function(k,W){this.append(W,k)},this):Array.isArray(T)?T.forEach(function(k){if(k.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+k.length);this.append(k[0],k[1])},this):T&&Object.getOwnPropertyNames(T).forEach(function(k){this.append(k,T[k])},this)}g.prototype.append=function(T,k){T=h(T),k=f(k);var W=this.map[T];this.map[T]=W?W+", "+k:k},g.prototype.delete=function(T){delete this.map[h(T)]},g.prototype.get=function(T){return T=h(T),this.has(T)?this.map[T]:null},g.prototype.has=function(T){return this.map.hasOwnProperty(h(T))},g.prototype.set=function(T,k){this.map[h(T)]=f(k)},g.prototype.forEach=function(T,k){for(var W in this.map)this.map.hasOwnProperty(W)&&T.call(k,this.map[W],W,this)},g.prototype.keys=function(){var T=[];return this.forEach(function(k,W){T.push(W)}),m(T)},g.prototype.values=function(){var T=[];return this.forEach(function(k){T.push(k)}),m(T)},g.prototype.entries=function(){var T=[];return this.forEach(function(k,W){T.push([W,k])}),m(T)},c.iterable&&(g.prototype[Symbol.iterator]=g.prototype.entries);function E(T){if(!T._noBody){if(T.bodyUsed)return Promise.reject(new TypeError("Already read"));T.bodyUsed=!0}}function y(T){return new Promise(function(k,W){T.onload=function(){k(T.result)},T.onerror=function(){W(T.error)}})}function w(T){var k=new FileReader,W=y(k);return k.readAsArrayBuffer(T),W}function x(T){var k=new FileReader,W=y(k),B=/charset=([A-Za-z0-9_-]+)/.exec(T.type),z=B?B[1]:"utf-8";return k.readAsText(T,z),W}function C(T){for(var k=new Uint8Array(T),W=new Array(k.length),B=0;B<k.length;B++)W[B]=String.fromCharCode(k[B]);return W.join("")}function N(T){if(T.slice)return T.slice(0);var k=new Uint8Array(T.byteLength);return k.set(new Uint8Array(T)),k.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(T){this.bodyUsed=this.bodyUsed,this._bodyInit=T,T?typeof T=="string"?this._bodyText=T:c.blob&&Blob.prototype.isPrototypeOf(T)?this._bodyBlob=T:c.formData&&FormData.prototype.isPrototypeOf(T)?this._bodyFormData=T:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)?this._bodyText=T.toString():c.arrayBuffer&&c.blob&&l(T)?(this._bodyArrayBuffer=N(T.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(T)||d(T))?this._bodyArrayBuffer=N(T):this._bodyText=T=Object.prototype.toString.call(T):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof T=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(T)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var T=E(this);if(T)return T;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var T=E(this);return T||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(w);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var T=E(this);if(T)return T;if(this._bodyBlob)return x(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(C(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var O=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function P(T){var k=T.toUpperCase();return O.indexOf(k)>-1?k:T}function L(T,k){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');k=k||{};var W=k.body;if(T instanceof L){if(T.bodyUsed)throw new TypeError("Already read");this.url=T.url,this.credentials=T.credentials,k.headers||(this.headers=new g(T.headers)),this.method=T.method,this.mode=T.mode,this.signal=T.signal,!W&&T._bodyInit!=null&&(W=T._bodyInit,T.bodyUsed=!0)}else this.url=String(T);if(this.credentials=k.credentials||this.credentials||"same-origin",(k.headers||!this.headers)&&(this.headers=new g(k.headers)),this.method=P(k.method||this.method||"GET"),this.mode=k.mode||this.mode||null,this.signal=k.signal||this.signal||function(){if("AbortController"in a){var Z=new AbortController;return Z.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&W)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(W),(this.method==="GET"||this.method==="HEAD")&&(k.cache==="no-store"||k.cache==="no-cache")){var B=/([?&])_=[^&]*/;if(B.test(this.url))this.url=this.url.replace(B,"$1_="+new Date().getTime());else{var z=/\?/;this.url+=(z.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function $(T){var k=new FormData;return T.trim().split("&").forEach(function(W){if(W){var B=W.split("="),z=B.shift().replace(/\+/g," "),Z=B.join("=").replace(/\+/g," ");k.append(decodeURIComponent(z),decodeURIComponent(Z))}}),k}function _(T){var k=new g,W=T.replace(/\r?\n[\t ]+/g," ");return W.split("\r").map(function(B){return B.indexOf(`
`)===0?B.substr(1,B.length):B}).forEach(function(B){var z=B.split(":"),Z=z.shift().trim();if(Z){var he=z.join(":").trim();try{k.append(Z,he)}catch(R){console.warn("Response "+R.message)}}}),k}D.call(L.prototype);function j(T,k){if(!(this instanceof j))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(k||(k={}),this.type="default",this.status=k.status===void 0?200:k.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=k.statusText===void 0?"":""+k.statusText,this.headers=new g(k.headers),this.url=k.url||"",this._initBody(T)}D.call(j.prototype),j.prototype.clone=function(){return new j(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new g(this.headers),url:this.url})},j.error=function(){var T=new j(null,{status:200,statusText:""});return T.ok=!1,T.status=0,T.type="error",T};var K=[301,302,303,307,308];j.redirect=function(T,k){if(K.indexOf(k)===-1)throw new RangeError("Invalid status code");return new j(null,{status:k,headers:{location:T}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(k,W){this.message=k,this.name=W;var B=Error(k);this.stack=B.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function V(T,k){return new Promise(function(W,B){var z=new L(T,k);if(z.signal&&z.signal.aborted)return B(new o.DOMException("Aborted","AbortError"));var Z=new XMLHttpRequest;function he(){Z.abort()}Z.onload=function(){var J={statusText:Z.statusText,headers:_(Z.getAllResponseHeaders()||"")};z.url.indexOf("file://")===0&&(Z.status<200||Z.status>599)?J.status=200:J.status=Z.status,J.url="responseURL"in Z?Z.responseURL:J.headers.get("X-Request-URL");var ne="response"in Z?Z.response:Z.responseText;setTimeout(function(){W(new j(ne,J))},0)},Z.onerror=function(){setTimeout(function(){B(new TypeError("Network request failed"))},0)},Z.ontimeout=function(){setTimeout(function(){B(new TypeError("Network request timed out"))},0)},Z.onabort=function(){setTimeout(function(){B(new o.DOMException("Aborted","AbortError"))},0)};function R(J){try{return J===""&&a.location.href?a.location.href:J}catch{return J}}if(Z.open(z.method,R(z.url),!0),z.credentials==="include"?Z.withCredentials=!0:z.credentials==="omit"&&(Z.withCredentials=!1),"responseType"in Z&&(c.blob?Z.responseType="blob":c.arrayBuffer&&(Z.responseType="arraybuffer")),k&&typeof k.headers=="object"&&!(k.headers instanceof g||a.Headers&&k.headers instanceof a.Headers)){var Y=[];Object.getOwnPropertyNames(k.headers).forEach(function(J){Y.push(h(J)),Z.setRequestHeader(J,f(k.headers[J]))}),z.headers.forEach(function(J,ne){Y.indexOf(ne)===-1&&Z.setRequestHeader(ne,J)})}else z.headers.forEach(function(J,ne){Z.setRequestHeader(ne,J)});z.signal&&(z.signal.addEventListener("abort",he),Z.onreadystatechange=function(){Z.readyState===4&&z.signal.removeEventListener("abort",he)}),Z.send(typeof z._bodyInit>"u"?null:z._bodyInit)})}return V.polyfill=!0,a.fetch||(a.fetch=V,a.Headers=g,a.Request=L,a.Response=j),o.Headers=g,o.Request=L,o.Response=j,o.fetch=V,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(r),r.fetch.ponyfill=!0,delete r.fetch.polyfill;var i=n.fetch?n:r;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(A4,A4.exports);var sve=A4.exports;const Pj=Ub(sve);var ove=Object.defineProperty,ave=Object.defineProperties,cve=Object.getOwnPropertyDescriptors,Ij=Object.getOwnPropertySymbols,lve=Object.prototype.hasOwnProperty,uve=Object.prototype.propertyIsEnumerable,Tj=(t,e,n)=>e in t?ove(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,kj=(t,e)=>{for(var n in e||(e={}))lve.call(e,n)&&Tj(t,n,e[n]);if(Ij)for(var n of Ij(e))uve.call(e,n)&&Tj(t,n,e[n]);return t},Oj=(t,e)=>ave(t,cve(e));const dve={Accept:"application/json","Content-Type":"application/json"},hve="POST",Rj={headers:dve,method:hve},Lj=10;let vc=class{constructor(e,n=!1){if(this.url=e,this.disableProviderPing=n,this.events=new xa.EventEmitter,this.isAvailable=!1,this.registering=!1,!JD(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=n}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}off(e,n){this.events.off(e,n)}removeListener(e,n){this.events.removeListener(e,n)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const n=Lu(e),r=await(await Pj(this.url,Oj(kj({},Rj),{body:n}))).json();this.onPayload({data:r})}catch(n){this.onError(e.id,n)}}async register(e=this.url){if(!JD(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const n=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=n||this.events.listenerCount("open")>=n)&&this.events.setMaxListeners(n+1),new Promise((r,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));r()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const n=Lu({id:1,jsonrpc:"2.0",method:"test",params:[]});await Pj(e,Oj(kj({},Rj),{body:n}))}this.onOpen()}catch(n){const r=this.parseError(n);throw this.events.emit("register_error",r),this.onClose(),r}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const n=typeof e.data=="string"?Ep(e.data):e.data;this.events.emit("payload",n)}onError(e,n){const r=this.parseError(n),i=r.message||r.toString(),s=IS(e,i);this.events.emit("payload",s)}parseError(e,n=this.url){return jV(e,n,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>Lj&&this.events.setMaxListeners(Lj)}};const Dj="error",fve="wss://relay.walletconnect.org",pve="wc",mve="universal_provider",Z5=`${pve}@2:${mve}:`,aH="https://rpc.walletconnect.org/v1/",og="generic",gve=`${aH}bundler`,Aa={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function yve(){}function Tk(t){return t==null||typeof t!="object"&&typeof t!="function"}function kk(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function wve(t){if(Tk(t))return t;if(Array.isArray(t)||kk(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),n=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new n(t);if(t instanceof RegExp){const r=new n(t);return r.lastIndex=t.lastIndex,r}if(t instanceof DataView)return new n(t.buffer.slice(0));if(t instanceof Error){const r=new n(t.message);return r.stack=t.stack,r.name=t.name,r.cause=t.cause,r}if(typeof File<"u"&&t instanceof File)return new n([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const r=Object.create(e);return Object.assign(r,t)}return t}function jj(t){return typeof t=="object"&&t!==null}function cH(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function lH(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const vve="[object RegExp]",uH="[object String]",dH="[object Number]",hH="[object Boolean]",fH="[object Arguments]",bve="[object Symbol]",xve="[object Date]",Eve="[object Map]",Ave="[object Set]",Sve="[object Array]",Cve="[object ArrayBuffer]",Nve="[object Object]",_ve="[object DataView]",Pve="[object Uint8Array]",Ive="[object Uint8ClampedArray]",Tve="[object Uint16Array]",kve="[object Uint32Array]",Ove="[object Int8Array]",Rve="[object Int16Array]",Lve="[object Int32Array]",Dve="[object Float32Array]",jve="[object Float64Array]";function Mve(t,e){return Og(t,void 0,t,new Map,e)}function Og(t,e,n,r=new Map,i=void 0){const s=i==null?void 0:i(t,e,n,r);if(s!=null)return s;if(Tk(t))return t;if(r.has(t))return r.get(t);if(Array.isArray(t)){const o=new Array(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Og(t[a],a,n,r,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;r.set(t,o);for(const[a,c]of t)o.set(a,Og(c,a,n,r,i));return o}if(t instanceof Set){const o=new Set;r.set(t,o);for(const a of t)o.add(Og(a,void 0,n,r,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(kk(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);r.set(t,o);for(let a=0;a<t.length;a++)o[a]=Og(t[a],a,n,r,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return r.set(t,o),pf(o,t,n,r,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return r.set(t,o),pf(o,t,n,r,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return r.set(t,o),pf(o,t,n,r,i),o}if(t instanceof Error){const o=new t.constructor;return r.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,pf(o,t,n,r,i),o}if(typeof t=="object"&&Bve(t)){const o=Object.create(Object.getPrototypeOf(t));return r.set(t,o),pf(o,t,n,r,i),o}return t}function pf(t,e,n=t,r,i){const s=[...Object.keys(e),...cH(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Og(e[a],a,n,r,i))}}function Bve(t){switch(lH(t)){case fH:case Sve:case Cve:case _ve:case hH:case xve:case Dve:case jve:case Ove:case Rve:case Lve:case Eve:case dH:case Nve:case vve:case Ave:case uH:case bve:case Pve:case Ive:case Tve:case kve:return!0;default:return!1}}function Uve(t,e){return Mve(t,(n,r,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case dH:case uH:case hH:{const o=new t.constructor(t==null?void 0:t.valueOf());return pf(o,t),o}case fH:{const o={};return pf(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function Mj(t){return Uve(t)}function Bj(t){return t!==null&&typeof t=="object"&&lH(t)==="[object Arguments]"}function Fve(t){return kk(t)}function $ve(t){var n;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!((n=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&n.writable)?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function zve(t,...e){const n=e.slice(0,-1),r=e[e.length-1];let i=t;for(let s=0;s<n.length;s++){const o=n[s];i=S4(i,o,r,new Map)}return i}function S4(t,e,n,r){if(Tk(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(r.has(e))return wve(r.get(e));if(r.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...cH(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(Bj(a)&&(a={...a}),Bj(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=Mj(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],d=Reflect.ownKeys(c);for(let h=0;h<d.length;h++){const f=d[h];u[f]=c[f]}c=u}else c=[];const l=n(c,a,o,t,e,r);l!=null?t[o]=l:Array.isArray(a)||jj(c)&&jj(a)?t[o]=S4(c,a,n,r):c==null&&$ve(a)?t[o]=S4({},a,n,r):c==null&&Fve(a)?t[o]=Mj(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function Vve(t,...e){return zve(t,...e,yve)}var Hve=Object.defineProperty,qve=Object.defineProperties,Wve=Object.getOwnPropertyDescriptors,Uj=Object.getOwnPropertySymbols,Gve=Object.prototype.hasOwnProperty,Kve=Object.prototype.propertyIsEnumerable,Fj=(t,e,n)=>e in t?Hve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,X5=(t,e)=>{for(var n in e||(e={}))Gve.call(e,n)&&Fj(t,n,e[n]);if(Uj)for(var n of Uj(e))Kve.call(e,n)&&Fj(t,n,e[n]);return t},Yve=(t,e)=>qve(t,Wve(e));function jo(t,e,n){var r;const i=Xg(t);return((r=e.rpcMap)==null?void 0:r[i.reference])||`${aH}?chainId=${i.namespace}:${i.reference}&projectId=${n}`}function Qp(t){return t.includes(":")?t.split(":")[1]:t}function pH(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function Jve(t,e){const n=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!n.length)return[];const r=[];return n.forEach(i=>{const s=e.namespaces[i].accounts;r.push(...s)}),r}function P_(t={},e={}){const n=$j(t),r=$j(e);return Vve(n,r)}function $j(t){var e,n,r,i;const s={};if(!Ov(t))return s;for(const[o,a]of Object.entries(t)){const c=Ck(o)?[o]:a.chains,l=a.methods||[],u=a.events||[],d=a.rpcMap||{},h=hw(o);s[h]=Yve(X5(X5({},s[h]),a),{chains:$x(c,(e=s[h])==null?void 0:e.chains),methods:$x(l,(n=s[h])==null?void 0:n.methods),events:$x(u,(r=s[h])==null?void 0:r.events),rpcMap:X5(X5({},d),(i=s[h])==null?void 0:i.rpcMap)})}return s}function zj(t){return t.includes(":")?t.split(":")[2]:t}function Vj(t){const e={};for(const[n,r]of Object.entries(t)){const i=r.methods||[],s=r.events||[],o=r.accounts||[],a=Ck(n)?[n]:r.chains?r.chains:pH(r.accounts);e[n]={chains:a,methods:i,events:s,accounts:o}}return e}function I_(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const mH={},gn=t=>mH[t],T_=(t,e)=>{mH[t]=e};var Qve=Object.defineProperty,Zve=(t,e,n)=>e in t?Qve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Fm=(t,e,n)=>Zve(t,typeof e!="symbol"?e+"":e,n);class Xve{constructor(e){Fm(this,"name","polkadot"),Fm(this,"client"),Fm(this,"httpProviders"),Fm(this,"events"),Fm(this,"namespace"),Fm(this,"chainId"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Qp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ea(new vc(r,gn("disableProviderPing")))}}var ebe=Object.defineProperty,tbe=Object.defineProperties,nbe=Object.getOwnPropertyDescriptors,Hj=Object.getOwnPropertySymbols,rbe=Object.prototype.hasOwnProperty,ibe=Object.prototype.propertyIsEnumerable,C4=(t,e,n)=>e in t?ebe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qj=(t,e)=>{for(var n in e||(e={}))rbe.call(e,n)&&C4(t,n,e[n]);if(Hj)for(var n of Hj(e))ibe.call(e,n)&&C4(t,n,e[n]);return t},Wj=(t,e)=>tbe(t,nbe(e)),$m=(t,e,n)=>C4(t,typeof e!="symbol"?e+"":e,n);class sbe{constructor(e){$m(this,"name","eip155"),$m(this,"client"),$m(this,"chainId"),$m(this,"namespace"),$m(this,"httpProviders"),$m(this,"events"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(parseInt(e),n),this.chainId=parseInt(e),this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,n){const r=n||jo(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ea(new vc(r,gn("disableProviderPing")))}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=parseInt(Qp(n));e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}async handleSwitchChain(e){var n,r;let i=e.request.params?(n=e.request.params[0])==null?void 0:n.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(r=this.namespace.chains)==null?void 0:r[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var n,r,i;const s=(r=(n=e.request)==null?void 0:n.params)==null?void 0:r[0];if(!s)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const o=this.client.session.get(e.topic),a=((i=o==null?void 0:o.sessionProperties)==null?void 0:i.capabilities)||{};if(a!=null&&a[s])return a==null?void 0:a[s];const c=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:Wj(qj({},o.sessionProperties||{}),{capabilities:Wj(qj({},a||{}),{[s]:c})})})}catch(l){console.warn("Failed to update session with capabilities",l)}return c}async getCallStatus(e){var n,r;const i=this.client.session.get(e.topic),s=(n=i.sessionProperties)==null?void 0:n.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(r=i.sessionProperties)==null?void 0:r.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,n){var r;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Xd("eth_getUserOperationReceipt",[(r=n.request.params)==null?void 0:r[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,n){return`${gve}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${n}`}}var obe=Object.defineProperty,abe=(t,e,n)=>e in t?obe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,zm=(t,e,n)=>abe(t,typeof e!="symbol"?e+"":e,n);class cbe{constructor(e){zm(this,"name","solana"),zm(this,"client"),zm(this,"httpProviders"),zm(this,"events"),zm(this,"namespace"),zm(this,"chainId"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Qp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ea(new vc(r,gn("disableProviderPing")))}}var lbe=Object.defineProperty,ube=(t,e,n)=>e in t?lbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vm=(t,e,n)=>ube(t,typeof e!="symbol"?e+"":e,n);class dbe{constructor(e){Vm(this,"name","cosmos"),Vm(this,"client"),Vm(this,"httpProviders"),Vm(this,"events"),Vm(this,"namespace"),Vm(this,"chainId"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Qp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ea(new vc(r,gn("disableProviderPing")))}}var hbe=Object.defineProperty,fbe=(t,e,n)=>e in t?hbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Hm=(t,e,n)=>fbe(t,typeof e!="symbol"?e+"":e,n);class pbe{constructor(e){Hm(this,"name","algorand"),Hm(this,"client"),Hm(this,"httpProviders"),Hm(this,"events"),Hm(this,"namespace"),Hm(this,"chainId"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(!this.httpProviders[e]){const r=n||jo(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jo(e,this.namespace,this.client.core.projectId);return typeof r>"u"?void 0:new Ea(new vc(r,gn("disableProviderPing")))}}var mbe=Object.defineProperty,gbe=(t,e,n)=>e in t?mbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,qm=(t,e,n)=>gbe(t,typeof e!="symbol"?e+"":e,n);class ybe{constructor(e){qm(this,"name","cip34"),qm(this,"client"),qm(this,"httpProviders"),qm(this,"events"),qm(this,"namespace"),qm(this,"chainId"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{const r=this.getCardanoRPCUrl(n),i=Qp(n);e[i]=this.createHttpProvider(i,r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}getCardanoRPCUrl(e){const n=this.namespace.rpcMap;if(n)return n[e]}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||this.getCardanoRPCUrl(e);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ea(new vc(r,gn("disableProviderPing")))}}var wbe=Object.defineProperty,vbe=(t,e,n)=>e in t?wbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Wm=(t,e,n)=>vbe(t,typeof e!="symbol"?e+"":e,n);class bbe{constructor(e){Wm(this,"name","elrond"),Wm(this,"client"),Wm(this,"httpProviders"),Wm(this,"events"),Wm(this,"namespace"),Wm(this,"chainId"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Qp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ea(new vc(r,gn("disableProviderPing")))}}var xbe=Object.defineProperty,Ebe=(t,e,n)=>e in t?xbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Gm=(t,e,n)=>Ebe(t,typeof e!="symbol"?e+"":e,n);class Abe{constructor(e){Gm(this,"name","multiversx"),Gm(this,"client"),Gm(this,"httpProviders"),Gm(this,"events"),Gm(this,"namespace"),Gm(this,"chainId"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;const i=Qp(n);e[i]=this.createHttpProvider(i,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ea(new vc(r,gn("disableProviderPing")))}}var Sbe=Object.defineProperty,Cbe=(t,e,n)=>e in t?Sbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Km=(t,e,n)=>Cbe(t,typeof e!="symbol"?e+"":e,n);class Nbe{constructor(e){Km(this,"name","near"),Km(this,"client"),Km(this,"httpProviders"),Km(this,"events"),Km(this,"namespace"),Km(this,"chainId"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||jo(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{var r;e[n]=this.createHttpProvider(n,(r=this.namespace.rpcMap)==null?void 0:r[n])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jo(e,this.namespace);return typeof r>"u"?void 0:new Ea(new vc(r,gn("disableProviderPing")))}}var _be=Object.defineProperty,Pbe=(t,e,n)=>e in t?_be(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Ym=(t,e,n)=>Pbe(t,typeof e!="symbol"?e+"":e,n);class Ibe{constructor(e){Ym(this,"name","tezos"),Ym(this,"client"),Ym(this,"httpProviders"),Ym(this,"events"),Ym(this,"namespace"),Ym(this,"chainId"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,n){if(this.chainId=e,!this.httpProviders[e]){const r=n||jo(`${this.name}:${e}`,this.namespace);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,r)}this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(n=>{e[n]=this.createHttpProvider(n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jo(e,this.namespace);return typeof r>"u"?void 0:new Ea(new vc(r))}}var Tbe=Object.defineProperty,kbe=(t,e,n)=>e in t?Tbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Jm=(t,e,n)=>kbe(t,typeof e!="symbol"?e+"":e,n);class Obe{constructor(e){Jm(this,"name",og),Jm(this,"client"),Jm(this,"httpProviders"),Jm(this,"events"),Jm(this,"namespace"),Jm(this,"chainId"),this.namespace=e.namespace,this.events=gn("events"),this.client=gn("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,n){this.httpProviders[e]||this.setHttpProvider(e,n),this.chainId=e,this.events.emit(Aa.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(n=>n.split(":")[1]===this.chainId.toString()).map(n=>n.split(":")[2]))]:[]}createHttpProviders(){var e,n;const r={};return(n=(e=this.namespace)==null?void 0:e.accounts)==null||n.forEach(i=>{const s=Xg(i);r[`${s.namespace}:${s.reference}`]=this.createHttpProvider(i)}),r}getHttpProvider(e){const n=this.httpProviders[e];if(typeof n>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return n}setHttpProvider(e,n){const r=this.createHttpProvider(e,n);r&&(this.httpProviders[e]=r)}createHttpProvider(e,n){const r=n||jo(e,this.namespace,this.client.core.projectId);if(!r)throw new Error(`No RPC url provided for chainId: ${e}`);return new Ea(new vc(r,gn("disableProviderPing")))}}var Rbe=Object.defineProperty,Lbe=Object.defineProperties,Dbe=Object.getOwnPropertyDescriptors,Gj=Object.getOwnPropertySymbols,jbe=Object.prototype.hasOwnProperty,Mbe=Object.prototype.propertyIsEnumerable,N4=(t,e,n)=>e in t?Rbe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,ex=(t,e)=>{for(var n in e||(e={}))jbe.call(e,n)&&N4(t,n,e[n]);if(Gj)for(var n of Gj(e))Mbe.call(e,n)&&N4(t,n,e[n]);return t},k_=(t,e)=>Lbe(t,Dbe(e)),Zo=(t,e,n)=>N4(t,typeof e!="symbol"?e+"":e,n);let Bbe=class gH{constructor(e){Zo(this,"client"),Zo(this,"namespaces"),Zo(this,"optionalNamespaces"),Zo(this,"sessionProperties"),Zo(this,"scopedProperties"),Zo(this,"events",new ok),Zo(this,"rpcProviders",{}),Zo(this,"session"),Zo(this,"providerOpts"),Zo(this,"logger"),Zo(this,"uri"),Zo(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Xb(By({level:(e==null?void 0:e.logger)||Dj})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const n=new gH(e);return await n.initialize(),n}async request(e,n,r){const[i,s]=this.validateChain(n);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:ex({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:r})}sendAsync(e,n,r,i){const s=new Date().getTime();this.request(e,r,i).then(o=>n(null,PS(s,o))).catch(o=>n(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Ln("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),await this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,n){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:r,response:i}=await this.client.authenticate(e,n);r&&(this.uri=r,this.events.emit("display_uri",r));const s=await i();if(this.session=s.session,this.session){const o=Vj(this.session.namespaces);this.namespaces=P_(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,n){this.events.on(e,n)}once(e,n){this.events.once(e,n)}removeListener(e,n){this.events.removeListener(e,n)}off(e,n){this.events.off(e,n)}get isWalletConnect(){return!0}async pair(e){const{uri:n,approval:r}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});n&&(this.uri=n,this.events.emit("display_uri",n));const i=await r();this.session=i;const s=Vj(i.namespaces);return this.namespaces=P_(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,n){try{if(!this.session)return;const[r,i]=this.validateChain(e),s=this.getProvider(r);s.name===og?s.setDefaultChain(`${r}:${i}`,n):s.setDefaultChain(i,n)}catch(r){if(!/Please call connect/.test(r.message))throw r}}async cleanupPendingPairings(e={}){this.logger.info("Cleaning up inactive pairings...");const n=this.client.pairing.getAll();if(dh(n)){for(const r of n)e.deletePairings?this.client.core.expirer.set(r.topic,0):await this.client.core.relayer.subscriber.unsubscribe(r.topic);this.logger.info(`Inactive pairings cleared: ${n.length}`)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,n;if(this.client=this.providerOpts.client||await ive.init({core:this.providerOpts.core,logger:this.providerOpts.logger||Dj,relayUrl:this.providerOpts.relayUrl||fve,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(r){throw this.logger.error("Failed to get session",r),new Error(`The provided session: ${(n=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:n.topic} doesn't exist in the Sign client`)}else{const r=this.client.session.getAll();this.session=r[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(n=>hw(n)))];T_("client",this.client),T_("events",this.events),T_("disableProviderPing",this.disableProviderPing),e.forEach(n=>{if(!this.session)return;const r=Jve(n,this.session),i=pH(r),s=P_(this.namespaces,this.optionalNamespaces),o=k_(ex({},s[n]),{accounts:r,chains:i});switch(n){case"eip155":this.rpcProviders[n]=new sbe({namespace:o});break;case"algorand":this.rpcProviders[n]=new pbe({namespace:o});break;case"solana":this.rpcProviders[n]=new cbe({namespace:o});break;case"cosmos":this.rpcProviders[n]=new dbe({namespace:o});break;case"polkadot":this.rpcProviders[n]=new Xve({namespace:o});break;case"cip34":this.rpcProviders[n]=new ybe({namespace:o});break;case"elrond":this.rpcProviders[n]=new bbe({namespace:o});break;case"multiversx":this.rpcProviders[n]=new Abe({namespace:o});break;case"near":this.rpcProviders[n]=new Nbe({namespace:o});break;case"tezos":this.rpcProviders[n]=new Ibe({namespace:o});break;default:this.rpcProviders[og]?this.rpcProviders[og].updateNamespace(o):this.rpcProviders[og]=new Obe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var n;const{topic:r}=e;r===((n=this.session)==null?void 0:n.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var n;const{params:r,topic:i}=e;if(i!==((n=this.session)==null?void 0:n.topic))return;const{event:s}=r;if(s.name==="accountsChanged"){const o=s.data;o&&dh(o)&&this.events.emit("accountsChanged",o.map(zj))}else if(s.name==="chainChanged"){const o=r.chainId,a=r.event.data,c=hw(o),l=I_(o)!==I_(a)?`${c}:${I_(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:n})=>{var r,i;if(e!==((r=this.session)==null?void 0:r.topic))return;const{namespaces:s}=n,o=(i=this.client)==null?void 0:i.session.get(e);this.session=k_(ex({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:n})}),this.client.on("session_delete",async e=>{var n;e.topic===((n=this.session)==null?void 0:n.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",k_(ex({},Ln("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Aa.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[og]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var n;this.getProvider(e).updateNamespace((n=this.session)==null?void 0:n.namespaces[e])})}setNamespaces(e){const{namespaces:n,optionalNamespaces:r,sessionProperties:i,scopedProperties:s}=e;n&&Object.keys(n).length&&(this.namespaces=n),r&&Object.keys(r).length&&(this.optionalNamespaces=r),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[n,r]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[n,r];if(n&&!Object.keys(this.namespaces||{}).map(o=>hw(o)).includes(n))throw new Error(`Namespace '${n}' is not configured. Please call connect() first with namespace config.`);if(n&&r)return[n,r];const i=hw(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,n=!1){if(!this.namespaces)return;const[r,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(r,i),this.events.emit("chainChanged",i);const s=this.getProvider(r).getDefaultChain();n||this.getProvider(r).setDefaultChain(i),this.emitAccountsChangedOnChainChange({namespace:r,previousChainId:s,newChainId:e}),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:n,newChainId:r}){var i,s;try{if(n===r)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${r}:`)).map(zj);if(!dh(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,n){if(!this.namespaces)return;const r=this.namespaces[e]?e:`${e}:${n}`,i={chains:[],methods:[],events:[],defaultChain:n};this.namespaces[r]?this.namespaces[r]&&(this.namespaces[r].defaultChain=n):this.namespaces[r]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,await this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,n){var r;const i=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.setItem(`${Z5}/${e}${i}`,n)}async getFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";return await this.client.core.storage.getItem(`${Z5}/${e}${r}`)}async deleteFromStore(e){var n;const r=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.removeItem(`${Z5}/${e}${r}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const n=await this.client.core.storage.getKeys();for(const r of n)r.startsWith(Z5)&&await this.client.core.storage.removeItem(r)}catch(n){this.logger.warn("Failed to cleanup storage",n)}}};var py={};const Ube="https://secure.walletconnect.org/sdk",Fbe=(typeof process<"u"&&typeof py<"u"?py.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||Ube,$be=(typeof process<"u"&&typeof py<"u"?py.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",zbe=(typeof process<"u"&&typeof py<"u"?py.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",ft={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Gr={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},af=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),Xr=gr({...af}),ki={state:Xr,subscribeKey(t,e){return ro(Xr,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=kt.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){Xr.message=af.message,Xr.variant=af.variant,Xr.svg=af.svg,Xr.open=af.open,Xr.autoClose=af.autoClose},_showMessage({message:t,svg:e,variant:n="success",autoClose:r=af.autoClose}){Xr.open?(Xr.open=!1,setTimeout(()=>{Xr.message=t,Xr.variant=n,Xr.svg=e,Xr.open=!0,Xr.autoClose=r},150)):(Xr.message=t,Xr.variant=n,Xr.svg=e,Xr.open=!0,Xr.autoClose=r)}},Vw={getSIWX(){return qe.state.siwx},async initializeIfEnabled(){var s;const t=qe.state.siwx,e=oe.getActiveCaipAddress();if(!(t&&e))return;const[n,r,i]=e.split(":");if(oe.checkIfSupportedNetwork(n))try{if((await t.getSessions(`${n}:${r}`,i)).length)return;await Mr.open({view:"SIWXSignMessage"})}catch(o){console.error("SIWXUtil:initializeIfEnabled",o),Vn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await((s=Qn._getClient())==null?void 0:s.disconnect().catch(console.error)),Pn.reset("Connect"),ki.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=qe.state.siwx,e=kt.getPlainAddress(oe.getActiveCaipAddress()),n=oe.getActiveCaipNetwork(),r=Qn._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!n)throw new Error("No ActiveCaipNetwork or client found");if(!r)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:n.caipNetworkId,accountAddress:e}),s=i.toString();Vt.getConnectorId(n.chainNamespace)===Ge.CONNECTOR_ID.AUTH&&Pn.pushTransactionStack({view:null,goBack:!1,replace:!0});const a=await r.signMessage(s);await t.addSession({data:i,message:s,signature:a}),Mr.close(),Vn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!Mr.state.open||Pn.state.view==="ApproveTransaction")&&await Mr.open({view:"SIWXSignMessage"}),s.isSmartAccount?ki.showError("This application might not support Smart Accounts"):ki.showError("Signature declined"),Vn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){var t;try{const e=this.getSIWX();((t=e==null?void 0:e.getRequired)==null?void 0:t.call(e))?await Qn.disconnect():Mr.close(),Pn.reset("Connect"),Vn.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(e){console.error("SIWXUtil:cancelSignMessage",e)}},async getSessions(){const t=qe.state.siwx,e=kt.getPlainAddress(oe.getActiveCaipAddress()),n=oe.getActiveCaipNetwork();return t&&e&&n?t.getSessions(n.caipNetworkId,e):[]},async isSIWXCloseDisabled(){var e;const t=this.getSIWX();if(t){const n=Pn.state.view==="ApproveTransaction",r=Pn.state.view==="SIWXSignMessage";if(n||r)return((e=t.getRequired)==null?void 0:e.call(t))&&(await this.getSessions()).length===0}return!1},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:n}){var a,c,l;const r=Vw.getSIWX(),i=new Set(e.map(u=>u.split(":")[0]));if(!r||i.size!==1||!i.has("eip155"))return!1;const s=await r.createMessage({chainId:((a=oe.getActiveCaipNetwork())==null?void 0:a.caipNetworkId)||"",accountAddress:""}),o=await t.authenticate({nonce:s.nonce,domain:s.domain,uri:s.uri,exp:s.expirationTime,iat:s.issuedAt,nbf:s.notBefore,requestId:s.requestId,version:s.version,resources:s.resources,statement:s.statement,chainId:s.chainId,methods:n,chains:[s.chainId,...e.filter(u=>u!==s.chainId)]});if(ki.showLoading("Authenticating...",{autoClose:!1}),ut.setConnectedWalletInfo({...o.session.peer.metadata,name:o.session.peer.metadata.name,icon:(c=o.session.peer.metadata.icons)==null?void 0:c[0],type:"WALLET_CONNECT"},Array.from(i)[0]),(l=o==null?void 0:o.auths)!=null&&l.length){const u=o.auths.map(d=>{const h=t.client.formatAuthMessage({request:d.p,iss:d.p.iss});return{data:{...d.p,accountAddress:d.p.iss.split(":").slice(-1).join(""),chainId:d.p.iss.split(":").slice(2,4).join(":"),uri:d.p.aud,version:d.p.version||s.version,expirationTime:d.p.exp,issuedAt:d.p.iat,notBefore:d.p.nbf},message:h,signature:d.s.s,cacao:d}});try{await r.setSessions(u),Vn.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:Vw.getSIWXEventProperties()})}catch(d){throw console.error("SIWX:universalProviderAuth - failed to set sessions",d),Vn.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:Vw.getSIWXEventProperties()}),await t.disconnect().catch(console.error),d}finally{ki.hide()}}return!0},getSIWXEventProperties(){var e,n;const t=oe.state.activeChain;return{network:((e=oe.state.activeCaipNetwork)==null?void 0:e.caipNetworkId)||"",isSmartAccount:((n=ut.state.preferredAccountTypes)==null?void 0:n[t])===Gr.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},Kn=gr({transactions:[],coinbaseTransactions:{},transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Vbe={state:Kn,subscribe(t){return ls(Kn,()=>t(Kn))},setLastNetworkInView(t){Kn.lastNetworkInView=t},async fetchTransactions(t,e){var n,r;if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Kn.loading=!0;try{const i=await It.fetchTransactions({account:t,cursor:Kn.next,onramp:e,cache:e==="coinbase"?"no-cache":void 0,chainId:(n=oe.state.activeCaipNetwork)==null?void 0:n.caipNetworkId}),s=this.filterSpamTransactions(i.data),o=this.filterByConnectedChain(s),a=[...Kn.transactions,...o];Kn.loading=!1,e==="coinbase"?Kn.coinbaseTransactions=this.groupTransactionsByYearAndMonth(Kn.coinbaseTransactions,i.data):(Kn.transactions=a,Kn.transactionsByYear=this.groupTransactionsByYearAndMonth(Kn.transactionsByYear,o)),Kn.empty=a.length===0,Kn.next=i.next?i.next:void 0}catch{const s=oe.state.activeChain;Vn.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:qe.state.projectId,cursor:Kn.next,isSmartAccount:((r=ut.state.preferredAccountTypes)==null?void 0:r[s])===Gr.ACCOUNT_TYPES.SMART_ACCOUNT}}),ki.showError("Failed to fetch transactions"),Kn.loading=!1,Kn.empty=!0,Kn.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const n=t;return e.forEach(r=>{const i=new Date(r.metadata.minedAt).getFullYear(),s=new Date(r.metadata.minedAt).getMonth(),o=n[i]??{},c=(o[s]??[]).filter(l=>l.id!==r.id);n[i]={...o,[s]:[...c,r].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),n},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(r=>{var i;return((i=r.nft_info)==null?void 0:i.flags.is_spam)===!0}))},filterByConnectedChain(t){var r;const e=(r=oe.state.activeCaipNetwork)==null?void 0:r.caipNetworkId;return t.filter(i=>i.metadata.chain===e)},clearCursor(){Kn.next=void 0},resetTransactions(){Kn.transactions=[],Kn.transactionsByYear={},Kn.lastNetworkInView=void 0,Kn.loading=!1,Kn.empty=!1,Kn.next=void 0}},Yn=gr({wcError:!1,buffering:!1,status:"disconnected"});let Qm;const Qn={state:Yn,subscribeKey(t,e){return ro(Yn,t,e)},_getClient(){return Yn._client},setClient(t){Yn._client=bp(t)},async connectWalletConnect(){var t,e,n,r;if(kt.isTelegram()||kt.isSafari()&&kt.isIos()){if(Qm){await Qm,Qm=void 0;return}if(!kt.isPairingExpired(Yn==null?void 0:Yn.wcPairingExpiry)){const i=Yn.wcUri;Yn.wcUri=i;return}Qm=(e=(t=this._getClient())==null?void 0:t.connectWalletConnect)==null?void 0:e.call(t).catch(()=>{}),this.state.status="connecting",await Qm,Qm=void 0,Yn.wcPairingExpiry=void 0,this.state.status="connected"}else await((r=(n=this._getClient())==null?void 0:n.connectWalletConnect)==null?void 0:r.call(n))},async connectExternal(t,e,n=!0){var r,i;await((i=(r=this._getClient())==null?void 0:r.connectExternal)==null?void 0:i.call(r,t)),n&&oe.setActiveNamespace(e)},async reconnectExternal(t){var n,r;await((r=(n=this._getClient())==null?void 0:n.reconnectExternal)==null?void 0:r.call(n,t));const e=t.chain||oe.state.activeChain;e&&Vt.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){var r;Mr.setLoading(!0,oe.state.activeChain);const n=Vt.getAuthConnector();n&&(ut.setPreferredAccountType(t,e),await n.provider.setPreferredAccount(t),ot.setPreferredAccountTypes(ut.state.preferredAccountTypes??{[e]:t}),await this.reconnectExternal(n),Mr.setLoading(!1,oe.state.activeChain),Vn.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:((r=oe.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)||""}}))},async signMessage(t){var e;return(e=this._getClient())==null?void 0:e.signMessage(t)},parseUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.parseUnits(t,e)},formatUnits(t,e){var n;return(n=this._getClient())==null?void 0:n.formatUnits(t,e)},async sendTransaction(t){var e;return(e=this._getClient())==null?void 0:e.sendTransaction(t)},async getCapabilities(t){var e;return(e=this._getClient())==null?void 0:e.getCapabilities(t)},async grantPermissions(t){var e;return(e=this._getClient())==null?void 0:e.grantPermissions(t)},async walletGetAssets(t){var e;return((e=this._getClient())==null?void 0:e.walletGetAssets(t))??{}},async estimateGas(t){var e;return(e=this._getClient())==null?void 0:e.estimateGas(t)},async writeContract(t){var e;return(e=this._getClient())==null?void 0:e.writeContract(t)},async getEnsAddress(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAddress(t)},async getEnsAvatar(t){var e;return(e=this._getClient())==null?void 0:e.getEnsAvatar(t)},checkInstalled(t){var e,n;return((n=(e=this._getClient())==null?void 0:e.checkInstalled)==null?void 0:n.call(e,t))||!1},resetWcConnection(){Yn.wcUri=void 0,Yn.wcPairingExpiry=void 0,Yn.wcLinking=void 0,Yn.recentWallet=void 0,Yn.status="disconnected",Vbe.resetTransactions(),ot.deleteWalletConnectDeepLink()},resetUri(){Yn.wcUri=void 0,Yn.wcPairingExpiry=void 0},finalizeWcConnection(){var n,r;const{wcLinking:t,recentWallet:e}=Qn.state;t&&ot.setWalletConnectDeepLink(t),e&&ot.setAppKitRecent(e),Vn.sendEvent({type:"track",event:"CONNECT_SUCCESS",properties:{method:t?"mobile":"qrcode",name:((r=(n=Pn.state.data)==null?void 0:n.wallet)==null?void 0:r.name)||"Unknown"}})},setWcBasic(t){Yn.wcBasic=t},setUri(t){Yn.wcUri=t,Yn.wcPairingExpiry=kt.getPairingExpiry()},setWcLinking(t){Yn.wcLinking=t},setWcError(t){Yn.wcError=t,Yn.buffering=!1},setRecentWallet(t){Yn.recentWallet=t},setBuffering(t){Yn.buffering=t},setStatus(t){Yn.status=t},async disconnect(t){try{Mr.setLoading(!0,t),await Vw.clearSessions(),await oe.disconnect(t),Mr.setLoading(!1,t),Vt.setFilterByNamespace(void 0)}catch{throw new Error("Failed to disconnect")}}},Zm=gr({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),ml={state:Zm,subscribe(t){return ls(Zm,()=>t(Zm))},subscribeOpen(t){return ro(Zm,"open",t)},set(t){Object.assign(Zm,{...Zm,...t})}};function Hbe(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Kj(t){return Hbe(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const yH="2.28.0";let J1={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${yH}`};class Mo extends Error{constructor(e,n={}){var a;const r=(()=>{var c;return n.cause instanceof Mo?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),i=n.cause instanceof Mo&&n.cause.docsPath||n.docsPath,s=(a=J1.getDocsUrl)==null?void 0:a.call(J1,{...n,docsPath:i}),o=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...r?[`Details: ${r}`]:[],...J1.version?[`Version: ${J1.version}`]:[]].join(`
`);super(o,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=r,this.docsPath=i,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=yH}walk(e){return wH(this,e)}}function wH(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?wH(t.cause,e):e?null:t}class vH extends Mo{constructor({size:e,targetSize:n,type:r}){super(`${r.charAt(0).toUpperCase()}${r.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}}function Ok(t,{dir:e,size:n=32}={}){return typeof t=="string"?qbe(t,{dir:e,size:n}):Wbe(t,{dir:e,size:n})}function qbe(t,{dir:e,size:n=32}={}){if(n===null)return t;const r=t.replace("0x","");if(r.length>n*2)throw new vH({size:Math.ceil(r.length/2),targetSize:n,type:"hex"});return`0x${r[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function Wbe(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new vH({size:t.length,targetSize:n,type:"bytes"});const r=new Uint8Array(n);for(let i=0;i<n;i++){const s=e==="right";r[s?i:n-i-1]=t[s?i:t.length-i-1]}return r}class Gbe extends Mo{constructor({max:e,min:n,signed:r,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${r?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}}class Kbe extends Mo{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function bH(t,{size:e}){if(Kj(t)>e)throw new Kbe({givenSize:Kj(t),maxSize:e})}const Ybe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Yj(t,e={}){return typeof t=="number"||typeof t=="bigint"?Qbe(t,e):typeof t=="string"?EH(t,e):typeof t=="boolean"?Jbe(t,e):xH(t,e)}function Jbe(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(bH(n,{size:e.size}),Ok(n,{size:e.size})):n}function xH(t,e={}){let n="";for(let i=0;i<t.length;i++)n+=Ybe[t[i]];const r=`0x${n}`;return typeof e.size=="number"?(bH(r,{size:e.size}),Ok(r,{dir:"right",size:e.size})):r}function Qbe(t,e={}){const{signed:n,size:r}=e,i=BigInt(t);let s;r?n?s=(1n<<BigInt(r)*8n-1n)-1n:s=2n**(BigInt(r)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&n?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Gbe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:n,size:r,value:`${t}${c}`})}const a=`0x${(n&&i<0?(1n<<BigInt(r*8))+BigInt(i):i).toString(16)}`;return r?Ok(a,{size:r}):a}const Zbe=new TextEncoder;function EH(t,e={}){const n=Zbe.encode(t);return xH(n,e)}class Xbe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const r=this.keys().next().value;r&&this.delete(r)}return this}}const sp=(t,e,n)=>JSON.stringify(t,(r,i)=>typeof i=="bigint"?i.toString():i,n);function e2e(t,e){let n=t.toString();const r=n.startsWith("-");r&&(n=n.slice(1)),n=n.padStart(e,"0");let[i,s]=[n.slice(0,n.length-e),n.slice(n.length-e)];return s=s.replace(/(0+)$/,""),`${r?"-":""}${i||"0"}${s?`.${s}`:""}`}const Rk=t=>t;class Hw extends Mo{constructor({body:e,cause:n,details:r,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:n,details:r,metaMessages:[s&&`Status: ${s}`,`URL: ${Rk(o)}`,e&&`Request body: ${sp(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class AH extends Mo{constructor({body:e,error:n,url:r}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${Rk(r)}`,`Request body: ${sp(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class Jj extends Mo{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Rk(n)}`,`Request body: ${sp(e)}`],name:"TimeoutError"})}}const t2e=-1;class so extends Mo{constructor(e,{code:n,docsPath:r,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:r,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof AH?e.code:n??t2e}}class Fo extends so{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class Lv extends so{constructor(e){super(e,{code:Lv.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Lv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Dv extends so{constructor(e){super(e,{code:Dv.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Dv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class jv extends so{constructor(e,{method:n}={}){super(e,{code:jv.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(jv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Mv extends so{constructor(e){super(e,{code:Mv.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Mv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class my extends so{constructor(e){super(e,{code:my.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(my,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Bv extends so{constructor(e){super(e,{code:Bv.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Bv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Uv extends so{constructor(e){super(e,{code:Uv.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Uv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Fv extends so{constructor(e){super(e,{code:Fv.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Fv,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class gy extends so{constructor(e){super(e,{code:gy.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(gy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Cf extends so{constructor(e,{method:n}={}){super(e,{code:Cf.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Cf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class yy extends so{constructor(e){super(e,{code:yy.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(yy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class $v extends so{constructor(e){super(e,{code:$v.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty($v,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class op extends Fo{constructor(e){super(e,{code:op.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(op,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class zv extends Fo{constructor(e){super(e,{code:zv.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class Vv extends Fo{constructor(e,{method:n}={}){super(e,{code:Vv.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(Vv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class Hv extends Fo{constructor(e){super(e,{code:Hv.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(Hv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class qv extends Fo{constructor(e){super(e,{code:qv.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class Wv extends Fo{constructor(e){super(e,{code:Wv.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(Wv,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Gv extends Fo{constructor(e){super(e,{code:Gv.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Gv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class Kv extends Fo{constructor(e){super(e,{code:Kv.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(Kv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class Yv extends Fo{constructor(e){super(e,{code:Yv.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(Yv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class Jv extends Fo{constructor(e){super(e,{code:Jv.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(Jv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class Qv extends Fo{constructor(e){super(e,{code:Qv.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(Qv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class Zv extends Fo{constructor(e){super(e,{code:Zv.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(Zv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Xv extends Fo{constructor(e){super(e,{code:Xv.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Xv,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class n2e extends so{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}class Lk extends Mo{constructor({cause:e,message:n}={}){var i;const r=(i=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${r?`with reason: ${r}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Lk,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Lk,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function r2e(){let t=()=>{},e=()=>{};return{promise:new Promise((r,i)=>{t=r,e=i}),resolve:t,reject:e}}const O_=new Map;function i2e({fn:t,id:e,shouldSplitBatch:n,wait:r=0,sort:i}){const s=async()=>{const u=c();o();const d=u.map(({args:h})=>h);d.length!==0&&t(d).then(h=>{i&&Array.isArray(h)&&h.sort(i);for(let f=0;f<u.length;f++){const{resolve:m}=u[f];m==null||m([h[f],h])}}).catch(h=>{for(let f=0;f<u.length;f++){const{reject:m}=u[f];m==null||m(h)}})},o=()=>O_.delete(e),a=()=>c().map(({args:u})=>u),c=()=>O_.get(e)||[],l=u=>O_.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:d,resolve:h,reject:f}=r2e();return(n==null?void 0:n([...a(),u]))&&s(),c().length>0?(l({args:u,resolve:h,reject:f}),d):(l({args:u,resolve:h,reject:f}),setTimeout(s,r),d)}}}async function SH(t){return new Promise(e=>setTimeout(e,t))}const _4=256;let tx=_4,nx;function s2e(t=11){if(!nx||tx+t>_4*2){nx="",tx=0;for(let e=0;e<_4;e++)nx+=(256+Math.random()*256|0).toString(16).substring(1)}return nx.substring(tx,tx+++t)}const rx=new Xbe(8192);function o2e(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(rx.get(n))return rx.get(n);const r=t().finally(()=>rx.delete(n));return rx.set(n,r),r}function a2e(t,{delay:e=100,retryCount:n=2,shouldRetry:r=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await SH(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<n&&await r({count:a,error:l}))return c({error:l});s(l)}};o()})}function c2e(t,e={}){return async(n,r={})=>{var d;const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...r},{method:l}=n;if((d=s==null?void 0:s.exclude)!=null&&d.includes(l))throw new Cf(new Error("method not supported"),{method:l});if(s!=null&&s.include&&!s.include.includes(l))throw new Cf(new Error("method not supported"),{method:l});const u=i?EH(`${c}.${sp(n)}`):void 0;return o2e(()=>a2e(async()=>{try{return await t(n)}catch(h){const f=h;switch(f.code){case Lv.code:throw new Lv(f);case Dv.code:throw new Dv(f);case jv.code:throw new jv(f,{method:n.method});case Mv.code:throw new Mv(f);case my.code:throw new my(f);case Bv.code:throw new Bv(f);case Uv.code:throw new Uv(f);case Fv.code:throw new Fv(f);case gy.code:throw new gy(f);case Cf.code:throw new Cf(f,{method:n.method});case yy.code:throw new yy(f);case $v.code:throw new $v(f);case op.code:throw new op(f);case zv.code:throw new zv(f);case Vv.code:throw new Vv(f);case Hv.code:throw new Hv(f);case qv.code:throw new qv(f);case Wv.code:throw new Wv(f);case Gv.code:throw new Gv(f);case Kv.code:throw new Kv(f);case Yv.code:throw new Yv(f);case Jv.code:throw new Jv(f);case Qv.code:throw new Qv(f);case Zv.code:throw new Zv(f);case Xv.code:throw new Xv(f);case 5e3:throw new op(f);default:throw h instanceof Mo?h:new n2e(f)}}},{delay:({count:h,error:f})=>{var m;if(f&&f instanceof Hw){const g=(m=f==null?void 0:f.headers)==null?void 0:m.get("Retry-After");if(g!=null&&g.match(/\d/))return Number.parseInt(g)*1e3}return~~(1<<h)*o},retryCount:a,shouldRetry:({error:h})=>l2e(h)}),{enabled:i,id:u})}}function l2e(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===yy.code||t.code===my.code:t instanceof Hw&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function CH({key:t,methods:e,name:n,request:r,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=s2e();return{config:{key:t,methods:e,name:n,request:r,retryCount:i,retryDelay:s,timeout:o,type:a},request:c2e(r,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function Qj(t,e={}){const{key:n="fallback",name:r="Fallback",rank:i=!1,shouldThrow:s=u2e,retryCount:o,retryDelay:a}=e;return({chain:c,pollingInterval:l=4e3,timeout:u,...d})=>{let h=t,f=()=>{};const m=CH({key:n,name:r,async request({method:g,params:E}){let y;const w=async(x=0)=>{const C=h[x]({...d,chain:c,retryCount:0,timeout:u});try{const N=await C.request({method:g,params:E});return f({method:g,params:E,response:N,transport:C,status:"success"}),N}catch(N){if(f({error:N,method:g,params:E,transport:C,status:"error"}),s(N)||x===h.length-1||(y??(y=h.slice(x+1).some(D=>{const{include:O,exclude:P}=D({chain:c}).config.methods||{};return O?O.includes(g):P?!P.includes(g):!0})),!y))throw N;return w(x+1)}};return w()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:g=>f=g,transports:h.map(g=>g({chain:c,retryCount:0}))});if(i){const g=typeof i=="object"?i:{};d2e({chain:c,interval:g.interval??l,onTransports:E=>h=E,ping:g.ping,sampleCount:g.sampleCount,timeout:g.timeout,transports:h,weights:g.weights})}return m}}function u2e(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===gy.code||t.code===op.code||Lk.nodeMessage.test(t.message)||t.code===5e3))}function d2e({chain:t,interval:e=4e3,onTransports:n,ping:r,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],d=async()=>{const h=await Promise.all(o.map(async g=>{const E=g({chain:t,retryCount:0,timeout:s}),y=Date.now();let w,x;try{await(r?r({transport:E}):E.request({method:"net_listening"})),x=1}catch{x=0}finally{w=Date.now()}return{latency:w-y,success:x}}));u.push(h),u.length>i&&u.shift();const f=Math.max(...u.map(g=>Math.max(...g.map(({latency:E})=>E)))),m=o.map((g,E)=>{const y=u.map(D=>D[E].latency),x=1-y.reduce((D,O)=>D+O,0)/y.length/f,C=u.map(D=>D[E].success),N=C.reduce((D,O)=>D+O,0)/C.length;return N===0?[0,E]:[l*x+c*N,E]}).sort((g,E)=>E[0]-g[0]);n(m.map(([,g])=>o[g])),await SH(e),d()};d()}class h2e extends Mo{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function f2e(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:r}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;n>0&&(o=setTimeout(()=>{r?a.abort():s(e)},n)),i(await t({signal:(a==null?void 0:a.signal)||null}))}catch(a){(a==null?void 0:a.name)==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function p2e(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const Zj=p2e();function m2e(t,e={}){return{async request(n){var d;const{body:r,onRequest:i=e.onRequest,onResponse:s=e.onResponse,timeout:o=e.timeout??1e4}=n,a={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:l,signal:u}=a;try{const h=await f2e(async({signal:m})=>{const g={...a,body:Array.isArray(r)?sp(r.map(x=>({jsonrpc:"2.0",id:x.id??Zj.take(),...x}))):sp({jsonrpc:"2.0",id:r.id??Zj.take(),...r}),headers:{"Content-Type":"application/json",...c},method:l||"POST",signal:u||(o>0?m:null)},E=new Request(t,g),y=await(i==null?void 0:i(E,g))??{...g,url:t};return await fetch(y.url??t,y)},{errorInstance:new Jj({body:r,url:t}),timeout:o,signal:!0});s&&await s(h);let f;if((d=h.headers.get("Content-Type"))!=null&&d.startsWith("application/json"))f=await h.json();else{f=await h.text();try{f=JSON.parse(f||"{}")}catch(m){if(h.ok)throw m;f={error:f}}}if(!h.ok)throw new Hw({body:r,details:sp(f.error)||h.statusText,headers:h.headers,status:h.status,url:t});return f}catch(h){throw h instanceof Hw||h instanceof Jj?h:new Hw({body:r,cause:h,url:t})}}}}function ix(t,e={}){const{batch:n,fetchOptions:r,key:i="http",methods:s,name:o="HTTP JSON-RPC",onFetchRequest:a,onFetchResponse:c,retryDelay:l,raw:u}=e;return({chain:d,retryCount:h,timeout:f})=>{const{batchSize:m=1e3,wait:g=0}=typeof n=="object"?n:{},E=e.retryCount??h,y=f??e.timeout??1e4,w=t||(d==null?void 0:d.rpcUrls.default.http[0]);if(!w)throw new h2e;const x=m2e(w,{fetchOptions:r,onRequest:a,onResponse:c,timeout:y});return CH({key:i,methods:s,name:o,async request({method:C,params:N}){const D={method:C,params:N},{schedule:O}=i2e({id:w,wait:g,shouldSplitBatch(_){return _.length>m},fn:_=>x.request({body:_}),sort:(_,j)=>_.id-j.id}),P=async _=>n?O(_):[await x.request({body:_})],[{error:L,result:$}]=await P(D);if(u)return{error:L,result:$};if(L)throw new AH({body:D,error:L,url:w});return $},retryCount:E,retryDelay:l,timeout:y,type:"http"},{fetchOptions:r,url:w})}}function Dk(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const R_={createBalance(t,e){const n={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:n.name,symbol:n.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:n.value,price:n.price,quantity:{decimals:n.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:n.decimals})},iconUrl:n.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return e2e(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const n=e[1],r=parseInt(n,10);return isNaN(r)?"0x0":`0x${r.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(n=>this.isValidAsset(n)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},Xj={async getMyTokensWithBalance(t){const e=ut.state.address,n=oe.state.activeCaipNetwork;if(!e||!n)return[];if(n.chainNamespace==="eip155"){const i=await this.getEIP155Balances(e,n);if(i)return this.filterLowQualityTokens(i)}const r=await It.getBalance(e,n.caipNetworkId,t);return this.filterLowQualityTokens(r.balances)},async getEIP155Balances(t,e){var n,r;try{const i=R_.getChainIdHexFromCAIP2ChainId(e.caipNetworkId),s=await Qn.getCapabilities(t);if(!((r=(n=s==null?void 0:s[i])==null?void 0:n.assetDiscovery)!=null&&r.supported))return null;const o=await Qn.walletGetAssets({account:t,chainFilter:[i]});return R_.isWalletGetAssetsResponse(o)?(o[i]||[]).map(c=>R_.createBalance(c,e.caipNetworkId)):null}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")},mapBalancesToSwapTokens(t){return(t==null?void 0:t.map(e=>({...e,address:e!=null&&e.address?e.address:oe.getActiveNetworkTokenAddress(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1})))||[]}},sn=gr({tokenBalances:[],loading:!1}),eM={state:sn,subscribe(t){return ls(sn,()=>t(sn))},subscribeKey(t,e){return ro(sn,t,e)},setToken(t){t&&(sn.token=bp(t))},setTokenAmount(t){sn.sendTokenAmount=t},setReceiverAddress(t){sn.receiverAddress=t},setReceiverProfileImageUrl(t){sn.receiverProfileImageUrl=t},setReceiverProfileName(t){sn.receiverProfileName=t},setGasPrice(t){sn.gasPrice=t},setGasPriceInUsd(t){sn.gasPriceInUSD=t},setNetworkBalanceInUsd(t){sn.networkBalanceInUSD=t},setLoading(t){sn.loading=t},sendToken(){var t;switch((t=oe.state.activeCaipNetwork)==null?void 0:t.chainNamespace){case"eip155":this.sendEvmToken();return;case"solana":this.sendSolanaToken();return;default:throw new Error("Unsupported chain")}},sendEvmToken(){var n,r,i,s,o,a;const t=oe.state.activeChain,e=(n=ut.state.preferredAccountTypes)==null?void 0:n[t];(r=this.state.token)!=null&&r.address&&this.state.sendTokenAmount&&this.state.receiverAddress?(Vn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,token:this.state.token.address,amount:this.state.sendTokenAmount,network:((i=oe.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),this.sendERC20Token({receiverAddress:this.state.receiverAddress,tokenAddress:this.state.token.address,sendTokenAmount:this.state.sendTokenAmount,decimals:this.state.token.quantity.decimals})):this.state.receiverAddress&&this.state.sendTokenAmount&&this.state.gasPrice&&((s=this.state.token)!=null&&s.quantity.decimals)&&(Vn.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,token:(o=this.state.token)==null?void 0:o.symbol,amount:this.state.sendTokenAmount,network:((a=oe.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)||""}}),this.sendNativeToken({receiverAddress:this.state.receiverAddress,sendTokenAmount:this.state.sendTokenAmount,gasPrice:this.state.gasPrice,decimals:this.state.token.quantity.decimals}))},async fetchTokenBalance(t){var s,o;sn.loading=!0;const e=(s=oe.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=oe.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=oe.state.activeCaipAddress,i=r?kt.getPlainAddress(r):void 0;if(sn.lastRetry&&!kt.isAllowedRetry(sn.lastRetry,30*os.ONE_SEC_MS))return sn.loading=!1,[];try{if(i&&e&&n){const a=await Xj.getMyTokensWithBalance();return sn.tokenBalances=a,sn.lastRetry=void 0,a}}catch(a){sn.lastRetry=Date.now(),t==null||t(a),ki.showError("Token Balance Unavailable")}finally{sn.loading=!1}return[]},fetchNetworkBalance(){if(sn.tokenBalances.length===0)return;const t=Xj.mapBalancesToSwapTokens(sn.tokenBalances);if(!t)return;const e=t.find(n=>n.address===oe.getActiveNetworkTokenAddress());e&&(sn.networkBalanceInUSD=e?B5.multiply(e.quantity.numeric,e.price).toString():"0")},isInsufficientNetworkTokenForGas(t,e){const n=e||"0";return B5.bigNumber(t).eq(0)?!0:B5.bigNumber(B5.bigNumber(n)).gt(t)},hasInsufficientGasFunds(){var n;const t=oe.state.activeChain;let e=!0;return((n=ut.state.preferredAccountTypes)==null?void 0:n[t])===Gr.ACCOUNT_TYPES.SMART_ACCOUNT?e=!1:sn.networkBalanceInUSD&&(e=this.isInsufficientNetworkTokenForGas(sn.networkBalanceInUSD,sn.gasPriceInUSD)),e},async sendNativeToken(t){var o,a,c,l,u,d;const e=oe.state.activeChain;Pn.pushTransactionStack({view:"Account",goBack:!1});const n=t.receiverAddress,r=ut.state.address,i=Qn.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals)),s="0x";try{await Qn.sendTransaction({chainNamespace:"eip155",to:n,address:r,data:s,value:i??BigInt(0),gasPrice:t.gasPrice}),ki.showSuccess("Transaction started"),Vn.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:((o=ut.state.preferredAccountTypes)==null?void 0:o[e])===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((a=this.state.token)==null?void 0:a.symbol)||"",amount:t.sendTokenAmount,network:((c=oe.state.activeCaipNetwork)==null?void 0:c.caipNetworkId)||""}}),this.resetSend()}catch(h){console.error("SendController:sendERC20Token - failed to send native token",h);const f=h instanceof Error?h.message:"Unknown error";Vn.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:f,isSmartAccount:((l=ut.state.preferredAccountTypes)==null?void 0:l[e])===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((u=this.state.token)==null?void 0:u.symbol)||"",amount:t.sendTokenAmount,network:((d=oe.state.activeCaipNetwork)==null?void 0:d.caipNetworkId)||""}}),ki.showError("Something went wrong")}},async sendERC20Token(t){var n,r,i;Pn.pushTransactionStack({view:"Account",goBack:!1});const e=Qn.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));try{if(ut.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const s=kt.getPlainAddress(t.tokenAddress);await Qn.writeContract({fromAddress:ut.state.address,tokenAddress:s,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:Xie.getERC20Abi(s),chainNamespace:"eip155"}),ki.showSuccess("Transaction started"),this.resetSend()}}catch(s){console.error("SendController:sendERC20Token - failed to send erc20 token",s);const o=s instanceof Error?s.message:"Unknown error";Vn.sendEvent({type:"track",event:"SEND_ERROR",properties:{message:o,isSmartAccount:((n=ut.state.preferredAccountTypes)==null?void 0:n.eip155)===Gr.ACCOUNT_TYPES.SMART_ACCOUNT,token:((r=this.state.token)==null?void 0:r.symbol)||"",amount:t.sendTokenAmount,network:((i=oe.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)||""}}),ki.showError("Something went wrong")}},sendSolanaToken(){if(!this.state.sendTokenAmount||!this.state.receiverAddress){ki.showError("Please enter a valid amount and receiver address");return}Pn.pushTransactionStack({view:"Account",goBack:!1}),Qn.sendTransaction({chainNamespace:"solana",to:this.state.receiverAddress,value:this.state.sendTokenAmount}).then(()=>{this.resetSend(),ut.fetchTokenBalance()}).catch(t=>{ki.showError("Failed to send transaction. Please try again."),console.error("SendController:sendToken - failed to send solana transaction",t)})},resetSend(){sn.token=void 0,sn.sendTokenAmount=void 0,sn.receiverAddress=void 0,sn.receiverProfileImageUrl=void 0,sn.receiverProfileName=void 0,sn.loading=!1,sn.tokenBalances=[]}},L_={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[],user:void 0},sx={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ze=gr({chains:$ie(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),oe={state:Ze,subscribe(t){return ls(Ze,()=>{t(Ze)})},subscribeKey(t,e){return ro(Ze,t,e)},subscribeChainProp(t,e,n){let r;return ls(Ze.chains,()=>{var s;const i=n||Ze.activeChain;if(i){const o=(s=Ze.chains.get(i))==null?void 0:s[t];r!==o&&(r=o,e(o))}})},initialize(t,e,n){const{chainId:r,namespace:i}=ot.getActiveNetworkProps(),s=e==null?void 0:e.find(l=>l.id.toString()===(r==null?void 0:r.toString())),a=t.find(l=>(l==null?void 0:l.namespace)===i)||(t==null?void 0:t[0]),c=new Set([...(e==null?void 0:e.map(l=>l.chainNamespace))??[]]);((t==null?void 0:t.length)===0||!a)&&(Ze.noAdapters=!0),Ze.noAdapters||(Ze.activeChain=a==null?void 0:a.namespace,Ze.activeCaipNetwork=s,this.setChainNetworkData(a==null?void 0:a.namespace,{caipNetwork:s}),Ze.activeChain&&ml.set({activeChain:a==null?void 0:a.namespace})),c.forEach(l=>{const u=e==null?void 0:e.filter(d=>d.chainNamespace===l);oe.state.chains.set(l,{namespace:l,networkState:gr({...sx,caipNetwork:u==null?void 0:u[0]}),accountState:gr(L_),caipNetworks:u??[],...n}),this.setRequestedCaipNetworks(u??[],l)})},removeAdapter(t){var e,n;if(Ze.activeChain===t){const r=Array.from(Ze.chains.entries()).find(([i])=>i!==t);if(r){const i=(n=(e=r[1])==null?void 0:e.caipNetworks)==null?void 0:n[0];i&&this.setActiveCaipNetwork(i)}}Ze.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:n},r){Ze.chains.set(t.namespace,{namespace:t.namespace,networkState:{...sx,caipNetwork:r[0]},accountState:L_,caipNetworks:r,connectionControllerClient:n,networkControllerClient:e}),this.setRequestedCaipNetworks((r==null?void 0:r.filter(i=>i.chainNamespace===t.namespace))??[],t.namespace)},addNetwork(t){var n;const e=Ze.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];(n=e.caipNetworks)!=null&&n.find(i=>i.id===t.id)||r.push(t),Ze.chains.set(t.chainNamespace,{...e,caipNetworks:r}),this.setRequestedCaipNetworks(r,t.chainNamespace)}},removeNetwork(t,e){var r,i,s;const n=Ze.chains.get(t);if(n){const o=((r=Ze.activeCaipNetwork)==null?void 0:r.id)===e,a=[...((i=n.caipNetworks)==null?void 0:i.filter(c=>c.id!==e))||[]];o&&((s=n==null?void 0:n.caipNetworks)!=null&&s[0])&&this.setActiveCaipNetwork(n.caipNetworks[0]),Ze.chains.set(t,{...n,caipNetworks:a}),this.setRequestedCaipNetworks(a||[],t)}},setAdapterNetworkState(t,e){const n=Ze.chains.get(t);n&&(n.networkState={...n.networkState||sx,...e},Ze.chains.set(t,n))},setChainAccountData(t,e,n=!0){if(!t)throw new Error("Chain is required to update chain account data");const r=Ze.chains.get(t);if(r){const i={...r.accountState||L_,...e};Ze.chains.set(t,{...r,accountState:i}),(Ze.chains.size===1||Ze.activeChain===t)&&(e.caipAddress&&(Ze.activeCaipAddress=e.caipAddress),ut.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const n=Ze.chains.get(t);if(n){const r={...n.networkState||sx,...e};Ze.chains.set(t,{...n,networkState:r})}},setAccountProp(t,e,n,r=!0){this.setChainAccountData(n,{[t]:e},r),t==="status"&&e==="disconnected"&&n&&Vt.removeConnectorId(n)},setActiveNamespace(t){var r,i;Ze.activeChain=t;const e=t?Ze.chains.get(t):void 0,n=(r=e==null?void 0:e.networkState)==null?void 0:r.caipNetwork;n!=null&&n.id&&t&&(Ze.activeCaipAddress=(i=e==null?void 0:e.accountState)==null?void 0:i.caipAddress,Ze.activeCaipNetwork=n,this.setChainNetworkData(t,{caipNetwork:n}),ot.setActiveCaipNetworkId(n==null?void 0:n.caipNetworkId),ml.set({activeChain:t,selectedNetworkId:n==null?void 0:n.caipNetworkId}))},setActiveCaipNetwork(t){var r,i,s;if(!t)return;Ze.activeChain!==t.chainNamespace&&this.setIsSwitchingNamespace(!0);const e=Ze.chains.get(t.chainNamespace);Ze.activeChain=t.chainNamespace,Ze.activeCaipNetwork=t,this.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),(r=e==null?void 0:e.accountState)!=null&&r.address?Ze.activeCaipAddress=`${t.chainNamespace}:${t.id}:${(i=e==null?void 0:e.accountState)==null?void 0:i.address}`:Ze.activeCaipAddress=void 0,this.setAccountProp("caipAddress",Ze.activeCaipAddress,t.chainNamespace),e&&ut.replaceState(e.accountState),eM.resetSend(),ml.set({activeChain:Ze.activeChain,selectedNetworkId:(s=Ze.activeCaipNetwork)==null?void 0:s.caipNetworkId}),ot.setActiveCaipNetworkId(t.caipNetworkId),!this.checkIfSupportedNetwork(t.chainNamespace)&&qe.state.enableNetworkSwitch&&!qe.state.allowUnsupportedChain&&!Qn.state.wcBasic&&this.showUnsupportedChainUI()},addCaipNetwork(t){var n;if(!t)return;const e=Ze.chains.get(t.chainNamespace);e&&((n=e==null?void 0:e.caipNetworks)==null||n.push(t))},async switchActiveNamespace(t){var i;if(!t)return;const e=t!==oe.state.activeChain,n=(i=oe.getNetworkData(t))==null?void 0:i.caipNetwork,r=oe.getCaipNetworkByNamespace(t,n==null?void 0:n.id);e&&r&&await oe.switchActiveNetwork(r)},async switchActiveNetwork(t){var i;const e=oe.state.chains.get(oe.state.activeChain);!((i=e==null?void 0:e.caipNetworks)!=null&&i.some(s=>{var o;return s.id===((o=Ze.activeCaipNetwork)==null?void 0:o.id)}))&&Pn.goBack();const r=this.getNetworkControllerClient(t.chainNamespace);r&&(await r.switchCaipNetwork(t),Vn.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}}))},getNetworkControllerClient(t){const e=t||Ze.activeChain,n=Ze.chains.get(e);if(!n)throw new Error("Chain adapter not found");if(!n.networkControllerClient)throw new Error("NetworkController client not set");return n.networkControllerClient},getConnectionControllerClient(t){const e=t||Ze.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const n=Ze.chains.get(e);if(!(n!=null&&n.connectionControllerClient))throw new Error("ConnectionController client not set");return n.connectionControllerClient},getAccountProp(t,e){var i;let n=Ze.activeChain;if(e&&(n=e),!n)return;const r=(i=Ze.chains.get(n))==null?void 0:i.accountState;if(r)return r[t]},getNetworkProp(t,e){var r;const n=(r=Ze.chains.get(e))==null?void 0:r.networkState;if(n)return n[t]},getRequestedCaipNetworks(t){const e=Ze.chains.get(t),{approvedCaipNetworkIds:n=[],requestedCaipNetworks:r=[]}=(e==null?void 0:e.networkState)||{};return kt.sortRequestedNetworks(n,r)},getAllRequestedCaipNetworks(){const t=[];return Ze.chains.forEach(e=>{const n=this.getRequestedCaipNetworks(e.namespace);t.push(...n)}),t},setRequestedCaipNetworks(t,e){this.setAdapterNetworkState(e,{requestedCaipNetworks:t})},getAllApprovedCaipNetworkIds(){const t=[];return Ze.chains.forEach(e=>{const n=this.getApprovedCaipNetworkIds(e.namespace);t.push(...n)}),t},getActiveCaipNetwork(){return Ze.activeCaipNetwork},getActiveCaipAddress(){return Ze.activeCaipAddress},getApprovedCaipNetworkIds(t){var r;const e=Ze.chains.get(t);return((r=e==null?void 0:e.networkState)==null?void 0:r.approvedCaipNetworkIds)||[]},async setApprovedCaipNetworksData(t){const e=this.getNetworkControllerClient(),n=await(e==null?void 0:e.getApprovedCaipNetworksData());this.setAdapterNetworkState(t,{approvedCaipNetworkIds:n==null?void 0:n.approvedCaipNetworkIds,supportsAllNetworks:n==null?void 0:n.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const n=e||Ze.activeCaipNetwork,r=this.getRequestedCaipNetworks(t);return r.length?r==null?void 0:r.some(i=>i.id===(n==null?void 0:n.id)):!0},checkIfSupportedChainId(t){if(!Ze.activeChain)return!0;const e=this.getRequestedCaipNetworks(Ze.activeChain);return e==null?void 0:e.some(n=>n.id===t)},setSmartAccountEnabledNetworks(t,e){this.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){var r;const t=O$.caipNetworkIdToNumber((r=Ze.activeCaipNetwork)==null?void 0:r.caipNetworkId),e=Ze.activeChain;if(!e||!t)return!1;const n=this.getNetworkProp("smartAccountEnabledNetworks",e);return!!(n!=null&&n.includes(Number(t)))},getActiveNetworkTokenAddress(){var r,i;const t=((r=Ze.activeCaipNetwork)==null?void 0:r.chainNamespace)||"eip155",e=((i=Ze.activeCaipNetwork)==null?void 0:i.id)||1,n=os.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${n}`},showUnsupportedChainUI(){Mr.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ze.activeCaipNetwork;return!!(t!=null&&t.chainNamespace&&os.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){this.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");Ze.activeCaipAddress=void 0,this.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountTypes:void 0,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,allAccounts:[],user:void 0,status:"disconnected"}),Vt.removeConnectorId(e)},async disconnect(t){const e=dse(t);try{eM.resetSend();const n=await Promise.allSettled(e.map(async([i,s])=>{var o;try{const{caipAddress:a}=this.getAccountData(i)||{};a&&((o=s.connectionControllerClient)!=null&&o.disconnect)&&await s.connectionControllerClient.disconnect(i),this.resetAccount(i),this.resetNetwork(i)}catch(a){throw new Error(`Failed to disconnect chain ${i}: ${a.message}`)}}));Qn.resetWcConnection();const r=n.filter(i=>i.status==="rejected");if(r.length>0)throw new Error(r.map(i=>i.reason.message).join(", "));ot.deleteConnectedSocialProvider(),t?Vt.removeConnectorId(t):Vt.resetConnectorIds(),Vn.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:t||"all"}})}catch(n){console.error(n.message||"Failed to disconnect chains"),Vn.sendEvent({type:"track",event:"DISCONNECT_ERROR",properties:{message:n.message||"Failed to disconnect chains"}})}},setIsSwitchingNamespace(t){Ze.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){var n,r;const t=[];let e;if(Ze.chains.forEach(i=>{Ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(s=>s===i.namespace)&&i.namespace&&t.push(i.namespace)}),t.length>0){const i=t[0];return e=i?(r=(n=Ze.chains.get(i))==null?void 0:n.caipNetworks)==null?void 0:r[0]:void 0,e}},getAccountData(t){var e;return t?(e=oe.state.chains.get(t))==null?void 0:e.accountState:ut.state},getNetworkData(t){var n;const e=t||Ze.activeChain;if(e)return(n=oe.state.chains.get(e))==null?void 0:n.networkState},getCaipNetworkByNamespace(t,e){var i,s,o;if(!t)return;const n=oe.state.chains.get(t),r=(i=n==null?void 0:n.caipNetworks)==null?void 0:i.find(a=>a.id===e);return r||((s=n==null?void 0:n.networkState)==null?void 0:s.caipNetwork)||((o=n==null?void 0:n.caipNetworks)==null?void 0:o[0])},getRequestedCaipNetworkIds(){const t=Vt.state.filterByNamespace;return(t?[Ze.chains.get(t)]:Array.from(Ze.chains.values())).flatMap(n=>(n==null?void 0:n.caipNetworks)||[]).map(n=>n.caipNetworkId)},getCaipNetworks(t){return t?oe.getRequestedCaipNetworks(t):oe.getAllRequestedCaipNetworks()}},g2e={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},NH=kt.getBlockchainApiUrl(),po=gr({clientId:null,api:new fS({baseUrl:NH,clientId:null}),supportedChains:{http:[],ws:[]}}),It={state:po,async get(t){const{st:e,sv:n}=It.getSdkProperties(),r=qe.state.projectId,i={...t.params||{},st:e,sv:n,projectId:r};return po.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=qe.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{po.supportedChains.http.length||await It.getSupportedNetworks()}catch{return!1}return po.supportedChains.http.includes(t)},async getSupportedNetworks(){const t=await It.get({path:"v1/supported-chains"});return po.supportedChains=t,t},async fetchIdentity({address:t,caipNetworkId:e}){if(!await It.isNetworkSupported(e))return{avatar:"",name:""};const r=ot.getIdentityFromCacheForAddress(t);if(r)return r;const i=await It.get({path:`/v1/identity/${t}`,params:{sender:oe.state.activeCaipAddress?kt.getPlainAddress(oe.state.activeCaipAddress):void 0}});return ot.updateIdentityCache({address:t,identity:i,timestamp:Date.now()}),i},async fetchTransactions({account:t,cursor:e,onramp:n,signal:r,cache:i,chainId:s}){var a;return await It.isNetworkSupported((a=oe.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?It.get({path:`/v1/account/${t}/history`,params:{cursor:e,onramp:n,chainId:s},signal:r,cache:i}):{data:[],next:void 0}},async fetchSwapQuote({amount:t,userAddress:e,from:n,to:r,gasPrice:i}){var o;return await It.isNetworkSupported((o=oe.state.activeCaipNetwork)==null?void 0:o.caipNetworkId)?It.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:n,to:r,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){var n;return await It.isNetworkSupported((n=oe.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?It.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){var n;return await It.isNetworkSupported((n=oe.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?po.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:qe.state.projectId},headers:{"Content-Type":"application/json"}}):{fungibles:[]}},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){var r;return await It.isNetworkSupported((r=oe.state.activeCaipNetwork)==null?void 0:r.caipNetworkId)?It.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){var i;const{st:e,sv:n}=It.getSdkProperties();if(!await It.isNetworkSupported((i=oe.state.activeCaipNetwork)==null?void 0:i.caipNetworkId))throw new Error("Network not supported for Gas Price");return It.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:n}})},async generateSwapCalldata({amount:t,from:e,to:n,userAddress:r,disableEstimate:i}){var o;if(!await It.isNetworkSupported((o=oe.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return po.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:os.CONVERT_SLIPPAGE_TOLERANCE},projectId:qe.state.projectId,from:e,to:n,userAddress:r,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:n}){var o;const{st:r,sv:i}=It.getSdkProperties();if(!await It.isNetworkSupported((o=oe.state.activeCaipNetwork)==null?void 0:o.caipNetworkId))throw new Error("Network not supported for Swaps");return It.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:n,from:t,to:e,st:r,sv:i}})},async getBalance(t,e,n){var l;const{st:r,sv:i}=It.getSdkProperties();if(!await It.isNetworkSupported((l=oe.state.activeCaipNetwork)==null?void 0:l.caipNetworkId))return ki.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=ot.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await It.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:n,st:r,sv:i}});return ot.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){var n;return await It.isNetworkSupported((n=oe.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?It.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){var n;return await It.isNetworkSupported((n=oe.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?It.get({path:`/v1/profile/reverse/${t}`,params:{sender:ut.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){var n;return await It.isNetworkSupported((n=oe.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?It.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:n,signature:r}){var s;return await It.isNetworkSupported((s=oe.state.activeCaipNetwork)==null?void 0:s.caipNetworkId)?po.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:n,signature:r},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:n,purchaseAmount:r,paymentAmount:i}){var a;return await It.isNetworkSupported((a=oe.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)?(await po.api.post({path:"/v1/generators/onrampurl",params:{projectId:qe.state.projectId},body:{destinationWallets:t,defaultNetwork:n,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:r,presetFiatAmount:i}})).url:""},async getOnrampOptions(){var e;if(!await It.isNetworkSupported((e=oe.state.activeCaipNetwork)==null?void 0:e.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await It.get({path:"/v1/onramp/options"})}catch{return g2e}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}){var i;try{return await It.isNetworkSupported((i=oe.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?await po.api.post({path:"/v1/onramp/quote",params:{projectId:qe.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:n,network:r}}):null}catch{return{coinbaseFee:{amount:n,currency:e.id},networkFee:{amount:n,currency:e.id},paymentSubtotal:{amount:n,currency:e.id},paymentTotal:{amount:n,currency:e.id},purchaseAmount:{amount:n,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){var n;return await It.isNetworkSupported((n=oe.state.activeCaipNetwork)==null?void 0:n.caipNetworkId)?It.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,n){var i;return await It.isNetworkSupported((i=oe.state.activeCaipNetwork)==null?void 0:i.caipNetworkId)?po.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:qe.state.projectId},body:{pci:e,signature:n}}):{success:!1}},setClientId(t){po.clientId=t,po.api=new fS({baseUrl:NH,clientId:t})}},Xo=gr({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,allAccounts:[]}),ut={state:Xo,replaceState(t){t&&Object.assign(Xo,bp(t))},subscribe(t){return oe.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,n){let r;return oe.subscribeChainProp("accountState",i=>{if(i){const s=i[t];r!==s&&(r=s,e(s))}},n)},setStatus(t,e){oe.setAccountProp("status",t,e)},getCaipAddress(t){return oe.getAccountProp("caipAddress",t)},setCaipAddress(t,e){const n=t?kt.getPlainAddress(t):void 0;e===oe.state.activeChain&&(oe.state.activeCaipAddress=t),oe.setAccountProp("caipAddress",t,e),oe.setAccountProp("address",n,e)},setBalance(t,e,n){oe.setAccountProp("balance",t,n),oe.setAccountProp("balanceSymbol",e,n)},setProfileName(t,e){oe.setAccountProp("profileName",t,e)},setProfileImage(t,e){oe.setAccountProp("profileImage",t,e)},setUser(t,e){oe.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){oe.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){oe.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){oe.setAccountProp("currentTab",t,oe.state.activeChain)},setTokenBalance(t,e){t&&oe.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){oe.setAccountProp("shouldUpdateToAddress",t,e)},setAllAccounts(t,e){oe.setAccountProp("allAccounts",t,e)},addAddressLabel(t,e,n){const r=oe.getAccountProp("addressLabels",n)||new Map;r.set(t,e),oe.setAccountProp("addressLabels",r,n)},removeAddressLabel(t,e){const n=oe.getAccountProp("addressLabels",e)||new Map;n.delete(t),oe.setAccountProp("addressLabels",n,e)},setConnectedWalletInfo(t,e){oe.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){oe.setAccountProp("preferredAccountTypes",{...Xo.preferredAccountTypes,[e]:t},e)},setPreferredAccountTypes(t){Xo.preferredAccountTypes=t},setSocialProvider(t,e){t&&oe.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){oe.setAccountProp("socialWindow",t?bp(t):void 0,e)},setFarcasterUrl(t,e){oe.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){var s,o;Xo.balanceLoading=!0;const e=(s=oe.state.activeCaipNetwork)==null?void 0:s.caipNetworkId,n=(o=oe.state.activeCaipNetwork)==null?void 0:o.chainNamespace,r=oe.state.activeCaipAddress,i=r?kt.getPlainAddress(r):void 0;if(Xo.lastRetry&&!kt.isAllowedRetry(Xo.lastRetry,30*os.ONE_SEC_MS))return Xo.balanceLoading=!1,[];try{if(i&&e&&n){const c=(await It.getBalance(i,e)).balances.filter(l=>l.quantity.decimals!=="0");return this.setTokenBalance(c,n),Xo.lastRetry=void 0,Xo.balanceLoading=!1,c}}catch(a){Xo.lastRetry=Date.now(),t==null||t(a),ki.showError("Token Balance Unavailable")}finally{Xo.balanceLoading=!1}return[]},resetAccount(t){oe.resetAccount(t)}},Fs=gr({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Mr={state:Fs,subscribe(t){return ls(Fs,()=>t(Fs))},subscribeKey(t,e){return ro(Fs,t,e)},async open(t){var i;const e=ut.state.status==="connected";Qn.state.wcBasic?Dt.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await Dt.prefetch({fetchConnectorImages:!e,fetchFeaturedWallets:!e,fetchRecommendedWallets:!e}),t!=null&&t.namespace?(await oe.switchActiveNamespace(t.namespace),Mr.setLoading(!0,t.namespace)):Mr.setLoading(!0),Vt.setFilterByNamespace(t==null?void 0:t.namespace);const n=(i=oe.getAccountData(t==null?void 0:t.namespace))==null?void 0:i.caipAddress;oe.state.noAdapters&&!n?kt.isMobile()?Pn.reset("AllWallets"):Pn.reset("ConnectingWalletConnectBasic"):t!=null&&t.view?Pn.reset(t.view,t.data):n?Pn.reset("Account"):Pn.reset("Connect"),Fs.open=!0,ml.set({open:!0}),Vn.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!n}})},close(){const t=qe.state.enableEmbedded,e=!!oe.state.activeCaipAddress;Fs.open&&Vn.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),Fs.open=!1,Mr.clearLoading(),t?e?Pn.replace("Account"):Pn.push("Connect"):ml.set({open:!1}),Qn.resetUri()},setLoading(t,e){e&&Fs.loadingNamespaceMap.set(e,t),Fs.loading=t,ml.set({loading:t})},clearLoading(){Fs.loadingNamespaceMap.clear(),Fs.loading=!1},shake(){Fs.shake||(Fs.shake=!0,setTimeout(()=>{Fs.shake=!1},500))}},tM=2147483648,y2e={convertEVMChainIdToCoinType(t){if(t>=tM)throw new Error("Invalid chainId");return(tM|t)>>>0}},ea=gr({suggestions:[],loading:!1}),_H={state:ea,subscribe(t){return ls(ea,()=>t(ea))},subscribeKey(t,e){return ro(ea,t,e)},async resolveName(t){var e,n;try{return await It.lookupEnsName(t)}catch(r){const i=r;throw new Error(((n=(e=i==null?void 0:i.reasons)==null?void 0:e[0])==null?void 0:n.description)||"Error resolving name")}},async isNameRegistered(t){try{return await It.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{ea.loading=!0,ea.suggestions=[];const e=await It.getEnsNameSuggestions(t);return ea.suggestions=e.suggestions.map(n=>({...n,name:n.name}))||[],ea.suggestions}catch(e){const n=this.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(n)}finally{ea.loading=!1}},async getNamesForAddress(t){try{if(!oe.state.activeCaipNetwork)return[];const n=ot.getEnsFromCacheForAddress(t);if(n)return n;const r=await It.reverseLookupEnsName({address:t});return ot.updateEnsCache({address:t,ens:r,timestamp:Date.now()}),r}catch(e){const n=this.parseEnsApiError(e,"Error fetching names for address");throw new Error(n)}},async registerName(t){const e=oe.state.activeCaipNetwork;if(!e)throw new Error("Network not found");const n=ut.state.address,r=Vt.getAuthConnector();if(!n||!r)throw new Error("Address or auth connector not found");ea.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});Pn.pushTransactionStack({view:"RegisterAccountNameSuccess",goBack:!1,replace:!0,onCancel(){ea.loading=!1}});const s=await Qn.signMessage(i),o=e.id;if(!o)throw new Error("Network not found");const a=y2e.convertEVMChainIdToCoinType(Number(o));await It.registerEnsName({coinType:a,address:n,signature:s,message:i}),ut.setProfileName(t,e.chainNamespace),Pn.replace("RegisterAccountNameSuccess")}catch(i){const s=this.parseEnsApiError(i,`Error registering name ${t}`);throw Pn.replace("RegisterAccountName"),new Error(s)}finally{ea.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){var r,i;const n=t;return((i=(r=n==null?void 0:n.reasons)==null?void 0:r[0])==null?void 0:i.description)||e}};var PH={exports:{}},IH={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wy=ce;function w2e(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var v2e=typeof Object.is=="function"?Object.is:w2e,b2e=wy.useState,x2e=wy.useEffect,E2e=wy.useLayoutEffect,A2e=wy.useDebugValue;function S2e(t,e){var n=e(),r=b2e({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return E2e(function(){i.value=n,i.getSnapshot=e,D_(i)&&s({inst:i})},[t,n,e]),x2e(function(){return D_(i)&&s({inst:i}),t(function(){D_(i)&&s({inst:i})})},[t]),A2e(n),n}function D_(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!v2e(t,n)}catch{return!0}}function C2e(t,e){return e()}var N2e=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?C2e:S2e;IH.useSyncExternalStore=wy.useSyncExternalStore!==void 0?wy.useSyncExternalStore:N2e;PH.exports=IH;var _2e=PH.exports;const P2e=Ub(_2e),I2e={BASE_URL:"/iunlockexpert",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_IMEI_API_KEY:"PN7VOmB870ddyo8ojOE83HJ5NIZ1OpkKDu9Y5H3P2784288f",VITE_IMEI_SERVICE_ID:"1",VITE_PROJECT_ID:"acf46e0cc4d322acb6d86bb030902765",VITE_WALLET_CONNECT_PROJECT_ID:"acf46e0cc4d322acb6d86bb030902765"},{use:nM}=lr,{useSyncExternalStore:T2e}=P2e,k2e=(t,e)=>{const n=ce.useRef();ce.useEffect(()=>{n.current=Bie(t,e)}),ce.useDebugValue(n.current)},O2e=new WeakMap;function jk(t,e){const r=ce.useRef(),i=ce.useRef();let s=!0;const o=T2e(ce.useCallback(l=>{const u=ls(t,l);return l(),u},[t,void 0]),()=>{const l=vp(t,nM);try{if(!s&&r.current&&i.current&&!k$(r.current,l,i.current,new WeakMap))return r.current}catch{}return l},()=>vp(t,nM));s=!1;const a=new WeakMap;ce.useEffect(()=>{r.current=o,i.current=a}),(I2e?"production":void 0)!=="production"&&k2e(o,a);const c=ce.useMemo(()=>new WeakMap,[]);return T$(o,a,c,O2e)}function R2e(){const{activeCaipNetwork:t}=jk(oe.state);return{caipNetwork:t,chainId:t==null?void 0:t.id,caipNetworkId:t==null?void 0:t.caipNetworkId}}function L2e(t){var s,o;const e=jk(oe.state),n=e.activeChain;if(!n)return{allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0};const r=(s=e.chains.get(n))==null?void 0:s.accountState,i=Vt.getAuthConnector(n);return{allAccounts:(r==null?void 0:r.allAccounts)||[],caipAddress:r==null?void 0:r.caipAddress,address:kt.getPlainAddress(r==null?void 0:r.caipAddress),isConnected:!!(r!=null&&r.caipAddress),status:r==null?void 0:r.status,embeddedWalletInfo:i?{user:r!=null&&r.user?{...r.user,username:ot.getConnectedSocialUsername()}:void 0,authProvider:(r==null?void 0:r.socialProvider)||"email",accountType:(o=r==null?void 0:r.preferredAccountTypes)==null?void 0:o[n],isSmartAccountDeployed:!!(r!=null&&r.smartAccountDeployed)}:void 0}}const zn={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",EIP155:"eip155",ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},tl={ConnectorExplorerIds:{[Ge.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ge.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[Ge.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[Ge.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[Ge.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[zn.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[zn.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[zn.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[zn.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[zn.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[zn.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[zn.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[zn.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[zn.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[zn.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[zn.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200"},ConnectorImageIds:{[Ge.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ge.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[Ge.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[Ge.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[Ge.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[Ge.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[Ge.CONNECTOR_ID.INJECTED]:"Browser Wallet",[Ge.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[Ge.CONNECTOR_ID.COINBASE]:"Coinbase",[Ge.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[Ge.CONNECTOR_ID.LEDGER]:"Ledger",[Ge.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[Ge.CONNECTOR_ID.INJECTED]:"INJECTED",[Ge.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[Ge.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[Ge.CONNECTOR_ID.AUTH]:"AUTH"},WalletConnectRpcChainIds:[1,5,11155111,10,420,42161,421613,137,80001,42220,1313161554,1313161555,56,97,43114,43113,100,8453,84531,7777777,999,324,280]},RS={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([n,r])=>{e[`${zn.EIP155}:${n}`]=r}),e},isLowerCaseMatch(t,e){return(t==null?void 0:t.toLowerCase())===(e==null?void 0:e.toLowerCase())}},pw={UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"INVALID_APP_CONFIGURATION"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{shortMessage:"Network Not Found",longMessage:"Network not found - please make sure it is included in 'networks' array in createAppKit function"},INVALID_APP_CONFIGURATION:{shortMessage:"Invalid App Configuration",longMessage:()=>`Origin ${D2e()?window.origin:"unknown"} not found on Allowlist - update configuration on cloud.reown.com`},SOCIALS_TIMEOUT:{shortMessage:"Invalid App Configuration",longMessage:()=>"There was an issue loading the embedded wallet. Please verify that your domain is allowed at cloud.reown.com"},JWT_TOKEN_NOT_VALID:{shortMessage:"Session Expired",longMessage:"Invalid session found on UniversalProvider - please check your time settings and connect again"},INVALID_PROJECT_ID:{shortMessage:"Invalid App Configuration",longMessage:"Invalid Project ID - update configuration"},PROJECT_ID_NOT_CONFIGURED:{shortMessage:"Project ID Not Configured",longMessage:"Project ID Not Configured - update configuration on cloud.reown.com"}}};function D2e(){return typeof window<"u"}const j2e={createLogger(t,e="error"){const n=By({level:e}),{logger:r}=ck({opts:n});return r.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},r}},M2e="rpc.walletconnect.org";function rM(t,e){const n=new URL("https://rpc.walletconnect.org/v1/");return n.searchParams.set("chainId",t),n.searchParams.set("projectId",e),n.toString()}const j_=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],ag={extendRpcUrlWithProjectId(t,e){let n=!1;try{n=new URL(t).host===M2e}catch{n=!1}if(n){const r=new URL(t);return r.searchParams.has("projectId")||r.searchParams.set("projectId",e),r.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:Ge.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${Ge.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,n){var i,s,o;const r=(o=(s=(i=t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null?void 0:o[0];return j_.includes(e)?rM(e,n):r||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){var h,f,m,g,E;const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=(h=t.rpcUrls.default.http)==null?void 0:h[0],a=this.getDefaultRpcUrl(t,s,n),c=((g=(m=(f=t==null?void 0:t.rpcUrls)==null?void 0:f.chainDefault)==null?void 0:m.http)==null?void 0:g[0])||o,l=((E=r==null?void 0:r[s])==null?void 0:E.map(y=>y.url))||[],u=[...l,a],d=[...l];return c&&!d.includes(c)&&d.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:tl.NetworkImageIds[t.id],imageUrl:e==null?void 0:e[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:d}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:n,customRpcUrls:r}){return t.map(i=>ag.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:r,projectId:n}))},getViemTransport(t,e,n){var i,s,o;const r=[];return n==null||n.forEach(a=>{r.push(ix(a.url,a.config))}),j_.includes(t.caipNetworkId)&&r.push(ix(rM(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),(o=(s=(i=t==null?void 0:t.rpcUrls)==null?void 0:i.default)==null?void 0:s.http)==null||o.forEach(a=>{r.push(ix(a))}),Qj(r)},extendWagmiTransports(t,e,n){if(j_.includes(t.caipNetworkId)){const r=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return Qj([n,ix(r)])}return n},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:Ge.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){var c;const e=ot.getActiveCaipNetworkId(),n=oe.getAllRequestedCaipNetworks(),r=Array.from(((c=oe.state.chains)==null?void 0:c.keys())||[]),i=e==null?void 0:e.split(":")[0],s=i?r.includes(i):!1,o=n==null?void 0:n.find(l=>l.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||(n==null?void 0:n[0])}},aA={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0},$s=gr({providers:{...aA},providerIds:{...aA}}),ln={state:$s,subscribeKey(t,e){return ro($s,t,e)},subscribe(t){return ls($s,()=>{t($s)})},subscribeProviders(t){return ls($s.providers,()=>t($s.providers))},setProvider(t,e){e&&($s.providers[t]=bp(e))},getProvider(t){return $s.providers[t]},setProviderId(t,e){e&&($s.providerIds[t]=e)},getProviderId(t){if(t)return $s.providerIds[t]},reset(){$s.providers={...aA},$s.providerIds={...aA}},resetChain(t){$s.providers[t]=void 0,$s.providerIds[t]=void 0}},iM={address:/^0x(?:[A-Fa-f0-9]{40})$/u,transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},_i={set(t,e){_o.isClient&&localStorage.setItem(`${ft.STORAGE_KEY}${t}`,e)},get(t){return _o.isClient?localStorage.getItem(`${ft.STORAGE_KEY}${t}`):null},delete(t,e){_o.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${ft.STORAGE_KEY}${t}`))}},ox=30*1e3,_o={checkIfAllowedToTriggerEmail(){const t=_i.get(ft.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<ox){const n=Math.ceil((ox-e)/1e3);throw new Error(`Please try again after ${n} seconds`)}}},getTimeToNextEmailLogin(){const t=_i.get(ft.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<ox)return Math.ceil((ox-e)/1e3)}return 0},checkIfRequestExists(t){return Gr.NOT_SAFE_RPC_METHODS.includes(t.method)||Gr.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&((t==null?void 0:t.match(iM.transactionHash))||(t==null?void 0:t.match(iM.signedMessage)))?ft.RPC_RESPONSE_TYPE_TX:ft.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Gr.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var mn;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function n(i){throw new Error}t.assertNever=n,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=r,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(mn||(mn={}));var P4;(function(t){t.mergeShapes=(e,n)=>({...e,...n})})(P4||(P4={}));const rt=mn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Cd=t=>{switch(typeof t){case"undefined":return rt.undefined;case"string":return rt.string;case"number":return isNaN(t)?rt.nan:rt.number;case"boolean":return rt.boolean;case"function":return rt.function;case"bigint":return rt.bigint;case"symbol":return rt.symbol;case"object":return Array.isArray(t)?rt.array:t===null?rt.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?rt.promise:typeof Map<"u"&&t instanceof Map?rt.map:typeof Set<"u"&&t instanceof Set?rt.set:typeof Date<"u"&&t instanceof Date?rt.date:rt.object;default:return rt.unknown}},He=mn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),B2e=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class dc extends Error{constructor(e){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const n=e||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let a=r,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(n(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,mn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}dc.create=t=>new dc(t);const eb=(t,e)=>{let n;switch(t.code){case He.invalid_type:t.received===rt.undefined?n="Required":n=`Expected ${t.expected}, received ${t.received}`;break;case He.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(t.expected,mn.jsonStringifyReplacer)}`;break;case He.unrecognized_keys:n=`Unrecognized key(s) in object: ${mn.joinValues(t.keys,", ")}`;break;case He.invalid_union:n="Invalid input";break;case He.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${mn.joinValues(t.options)}`;break;case He.invalid_enum_value:n=`Invalid enum value. Expected ${mn.joinValues(t.options)}, received '${t.received}'`;break;case He.invalid_arguments:n="Invalid function arguments";break;case He.invalid_return_type:n="Invalid function return type";break;case He.invalid_date:n="Invalid date";break;case He.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(n=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?n=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?n=`Invalid input: must end with "${t.validation.endsWith}"`:mn.assertNever(t.validation):t.validation!=="regex"?n=`Invalid ${t.validation}`:n="Invalid";break;case He.too_small:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:n="Invalid input";break;case He.too_big:t.type==="array"?n=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?n=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?n=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?n=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?n=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:n="Invalid input";break;case He.custom:n="Invalid input";break;case He.invalid_intersection_types:n="Intersection results could not be merged";break;case He.not_multiple_of:n=`Number must be a multiple of ${t.multipleOf}`;break;case He.not_finite:n="Number must be finite";break;default:n=e.defaultError,mn.assertNever(t)}return{message:n}};let TH=eb;function U2e(t){TH=t}function cA(){return TH}const lA=t=>{const{data:e,path:n,errorMaps:r,issueData:i}=t,s=[...n,...i.path||[]],o={...i,path:s};let a="";const c=r.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},F2e=[];function at(t,e){const n=lA({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,cA(),eb].filter(r=>!!r)});t.common.issues.push(n)}class us{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,n){const r=[];for(const i of n){if(i.status==="aborted")return Ut;i.status==="dirty"&&e.dirty(),r.push(i.value)}return{status:e.value,value:r}}static async mergeObjectAsync(e,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return us.mergeObjectSync(e,r)}static mergeObjectSync(e,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Ut;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:e.value,value:r}}}const Ut=Object.freeze({status:"aborted"}),kH=t=>({status:"dirty",value:t}),Ps=t=>({status:"valid",value:t}),I4=t=>t.status==="aborted",T4=t=>t.status==="dirty",tb=t=>t.status==="valid",uA=t=>typeof Promise<"u"&&t instanceof Promise;var yt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(yt||(yt={}));class vl{constructor(e,n,r,i){this._cachedPath=[],this.parent=e,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const sM=(t,e)=>{if(tb(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new dc(t.common.issues);return this._error=n,this._error}}};function Ht(t){if(!t)return{};const{errorMap:e,invalid_type_error:n,required_error:r,description:i}=t;if(e&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:r??a.defaultError}:{message:n??a.defaultError},description:i}}class Yt{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Cd(e.data)}_getOrReturnCtx(e,n){return n||{common:e.parent.common,data:e.data,parsedType:Cd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new us,ctx:{common:e.parent.common,data:e.data,parsedType:Cd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const n=this._parse(e);if(uA(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(e){const n=this._parse(e);return Promise.resolve(n)}parse(e,n){const r=this.safeParse(e,n);if(r.success)return r.data;throw r.error}safeParse(e,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cd(e)},s=this._parseSync({data:e,path:i.path,parent:i});return sM(i,s)}async parseAsync(e,n){const r=await this.safeParseAsync(e,n);if(r.success)return r.data;throw r.error}async safeParseAsync(e,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Cd(e)},i=this._parse({data:e,path:r.path,parent:r}),s=await(uA(i)?i:Promise.resolve(i));return sM(r,s)}refine(e,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:He.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,n){return this._refinement((r,i)=>e(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(e){return new pc({schema:this,typeName:_t.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return _u.create(this,this._def)}nullable(){return Pp.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return hc.create(this,this._def)}promise(){return by.create(this,this._def)}or(e){return sb.create([this,e],this._def)}and(e){return ob.create(this,e,this._def)}transform(e){return new pc({...Ht(this._def),schema:this,typeName:_t.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const n=typeof e=="function"?e:()=>e;return new db({...Ht(this._def),innerType:this,defaultValue:n,typeName:_t.ZodDefault})}brand(){return new RH({typeName:_t.ZodBranded,type:this,...Ht(this._def)})}catch(e){const n=typeof e=="function"?e:()=>e;return new pA({...Ht(this._def),innerType:this,catchValue:n,typeName:_t.ZodCatch})}describe(e){const n=this.constructor;return new n({...this._def,description:e})}pipe(e){return h2.create(this,e)}readonly(){return gA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const $2e=/^c[^\s-]{8,}$/i,z2e=/^[a-z][a-z0-9]*$/,V2e=/^[0-9A-HJKMNP-TV-Z]{26}$/,H2e=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,q2e=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,W2e="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let M_;const G2e=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,K2e=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Y2e=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function J2e(t,e){return!!((e==="v4"||!e)&&G2e.test(t)||(e==="v6"||!e)&&K2e.test(t))}class oc extends Yt{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==rt.string){const s=this._getOrReturnCtx(e);return at(s,{code:He.invalid_type,expected:rt.string,received:s.parsedType}),Ut}const r=new us;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:He.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:He.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?at(i,{code:He.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&at(i,{code:He.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")q2e.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"email",code:He.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")M_||(M_=new RegExp(W2e,"u")),M_.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"emoji",code:He.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")H2e.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"uuid",code:He.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")$2e.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"cuid",code:He.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")z2e.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"cuid2",code:He.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")V2e.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"ulid",code:He.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),at(i,{validation:"url",code:He.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"regex",code:He.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),at(i,{code:He.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),at(i,{code:He.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),at(i,{code:He.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?Y2e(s).test(e.data)||(i=this._getOrReturnCtx(e,i),at(i,{code:He.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?J2e(e.data,s.version)||(i=this._getOrReturnCtx(e,i),at(i,{validation:"ip",code:He.invalid_string,message:s.message}),r.dirty()):mn.assertNever(s);return{status:r.value,value:e.data}}_regex(e,n,r){return this.refinement(i=>e.test(i),{validation:n,code:He.invalid_string,...yt.errToObj(r)})}_addCheck(e){return new oc({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...yt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...yt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...yt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...yt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...yt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...yt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...yt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...yt.errToObj(e)})}datetime(e){var n;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(n=e==null?void 0:e.offset)!==null&&n!==void 0?n:!1,...yt.errToObj(e==null?void 0:e.message)})}regex(e,n){return this._addCheck({kind:"regex",regex:e,...yt.errToObj(n)})}includes(e,n){return this._addCheck({kind:"includes",value:e,position:n==null?void 0:n.position,...yt.errToObj(n==null?void 0:n.message)})}startsWith(e,n){return this._addCheck({kind:"startsWith",value:e,...yt.errToObj(n)})}endsWith(e,n){return this._addCheck({kind:"endsWith",value:e,...yt.errToObj(n)})}min(e,n){return this._addCheck({kind:"min",value:e,...yt.errToObj(n)})}max(e,n){return this._addCheck({kind:"max",value:e,...yt.errToObj(n)})}length(e,n){return this._addCheck({kind:"length",value:e,...yt.errToObj(n)})}nonempty(e){return this.min(1,yt.errToObj(e))}trim(){return new oc({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new oc({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new oc({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxLength(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}oc.create=t=>{var e;return new oc({checks:[],typeName:_t.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ht(t)})};function Q2e(t,e){const n=(t.toString().split(".")[1]||"").length,r=(e.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Eh extends Yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==rt.number){const s=this._getOrReturnCtx(e);return at(s,{code:He.invalid_type,expected:rt.number,received:s.parsedType}),Ut}let r;const i=new us;for(const s of this._def.checks)s.kind==="int"?mn.isInteger(e.data)||(r=this._getOrReturnCtx(e,r),at(r,{code:He.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),at(r,{code:He.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),at(r,{code:He.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Q2e(e.data,s.value)!==0&&(r=this._getOrReturnCtx(e,r),at(r,{code:He.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(r=this._getOrReturnCtx(e,r),at(r,{code:He.not_finite,message:s.message}),i.dirty()):mn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,yt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,yt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,yt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,yt.toString(n))}setLimit(e,n,r,i){return new Eh({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:yt.toString(i)}]})}_addCheck(e){return new Eh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:yt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:yt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:yt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:yt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:yt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:yt.toString(n)})}finite(e){return this._addCheck({kind:"finite",message:yt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:yt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:yt.toString(e)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&mn.isInteger(e.value))}get isFinite(){let e=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(e===null||r.value<e)&&(e=r.value)}return Number.isFinite(n)&&Number.isFinite(e)}}Eh.create=t=>new Eh({checks:[],typeName:_t.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...Ht(t)});class Ah extends Yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==rt.bigint){const s=this._getOrReturnCtx(e);return at(s,{code:He.invalid_type,expected:rt.bigint,received:s.parsedType}),Ut}let r;const i=new us;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(r=this._getOrReturnCtx(e,r),at(r,{code:He.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(r=this._getOrReturnCtx(e,r),at(r,{code:He.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(e,r),at(r,{code:He.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):mn.assertNever(s);return{status:i.value,value:e.data}}gte(e,n){return this.setLimit("min",e,!0,yt.toString(n))}gt(e,n){return this.setLimit("min",e,!1,yt.toString(n))}lte(e,n){return this.setLimit("max",e,!0,yt.toString(n))}lt(e,n){return this.setLimit("max",e,!1,yt.toString(n))}setLimit(e,n,r,i){return new Ah({...this._def,checks:[...this._def.checks,{kind:e,value:n,inclusive:r,message:yt.toString(i)}]})}_addCheck(e){return new Ah({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:yt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:yt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:yt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:yt.toString(e)})}multipleOf(e,n){return this._addCheck({kind:"multipleOf",value:e,message:yt.toString(n)})}get minValue(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e}get maxValue(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e}}Ah.create=t=>{var e;return new Ah({checks:[],typeName:_t.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...Ht(t)})};class nb extends Yt{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==rt.boolean){const r=this._getOrReturnCtx(e);return at(r,{code:He.invalid_type,expected:rt.boolean,received:r.parsedType}),Ut}return Ps(e.data)}}nb.create=t=>new nb({typeName:_t.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...Ht(t)});class Np extends Yt{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==rt.date){const s=this._getOrReturnCtx(e);return at(s,{code:He.invalid_type,expected:rt.date,received:s.parsedType}),Ut}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return at(s,{code:He.invalid_date}),Ut}const r=new us;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:He.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),at(i,{code:He.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):mn.assertNever(s);return{status:r.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Np({...this._def,checks:[...this._def.checks,e]})}min(e,n){return this._addCheck({kind:"min",value:e.getTime(),message:yt.toString(n)})}max(e,n){return this._addCheck({kind:"max",value:e.getTime(),message:yt.toString(n)})}get minDate(){let e=null;for(const n of this._def.checks)n.kind==="min"&&(e===null||n.value>e)&&(e=n.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const n of this._def.checks)n.kind==="max"&&(e===null||n.value<e)&&(e=n.value);return e!=null?new Date(e):null}}Np.create=t=>new Np({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:_t.ZodDate,...Ht(t)});class dA extends Yt{_parse(e){if(this._getType(e)!==rt.symbol){const r=this._getOrReturnCtx(e);return at(r,{code:He.invalid_type,expected:rt.symbol,received:r.parsedType}),Ut}return Ps(e.data)}}dA.create=t=>new dA({typeName:_t.ZodSymbol,...Ht(t)});class rb extends Yt{_parse(e){if(this._getType(e)!==rt.undefined){const r=this._getOrReturnCtx(e);return at(r,{code:He.invalid_type,expected:rt.undefined,received:r.parsedType}),Ut}return Ps(e.data)}}rb.create=t=>new rb({typeName:_t.ZodUndefined,...Ht(t)});class ib extends Yt{_parse(e){if(this._getType(e)!==rt.null){const r=this._getOrReturnCtx(e);return at(r,{code:He.invalid_type,expected:rt.null,received:r.parsedType}),Ut}return Ps(e.data)}}ib.create=t=>new ib({typeName:_t.ZodNull,...Ht(t)});class vy extends Yt{constructor(){super(...arguments),this._any=!0}_parse(e){return Ps(e.data)}}vy.create=t=>new vy({typeName:_t.ZodAny,...Ht(t)});class ap extends Yt{constructor(){super(...arguments),this._unknown=!0}_parse(e){return Ps(e.data)}}ap.create=t=>new ap({typeName:_t.ZodUnknown,...Ht(t)});class Du extends Yt{_parse(e){const n=this._getOrReturnCtx(e);return at(n,{code:He.invalid_type,expected:rt.never,received:n.parsedType}),Ut}}Du.create=t=>new Du({typeName:_t.ZodNever,...Ht(t)});class hA extends Yt{_parse(e){if(this._getType(e)!==rt.undefined){const r=this._getOrReturnCtx(e);return at(r,{code:He.invalid_type,expected:rt.void,received:r.parsedType}),Ut}return Ps(e.data)}}hA.create=t=>new hA({typeName:_t.ZodVoid,...Ht(t)});class hc extends Yt{_parse(e){const{ctx:n,status:r}=this._processInputParams(e),i=this._def;if(n.parsedType!==rt.array)return at(n,{code:He.invalid_type,expected:rt.array,received:n.parsedType}),Ut;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,a=n.data.length<i.exactLength.value;(o||a)&&(at(n,{code:o?He.too_big:He.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(at(n,{code:He.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(at(n,{code:He.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,a)=>i.type._parseAsync(new vl(n,o,n.path,a)))).then(o=>us.mergeArray(r,o));const s=[...n.data].map((o,a)=>i.type._parseSync(new vl(n,o,n.path,a)));return us.mergeArray(r,s)}get element(){return this._def.type}min(e,n){return new hc({...this._def,minLength:{value:e,message:yt.toString(n)}})}max(e,n){return new hc({...this._def,maxLength:{value:e,message:yt.toString(n)}})}length(e,n){return new hc({...this._def,exactLength:{value:e,message:yt.toString(n)}})}nonempty(e){return this.min(1,e)}}hc.create=(t,e)=>new hc({type:t,minLength:null,maxLength:null,exactLength:null,typeName:_t.ZodArray,...Ht(e)});function cg(t){if(t instanceof ur){const e={};for(const n in t.shape){const r=t.shape[n];e[n]=_u.create(cg(r))}return new ur({...t._def,shape:()=>e})}else return t instanceof hc?new hc({...t._def,type:cg(t.element)}):t instanceof _u?_u.create(cg(t.unwrap())):t instanceof Pp?Pp.create(cg(t.unwrap())):t instanceof bl?bl.create(t.items.map(e=>cg(e))):t}class ur extends Yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),n=mn.objectKeys(e);return this._cached={shape:e,keys:n}}_parse(e){if(this._getType(e)!==rt.object){const l=this._getOrReturnCtx(e);return at(l,{code:He.invalid_type,expected:rt.object,received:l.parsedType}),Ut}const{status:r,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Du&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],d=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new vl(i,d,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Du){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(at(i,{code:He.unrecognized_keys,keys:a}),r.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const d=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new vl(i,d,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const d=await u.key;l.push({key:d,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>us.mergeObjectSync(r,l)):us.mergeObjectSync(r,c)}get shape(){return this._def.shape()}strict(e){return yt.errToObj,new ur({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(n,r)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(a=yt.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new ur({...this._def,unknownKeys:"strip"})}passthrough(){return new ur({...this._def,unknownKeys:"passthrough"})}extend(e){return new ur({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new ur({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:_t.ZodObject})}setKey(e,n){return this.augment({[e]:n})}catchall(e){return new ur({...this._def,catchall:e})}pick(e){const n={};return mn.objectKeys(e).forEach(r=>{e[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ur({...this._def,shape:()=>n})}omit(e){const n={};return mn.objectKeys(this.shape).forEach(r=>{e[r]||(n[r]=this.shape[r])}),new ur({...this._def,shape:()=>n})}deepPartial(){return cg(this)}partial(e){const n={};return mn.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];e&&!e[r]?n[r]=i:n[r]=i.optional()}),new ur({...this._def,shape:()=>n})}required(e){const n={};return mn.objectKeys(this.shape).forEach(r=>{if(e&&!e[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof _u;)s=s._def.innerType;n[r]=s}}),new ur({...this._def,shape:()=>n})}keyof(){return OH(mn.objectKeys(this.shape))}}ur.create=(t,e)=>new ur({shape:()=>t,unknownKeys:"strip",catchall:Du.create(),typeName:_t.ZodObject,...Ht(e)});ur.strictCreate=(t,e)=>new ur({shape:()=>t,unknownKeys:"strict",catchall:Du.create(),typeName:_t.ZodObject,...Ht(e)});ur.lazycreate=(t,e)=>new ur({shape:t,unknownKeys:"strip",catchall:Du.create(),typeName:_t.ZodObject,...Ht(e)});class sb extends Yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return n.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new dc(a.ctx.common.issues));return at(n,{code:He.invalid_union,unionErrors:o}),Ut}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of r){const l={...n,common:{...n.common,issues:[]},parent:null},u=c._parseSync({data:n.data,path:n.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new dc(c));return at(n,{code:He.invalid_union,unionErrors:a}),Ut}}get options(){return this._def.options}}sb.create=(t,e)=>new sb({options:t,typeName:_t.ZodUnion,...Ht(e)});const Wx=t=>t instanceof cb?Wx(t.schema):t instanceof pc?Wx(t.innerType()):t instanceof lb?[t.value]:t instanceof Sh?t.options:t instanceof ub?Object.keys(t.enum):t instanceof db?Wx(t._def.innerType):t instanceof rb?[void 0]:t instanceof ib?[null]:null;class LS extends Yt{_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.object)return at(n,{code:He.invalid_type,expected:rt.object,received:n.parsedType}),Ut;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(at(n,{code:He.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),Ut)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,n,r){const i=new Map;for(const s of n){const o=Wx(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new LS({typeName:_t.ZodDiscriminatedUnion,discriminator:e,options:n,optionsMap:i,...Ht(r)})}}function k4(t,e){const n=Cd(t),r=Cd(e);if(t===e)return{valid:!0,data:t};if(n===rt.object&&r===rt.object){const i=mn.objectKeys(e),s=mn.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=k4(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(n===rt.array&&r===rt.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=k4(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return n===rt.date&&r===rt.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class ob extends Yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=(s,o)=>{if(I4(s)||I4(o))return Ut;const a=k4(s.value,o.value);return a.valid?((T4(s)||T4(o))&&n.dirty(),{status:n.value,value:a.data}):(at(r,{code:He.invalid_intersection_types}),Ut)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}ob.create=(t,e,n)=>new ob({left:t,right:e,typeName:_t.ZodIntersection,...Ht(n)});class bl extends Yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.array)return at(r,{code:He.invalid_type,expected:rt.array,received:r.parsedType}),Ut;if(r.data.length<this._def.items.length)return at(r,{code:He.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ut;!this._def.rest&&r.data.length>this._def.items.length&&(at(r,{code:He.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new vl(r,o,r.path,a)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>us.mergeArray(n,o)):us.mergeArray(n,s)}get items(){return this._def.items}rest(e){return new bl({...this._def,rest:e})}}bl.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new bl({items:t,typeName:_t.ZodTuple,rest:null,...Ht(e)})};class ab extends Yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.object)return at(r,{code:He.invalid_type,expected:rt.object,received:r.parsedType}),Ut;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in r.data)i.push({key:s._parse(new vl(r,a,r.path,a)),value:o._parse(new vl(r,r.data[a],r.path,a))});return r.common.async?us.mergeObjectAsync(n,i):us.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(e,n,r){return n instanceof Yt?new ab({keyType:e,valueType:n,typeName:_t.ZodRecord,...Ht(r)}):new ab({keyType:oc.create(),valueType:e,typeName:_t.ZodRecord,...Ht(n)})}}class fA extends Yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.map)return at(r,{code:He.invalid_type,expected:rt.map,received:r.parsedType}),Ut;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([a,c],l)=>({key:i._parse(new vl(r,a,r.path,[l,"key"])),value:s._parse(new vl(r,c,r.path,[l,"value"]))}));if(r.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Ut;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Ut;(l.status==="dirty"||u.status==="dirty")&&n.dirty(),a.set(l.value,u.value)}return{status:n.value,value:a}}}}fA.create=(t,e,n)=>new fA({valueType:e,keyType:t,typeName:_t.ZodMap,...Ht(n)});class _p extends Yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.parsedType!==rt.set)return at(r,{code:He.invalid_type,expected:rt.set,received:r.parsedType}),Ut;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(at(r,{code:He.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(at(r,{code:He.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Ut;u.status==="dirty"&&n.dirty(),l.add(u.value)}return{status:n.value,value:l}}const a=[...r.data.values()].map((c,l)=>s._parse(new vl(r,c,r.path,l)));return r.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,n){return new _p({...this._def,minSize:{value:e,message:yt.toString(n)}})}max(e,n){return new _p({...this._def,maxSize:{value:e,message:yt.toString(n)}})}size(e,n){return this.min(e,n).max(e,n)}nonempty(e){return this.min(1,e)}}_p.create=(t,e)=>new _p({valueType:t,minSize:null,maxSize:null,typeName:_t.ZodSet,...Ht(e)});class e0 extends Yt{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.function)return at(n,{code:He.invalid_type,expected:rt.function,received:n.parsedType}),Ut;function r(a,c){return lA({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,cA(),eb].filter(l=>!!l),issueData:{code:He.invalid_arguments,argumentsError:c}})}function i(a,c){return lA({data:a,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,cA(),eb].filter(l=>!!l),issueData:{code:He.invalid_return_type,returnTypeError:c}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof by){const a=this;return Ps(async function(...c){const l=new dc([]),u=await a._def.args.parseAsync(c,s).catch(f=>{throw l.addIssue(r(c,f)),l}),d=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(d,s).catch(f=>{throw l.addIssue(i(d,f)),l})})}else{const a=this;return Ps(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new dc([r(c,l.error)]);const u=Reflect.apply(o,this,l.data),d=a._def.returns.safeParse(u,s);if(!d.success)throw new dc([i(u,d.error)]);return d.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new e0({...this._def,args:bl.create(e).rest(ap.create())})}returns(e){return new e0({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,n,r){return new e0({args:e||bl.create([]).rest(ap.create()),returns:n||ap.create(),typeName:_t.ZodFunction,...Ht(r)})}}class cb extends Yt{get schema(){return this._def.getter()}_parse(e){const{ctx:n}=this._processInputParams(e);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}cb.create=(t,e)=>new cb({getter:t,typeName:_t.ZodLazy,...Ht(e)});class lb extends Yt{_parse(e){if(e.data!==this._def.value){const n=this._getOrReturnCtx(e);return at(n,{received:n.data,code:He.invalid_literal,expected:this._def.value}),Ut}return{status:"valid",value:e.data}}get value(){return this._def.value}}lb.create=(t,e)=>new lb({value:t,typeName:_t.ZodLiteral,...Ht(e)});function OH(t,e){return new Sh({values:t,typeName:_t.ZodEnum,...Ht(e)})}class Sh extends Yt{_parse(e){if(typeof e.data!="string"){const n=this._getOrReturnCtx(e),r=this._def.values;return at(n,{expected:mn.joinValues(r),received:n.parsedType,code:He.invalid_type}),Ut}if(this._def.values.indexOf(e.data)===-1){const n=this._getOrReturnCtx(e),r=this._def.values;return at(n,{received:n.data,code:He.invalid_enum_value,options:r}),Ut}return Ps(e.data)}get options(){return this._def.values}get enum(){const e={};for(const n of this._def.values)e[n]=n;return e}get Values(){const e={};for(const n of this._def.values)e[n]=n;return e}get Enum(){const e={};for(const n of this._def.values)e[n]=n;return e}extract(e){return Sh.create(e)}exclude(e){return Sh.create(this.options.filter(n=>!e.includes(n)))}}Sh.create=OH;class ub extends Yt{_parse(e){const n=mn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(e);if(r.parsedType!==rt.string&&r.parsedType!==rt.number){const i=mn.objectValues(n);return at(r,{expected:mn.joinValues(i),received:r.parsedType,code:He.invalid_type}),Ut}if(n.indexOf(e.data)===-1){const i=mn.objectValues(n);return at(r,{received:r.data,code:He.invalid_enum_value,options:i}),Ut}return Ps(e.data)}get enum(){return this._def.values}}ub.create=(t,e)=>new ub({values:t,typeName:_t.ZodNativeEnum,...Ht(e)});class by extends Yt{unwrap(){return this._def.type}_parse(e){const{ctx:n}=this._processInputParams(e);if(n.parsedType!==rt.promise&&n.common.async===!1)return at(n,{code:He.invalid_type,expected:rt.promise,received:n.parsedType}),Ut;const r=n.parsedType===rt.promise?n.data:Promise.resolve(n.data);return Ps(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}by.create=(t,e)=>new by({type:t,typeName:_t.ZodPromise,...Ht(e)});class pc extends Yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===_t.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:n,ctx:r}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{at(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(r.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?Ut:(a.status==="dirty"&&n.dirty(),o(a.value),{status:n.value,value:a.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>a.status==="aborted"?Ut:(a.status==="dirty"&&n.dirty(),o(a.value).then(()=>({status:n.value,value:a.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!tb(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:a}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>tb(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:n.value,value:a})):o);mn.assertNever(i)}}pc.create=(t,e,n)=>new pc({schema:t,typeName:_t.ZodEffects,effect:e,...Ht(n)});pc.createWithPreprocess=(t,e,n)=>new pc({schema:e,effect:{type:"preprocess",transform:t},typeName:_t.ZodEffects,...Ht(n)});class _u extends Yt{_parse(e){return this._getType(e)===rt.undefined?Ps(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}_u.create=(t,e)=>new _u({innerType:t,typeName:_t.ZodOptional,...Ht(e)});class Pp extends Yt{_parse(e){return this._getType(e)===rt.null?Ps(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Pp.create=(t,e)=>new Pp({innerType:t,typeName:_t.ZodNullable,...Ht(e)});class db extends Yt{_parse(e){const{ctx:n}=this._processInputParams(e);let r=n.data;return n.parsedType===rt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}db.create=(t,e)=>new db({innerType:t,typeName:_t.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Ht(e)});class pA extends Yt{_parse(e){const{ctx:n}=this._processInputParams(e),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return uA(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new dc(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new dc(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}pA.create=(t,e)=>new pA({innerType:t,typeName:_t.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Ht(e)});class mA extends Yt{_parse(e){if(this._getType(e)!==rt.nan){const r=this._getOrReturnCtx(e);return at(r,{code:He.invalid_type,expected:rt.nan,received:r.parsedType}),Ut}return{status:"valid",value:e.data}}}mA.create=t=>new mA({typeName:_t.ZodNaN,...Ht(t)});const Z2e=Symbol("zod_brand");class RH extends Yt{_parse(e){const{ctx:n}=this._processInputParams(e),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class h2 extends Yt{_parse(e){const{status:n,ctx:r}=this._processInputParams(e);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?Ut:s.status==="dirty"?(n.dirty(),kH(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?Ut:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(e,n){return new h2({in:e,out:n,typeName:_t.ZodPipeline})}}class gA extends Yt{_parse(e){const n=this._def.innerType._parse(e);return tb(n)&&(n.value=Object.freeze(n.value)),n}}gA.create=(t,e)=>new gA({innerType:t,typeName:_t.ZodReadonly,...Ht(e)});const LH=(t,e={},n)=>t?vy.create().superRefine((r,i)=>{var s,o;if(!t(r)){const a=typeof e=="function"?e(r):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):vy.create(),X2e={object:ur.lazycreate};var _t;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(_t||(_t={}));const e5e=(t,e={message:`Input not instance of ${t.name}`})=>LH(n=>n instanceof t,e),DH=oc.create,jH=Eh.create,t5e=mA.create,n5e=Ah.create,MH=nb.create,r5e=Np.create,i5e=dA.create,s5e=rb.create,o5e=ib.create,a5e=vy.create,c5e=ap.create,l5e=Du.create,u5e=hA.create,d5e=hc.create,h5e=ur.create,f5e=ur.strictCreate,p5e=sb.create,m5e=LS.create,g5e=ob.create,y5e=bl.create,w5e=ab.create,v5e=fA.create,b5e=_p.create,x5e=e0.create,E5e=cb.create,A5e=lb.create,S5e=Sh.create,C5e=ub.create,N5e=by.create,oM=pc.create,_5e=_u.create,P5e=Pp.create,I5e=pc.createWithPreprocess,T5e=h2.create,k5e=()=>DH().optional(),O5e=()=>jH().optional(),R5e=()=>MH().optional(),L5e={string:t=>oc.create({...t,coerce:!0}),number:t=>Eh.create({...t,coerce:!0}),boolean:t=>nb.create({...t,coerce:!0}),bigint:t=>Ah.create({...t,coerce:!0}),date:t=>Np.create({...t,coerce:!0})},D5e=Ut;var X=Object.freeze({__proto__:null,defaultErrorMap:eb,setErrorMap:U2e,getErrorMap:cA,makeIssue:lA,EMPTY_PATH:F2e,addIssueToContext:at,ParseStatus:us,INVALID:Ut,DIRTY:kH,OK:Ps,isAborted:I4,isDirty:T4,isValid:tb,isAsync:uA,get util(){return mn},get objectUtil(){return P4},ZodParsedType:rt,getParsedType:Cd,ZodType:Yt,ZodString:oc,ZodNumber:Eh,ZodBigInt:Ah,ZodBoolean:nb,ZodDate:Np,ZodSymbol:dA,ZodUndefined:rb,ZodNull:ib,ZodAny:vy,ZodUnknown:ap,ZodNever:Du,ZodVoid:hA,ZodArray:hc,ZodObject:ur,ZodUnion:sb,ZodDiscriminatedUnion:LS,ZodIntersection:ob,ZodTuple:bl,ZodRecord:ab,ZodMap:fA,ZodSet:_p,ZodFunction:e0,ZodLazy:cb,ZodLiteral:lb,ZodEnum:Sh,ZodNativeEnum:ub,ZodPromise:by,ZodEffects:pc,ZodTransformer:pc,ZodOptional:_u,ZodNullable:Pp,ZodDefault:db,ZodCatch:pA,ZodNaN:mA,BRAND:Z2e,ZodBranded:RH,ZodPipeline:h2,ZodReadonly:gA,custom:LH,Schema:Yt,ZodSchema:Yt,late:X2e,get ZodFirstPartyTypeKind(){return _t},coerce:L5e,any:a5e,array:d5e,bigint:n5e,boolean:MH,date:r5e,discriminatedUnion:m5e,effect:oM,enum:S5e,function:x5e,instanceof:e5e,intersection:g5e,lazy:E5e,literal:A5e,map:v5e,nan:t5e,nativeEnum:C5e,never:l5e,null:o5e,nullable:P5e,number:jH,object:h5e,oboolean:R5e,onumber:O5e,optional:_5e,ostring:k5e,pipeline:T5e,preprocess:I5e,promise:N5e,record:w5e,set:b5e,strictObject:f5e,string:DH,symbol:i5e,transformer:oM,tuple:y5e,undefined:s5e,union:p5e,unknown:c5e,void:u5e,NEVER:D5e,ZodIssueCode:He,quotelessJson:B2e,ZodError:dc});const xr=X.object({message:X.string()});function it(t){return X.literal(ft[t])}X.object({accessList:X.array(X.string()),blockHash:X.string().nullable(),blockNumber:X.string().nullable(),chainId:X.string().or(X.number()),from:X.string(),gas:X.string(),hash:X.string(),input:X.string().nullable(),maxFeePerGas:X.string(),maxPriorityFeePerGas:X.string(),nonce:X.string(),r:X.string(),s:X.string(),to:X.string(),transactionIndex:X.string().nullable(),type:X.string(),v:X.string(),value:X.string()});const j5e=X.object({chainId:X.string().or(X.number())}),M5e=X.object({email:X.string().email()}),B5e=X.object({otp:X.string()}),U5e=X.object({uri:X.string()}),F5e=X.object({chainId:X.optional(X.string().or(X.number())),preferredAccountType:X.optional(X.string())}),$5e=X.object({provider:X.enum(["google","github","apple","facebook","x","discord"])}),z5e=X.object({email:X.string().email()}),V5e=X.object({otp:X.string()}),H5e=X.object({otp:X.string()}),q5e=X.object({themeMode:X.optional(X.enum(["light","dark"])),themeVariables:X.optional(X.record(X.string(),X.string().or(X.number()))),w3mThemeVariables:X.optional(X.record(X.string(),X.string()))}),W5e=X.object({metadata:X.object({name:X.string(),description:X.string(),url:X.string(),icons:X.array(X.string())}).optional(),sdkVersion:X.string().optional(),sdkType:X.string().optional(),projectId:X.string()}),G5e=X.object({type:X.string()}),K5e=X.object({action:X.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),Y5e=X.object({url:X.string()}),J5e=X.object({userName:X.string()}),Q5e=X.object({email:X.string().optional().nullable(),address:X.string(),chainId:X.string().or(X.number()),accounts:X.array(X.object({address:X.string(),type:X.enum([Gr.ACCOUNT_TYPES.EOA,Gr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:X.string().optional().nullable()}),Z5e=X.object({action:X.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),X5e=X.object({email:X.string().email().optional().nullable(),address:X.string(),chainId:X.string().or(X.number()),smartAccountDeployed:X.optional(X.boolean()),accounts:X.array(X.object({address:X.string(),type:X.enum([Gr.ACCOUNT_TYPES.EOA,Gr.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:X.optional(X.string())}),exe=X.object({uri:X.string()}),txe=X.object({isConnected:X.boolean()}),nxe=X.object({chainId:X.string().or(X.number())}),rxe=X.object({chainId:X.string().or(X.number())}),ixe=X.object({newEmail:X.string().email()}),sxe=X.object({smartAccountEnabledNetworks:X.array(X.number())});X.object({address:X.string(),isDeployed:X.boolean()});const oxe=X.object({version:X.string().optional()}),axe=X.object({type:X.string(),address:X.string()}),cxe=X.any(),lxe=X.object({method:X.literal("eth_accounts")}),uxe=X.object({method:X.literal("eth_blockNumber")}),dxe=X.object({method:X.literal("eth_call"),params:X.array(X.any())}),hxe=X.object({method:X.literal("eth_chainId")}),fxe=X.object({method:X.literal("eth_estimateGas"),params:X.array(X.any())}),pxe=X.object({method:X.literal("eth_feeHistory"),params:X.array(X.any())}),mxe=X.object({method:X.literal("eth_gasPrice")}),gxe=X.object({method:X.literal("eth_getAccount"),params:X.array(X.any())}),yxe=X.object({method:X.literal("eth_getBalance"),params:X.array(X.any())}),wxe=X.object({method:X.literal("eth_getBlockByHash"),params:X.array(X.any())}),vxe=X.object({method:X.literal("eth_getBlockByNumber"),params:X.array(X.any())}),bxe=X.object({method:X.literal("eth_getBlockReceipts"),params:X.array(X.any())}),xxe=X.object({method:X.literal("eth_getBlockTransactionCountByHash"),params:X.array(X.any())}),Exe=X.object({method:X.literal("eth_getBlockTransactionCountByNumber"),params:X.array(X.any())}),Axe=X.object({method:X.literal("eth_getCode"),params:X.array(X.any())}),Sxe=X.object({method:X.literal("eth_getFilterChanges"),params:X.array(X.any())}),Cxe=X.object({method:X.literal("eth_getFilterLogs"),params:X.array(X.any())}),Nxe=X.object({method:X.literal("eth_getLogs"),params:X.array(X.any())}),_xe=X.object({method:X.literal("eth_getProof"),params:X.array(X.any())}),Pxe=X.object({method:X.literal("eth_getStorageAt"),params:X.array(X.any())}),Ixe=X.object({method:X.literal("eth_getTransactionByBlockHashAndIndex"),params:X.array(X.any())}),Txe=X.object({method:X.literal("eth_getTransactionByBlockNumberAndIndex"),params:X.array(X.any())}),kxe=X.object({method:X.literal("eth_getTransactionByHash"),params:X.array(X.any())}),Oxe=X.object({method:X.literal("eth_getTransactionCount"),params:X.array(X.any())}),Rxe=X.object({method:X.literal("eth_getTransactionReceipt"),params:X.array(X.any())}),Lxe=X.object({method:X.literal("eth_getUncleCountByBlockHash"),params:X.array(X.any())}),Dxe=X.object({method:X.literal("eth_getUncleCountByBlockNumber"),params:X.array(X.any())}),jxe=X.object({method:X.literal("eth_maxPriorityFeePerGas")}),Mxe=X.object({method:X.literal("eth_newBlockFilter")}),Bxe=X.object({method:X.literal("eth_newFilter"),params:X.array(X.any())}),Uxe=X.object({method:X.literal("eth_newPendingTransactionFilter")}),Fxe=X.object({method:X.literal("eth_sendRawTransaction"),params:X.array(X.any())}),$xe=X.object({method:X.literal("eth_syncing"),params:X.array(X.any())}),zxe=X.object({method:X.literal("eth_uninstallFilter"),params:X.array(X.any())}),aM=X.object({method:X.literal("personal_sign"),params:X.array(X.any())}),Vxe=X.object({method:X.literal("eth_signTypedData_v4"),params:X.array(X.any())}),Hxe=X.object({method:X.literal("eth_sendTransaction"),params:X.array(X.any())}),qxe=X.object({method:X.literal("solana_signMessage"),params:X.object({message:X.string(),pubkey:X.string()})}),Wxe=X.object({method:X.literal("solana_signTransaction"),params:X.object({transaction:X.string()})}),Gxe=X.object({method:X.literal("solana_signAllTransactions"),params:X.object({transactions:X.array(X.string())})}),Kxe=X.object({method:X.literal("solana_signAndSendTransaction"),params:X.object({transaction:X.string(),options:X.object({skipPreflight:X.boolean().optional(),preflightCommitment:X.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:X.number().optional(),minContextSlot:X.number().optional()}).optional()})}),Yxe=X.object({method:X.literal("wallet_sendCalls"),params:X.array(X.object({chainId:X.string().or(X.number()).optional(),from:X.string().optional(),version:X.string().optional(),capabilities:X.any().optional(),calls:X.array(X.object({to:X.string().startsWith("0x"),data:X.string().startsWith("0x").optional(),value:X.string().optional()}))}))}),Jxe=X.object({method:X.literal("wallet_getCallsStatus"),params:X.array(X.string())}),Qxe=X.object({method:X.literal("wallet_getCapabilities")}),Zxe=X.object({method:X.literal("wallet_grantPermissions"),params:X.array(X.any())}),Xxe=X.object({method:X.literal("wallet_revokePermissions"),params:X.any()}),eEe=X.object({method:X.literal("wallet_getAssets"),params:X.any()}),cM=X.object({token:X.string()}),st=X.object({id:X.string().optional()}),Q1={appEvent:st.extend({type:it("APP_SWITCH_NETWORK"),payload:j5e}).or(st.extend({type:it("APP_CONNECT_EMAIL"),payload:M5e})).or(st.extend({type:it("APP_CONNECT_DEVICE")})).or(st.extend({type:it("APP_CONNECT_OTP"),payload:B5e})).or(st.extend({type:it("APP_CONNECT_SOCIAL"),payload:U5e})).or(st.extend({type:it("APP_GET_FARCASTER_URI")})).or(st.extend({type:it("APP_CONNECT_FARCASTER")})).or(st.extend({type:it("APP_GET_USER"),payload:X.optional(F5e)})).or(st.extend({type:it("APP_GET_SOCIAL_REDIRECT_URI"),payload:$5e})).or(st.extend({type:it("APP_SIGN_OUT")})).or(st.extend({type:it("APP_IS_CONNECTED"),payload:X.optional(cM)})).or(st.extend({type:it("APP_GET_CHAIN_ID")})).or(st.extend({type:it("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(st.extend({type:it("APP_INIT_SMART_ACCOUNT")})).or(st.extend({type:it("APP_SET_PREFERRED_ACCOUNT"),payload:G5e})).or(st.extend({type:it("APP_RPC_REQUEST"),payload:aM.or(eEe).or(lxe).or(uxe).or(dxe).or(hxe).or(fxe).or(pxe).or(mxe).or(gxe).or(yxe).or(wxe).or(vxe).or(bxe).or(xxe).or(Exe).or(Axe).or(Sxe).or(Cxe).or(Nxe).or(_xe).or(Pxe).or(Ixe).or(Txe).or(kxe).or(Oxe).or(Rxe).or(Lxe).or(Dxe).or(jxe).or(Mxe).or(Bxe).or(Uxe).or(Fxe).or($xe).or(zxe).or(aM).or(Vxe).or(Hxe).or(qxe).or(Wxe).or(Gxe).or(Kxe).or(Jxe).or(Yxe).or(Qxe).or(Zxe).or(Xxe)})).or(st.extend({type:it("APP_UPDATE_EMAIL"),payload:z5e})).or(st.extend({type:it("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:V5e})).or(st.extend({type:it("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:H5e})).or(st.extend({type:it("APP_SYNC_THEME"),payload:q5e})).or(st.extend({type:it("APP_SYNC_DAPP_DATA"),payload:W5e})).or(st.extend({type:it("APP_RELOAD")})),frameEvent:st.extend({type:it("FRAME_SWITCH_NETWORK_ERROR"),payload:xr}).or(st.extend({type:it("FRAME_SWITCH_NETWORK_SUCCESS"),payload:rxe})).or(st.extend({type:it("FRAME_CONNECT_EMAIL_SUCCESS"),payload:K5e})).or(st.extend({type:it("FRAME_CONNECT_EMAIL_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:Y5e})).or(st.extend({type:it("FRAME_GET_FARCASTER_URI_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:J5e})).or(st.extend({type:it("FRAME_CONNECT_FARCASTER_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_CONNECT_OTP_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_CONNECT_OTP_SUCCESS")})).or(st.extend({type:it("FRAME_CONNECT_DEVICE_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_CONNECT_DEVICE_SUCCESS")})).or(st.extend({type:it("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:Q5e})).or(st.extend({type:it("FRAME_CONNECT_SOCIAL_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_GET_USER_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_GET_USER_SUCCESS"),payload:X5e})).or(st.extend({type:it("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:exe})).or(st.extend({type:it("FRAME_SIGN_OUT_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_SIGN_OUT_SUCCESS")})).or(st.extend({type:it("FRAME_IS_CONNECTED_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_IS_CONNECTED_SUCCESS"),payload:txe})).or(st.extend({type:it("FRAME_GET_CHAIN_ID_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_GET_CHAIN_ID_SUCCESS"),payload:nxe})).or(st.extend({type:it("FRAME_RPC_REQUEST_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_RPC_REQUEST_SUCCESS"),payload:cxe})).or(st.extend({type:it("FRAME_SESSION_UPDATE"),payload:cM})).or(st.extend({type:it("FRAME_UPDATE_EMAIL_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_UPDATE_EMAIL_SUCCESS"),payload:Z5e})).or(st.extend({type:it("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(st.extend({type:it("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:ixe})).or(st.extend({type:it("FRAME_SYNC_THEME_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_SYNC_THEME_SUCCESS")})).or(st.extend({type:it("FRAME_SYNC_DAPP_DATA_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(st.extend({type:it("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:sxe})).or(st.extend({type:it("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:axe})).or(st.extend({type:it("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_READY"),payload:oxe})).or(st.extend({type:it("FRAME_RELOAD_ERROR"),payload:xr})).or(st.extend({type:it("FRAME_RELOAD_SUCCESS")}))};function B_(t,e={}){var n;return typeof(e==null?void 0:e.type)=="string"&&((n=e==null?void 0:e.type)==null?void 0:n.includes(t))}class tEe{constructor({projectId:e,isAppClient:n=!1,chainId:r="eip155:1",enableLogger:i=!0}){if(this.iframe=null,this.rpcUrl=Ge.BLOCKCHAIN_API_RPC_URL,this.initFrame=()=>{const s=document.getElementById("w3m-iframe");this.iframe&&!s&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(s,o,a)=>{function c({data:l}){if(!B_(ft.FRAME_EVENT_KEY,l))return;const u=Q1.frameEvent.parse(l);u.id===s&&(o(u),window.removeEventListener("message",c))}_o.isClient&&(window.addEventListener("message",c),a.addEventListener("abort",()=>{window.removeEventListener("message",c)}))},onFrameEvent:s=>{_o.isClient&&window.addEventListener("message",({data:o})=>{if(!B_(ft.FRAME_EVENT_KEY,o))return;const a=Q1.frameEvent.parse(o);s(a)})},onAppEvent:s=>{_o.isClient&&window.addEventListener("message",({data:o})=>{if(!B_(ft.APP_EVENT_KEY,o))return;const a=Q1.appEvent.parse(o);s(a)})},postAppEvent:s=>{var o;if(_o.isClient){if(!((o=this.iframe)!=null&&o.contentWindow))throw new Error("W3mFrame: iframe is not set");Q1.appEvent.parse(s),this.iframe.contentWindow.postMessage(s,"*")}},postFrameEvent:s=>{if(_o.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");Q1.frameEvent.parse(s),parent.postMessage(s,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),n&&(this.frameLoadPromise=new Promise((s,o)=>{this.frameLoadPromiseResolver={resolve:s,reject:o}}),_o.isClient)){const s=document.createElement("iframe");s.id="w3m-iframe",s.src=`${Fbe}?projectId=${e}&chainId=${r}&version=${zbe}&enableLogger=${i}`,s.name="w3m-secure-iframe",s.style.position="fixed",s.style.zIndex="999999",s.style.display="none",s.style.animationDelay="0s, 50ms",s.style.borderBottomLeftRadius="clamp(0px, var(--wui-border-radius-l), 44px)",s.style.borderBottomRightRadius="clamp(0px, var(--wui-border-radius-l), 44px)",this.iframe=s,this.iframe.onerror=()=>{var o;(o=this.frameLoadPromiseResolver)==null||o.reject("Unable to load email login dependency")},this.events.onFrameEvent(o=>{var a;o.type==="@w3m-frame/READY"&&((a=this.frameLoadPromiseResolver)==null||a.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(n=>({[n]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${n}&projectId=${this.projectId}`,chainId:n}}));return Object.assign({},...e)}}class nEe{constructor(e){var s;const n=By({level:$be}),{logger:r,chunkLoggerController:i}=ck({opts:n});this.logger=ds(r,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&((s=this.chunkLoggerController)!=null&&s.downloadLogsBlobInBrowser)&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{var o;(o=this.chunkLoggerController)!=null&&o.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class rEe{constructor({projectId:e,chainId:n,enableLogger:r=!0,onTimeout:i}){this.openRpcRequests=[],r&&(this.w3mLogger=new nEe(e)),this.w3mFrame=new tEe({projectId:e,isAppClient:!0,chainId:n,enableLogger:r}),this.onTimeout=i,this.getLoginEmailUsed()&&this.w3mFrame.initFrame(),this.initPromise=new Promise(s=>{this.w3mFrame.events.onFrameEvent(async o=>{o.type===ft.FRAME_READY&&(this.initPromise=void 0,await new Promise(a=>{setTimeout(a,500)}),s())})})}async init(){this.w3mFrame.initFrame(),this.initPromise&&await this.initPromise}getLoginEmailUsed(){return!!_i.get(ft.EMAIL_LOGIN_USED_KEY)}getEmail(){return _i.get(ft.EMAIL)}getUsername(){return _i.get(ft.SOCIAL_USERNAME)}async reload(){var e;try{this.w3mFrame.initFrame(),await this.appEvent({type:ft.APP_RELOAD})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error reloading iframe"),n}}async connectEmail(e){var n;try{_o.checkIfAllowedToTriggerEmail(),this.w3mFrame.initFrame();const r=await this.appEvent({type:ft.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){var e;try{return this.appEvent({type:ft.APP_CONNECT_DEVICE})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting device"),n}}async connectOtp(e){var n;try{return this.appEvent({type:ft.APP_CONNECT_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){var e;try{if(!this.getLoginEmailUsed())return{isConnected:!1};const n=await this.appEvent({type:ft.APP_IS_CONNECTED});return n!=null&&n.isConnected||this.deleteAuthLoginCache(),n}catch(n){throw this.deleteAuthLoginCache(),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error checking connection"),n}}async getChainId(){var e;try{const n=await this.appEvent({type:ft.APP_GET_CHAIN_ID});return this.setLastUsedChainId(n.chainId),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting chain id"),n}}async getSocialRedirectUri(e){var n;try{return this.w3mFrame.initFrame(),this.appEvent({type:ft.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){var n;try{const r=await this.appEvent({type:ft.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){var n;try{return this.appEvent({type:ft.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){var n;try{const r=await this.appEvent({type:ft.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){var n;try{return this.appEvent({type:ft.APP_SYNC_THEME,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){var n;try{return this.appEvent({type:ft.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){var e;try{const n=await this.appEvent({type:ft.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(n.smartAccountEnabledNetworks),n}catch(n){throw this.persistSmartAccountEnabledNetworks([]),(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting smart account enabled networks"),n}}async setPreferredAccount(e){var n;try{return this.appEvent({type:ft.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.getUser({chainId:r,preferredAccountType:e==null?void 0:e.preferredAccountType});return this.setLoginSuccess(i.email),this.setLastUsedChainId(i.chainId),this.user=i,i}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async getUser(e){var n;try{const r=(e==null?void 0:e.chainId)||this.getLastUsedChainId()||1,i=await this.appEvent({type:ft.APP_GET_USER,payload:{...e,chainId:r}});return this.user=i,i}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting"),r}}async connectSocial(e){var n;try{this.w3mFrame.initFrame();const r=await this.appEvent({type:ft.APP_CONNECT_SOCIAL,payload:{uri:e}});return r.userName&&this.setSocialLoginSuccess(r.userName),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error connecting social"),r}}async getFarcasterUri(){var e;try{return this.w3mFrame.initFrame(),await this.appEvent({type:ft.APP_GET_FARCASTER_URI})}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error getting farcaster uri"),n}}async connectFarcaster(){var e;try{const n=await this.appEvent({type:ft.APP_CONNECT_FARCASTER});return n.userName&&this.setSocialLoginSuccess(n.userName),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error connecting farcaster"),n}}async switchNetwork(e){var n;try{const r=await this.appEvent({type:ft.APP_SWITCH_NETWORK,payload:{chainId:e}});return this.setLastUsedChainId(r.chainId),r}catch(r){throw(n=this.w3mLogger)==null||n.logger.error({error:r},"Error switching network"),r}}async disconnect(){var e;try{const n=await this.appEvent({type:ft.APP_SIGN_OUT});return this.deleteAuthLoginCache(),n}catch(n){throw(e=this.w3mLogger)==null||e.logger.error({error:n},"Error disconnecting"),n}}async request(e){var n,r,i,s;try{if(Gr.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();(n=this.rpcRequestHandler)==null||n.call(this,e);const o=await this.appEvent({type:ft.APP_RPC_REQUEST,payload:e});return(r=this.rpcSuccessHandler)==null||r.call(this,o,e),o}catch(o){throw(i=this.rpcErrorHandler)==null||i.call(this,o,e),(s=this.w3mLogger)==null||s.logger.error({error:o},"Error requesting"),o}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_IS_CONNECTED_SUCCESS&&n.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_IS_CONNECTED_ERROR&&e(),n.type===ft.FRAME_IS_CONNECTED_SUCCESS&&!n.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_GET_USER_SUCCESS&&e(n.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_CONNECT_SOCIAL_SUCCESS&&e(n.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(n.payload):n.type===ft.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Gr.ACCOUNT_TYPES.EOA})})}onGetSmartAccountEnabledNetworks(e){this.w3mFrame.events.onFrameEvent(n=>{n.type===ft.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS?e(n.payload.smartAccountEnabledNetworks):n.type===ft.FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR&&e([])})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}rejectRpcRequests(){var e;try{this.openRpcRequests.forEach(({abortController:n,method:r})=>{Gr.SAFE_RPC_METHODS.includes(r)||n.abort()}),this.openRpcRequests=[]}catch(n){(e=this.w3mLogger)==null||e.logger.error({error:n},"Error aborting RPC request")}}async appEvent(e){await this.w3mFrame.frameLoadPromise;let n;function r(a){return a.replace("@w3m-app/","")}const i=new AbortController,s=r(e.type);return[ft.APP_CONNECT_EMAIL,ft.APP_CONNECT_DEVICE,ft.APP_CONNECT_OTP,ft.APP_CONNECT_SOCIAL,ft.APP_GET_SOCIAL_REDIRECT_URI].map(r).includes(s)&&(n=setTimeout(()=>{var a;(a=this.onTimeout)==null||a.call(this),i.abort()},3e4)),new Promise((a,c)=>{var d,h,f;const l=Math.random().toString(36).substring(7);if((f=(d=this.w3mLogger)==null?void 0:(h=d.logger).info)==null||f.call(h,{event:e,id:l},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:l}),s==="RPC_REQUEST"){const m=e;this.openRpcRequests=[...this.openRpcRequests,{...m.payload,abortController:i}]}i.signal.addEventListener("abort",()=>{s==="RPC_REQUEST"?c(new Error("Request was aborted")):s!=="GET_FARCASTER_URI"&&c(new Error("Something went wrong"))});function u(m,g){var E,y,w;m.id===l&&((y=g==null?void 0:(E=g.logger).info)==null||y.call(E,{framEvent:m,id:l},"Received frame response"),m.type===`@w3m-frame/${s}_SUCCESS`?(n&&clearTimeout(n),"payload"in m&&a(m.payload),a(void 0)):m.type===`@w3m-frame/${s}_ERROR`&&(n&&clearTimeout(n),"payload"in m&&c(new Error(((w=m.payload)==null?void 0:w.message)||"An error occurred")),c(new Error("An error occurred"))))}this.w3mFrame.events.registerFrameEventHandler(l,m=>u(m,this.w3mLogger),i.signal)})}setNewLastEmailLoginTime(){_i.set(ft.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){_i.set(ft.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&_i.set(ft.EMAIL,e),_i.set(ft.EMAIL_LOGIN_USED_KEY,"true"),_i.delete(ft.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){_i.delete(ft.EMAIL_LOGIN_USED_KEY),_i.delete(ft.EMAIL),_i.delete(ft.LAST_USED_CHAIN_KEY),_i.delete(ft.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&_i.set(ft.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=_i.get(ft.LAST_USED_CHAIN_KEY)??void 0,n=Number(e);return isNaN(n)?e:n}persistSmartAccountEnabledNetworks(e){_i.set(ft.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}}class qw{constructor(){}static getInstance({projectId:e,chainId:n,enableLogger:r,onTimeout:i}){return qw.instance||(qw.instance=new rEe({projectId:e,chainId:n,enableLogger:r,onTimeout:i})),qw.instance}}var lM={};const iEe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof lM<"u"?lM.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120,ModalHeight:150,ViewTransition:150}},O4={filterOutDuplicatesByRDNS(t){const e=qe.state.enableEIP6963?Vt.state.connectors:[],n=ot.getRecentWallets(),r=e.map(a=>{var c;return(c=a.info)==null?void 0:c.rdns}).filter(Boolean),i=n.map(a=>a.rdns).filter(Boolean),s=r.concat(i);if(s.includes("io.metamask.mobile")&&kt.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!s.includes(String(a==null?void 0:a.rdns)))},filterOutDuplicatesByIds(t){const e=Vt.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),n=ot.getRecentWallets(),r=e.map(a=>a.explorerId),i=n.map(a=>a.id),s=r.concat(i);return t.filter(a=>!s.includes(a==null?void 0:a.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Vt.state,n=e.filter(s=>s.type==="ANNOUNCED").reduce((s,o)=>{var a;return(a=o.info)!=null&&a.rdns&&(s[o.info.rdns]=!0),s},{});return t.map(s=>({...s,installed:!!s.rdns&&!!n[s.rdns??""]})).sort((s,o)=>Number(o.installed)-Number(s.installed))},getConnectOrderMethod(t,e){var c;const n=(t==null?void 0:t.connectMethodsOrder)||((c=qe.state.features)==null?void 0:c.connectMethodsOrder),r=e||Vt.state.connectors;if(n)return n;const{injected:i,announced:s}=Gx.getConnectorsByType(r,Dt.state.recommended,Dt.state.featured),o=i.filter(Gx.showConnector),a=s.filter(Gx.showConnector);return o.length||a.length?["wallet","email","social"]:iEe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&Dt.state.excludedWallets.some(r=>r.rdns===t.rdns),n=!!t.name&&Dt.state.excludedWallets.some(r=>RS.isLowerCaseMatch(r.name,t.name));return e||n}},Gx={getConnectorsByType(t,e,n){const{customWallets:r}=qe.state,i=ot.getRecentWallets(),s=O4.filterOutDuplicateWallets(e),o=O4.filterOutDuplicateWallets(n),a=t.filter(d=>d.type==="MULTI_CHAIN"),c=t.filter(d=>d.type==="ANNOUNCED"),l=t.filter(d=>d.type==="INJECTED"),u=t.filter(d=>d.type==="EXTERNAL");return{custom:r,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){var i;const e=(i=t.info)==null?void 0:i.rdns,n=!!e&&Dt.state.excludedWallets.some(s=>!!s.rdns&&s.rdns===e),r=!!t.name&&Dt.state.excludedWallets.some(s=>RS.isLowerCaseMatch(s.name,t.name));return!(t.type==="INJECTED"&&(!kt.isMobile()&&t.name==="Browser Wallet"||!e&&!Qn.checkInstalled()||n||r)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(n||r))},getIsConnectedWithWC(){return Array.from(oe.state.chains.values()).some(n=>Vt.getConnectorId(n.namespace)===Ge.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:n,recent:r,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=(l=>(l=qe.state.features)==null?void 0:l.connectorTypeOrder)()??[]}){const u=Gx.getIsConnectedWithWC(),f=[{type:"walletConnect",isEnabled:qe.state.enableWalletConnect&&!u},{type:"recent",isEnabled:r.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:n&&n.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(y=>y.isEnabled),m=new Set(f.map(y=>y.type)),g=c.filter(y=>m.has(y)).map(y=>({type:y,isEnabled:!0})),E=f.filter(({type:y})=>!g.some(({type:x})=>x===y));return Array.from(new Set([...g,...E].map(({type:y})=>y)))}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Kx=globalThis,Mk=Kx.ShadowRoot&&(Kx.ShadyCSS===void 0||Kx.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,Bk=Symbol(),uM=new WeakMap;let BH=class{constructor(e,n,r){if(this._$cssResult$=!0,r!==Bk)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=n}get styleSheet(){let e=this.o;const n=this.t;if(Mk&&e===void 0){const r=n!==void 0&&n.length===1;r&&(e=uM.get(n)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),r&&uM.set(n,e))}return e}toString(){return this.cssText}};const na=t=>new BH(typeof t=="string"?t:t+"",void 0,Bk),t0=(t,...e)=>{const n=t.length===1?t[0]:e.reduce((r,i,s)=>r+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1],t[0]);return new BH(n,t,Bk)},sEe=(t,e)=>{if(Mk)t.adoptedStyleSheets=e.map(n=>n instanceof CSSStyleSheet?n:n.styleSheet);else for(const n of e){const r=document.createElement("style"),i=Kx.litNonce;i!==void 0&&r.setAttribute("nonce",i),r.textContent=n.cssText,t.appendChild(r)}},dM=Mk?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let n="";for(const r of e.cssRules)n+=r.cssText;return na(n)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:oEe,defineProperty:aEe,getOwnPropertyDescriptor:cEe,getOwnPropertyNames:lEe,getOwnPropertySymbols:uEe,getPrototypeOf:dEe}=Object,hh=globalThis,hM=hh.trustedTypes,hEe=hM?hM.emptyScript:"",U_=hh.reactiveElementPolyfillSupport,Ww=(t,e)=>t,R4={toAttribute(t,e){switch(e){case Boolean:t=t?hEe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=t!==null;break;case Number:n=t===null?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch{n=null}}return n}},UH=(t,e)=>!oEe(t,e),fM={attribute:!0,type:String,converter:R4,reflect:!1,useDefault:!1,hasChanged:UH};Symbol.metadata??(Symbol.metadata=Symbol("metadata")),hh.litPropertyMetadata??(hh.litPropertyMetadata=new WeakMap);let lg=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??(this.l=[])).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,n=fM){if(n.state&&(n.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((n=Object.create(n)).wrapped=!0),this.elementProperties.set(e,n),!n.noAccessor){const r=Symbol(),i=this.getPropertyDescriptor(e,r,n);i!==void 0&&aEe(this.prototype,e,i)}}static getPropertyDescriptor(e,n,r){const{get:i,set:s}=cEe(this.prototype,e)??{get(){return this[n]},set(o){this[n]=o}};return{get:i,set(o){const a=i==null?void 0:i.call(this);s==null||s.call(this,o),this.requestUpdate(e,a,r)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??fM}static _$Ei(){if(this.hasOwnProperty(Ww("elementProperties")))return;const e=dEe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(Ww("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(Ww("properties"))){const n=this.properties,r=[...lEe(n),...uEe(n)];for(const i of r)this.createProperty(i,n[i])}const e=this[Symbol.metadata];if(e!==null){const n=litPropertyMetadata.get(e);if(n!==void 0)for(const[r,i]of n)this.elementProperties.set(r,i)}this._$Eh=new Map;for(const[n,r]of this.elementProperties){const i=this._$Eu(n,r);i!==void 0&&this._$Eh.set(i,n)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const n=[];if(Array.isArray(e)){const r=new Set(e.flat(1/0).reverse());for(const i of r)n.unshift(dM(i))}else e!==void 0&&n.push(dM(e));return n}static _$Eu(e,n){const r=n.attribute;return r===!1?void 0:typeof r=="string"?r:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){var e;this._$ES=new Promise(n=>this.enableUpdating=n),this._$AL=new Map,this._$E_(),this.requestUpdate(),(e=this.constructor.l)==null||e.forEach(n=>n(this))}addController(e){var n;(this._$EO??(this._$EO=new Set)).add(e),this.renderRoot!==void 0&&this.isConnected&&((n=e.hostConnected)==null||n.call(e))}removeController(e){var n;(n=this._$EO)==null||n.delete(e)}_$E_(){const e=new Map,n=this.constructor.elementProperties;for(const r of n.keys())this.hasOwnProperty(r)&&(e.set(r,this[r]),delete this[r]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return sEe(e,this.constructor.elementStyles),e}connectedCallback(){var e;this.renderRoot??(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostConnected)==null?void 0:r.call(n)})}enableUpdating(e){}disconnectedCallback(){var e;(e=this._$EO)==null||e.forEach(n=>{var r;return(r=n.hostDisconnected)==null?void 0:r.call(n)})}attributeChangedCallback(e,n,r){this._$AK(e,r)}_$ET(e,n){var s;const r=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,r);if(i!==void 0&&r.reflect===!0){const o=(((s=r.converter)==null?void 0:s.toAttribute)!==void 0?r.converter:R4).toAttribute(n,r.type);this._$Em=e,o==null?this.removeAttribute(i):this.setAttribute(i,o),this._$Em=null}}_$AK(e,n){var s,o;const r=this.constructor,i=r._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const a=r.getPropertyOptions(i),c=typeof a.converter=="function"?{fromAttribute:a.converter}:((s=a.converter)==null?void 0:s.fromAttribute)!==void 0?a.converter:R4;this._$Em=i,this[i]=c.fromAttribute(n,a.type)??((o=this._$Ej)==null?void 0:o.get(i))??null,this._$Em=null}}requestUpdate(e,n,r){var i;if(e!==void 0){const s=this.constructor,o=this[e];if(r??(r=s.getPropertyOptions(e)),!((r.hasChanged??UH)(o,n)||r.useDefault&&r.reflect&&o===((i=this._$Ej)==null?void 0:i.get(e))&&!this.hasAttribute(s._$Eu(e,r))))return;this.C(e,n,r)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,n,{useDefault:r,reflect:i,wrapped:s},o){r&&!(this._$Ej??(this._$Ej=new Map)).has(e)&&(this._$Ej.set(e,o??n??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||r||(n=void 0),this._$AL.set(e,n)),i===!0&&this._$Em!==e&&(this._$Eq??(this._$Eq=new Set)).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(n){Promise.reject(n)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var r;if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??(this.renderRoot=this.createRenderRoot()),this._$Ep){for(const[s,o]of this._$Ep)this[s]=o;this._$Ep=void 0}const i=this.constructor.elementProperties;if(i.size>0)for(const[s,o]of i){const{wrapped:a}=o,c=this[s];a!==!0||this._$AL.has(s)||c===void 0||this.C(s,void 0,o,c)}}let e=!1;const n=this._$AL;try{e=this.shouldUpdate(n),e?(this.willUpdate(n),(r=this._$EO)==null||r.forEach(i=>{var s;return(s=i.hostUpdate)==null?void 0:s.call(i)}),this.update(n)):this._$EM()}catch(i){throw e=!1,this._$EM(),i}e&&this._$AE(n)}willUpdate(e){}_$AE(e){var n;(n=this._$EO)==null||n.forEach(r=>{var i;return(i=r.hostUpdated)==null?void 0:i.call(r)}),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&(this._$Eq=this._$Eq.forEach(n=>this._$ET(n,this[n]))),this._$EM()}updated(e){}firstUpdated(e){}};lg.elementStyles=[],lg.shadowRootOptions={mode:"open"},lg[Ww("elementProperties")]=new Map,lg[Ww("finalized")]=new Map,U_==null||U_({ReactiveElement:lg}),(hh.reactiveElementVersions??(hh.reactiveElementVersions=[])).push("2.1.0");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Gw=globalThis,yA=Gw.trustedTypes,pM=yA?yA.createPolicy("lit-html",{createHTML:t=>t}):void 0,FH="$lit$",Nd=`lit$${Math.random().toFixed(9).slice(2)}$`,$H="?"+Nd,fEe=`<${$H}>`,Ip=document,hb=()=>Ip.createComment(""),fb=t=>t===null||typeof t!="object"&&typeof t!="function",Uk=Array.isArray,pEe=t=>Uk(t)||typeof(t==null?void 0:t[Symbol.iterator])=="function",F_=`[ 	
\f\r]`,Z1=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,mM=/-->/g,gM=/>/g,Zh=RegExp(`>|${F_}(?:([^\\s"'>=/]+)(${F_}*=${F_}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),yM=/'/g,wM=/"/g,zH=/^(?:script|style|textarea|title)$/i,VH=t=>(e,...n)=>({_$litType$:t,strings:e,values:n}),J3e=VH(1),Q3e=VH(2),xy=Symbol.for("lit-noChange"),gi=Symbol.for("lit-nothing"),vM=new WeakMap,Nf=Ip.createTreeWalker(Ip,129);function HH(t,e){if(!Uk(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return pM!==void 0?pM.createHTML(e):e}const mEe=(t,e)=>{const n=t.length-1,r=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=Z1;for(let a=0;a<n;a++){const c=t[a];let l,u,d=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===Z1?u[1]==="!--"?o=mM:u[1]!==void 0?o=gM:u[2]!==void 0?(zH.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Zh):u[3]!==void 0&&(o=Zh):o===Zh?u[0]===">"?(o=i??Z1,d=-1):u[1]===void 0?d=-2:(d=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Zh:u[3]==='"'?wM:yM):o===wM||o===yM?o=Zh:o===mM||o===gM?o=Z1:(o=Zh,i=void 0);const f=o===Zh&&t[a+1].startsWith("/>")?" ":"";s+=o===Z1?c+fEe:d>=0?(r.push(l),c.slice(0,d)+FH+c.slice(d)+Nd+f):c+Nd+(d===-2?a:f)}return[HH(t,s+(t[n]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),r]};class pb{constructor({strings:e,_$litType$:n},r){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=mEe(e,n);if(this.el=pb.createElement(l,r),Nf.currentNode=this.el.content,n===2||n===3){const d=this.el.content.firstChild;d.replaceWith(...d.childNodes)}for(;(i=Nf.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const d of i.getAttributeNames())if(d.endsWith(FH)){const h=u[o++],f=i.getAttribute(d).split(Nd),m=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:m[2],strings:f,ctor:m[1]==="."?yEe:m[1]==="?"?wEe:m[1]==="@"?vEe:DS}),i.removeAttribute(d)}else d.startsWith(Nd)&&(c.push({type:6,index:s}),i.removeAttribute(d));if(zH.test(i.tagName)){const d=i.textContent.split(Nd),h=d.length-1;if(h>0){i.textContent=yA?yA.emptyScript:"";for(let f=0;f<h;f++)i.append(d[f],hb()),Nf.nextNode(),c.push({type:2,index:++s});i.append(d[h],hb())}}}else if(i.nodeType===8)if(i.data===$H)c.push({type:2,index:s});else{let d=-1;for(;(d=i.data.indexOf(Nd,d+1))!==-1;)c.push({type:7,index:s}),d+=Nd.length-1}s++}}static createElement(e,n){const r=Ip.createElement("template");return r.innerHTML=e,r}}function Ey(t,e,n=t,r){var o,a;if(e===xy)return e;let i=r!==void 0?(o=n._$Co)==null?void 0:o[r]:n._$Cl;const s=fb(e)?void 0:e._$litDirective$;return(i==null?void 0:i.constructor)!==s&&((a=i==null?void 0:i._$AO)==null||a.call(i,!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,n,r)),r!==void 0?(n._$Co??(n._$Co=[]))[r]=i:n._$Cl=i),i!==void 0&&(e=Ey(t,i._$AS(t,e.values),i,r)),e}class gEe{constructor(e,n){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=n}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:n},parts:r}=this._$AD,i=((e==null?void 0:e.creationScope)??Ip).importNode(n,!0);Nf.currentNode=i;let s=Nf.nextNode(),o=0,a=0,c=r[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new f2(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new bEe(s,this,e)),this._$AV.push(l),c=r[++a]}o!==(c==null?void 0:c.index)&&(s=Nf.nextNode(),o++)}return Nf.currentNode=Ip,i}p(e){let n=0;for(const r of this._$AV)r!==void 0&&(r.strings!==void 0?(r._$AI(e,r,n),n+=r.strings.length-2):r._$AI(e[n])),n++}}class f2{get _$AU(){var e;return((e=this._$AM)==null?void 0:e._$AU)??this._$Cv}constructor(e,n,r,i){this.type=2,this._$AH=gi,this._$AN=void 0,this._$AA=e,this._$AB=n,this._$AM=r,this.options=i,this._$Cv=(i==null?void 0:i.isConnected)??!0}get parentNode(){let e=this._$AA.parentNode;const n=this._$AM;return n!==void 0&&(e==null?void 0:e.nodeType)===11&&(e=n.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,n=this){e=Ey(this,e,n),fb(e)?e===gi||e==null||e===""?(this._$AH!==gi&&this._$AR(),this._$AH=gi):e!==this._$AH&&e!==xy&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):pEe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==gi&&fb(this._$AH)?this._$AA.nextSibling.data=e:this.T(Ip.createTextNode(e)),this._$AH=e}$(e){var s;const{values:n,_$litType$:r}=e,i=typeof r=="number"?this._$AC(e):(r.el===void 0&&(r.el=pb.createElement(HH(r.h,r.h[0]),this.options)),r);if(((s=this._$AH)==null?void 0:s._$AD)===i)this._$AH.p(n);else{const o=new gEe(i,this),a=o.u(this.options);o.p(n),this.T(a),this._$AH=o}}_$AC(e){let n=vM.get(e.strings);return n===void 0&&vM.set(e.strings,n=new pb(e)),n}k(e){Uk(this._$AH)||(this._$AH=[],this._$AR());const n=this._$AH;let r,i=0;for(const s of e)i===n.length?n.push(r=new f2(this.O(hb()),this.O(hb()),this,this.options)):r=n[i],r._$AI(s),i++;i<n.length&&(this._$AR(r&&r._$AB.nextSibling,i),n.length=i)}_$AR(e=this._$AA.nextSibling,n){var r;for((r=this._$AP)==null?void 0:r.call(this,!1,!0,n);e&&e!==this._$AB;){const i=e.nextSibling;e.remove(),e=i}}setConnected(e){var n;this._$AM===void 0&&(this._$Cv=e,(n=this._$AP)==null||n.call(this,e))}}class DS{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,n,r,i,s){this.type=1,this._$AH=gi,this._$AN=void 0,this.element=e,this.name=n,this._$AM=i,this.options=s,r.length>2||r[0]!==""||r[1]!==""?(this._$AH=Array(r.length-1).fill(new String),this.strings=r):this._$AH=gi}_$AI(e,n=this,r,i){const s=this.strings;let o=!1;if(s===void 0)e=Ey(this,e,n,0),o=!fb(e)||e!==this._$AH&&e!==xy,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=Ey(this,a[r+c],n,c),l===xy&&(l=this._$AH[c]),o||(o=!fb(l)||l!==this._$AH[c]),l===gi?e=gi:e!==gi&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===gi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class yEe extends DS{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===gi?void 0:e}}class wEe extends DS{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==gi)}}class vEe extends DS{constructor(e,n,r,i,s){super(e,n,r,i,s),this.type=5}_$AI(e,n=this){if((e=Ey(this,e,n,0)??gi)===xy)return;const r=this._$AH,i=e===gi&&r!==gi||e.capture!==r.capture||e.once!==r.once||e.passive!==r.passive,s=e!==gi&&(r===gi||i);i&&this.element.removeEventListener(this.name,this,r),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){var n;typeof this._$AH=="function"?this._$AH.call(((n=this.options)==null?void 0:n.host)??this.element,e):this._$AH.handleEvent(e)}}class bEe{constructor(e,n,r){this.element=e,this.type=6,this._$AN=void 0,this._$AM=n,this.options=r}get _$AU(){return this._$AM._$AU}_$AI(e){Ey(this,e)}}const $_=Gw.litHtmlPolyfillSupport;$_==null||$_(pb,f2),(Gw.litHtmlVersions??(Gw.litHtmlVersions=[])).push("3.3.0");const xEe=(t,e,n)=>{const r=(n==null?void 0:n.renderBefore)??e;let i=r._$litPart$;if(i===void 0){const s=(n==null?void 0:n.renderBefore)??null;r._$litPart$=i=new f2(e.insertBefore(hb(),s),s,void 0,n??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const cp=globalThis;class Yx extends lg{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var n;const e=super.createRenderRoot();return(n=this.renderOptions).renderBefore??(n.renderBefore=e.firstChild),e}update(e){const n=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=xEe(n,this.renderRoot,this.renderOptions)}connectedCallback(){var e;super.connectedCallback(),(e=this._$Do)==null||e.setConnected(!0)}disconnectedCallback(){var e;super.disconnectedCallback(),(e=this._$Do)==null||e.setConnected(!1)}render(){return xy}}var M7;Yx._$litElement$=!0,Yx.finalized=!0,(M7=cp.litElementHydrateSupport)==null||M7.call(cp,{LitElement:Yx});const z_=cp.litElementPolyfillSupport;z_==null||z_({LitElement:Yx});(cp.litElementVersions??(cp.litElementVersions=[])).push("4.2.0");let Kw,fh,ph;function Z3e(t,e){Kw=document.createElement("style"),fh=document.createElement("style"),ph=document.createElement("style"),Kw.textContent=n0(t).core.cssText,fh.textContent=n0(t).dark.cssText,ph.textContent=n0(t).light.cssText,document.head.appendChild(Kw),document.head.appendChild(fh),document.head.appendChild(ph),qH(e)}function qH(t){fh&&ph&&(t==="light"?(fh.removeAttribute("media"),ph.media="enabled"):(ph.removeAttribute("media"),fh.media="enabled"))}function EEe(t){Kw&&fh&&ph&&(Kw.textContent=n0(t).core.cssText,fh.textContent=n0(t).dark.cssText,ph.textContent=n0(t).light.cssText)}function n0(t){return{core:t0`
      @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --w3m-modal-width: 360px;
        --w3m-color-mix-strength: ${na(t!=null&&t["--w3m-color-mix-strength"]?`${t["--w3m-color-mix-strength"]}%`:"0%")};
        --w3m-font-family: ${na((t==null?void 0:t["--w3m-font-family"])||"Inter, Segoe UI, Roboto, Oxygen, Ubuntu, Cantarell, Fira Sans, Droid Sans, Helvetica Neue, sans-serif;")};
        --w3m-font-size-master: ${na((t==null?void 0:t["--w3m-font-size-master"])||"10px")};
        --w3m-border-radius-master: ${na((t==null?void 0:t["--w3m-border-radius-master"])||"4px")};
        --w3m-z-index: ${na((t==null?void 0:t["--w3m-z-index"])||999)};

        --wui-font-family: var(--w3m-font-family);

        --wui-font-size-mini: calc(var(--w3m-font-size-master) * 0.8);
        --wui-font-size-micro: var(--w3m-font-size-master);
        --wui-font-size-tiny: calc(var(--w3m-font-size-master) * 1.2);
        --wui-font-size-small: calc(var(--w3m-font-size-master) * 1.4);
        --wui-font-size-paragraph: calc(var(--w3m-font-size-master) * 1.6);
        --wui-font-size-medium: calc(var(--w3m-font-size-master) * 1.8);
        --wui-font-size-large: calc(var(--w3m-font-size-master) * 2);
        --wui-font-size-title-6: calc(var(--w3m-font-size-master) * 2.2);
        --wui-font-size-medium-title: calc(var(--w3m-font-size-master) * 2.4);
        --wui-font-size-2xl: calc(var(--w3m-font-size-master) * 4);

        --wui-border-radius-5xs: var(--w3m-border-radius-master);
        --wui-border-radius-4xs: calc(var(--w3m-border-radius-master) * 1.5);
        --wui-border-radius-3xs: calc(var(--w3m-border-radius-master) * 2);
        --wui-border-radius-xxs: calc(var(--w3m-border-radius-master) * 3);
        --wui-border-radius-xs: calc(var(--w3m-border-radius-master) * 4);
        --wui-border-radius-s: calc(var(--w3m-border-radius-master) * 5);
        --wui-border-radius-m: calc(var(--w3m-border-radius-master) * 7);
        --wui-border-radius-l: calc(var(--w3m-border-radius-master) * 9);
        --wui-border-radius-3xl: calc(var(--w3m-border-radius-master) * 20);

        --wui-font-weight-light: 400;
        --wui-font-weight-regular: 500;
        --wui-font-weight-medium: 600;
        --wui-font-weight-bold: 700;

        --wui-letter-spacing-2xl: -1.6px;
        --wui-letter-spacing-medium-title: -0.96px;
        --wui-letter-spacing-title-6: -0.88px;
        --wui-letter-spacing-large: -0.8px;
        --wui-letter-spacing-medium: -0.72px;
        --wui-letter-spacing-paragraph: -0.64px;
        --wui-letter-spacing-small: -0.56px;
        --wui-letter-spacing-tiny: -0.48px;
        --wui-letter-spacing-micro: -0.2px;
        --wui-letter-spacing-mini: -0.16px;

        --wui-spacing-0: 0px;
        --wui-spacing-4xs: 2px;
        --wui-spacing-3xs: 4px;
        --wui-spacing-xxs: 6px;
        --wui-spacing-2xs: 7px;
        --wui-spacing-xs: 8px;
        --wui-spacing-1xs: 10px;
        --wui-spacing-s: 12px;
        --wui-spacing-m: 14px;
        --wui-spacing-l: 16px;
        --wui-spacing-2l: 18px;
        --wui-spacing-xl: 20px;
        --wui-spacing-xxl: 24px;
        --wui-spacing-2xl: 32px;
        --wui-spacing-3xl: 40px;
        --wui-spacing-4xl: 90px;
        --wui-spacing-5xl: 95px;

        --wui-icon-box-size-xxs: 14px;
        --wui-icon-box-size-xs: 20px;
        --wui-icon-box-size-sm: 24px;
        --wui-icon-box-size-md: 32px;
        --wui-icon-box-size-mdl: 36px;
        --wui-icon-box-size-lg: 40px;
        --wui-icon-box-size-2lg: 48px;
        --wui-icon-box-size-xl: 64px;

        --wui-icon-size-inherit: inherit;
        --wui-icon-size-xxs: 10px;
        --wui-icon-size-xs: 12px;
        --wui-icon-size-sm: 14px;
        --wui-icon-size-md: 16px;
        --wui-icon-size-mdl: 18px;
        --wui-icon-size-lg: 20px;
        --wui-icon-size-xl: 24px;
        --wui-icon-size-xxl: 28px;

        --wui-wallet-image-size-inherit: inherit;
        --wui-wallet-image-size-sm: 40px;
        --wui-wallet-image-size-md: 56px;
        --wui-wallet-image-size-lg: 80px;

        --wui-visual-size-size-inherit: inherit;
        --wui-visual-size-sm: 40px;
        --wui-visual-size-md: 55px;
        --wui-visual-size-lg: 80px;

        --wui-box-size-md: 100px;
        --wui-box-size-lg: 120px;

        --wui-ease-out-power-2: cubic-bezier(0, 0, 0.22, 1);
        --wui-ease-out-power-1: cubic-bezier(0, 0, 0.55, 1);

        --wui-ease-in-power-3: cubic-bezier(0.66, 0, 1, 1);
        --wui-ease-in-power-2: cubic-bezier(0.45, 0, 1, 1);
        --wui-ease-in-power-1: cubic-bezier(0.3, 0, 1, 1);

        --wui-ease-inout-power-1: cubic-bezier(0.45, 0, 0.55, 1);

        --wui-duration-lg: 200ms;
        --wui-duration-md: 125ms;
        --wui-duration-sm: 75ms;

        --wui-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --wui-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --wui-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --wui-width-network-sm: 36px;
        --wui-width-network-md: 48px;
        --wui-width-network-lg: 86px;

        --wui-height-network-sm: 40px;
        --wui-height-network-md: 54px;
        --wui-height-network-lg: 96px;

        --wui-icon-size-network-xs: 12px;
        --wui-icon-size-network-sm: 16px;
        --wui-icon-size-network-md: 24px;
        --wui-icon-size-network-lg: 42px;

        --wui-color-inherit: inherit;

        --wui-color-inverse-100: #fff;
        --wui-color-inverse-000: #000;

        --wui-cover: rgba(20, 20, 20, 0.8);

        --wui-color-modal-bg: var(--wui-color-modal-bg-base);

        --wui-color-accent-100: var(--wui-color-accent-base-100);
        --wui-color-accent-090: var(--wui-color-accent-base-090);
        --wui-color-accent-080: var(--wui-color-accent-base-080);

        --wui-color-success-100: var(--wui-color-success-base-100);
        --wui-color-success-125: var(--wui-color-success-base-125);

        --wui-color-warning-100: var(--wui-color-warning-base-100);

        --wui-color-error-100: var(--wui-color-error-base-100);
        --wui-color-error-125: var(--wui-color-error-base-125);

        --wui-color-blue-100: var(--wui-color-blue-base-100);
        --wui-color-blue-90: var(--wui-color-blue-base-90);

        --wui-icon-box-bg-error-100: var(--wui-icon-box-bg-error-base-100);
        --wui-icon-box-bg-blue-100: var(--wui-icon-box-bg-blue-base-100);
        --wui-icon-box-bg-success-100: var(--wui-icon-box-bg-success-base-100);
        --wui-icon-box-bg-inverse-100: var(--wui-icon-box-bg-inverse-base-100);

        --wui-all-wallets-bg-100: var(--wui-all-wallets-bg-100);

        --wui-avatar-border: var(--wui-avatar-border-base);

        --wui-thumbnail-border: var(--wui-thumbnail-border-base);

        --wui-wallet-button-bg: var(--wui-wallet-button-bg-base);

        --wui-box-shadow-blue: var(--wui-color-accent-glass-020);
      }

      @supports (background: color-mix(in srgb, white 50%, black)) {
        :root {
          --wui-color-modal-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-modal-bg-base)
          );

          --wui-box-shadow-blue: color-mix(in srgb, var(--wui-color-accent-100) 20%, transparent);

          --wui-color-accent-100: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 100%,
            transparent
          );
          --wui-color-accent-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-090: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 90%,
            transparent
          );
          --wui-color-accent-glass-080: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 80%,
            transparent
          );
          --wui-color-accent-glass-020: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 20%,
            transparent
          );
          --wui-color-accent-glass-015: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 15%,
            transparent
          );
          --wui-color-accent-glass-010: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 10%,
            transparent
          );
          --wui-color-accent-glass-005: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 5%,
            transparent
          );
          --wui-color-accent-002: color-mix(
            in srgb,
            var(--wui-color-accent-base-100) 2%,
            transparent
          );

          --wui-color-fg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-100)
          );
          --wui-color-fg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-125)
          );
          --wui-color-fg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-150)
          );
          --wui-color-fg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-175)
          );
          --wui-color-fg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-200)
          );
          --wui-color-fg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-225)
          );
          --wui-color-fg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-250)
          );
          --wui-color-fg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-275)
          );
          --wui-color-fg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-300)
          );
          --wui-color-fg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-325)
          );
          --wui-color-fg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-fg-350)
          );

          --wui-color-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-100)
          );
          --wui-color-bg-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-125)
          );
          --wui-color-bg-150: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-150)
          );
          --wui-color-bg-175: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-175)
          );
          --wui-color-bg-200: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-200)
          );
          --wui-color-bg-225: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-225)
          );
          --wui-color-bg-250: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-250)
          );
          --wui-color-bg-275: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-275)
          );
          --wui-color-bg-300: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-300)
          );
          --wui-color-bg-325: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-325)
          );
          --wui-color-bg-350: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-bg-350)
          );

          --wui-color-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-100)
          );
          --wui-color-success-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-success-base-125)
          );

          --wui-color-warning-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-warning-base-100)
          );

          --wui-color-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-100)
          );
          --wui-color-blue-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-100)
          );
          --wui-color-blue-90: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-blue-base-90)
          );
          --wui-color-error-125: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-color-error-base-125)
          );

          --wui-icon-box-bg-error-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-error-base-100)
          );
          --wui-icon-box-bg-accent-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-blue-base-100)
          );
          --wui-icon-box-bg-success-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-success-base-100)
          );
          --wui-icon-box-bg-inverse-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-icon-box-bg-inverse-base-100)
          );

          --wui-all-wallets-bg-100: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-all-wallets-bg-100)
          );

          --wui-avatar-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-avatar-border-base)
          );

          --wui-thumbnail-border: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-thumbnail-border-base)
          );

          --wui-wallet-button-bg: color-mix(
            in srgb,
            var(--w3m-color-mix) var(--w3m-color-mix-strength),
            var(--wui-wallet-button-bg-base)
          );
        }
      }
    `,light:t0`
      :root {
        --w3m-color-mix: ${na((t==null?void 0:t["--w3m-color-mix"])||"#fff")};
        --w3m-accent: ${na(bu(t,"dark")["--w3m-accent"])};
        --w3m-default: #fff;

        --wui-color-modal-bg-base: ${na(bu(t,"dark")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(230, 100%, 67%, 1);
        --wui-color-blueberry-090: hsla(231, 76%, 61%, 1);
        --wui-color-blueberry-080: hsla(230, 59%, 55%, 1);
        --wui-color-blueberry-050: hsla(231, 100%, 70%, 0.1);

        --wui-color-fg-100: #e4e7e7;
        --wui-color-fg-125: #d0d5d5;
        --wui-color-fg-150: #a8b1b1;
        --wui-color-fg-175: #a8b0b0;
        --wui-color-fg-200: #949e9e;
        --wui-color-fg-225: #868f8f;
        --wui-color-fg-250: #788080;
        --wui-color-fg-275: #788181;
        --wui-color-fg-300: #6e7777;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #363636;

        --wui-color-bg-100: #141414;
        --wui-color-bg-125: #191a1a;
        --wui-color-bg-150: #1e1f1f;
        --wui-color-bg-175: #222525;
        --wui-color-bg-200: #272a2a;
        --wui-color-bg-225: #2c3030;
        --wui-color-bg-250: #313535;
        --wui-color-bg-275: #363b3b;
        --wui-color-bg-300: #3b4040;
        --wui-color-bg-325: #252525;
        --wui-color-bg-350: #ffffff;

        --wui-color-success-base-100: #26d962;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f25a67;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 217, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 217, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 217, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 217, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 217, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 217, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 217, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 217, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 217, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 217, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(242, 90, 103, 0.01);
        --wui-color-error-glass-002: rgba(242, 90, 103, 0.02);
        --wui-color-error-glass-005: rgba(242, 90, 103, 0.05);
        --wui-color-error-glass-010: rgba(242, 90, 103, 0.1);
        --wui-color-error-glass-015: rgba(242, 90, 103, 0.15);
        --wui-color-error-glass-020: rgba(242, 90, 103, 0.2);
        --wui-color-error-glass-025: rgba(242, 90, 103, 0.25);
        --wui-color-error-glass-030: rgba(242, 90, 103, 0.3);
        --wui-color-error-glass-060: rgba(242, 90, 103, 0.6);
        --wui-color-error-glass-080: rgba(242, 90, 103, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-color-gray-glass-001: rgba(255, 255, 255, 0.01);
        --wui-color-gray-glass-002: rgba(255, 255, 255, 0.02);
        --wui-color-gray-glass-005: rgba(255, 255, 255, 0.05);
        --wui-color-gray-glass-010: rgba(255, 255, 255, 0.1);
        --wui-color-gray-glass-015: rgba(255, 255, 255, 0.15);
        --wui-color-gray-glass-020: rgba(255, 255, 255, 0.2);
        --wui-color-gray-glass-025: rgba(255, 255, 255, 0.25);
        --wui-color-gray-glass-030: rgba(255, 255, 255, 0.3);
        --wui-color-gray-glass-060: rgba(255, 255, 255, 0.6);
        --wui-color-gray-glass-080: rgba(255, 255, 255, 0.8);
        --wui-color-gray-glass-090: rgba(255, 255, 255, 0.9);

        --wui-color-dark-glass-100: rgba(42, 42, 42, 1);

        --wui-icon-box-bg-error-base-100: #3c2426;
        --wui-icon-box-bg-blue-base-100: #20303f;
        --wui-icon-box-bg-success-base-100: #1f3a28;
        --wui-icon-box-bg-inverse-base-100: #243240;

        --wui-all-wallets-bg-100: #222b35;

        --wui-avatar-border-base: #252525;

        --wui-thumbnail-border-base: #252525;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --w3m-card-embedded-shadow-color: rgb(17 17 18 / 25%);
      }
    `,dark:t0`
      :root {
        --w3m-color-mix: ${na((t==null?void 0:t["--w3m-color-mix"])||"#000")};
        --w3m-accent: ${na(bu(t,"light")["--w3m-accent"])};
        --w3m-default: #000;

        --wui-color-modal-bg-base: ${na(bu(t,"light")["--w3m-background"])};
        --wui-color-accent-base-100: var(--w3m-accent);

        --wui-color-blueberry-100: hsla(231, 100%, 70%, 1);
        --wui-color-blueberry-090: hsla(231, 97%, 72%, 1);
        --wui-color-blueberry-080: hsla(231, 92%, 74%, 1);

        --wui-color-fg-100: #141414;
        --wui-color-fg-125: #2d3131;
        --wui-color-fg-150: #474d4d;
        --wui-color-fg-175: #636d6d;
        --wui-color-fg-200: #798686;
        --wui-color-fg-225: #828f8f;
        --wui-color-fg-250: #8b9797;
        --wui-color-fg-275: #95a0a0;
        --wui-color-fg-300: #9ea9a9;
        --wui-color-fg-325: #9a9a9a;
        --wui-color-fg-350: #d0d0d0;

        --wui-color-bg-100: #ffffff;
        --wui-color-bg-125: #f5fafa;
        --wui-color-bg-150: #f3f8f8;
        --wui-color-bg-175: #eef4f4;
        --wui-color-bg-200: #eaf1f1;
        --wui-color-bg-225: #e5eded;
        --wui-color-bg-250: #e1e9e9;
        --wui-color-bg-275: #dce7e7;
        --wui-color-bg-300: #d8e3e3;
        --wui-color-bg-325: #f3f3f3;
        --wui-color-bg-350: #202020;

        --wui-color-success-base-100: #26b562;
        --wui-color-success-base-125: #30a46b;

        --wui-color-warning-base-100: #f3a13f;

        --wui-color-error-base-100: #f05142;
        --wui-color-error-base-125: #df4a34;

        --wui-color-blue-base-100: rgba(102, 125, 255, 1);
        --wui-color-blue-base-90: rgba(102, 125, 255, 0.9);

        --wui-color-success-glass-001: rgba(38, 181, 98, 0.01);
        --wui-color-success-glass-002: rgba(38, 181, 98, 0.02);
        --wui-color-success-glass-005: rgba(38, 181, 98, 0.05);
        --wui-color-success-glass-010: rgba(38, 181, 98, 0.1);
        --wui-color-success-glass-015: rgba(38, 181, 98, 0.15);
        --wui-color-success-glass-020: rgba(38, 181, 98, 0.2);
        --wui-color-success-glass-025: rgba(38, 181, 98, 0.25);
        --wui-color-success-glass-030: rgba(38, 181, 98, 0.3);
        --wui-color-success-glass-060: rgba(38, 181, 98, 0.6);
        --wui-color-success-glass-080: rgba(38, 181, 98, 0.8);

        --wui-color-success-glass-reown-020: rgba(48, 164, 107, 0.2);

        --wui-color-warning-glass-reown-020: rgba(243, 161, 63, 0.2);

        --wui-color-error-glass-001: rgba(240, 81, 66, 0.01);
        --wui-color-error-glass-002: rgba(240, 81, 66, 0.02);
        --wui-color-error-glass-005: rgba(240, 81, 66, 0.05);
        --wui-color-error-glass-010: rgba(240, 81, 66, 0.1);
        --wui-color-error-glass-015: rgba(240, 81, 66, 0.15);
        --wui-color-error-glass-020: rgba(240, 81, 66, 0.2);
        --wui-color-error-glass-025: rgba(240, 81, 66, 0.25);
        --wui-color-error-glass-030: rgba(240, 81, 66, 0.3);
        --wui-color-error-glass-060: rgba(240, 81, 66, 0.6);
        --wui-color-error-glass-080: rgba(240, 81, 66, 0.8);

        --wui-color-error-glass-reown-020: rgba(223, 74, 52, 0.2);

        --wui-icon-box-bg-error-base-100: #f4dfdd;
        --wui-icon-box-bg-blue-base-100: #d9ecfb;
        --wui-icon-box-bg-success-base-100: #daf0e4;
        --wui-icon-box-bg-inverse-base-100: #dcecfc;

        --wui-all-wallets-bg-100: #e8f1fa;

        --wui-avatar-border-base: #f3f4f4;

        --wui-thumbnail-border-base: #eaefef;

        --wui-wallet-button-bg-base: var(--wui-color-bg-125);

        --wui-color-gray-glass-001: rgba(0, 0, 0, 0.01);
        --wui-color-gray-glass-002: rgba(0, 0, 0, 0.02);
        --wui-color-gray-glass-005: rgba(0, 0, 0, 0.05);
        --wui-color-gray-glass-010: rgba(0, 0, 0, 0.1);
        --wui-color-gray-glass-015: rgba(0, 0, 0, 0.15);
        --wui-color-gray-glass-020: rgba(0, 0, 0, 0.2);
        --wui-color-gray-glass-025: rgba(0, 0, 0, 0.25);
        --wui-color-gray-glass-030: rgba(0, 0, 0, 0.3);
        --wui-color-gray-glass-060: rgba(0, 0, 0, 0.6);
        --wui-color-gray-glass-080: rgba(0, 0, 0, 0.8);
        --wui-color-gray-glass-090: rgba(0, 0, 0, 0.9);

        --wui-color-dark-glass-100: rgba(233, 233, 233, 1);

        --w3m-card-embedded-shadow-color: rgb(224 225 233 / 25%);
      }
    `}}const X3e=t0`
  *,
  *::after,
  *::before,
  :host {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    font-family: var(--wui-font-family);
    backface-visibility: hidden;
  }
`,ePe=t0`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;
    transition:
      color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      background-color var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border var(--wui-duration-lg) var(--wui-ease-out-power-1),
      border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1),
      box-shadow var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: background-color, color, border, box-shadow, border-radius;
    outline: none;
    border: none;
    column-gap: var(--wui-spacing-3xs);
    background-color: transparent;
    text-decoration: none;
  }

  wui-flex {
    transition: border-radius var(--wui-duration-lg) var(--wui-ease-out-power-1);
    will-change: border-radius;
  }

  button:disabled > wui-wallet-image,
  button:disabled > wui-all-wallets-image,
  button:disabled > wui-network-image,
  button:disabled > wui-image,
  button:disabled > wui-transaction-visual,
  button:disabled > wui-logo {
    filter: grayscale(1);
  }

  @media (hover: hover) and (pointer: fine) {
    button:hover:enabled {
      background-color: var(--wui-color-gray-glass-005);
    }

    button:active:enabled {
      background-color: var(--wui-color-gray-glass-010);
    }
  }

  button:disabled > wui-icon-box {
    opacity: 0.5;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,tPe=t0`
  .wui-color-inherit {
    color: var(--wui-color-inherit);
  }

  .wui-color-accent-100 {
    color: var(--wui-color-accent-100);
  }

  .wui-color-error-100 {
    color: var(--wui-color-error-100);
  }

  .wui-color-blue-100 {
    color: var(--wui-color-blue-100);
  }

  .wui-color-blue-90 {
    color: var(--wui-color-blue-90);
  }

  .wui-color-error-125 {
    color: var(--wui-color-error-125);
  }

  .wui-color-success-100 {
    color: var(--wui-color-success-100);
  }

  .wui-color-success-125 {
    color: var(--wui-color-success-125);
  }

  .wui-color-inverse-100 {
    color: var(--wui-color-inverse-100);
  }

  .wui-color-inverse-000 {
    color: var(--wui-color-inverse-000);
  }

  .wui-color-fg-100 {
    color: var(--wui-color-fg-100);
  }

  .wui-color-fg-200 {
    color: var(--wui-color-fg-200);
  }

  .wui-color-fg-300 {
    color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    color: var(--wui-color-fg-350);
  }

  .wui-bg-color-inherit {
    background-color: var(--wui-color-inherit);
  }

  .wui-bg-color-blue-100 {
    background-color: var(--wui-color-accent-100);
  }

  .wui-bg-color-error-100 {
    background-color: var(--wui-color-error-100);
  }

  .wui-bg-color-error-125 {
    background-color: var(--wui-color-error-125);
  }

  .wui-bg-color-success-100 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-success-125 {
    background-color: var(--wui-color-success-100);
  }

  .wui-bg-color-inverse-100 {
    background-color: var(--wui-color-inverse-100);
  }

  .wui-bg-color-inverse-000 {
    background-color: var(--wui-color-inverse-000);
  }

  .wui-bg-color-fg-100 {
    background-color: var(--wui-color-fg-100);
  }

  .wui-bg-color-fg-200 {
    background-color: var(--wui-color-fg-200);
  }

  .wui-bg-color-fg-300 {
    background-color: var(--wui-color-fg-300);
  }

  .wui-color-fg-325 {
    background-color: var(--wui-color-fg-325);
  }

  .wui-color-fg-350 {
    background-color: var(--wui-color-fg-350);
  }
`,eh={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603},AEe=Dk({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),SEe=Dk({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),CEe=Dk({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0});function p2(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const bM=p2({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),xM=p2({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});p2({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});p2({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});p2({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const NEe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Fk={getMethodsByChainNamespace(t){return NEe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const n={...t},r=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>r.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>r.add(i)),e.events&&Object.keys(e.events).forEach(i=>r.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&r.add(s)}),r.forEach(i=>{n[i]||(n[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{n[i]&&(n[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{n[i]&&(n[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{n[i]&&(n[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!n[a]||(n[a].rpcMap||(n[a].rpcMap={}),i.has(a)||(n[a].rpcMap={},i.add(a)),n[a].rpcMap[c]=o)})}return n},createNamespaces(t,e){const n=t.reduce((r,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];r[o]||(r[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=r[o];switch(u.chains.push(l),l){case bM.caipNetworkId:u.chains.push(bM.deprecatedCaipNetworkId);break;case xM.caipNetworkId:u.chains.push(xM.deprecatedCaipNetworkId);break}return u!=null&&u.rpcMap&&c&&(u.rpcMap[s]=c),r},{});return this.applyNamespaceOverrides(n,e)},resolveReownName:async t=>{var r;const e=await _H.resolveName(t);return((r=(Object.values(e==null?void 0:e.addresses)||[])[0])==null?void 0:r.address)||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const n=e.chains||[],r=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...n,...r]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null}};class $k{constructor({provider:e,namespace:n}){this.id=Ge.CONNECTOR_ID.WALLET_CONNECT,this.name=tl.ConnectorNamesMap[Ge.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=tl.ConnectorImageIds[Ge.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=oe.getCaipNetworks.bind(oe),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=n}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const n=this.getCaipNetworks(),r=qe.state.universalProviderConfigOverride,i=Fk.createNamespaces(n,r);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(n=>n.caipNetworkId);return Vw.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:_Ee})}}const _Ee=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"];class WH{constructor(e){this.availableConnectors=[],this.eventListeners=new Map,this.getCaipNetworks=n=>oe.getCaipNetworks(n),e&&this.construct(e)}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get networks(){return this.getCaipNetworks(this.namespace)}setAuthProvider(e){this.addConnector({id:Ge.CONNECTOR_ID.AUTH,type:"AUTH",name:Ge.CONNECTOR_NAMES.AUTH,provider:e,imageId:tl.ConnectorImageIds[Ge.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const n=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(r=>n.has(r.id)?!1:(n.add(r.id),!0)),this.emit("connectors",this.availableConnectors)}setStatus(e,n){ut.setStatus(e,n)}on(e,n){var r;this.eventListeners.has(e)||this.eventListeners.set(e,new Set),(r=this.eventListeners.get(e))==null||r.add(n)}off(e,n){const r=this.eventListeners.get(e);r&&r.delete(n)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,n){const r=this.eventListeners.get(e);r&&r.forEach(i=>i(n))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){var s;const{caipNetwork:n,providerType:r}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(r==="WALLET_CONNECT"){i.setDefaultChain(n.caipNetworkId);return}if(i&&r==="AUTH"){const o=i,a=(s=ut.state.preferredAccountTypes)==null?void 0:s[n.chainNamespace];await o.switchNetwork(n.caipNetworkId);const c=await o.getUser({chainId:n.caipNetworkId,preferredAccountType:a});this.emit("switchNetwork",c)}}getWalletConnectConnector(){const e=this.connectors.find(n=>n instanceof $k);if(!e)throw new Error("WalletConnectConnector not found");return e}}class PEe extends WH{setUniversalProvider(e){this.addConnector(new $k({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace}))}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect()}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}}async getAccounts({namespace:e}){var i,s,o,a;const n=this.provider,r=((a=(o=(s=(i=n==null?void 0:n.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const[,,l]=c.split(":");return l}).filter((c,l,u)=>u.indexOf(c)===l))||[];return Promise.resolve({accounts:r.map(c=>kt.createAccount(e,c,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){var s,o,a,c,l;if(!(e.caipNetwork&&os.BALANCE_SUPPORTED_CHAINS.includes((s=e.caipNetwork)==null?void 0:s.chainNamespace))||(o=e.caipNetwork)!=null&&o.testnet)return{balance:"0.00",symbol:((a=e.caipNetwork)==null?void 0:a.nativeCurrency.symbol)||""};if(ut.state.balanceLoading&&e.chainId===((c=oe.state.activeCaipNetwork)==null?void 0:c.id))return{balance:ut.state.balance||"0.00",symbol:ut.state.balanceSymbol||""};const i=(await ut.fetchTokenBalance()).find(u=>{var d,h;return u.chainId===`${(d=e.caipNetwork)==null?void 0:d.chainNamespace}:${e.chainId}`&&u.symbol===((h=e.caipNetwork)==null?void 0:h.nativeCurrency.symbol)});return{balance:(i==null?void 0:i.quantity.numeric)||"0.00",symbol:(i==null?void 0:i.symbol)||((l=e.caipNetwork)==null?void 0:l.nativeCurrency.symbol)||""}}async signMessage(e){var o,a,c;const{provider:n,message:r,address:i}=e;if(!n)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return((o=oe.state.activeCaipNetwork)==null?void 0:o.chainNamespace)===Ge.CHAIN.SOLANA?s=(await n.request({method:"solana_signMessage",params:{message:zz.encode(new TextEncoder().encode(r)),pubkey:i}},(a=oe.state.activeCaipNetwork)==null?void 0:a.caipNetworkId)).signature:s=await n.request({method:"personal_sign",params:[r,i]},(c=oe.state.activeCaipNetwork)==null?void 0:c.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async getProfile(){return Promise.resolve({profileImage:"",profileName:""})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}async getEnsAddress(){return Promise.resolve({address:!1})}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){var i,s,o,a,c,l;const{caipNetwork:n}=e,r=this.getWalletConnectConnector();if(n.chainNamespace===Ge.CHAIN.EVM)try{await((i=r.provider)==null?void 0:i.request({method:"wallet_switchEthereumChain",params:[{chainId:Yj(n.id)}]}))}catch(u){if(u.code===eh.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||u.code===eh.ERROR_INVALID_CHAIN_ID||u.code===eh.ERROR_CODE_DEFAULT||((o=(s=u==null?void 0:u.data)==null?void 0:s.originalError)==null?void 0:o.code)===eh.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await((l=r.provider)==null?void 0:l.request({method:"wallet_addEthereumChain",params:[{chainId:Yj(n.id),rpcUrls:[(a=n==null?void 0:n.rpcUrls.chainDefault)==null?void 0:a.http],chainName:n.name,nativeCurrency:n.nativeCurrency,blockExplorerUrls:[(c=n.blockExplorers)==null?void 0:c.default.url]}]}))}catch{throw new Error("Chain is not supported")}}r.provider.setDefaultChain(n.caipNetworkId)}getWalletConnectProvider(){const e=this.connectors.find(r=>r.type==="WALLET_CONNECT");return e==null?void 0:e.provider}}class IEe{constructor(e){this.chainNamespaces=[],this.reportedAlertErrors={},this.getCaipNetwork=(n,r)=>{var i,s,o,a;if(n){const c=(s=(i=oe.getNetworkData(n))==null?void 0:i.requestedCaipNetworks)==null?void 0:s.find(u=>u.id===r);if(c)return c;const l=(o=oe.getNetworkData(n))==null?void 0:o.caipNetwork;return l||((a=oe.getRequestedCaipNetworks(n).filter(u=>u.chainNamespace===n))==null?void 0:a[0])}return oe.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const n=this.getCaipNetwork();if(n)return n.id},this.getCaipNetworks=n=>oe.getCaipNetworks(n),this.getActiveChainNamespace=()=>oe.state.activeChain,this.setRequestedCaipNetworks=(n,r)=>{oe.setRequestedCaipNetworks(n,r)},this.getApprovedCaipNetworkIds=()=>oe.getAllApprovedCaipNetworkIds(),this.getCaipAddress=n=>oe.state.activeChain===n||!n?oe.state.activeCaipAddress:oe.getAccountProp("caipAddress",n),this.setClientId=n=>{It.setClientId(n)},this.getProvider=n=>ln.getProvider(n),this.getProviderType=n=>ln.getProviderId(n),this.getPreferredAccountType=n=>{var r;return(r=ut.state.preferredAccountTypes)==null?void 0:r[n]},this.setCaipAddress=(n,r)=>{ut.setCaipAddress(n,r)},this.setBalance=(n,r,i)=>{ut.setBalance(n,r,i)},this.setProfileName=(n,r)=>{ut.setProfileName(n,r)},this.setProfileImage=(n,r)=>{ut.setProfileImage(n,r)},this.setUser=(n,r)=>{ut.setUser(n,r),qe.state.enableEmbedded&&Mr.close()},this.resetAccount=n=>{ut.resetAccount(n)},this.setCaipNetwork=n=>{oe.setActiveCaipNetwork(n)},this.setCaipNetworkOfNamespace=(n,r)=>{oe.setChainNetworkData(r,{caipNetwork:n})},this.setAllAccounts=(n,r)=>{ut.setAllAccounts(n,r),qe.setHasMultipleAddresses((n==null?void 0:n.length)>1)},this.setStatus=(n,r)=>{ut.setStatus(n,r),Vt.isConnected()?ot.setConnectionStatus("connected"):ot.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=n=>oe.getAccountProp("address",n),this.setConnectors=n=>{const r=[...Vt.state.allConnectors,...n];Vt.setConnectors(r)},this.fetchIdentity=n=>It.fetchIdentity(n),this.getReownName=n=>_H.getNamesForAddress(n),this.getConnectors=()=>Vt.getConnectors(),this.getConnectorImage=n=>D$.getConnectorImage(n),this.setConnectedWalletInfo=(n,r)=>{const i=ln.getProviderId(r),s=n?{...n,type:i}:void 0;ut.setConnectedWalletInfo(s,r)},this.getIsConnectedState=()=>!!oe.state.activeCaipAddress,this.addAddressLabel=(n,r,i)=>{ut.addAddressLabel(n,r,i)},this.removeAddressLabel=(n,r)=>{ut.removeAddressLabel(n,r)},this.getAddress=n=>oe.state.activeChain===n||!n?ut.state.address:oe.getAccountProp("address",n),this.setApprovedCaipNetworksData=n=>oe.setApprovedCaipNetworksData(n),this.resetNetwork=n=>{oe.resetNetwork(n)},this.addConnector=n=>{Vt.addConnector(n)},this.resetWcConnection=()=>{Qn.resetWcConnection()},this.setAddressExplorerUrl=(n,r)=>{ut.setAddressExplorerUrl(n,r)},this.setSmartAccountDeployed=(n,r)=>{ut.setSmartAccountDeployed(n,r)},this.setSmartAccountEnabledNetworks=(n,r)=>{oe.setSmartAccountEnabledNetworks(n,r)},this.setPreferredAccountType=(n,r)=>{ut.setPreferredAccountType(n,r)},this.setEIP6963Enabled=n=>{qe.setEIP6963Enabled(n)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.initialize(e)}getChainNamespacesSet(e,n){const r=e==null?void 0:e.map(s=>s.namespace).filter(s=>!!s);if(r!=null&&r.length)return[...new Set(r)];const i=n==null?void 0:n.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){this.initControllers(e),await this.initChainAdapters(),await this.injectModalUi(),this.sendInitializeEvent(e),ml.set({initialized:!0}),await this.syncExistingConnection()}sendInitializeEvent(e){var r;const{...n}=e;delete n.adapters,delete n.universalProvider,Vn.sendEvent({type:"track",event:"INITIALIZE",properties:{...n,networks:e.networks.map(i=>i.id),siweConfig:{options:((r=e.siweConfig)==null?void 0:r.options)||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&ts.setThemeMode(e.themeMode),e.themeVariables&&ts.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");oe.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const n=this.getDefaultNetwork();n&&oe.setActiveCaipNetwork(n)}initializeConnectionController(e){Qn.setWcBasic(e.basic??!1)}initializeConnectorController(){Vt.initialize(this.chainNamespaces)}initializeOptionsController(e){var o;qe.setDebug(e.debug!==!1),qe.setEnableWalletConnect(e.enableWalletConnect!==!1),qe.setEnableWalletGuide(e.enableWalletGuide!==!1),qe.setEnableWallets(e.enableWallets!==!1),qe.setEIP6963Enabled(e.enableEIP6963!==!1),qe.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),qe.setEnableAuthLogger(e.enableAuthLogger!==!1),qe.setCustomRpcUrls(e.customRpcUrls),qe.setSdkVersion(e.sdkVersion),qe.setProjectId(e.projectId),qe.setEnableEmbedded(e.enableEmbedded),qe.setAllWallets(e.allWallets),qe.setIncludeWalletIds(e.includeWalletIds),qe.setExcludeWalletIds(e.excludeWalletIds),qe.setFeaturedWalletIds(e.featuredWalletIds),qe.setTokens(e.tokens),qe.setTermsConditionsUrl(e.termsConditionsUrl),qe.setPrivacyPolicyUrl(e.privacyPolicyUrl),qe.setCustomWallets(e.customWallets),qe.setFeatures(e.features),qe.setAllowUnsupportedChain(e.allowUnsupportedChain),qe.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),qe.setDefaultAccountTypes(e.defaultAccountTypes);const n=ot.getPreferredAccountTypes(),r={...qe.state.defaultAccountTypes,...n};ut.setPreferredAccountTypes(r);const i=this.getDefaultMetaData();if(!e.metadata&&i&&(e.metadata=i),qe.setMetadata(e.metadata),qe.setDisableAppend(e.disableAppend),qe.setEnableEmbedded(e.enableEmbedded),qe.setSIWX(e.siwx),!e.projectId){Mw.open(pw.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(((o=e.adapters)==null?void 0:o.find(a=>a.namespace===Ge.CHAIN.EVM))&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");qe.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){var e,n,r,i;return typeof window<"u"&&typeof document<"u"?{name:((n=(e=document.getElementsByTagName("title"))==null?void 0:e[0])==null?void 0:n.textContent)||"",description:((r=document.querySelector('meta[property="og:description"]'))==null?void 0:r.content)||"",url:window.location.origin,icons:[((i=document.querySelector('link[rel~="icon"]'))==null?void 0:i.href)||""]}:null}setUnsupportedNetwork(e){const n=this.getActiveChainNamespace();if(n){const r=ag.getUnsupportedNetwork(`${n}:${e}`);oe.setActiveCaipNetwork(r)}}getDefaultNetwork(){return ag.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,n){return ag.extendCaipNetwork(e,{customNetworkImageUrls:n.chainImages,projectId:n.projectId})}extendCaipNetworks(e){return ag.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const n=e.networks.find(i=>{var s;return i.id===((s=e.defaultNetwork)==null?void 0:s.id)});return n?ag.extendCaipNetwork(n,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{var s;const e=oe.state.activeChain,n=this.getAdapter(e),r=(s=this.getCaipNetwork(e))==null?void 0:s.id;if(!n)throw new Error("Adapter not found");const i=await n.connectWalletConnect(r);this.close(),this.setClientId((i==null?void 0:i.clientId)||null),ot.setConnectedNamespaces([...oe.state.chains.keys()]),this.chainNamespaces.forEach(o=>{Vt.setConnectorId(zn.CONNECTOR_TYPE_WALLET_CONNECT,o)}),await this.syncWalletConnectAccount()},connectExternal:async({id:e,info:n,type:r,provider:i,chain:s,caipNetwork:o})=>{var f,m,g,E,y,w;const a=oe.state.activeChain,c=s||a,l=this.getAdapter(c);if(s&&s!==a&&!o){const x=this.getCaipNetworks().find(C=>C.chainNamespace===s);x&&this.setCaipNetwork(x)}if(!l)throw new Error("Adapter not found");const u=this.getCaipNetwork(c),d=await l.connect({id:e,info:n,type:r,provider:i,chainId:(o==null?void 0:o.id)||(u==null?void 0:u.id),rpcUrl:((g=(m=(f=o==null?void 0:o.rpcUrls)==null?void 0:f.default)==null?void 0:m.http)==null?void 0:g[0])||((w=(y=(E=u==null?void 0:u.rpcUrls)==null?void 0:E.default)==null?void 0:y.http)==null?void 0:w[0])});if(!d)return;ot.addConnectedNamespace(c),this.syncProvider({...d,chainNamespace:c});const{accounts:h}=await l.getAccounts({namespace:c,id:e});this.setAllAccounts(h,c),this.setStatus("connected",c)},reconnectExternal:async({id:e,info:n,type:r,provider:i})=>{var a;const s=oe.state.activeChain,o=this.getAdapter(s);o!=null&&o.reconnect&&(await(o==null?void 0:o.reconnect({id:e,info:n,type:r,provider:i,chainId:(a=this.getCaipNetwork())==null?void 0:a.id})),ot.addConnectedNamespace(s))},disconnect:async e=>{const n=e||oe.state.activeChain,r=this.getAdapter(n),i=ln.getProvider(n),s=ln.getProviderId(n);await(r==null?void 0:r.disconnect({provider:i,providerType:s})),ot.removeConnectedNamespace(n),ln.resetChain(n),this.setUser(void 0,n),this.setStatus("disconnected",n)},checkInstalled:e=>e?e.some(n=>{var r;return!!((r=window.ethereum)!=null&&r[String(n)])}):!!window.ethereum,signMessage:async e=>{const n=this.getAdapter(oe.state.activeChain),r=await(n==null?void 0:n.signMessage({message:e,address:ut.state.address,provider:ln.getProvider(oe.state.activeChain)}));return(r==null?void 0:r.signature)||""},sendTransaction:async e=>{if(e.chainNamespace===Ge.CHAIN.EVM){const n=this.getAdapter(oe.state.activeChain),r=ln.getProvider(oe.state.activeChain),i=await(n==null?void 0:n.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:r}));return(i==null?void 0:i.hash)||""}return""},estimateGas:async e=>{if(e.chainNamespace===Ge.CHAIN.EVM){const n=this.getAdapter(oe.state.activeChain),r=ln.getProvider(oe.state.activeChain),i=this.getCaipNetwork();if(!i)throw new Error("CaipNetwork is undefined");const s=await(n==null?void 0:n.estimateGas({...e,provider:r,caipNetwork:i}));return(s==null?void 0:s.gas)||0n}return 0n},getEnsAvatar:async()=>{var r;const e=this.getAdapter(oe.state.activeChain),n=await(e==null?void 0:e.getProfile({address:ut.state.address,chainId:Number((r=this.getCaipNetwork())==null?void 0:r.id)}));return(n==null?void 0:n.profileImage)||!1},getEnsAddress:async e=>{const n=this.getAdapter(oe.state.activeChain),r=this.getCaipNetwork();if(!r)return!1;const i=await(n==null?void 0:n.getEnsAddress({name:e,caipNetwork:r}));return(i==null?void 0:i.address)||!1},writeContract:async e=>{const n=this.getAdapter(oe.state.activeChain),r=this.getCaipNetwork(),i=this.getCaipAddress(),s=ln.getProvider(oe.state.activeChain);if(!r||!i)throw new Error("CaipNetwork or CaipAddress is undefined");const o=await(n==null?void 0:n.writeContract({...e,caipNetwork:r,provider:s,caipAddress:i}));return o==null?void 0:o.hash},parseUnits:(e,n)=>{const r=this.getAdapter(oe.state.activeChain);return(r==null?void 0:r.parseUnits({value:e,decimals:n}))??0n},formatUnits:(e,n)=>{const r=this.getAdapter(oe.state.activeChain);return(r==null?void 0:r.formatUnits({value:e,decimals:n}))??"0"},getCapabilities:async e=>{const n=this.getAdapter(oe.state.activeChain);return await(n==null?void 0:n.getCapabilities(e))},grantPermissions:async e=>{const n=this.getAdapter(oe.state.activeChain);return await(n==null?void 0:n.grantPermissions(e))},revokePermissions:async e=>{const n=this.getAdapter(oe.state.activeChain);return n!=null&&n.revokePermissions?await n.revokePermissions(e):"0x"},walletGetAssets:async e=>{const n=this.getAdapter(oe.state.activeChain);return await(n==null?void 0:n.walletGetAssets(e))??{}}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},Qn.setClient(this.connectionControllerClient)}getApprovedCaipNetworksData(){var n,r,i,s,o;if(ln.getProviderId(oe.state.activeChain)===zn.CONNECTOR_TYPE_WALLET_CONNECT){const a=(r=(n=this.universalProvider)==null?void 0:n.session)==null?void 0:r.namespaces;return{supportsAllNetworks:((o=(s=(i=this.universalProvider)==null?void 0:i.session)==null?void 0:s.peer)==null?void 0:o.metadata.name)==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(a)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const n=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=ln.getProvider(n),s=ln.getProviderId(n);if(e.chainNamespace===oe.state.activeChain){const o=this.getAdapter(n);await(o==null?void 0:o.switchNetwork({caipNetwork:e,provider:i,providerType:s}))}else if(this.setCaipNetwork(e),s===zn.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(n);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:n})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(n=>{const r=n.chains||[],i=n.accounts.map(s=>{const{chainId:o,chainNamespace:a}=Kl.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...r,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((n,r)=>{var s;const i=e==null?void 0:e.find(o=>o.namespace===r);return i?(i.construct({namespace:r,projectId:(s=this.options)==null?void 0:s.projectId,networks:this.getCaipNetworks()}),n[r]=i):n[r]=new PEe({namespace:r,networks:this.getCaipNetworks()}),n},{})}async initChainAdapter(e){var n;this.onConnectors(e),this.listenAdapter(e),(n=this.chainAdapters)==null||n[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){const n=this.getAdapter(e);n==null||n.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const n=this.getAdapter(e);if(!n)return;const r=ot.getConnectionStatus();r==="connected"?this.setStatus("connecting",e):r==="disconnected"?(ot.clearAddressCache(),this.setStatus(r,e)):this.setStatus(r,e),n.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id===s||l.caipNetworkId===s),a=oe.state.activeChain===e,c=oe.getAccountProp("address",e);if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),n.on("disconnect",this.disconnect.bind(this,e)),n.on("pendingTransactions",()=>{const i=ut.state.address,s=oe.state.activeCaipNetwork;!i||!(s!=null&&s.id)||this.updateNativeBalance(i,s.id,s.chainNamespace)}),n.on("accountChanged",({address:i,chainId:s})=>{var a,c;const o=oe.state.activeChain===e;o&&s?this.syncAccount({address:i,chainId:s,chainNamespace:e}):o&&((a=oe.state.activeCaipNetwork)!=null&&a.id)?this.syncAccount({address:i,chainId:(c=oe.state.activeCaipNetwork)==null?void 0:c.id,chainNamespace:e}):this.syncAccountInfo(i,s,e)})}async createUniversalProviderForAdapter(e){var n,r,i;await this.getUniversalProvider(),this.universalProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setUniversalProvider)==null||i.call(r,this.universalProvider))}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async syncNamespaceConnection(e){try{const n=Vt.getConnectorId(e);switch(this.setStatus("connecting",e),n){case Ge.CONNECTOR_ID.WALLET_CONNECT:await this.syncWalletConnectAccount();break;case Ge.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(n){console.warn("AppKit couldn't sync existing connection",n),this.setStatus("disconnected",e)}}async syncAdapterConnection(e){var o,a,c;const n=this.getAdapter(e),r=Vt.getConnectorId(e),i=this.getCaipNetwork(e),s=Vt.getConnectors(e).find(l=>l.id===r);try{if(!n||!s)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!(i!=null&&i.id))throw new Error("CaipNetwork not found");const l=await(n==null?void 0:n.syncConnection({namespace:e,id:s.id,chainId:i.id,rpcUrl:(c=(a=(o=i==null?void 0:i.rpcUrls)==null?void 0:o.default)==null?void 0:a.http)==null?void 0:c[0]}));if(l){const u=await(n==null?void 0:n.getAccounts({namespace:e,id:s.id}));u&&u.accounts.length>0?this.setAllAccounts(u.accounts,e):this.setAllAccounts([kt.createAccount(e,l.address,"eoa")],e),this.syncProvider({...l,chainNamespace:e}),await this.syncAccount({...l,chainNamespace:e}),this.setStatus("connected",e)}else this.setStatus("disconnected",e)}catch{this.setStatus("disconnected",e)}}async syncWalletConnectAccount(){const e=this.chainNamespaces.map(async n=>{var a,c,l,u,d;const r=this.getAdapter(n),i=((u=(l=(c=(a=this.universalProvider)==null?void 0:a.session)==null?void 0:c.namespaces)==null?void 0:l[n])==null?void 0:u.accounts)||[],s=(d=oe.state.activeCaipNetwork)==null?void 0:d.id,o=i.find(h=>{const{chainId:f}=Kl.parseCaipAddress(h);return f===(s==null?void 0:s.toString())})||i[0];if(o){const h=Kl.validateCaipAddress(o),{chainId:f,address:m}=Kl.parseCaipAddress(h);if(ln.setProviderId(n,zn.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&oe.state.activeCaipNetwork&&(r==null?void 0:r.namespace)!==Ge.CHAIN.EVM){const g=r==null?void 0:r.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:oe.state.activeCaipNetwork});ln.setProvider(n,g)}else ln.setProvider(n,this.universalProvider);Vt.setConnectorId(Ge.CONNECTOR_ID.WALLET_CONNECT,n),ot.addConnectedNamespace(n),this.syncWalletConnectAccounts(n),await this.syncAccount({address:m,chainId:f,chainNamespace:n})}else this.setStatus("disconnected",n);await oe.setApprovedCaipNetworksData(n)});await Promise.all(e)}syncWalletConnectAccounts(e){var r,i,s,o,a;const n=(a=(o=(s=(i=(r=this.universalProvider)==null?void 0:r.session)==null?void 0:i.namespaces)==null?void 0:s[e])==null?void 0:o.accounts)==null?void 0:a.map(c=>{const{address:l}=Kl.parseCaipAddress(c);return l}).filter((c,l,u)=>u.indexOf(c)===l);n&&this.setAllAccounts(n.map(c=>kt.createAccount(e,c,e==="bip122"?"payment":"eoa")),e)}syncProvider({type:e,provider:n,id:r,chainNamespace:i}){ln.setProviderId(i,e),ln.setProvider(i,n),Vt.setConnectorId(r,i)}async syncAccount(e){var d,h;const n=e.chainNamespace===oe.state.activeChain,r=oe.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=ot.getActiveNetworkProps(),c=s||a,l=((d=oe.state.activeCaipNetwork)==null?void 0:d.name)===Ge.UNSUPPORTED_NETWORK_NAME,u=oe.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(E=>E.id.toString()===c.toString()),m=this.getCaipNetworks().find(E=>E.chainNamespace===o);if(!u&&!f&&!m){const E=this.getApprovedCaipNetworkIds()||[],y=E.find(x=>{var C;return((C=Kl.parseCaipNetworkId(x))==null?void 0:C.chainId)===c.toString()}),w=E.find(x=>{var C;return((C=Kl.parseCaipNetworkId(x))==null?void 0:C.chainNamespace)===o});f=this.getCaipNetworks().find(x=>x.caipNetworkId===y),m=this.getCaipNetworks().find(x=>x.caipNetworkId===w||"deprecatedCaipNetworkId"in x&&x.deprecatedCaipNetworkId===w)}const g=f||m;(g==null?void 0:g.chainNamespace)===oe.state.activeChain?qe.state.enableNetworkSwitch&&!qe.state.allowUnsupportedChain&&((h=oe.state.activeCaipNetwork)==null?void 0:h.name)===Ge.UNSUPPORTED_NETWORK_NAME?oe.showUnsupportedChainUI():this.setCaipNetwork(g):n||r&&this.setCaipNetworkOfNamespace(r,o),this.syncConnectedWalletInfo(o),RS.isLowerCaseMatch(i,ut.state.address)||this.syncAccountInfo(i,g==null?void 0:g.id,o),n?await this.syncBalance({address:i,chainId:g==null?void 0:g.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:r==null?void 0:r.id,chainNamespace:o})}}async syncAccountInfo(e,n,r){const i=this.getCaipAddress(r),s=n||(i==null?void 0:i.split(":")[1]);if(!s)return;const o=`${r}:${s}:${e}`;this.setCaipAddress(o,r),await this.syncIdentity({address:e,chainId:s,chainNamespace:r})}async syncReownName(e,n){try{const r=await this.getReownName(e);if(r[0]){const i=r[0];this.setProfileName(i.name,n)}else this.setProfileName(null,n)}catch{this.setProfileName(null,n)}}syncConnectedWalletInfo(e){var i;const n=Vt.getConnectorId(e),r=ln.getProviderId(e);if(r===zn.CONNECTOR_TYPE_ANNOUNCED||r===zn.CONNECTOR_TYPE_INJECTED){if(n){const s=this.getConnectors().find(o=>o.id===n);if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(r===zn.CONNECTOR_TYPE_WALLET_CONNECT){const s=ln.getProvider(e);s!=null&&s.session&&this.setConnectedWalletInfo({...s.session.peer.metadata,name:s.session.peer.metadata.name,icon:(i=s.session.peer.metadata.icons)==null?void 0:i[0]},e)}else if(n)if(n===Ge.CONNECTOR_ID.COINBASE){const s=this.getConnectors().find(o=>o.id===Ge.CONNECTOR_ID.COINBASE);this.setConnectedWalletInfo({name:"Coinbase Wallet",icon:this.getConnectorImage(s)},e)}else this.setConnectedWalletInfo({name:n},e)}async syncBalance(e){!O$.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(r=>{var i;return r.id.toString()===((i=e.chainId)==null?void 0:i.toString())})||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async updateNativeBalance(e,n,r){const i=this.getAdapter(r),s=oe.getCaipNetworkByNamespace(r,n);if(i){const o=await i.getBalance({address:e,chainId:n,caipNetwork:s,tokens:this.options.tokens});this.setBalance(o.balance,o.symbol,r)}}async initializeUniversalAdapter(){var r,i,s,o,a,c,l,u,d,h;const e=j2e.createLogger((f,...m)=>{f&&this.handleAlertError(f),console.error(...m)}),n={projectId:(r=this.options)==null?void 0:r.projectId,metadata:{name:(i=this.options)!=null&&i.metadata?(s=this.options)==null?void 0:s.metadata.name:"",description:(o=this.options)!=null&&o.metadata?(a=this.options)==null?void 0:a.metadata.description:"",url:(c=this.options)!=null&&c.metadata?(l=this.options)==null?void 0:l.metadata.url:"",icons:(u=this.options)!=null&&u.metadata?(d=this.options)==null?void 0:d.metadata.icons:[""]},logger:e};qe.setManualWCControl(!!((h=this.options)!=null&&h.manualWCControl)),this.universalProvider=this.options.universalProvider??await Bbe.init(n),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&(this.universalProvider.on("display_uri",e=>{Qn.setUri(e)}),this.universalProvider.on("connect",Qn.finalizeWcConnection),this.universalProvider.on("disconnect",()=>{this.chainNamespaces.forEach(e=>{this.resetAccount(e)}),Qn.resetWcConnection()}),this.universalProvider.on("chainChanged",e=>{const n=this.getCaipNetworks().find(i=>i.id==e),r=this.getCaipNetwork();if(!n){this.setUnsupportedNetwork(e);return}(r==null?void 0:r.id)!==(n==null?void 0:n.id)&&this.setCaipNetwork(n)}),this.universalProvider.on("session_event",e=>{if(Fk.isSessionEventData(e)){const{name:n,data:r}=e.params.event;n==="accountsChanged"&&Array.isArray(r)&&kt.isCaipAddress(r[0])&&this.syncAccount(Kl.parseCaipAddress(r[0]))}}))}createUniversalProvider(){var e;return!this.universalProviderInitPromise&&kt.isClient()&&((e=this.options)!=null&&e.projectId)&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){Vn.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const n=Object.entries(pw.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[r,i]=n??[],{message:s,alertErrorKey:o}=i??{};if(r&&s&&!this.reportedAlertErrors[r]){const a=pw.ALERT_ERRORS[o];a&&(Mw.open(a,"error"),this.reportedAlertErrors[r]=!0)}}getAdapter(e){var n;if(e)return(n=this.chainAdapters)==null?void 0:n[e]}createAdapter(e){var i;if(!e)return;const n=e.namespace;if(!n)return;this.createClients();const r=e;r.namespace=n,r.construct({namespace:n,projectId:(i=this.options)==null?void 0:i.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(n)||this.chainNamespaces.push(n),this.chainAdapters&&(this.chainAdapters[n]=r)}async open(e){if(await this.injectModalUi(),e!=null&&e.uri&&Qn.setUri(e.uri),e!=null&&e.arguments)switch(e==null?void 0:e.view){case"Swap":return Mr.open({...e,data:{swap:e.arguments}})}return Mr.open(e)}async close(){await this.injectModalUi(),Mr.close()}setLoading(e,n){Mr.setLoading(e,n)}async disconnect(e){await Qn.disconnect(e)}getError(){return""}getChainId(){var e;return(e=oe.state.activeCaipNetwork)==null?void 0:e.id}async switchNetwork(e){const n=this.getCaipNetworks().find(r=>r.id===e.id);if(!n){Mw.open(pw.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await oe.switchActiveNetwork(n)}getWalletProvider(){return oe.state.activeChain?ln.state.providers[oe.state.activeChain]:null}getWalletProviderType(){return ln.getProviderId(oe.state.activeChain)}subscribeProviders(e){return ln.subscribeProviders(e)}getThemeMode(){return ts.state.themeMode}getThemeVariables(){return ts.state.themeVariables}setThemeMode(e){ts.setThemeMode(e),qH(ts.state.themeMode)}setTermsConditionsUrl(e){qe.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){qe.setPrivacyPolicyUrl(e)}setThemeVariables(e){ts.setThemeVariables(e),EEe(ts.state.themeVariables)}subscribeTheme(e){return ts.subscribe(e)}getWalletInfo(){return ut.state.connectedWalletInfo}getAccount(e){var s;const n=Vt.getAuthConnector(e),r=oe.getAccountData(e),i=oe.state.activeChain;if(r)return{allAccounts:r.allAccounts,caipAddress:r.caipAddress,address:kt.getPlainAddress(r.caipAddress),isConnected:!!r.caipAddress,status:r.status,embeddedWalletInfo:n?{user:r.user?{...r.user,username:ot.getConnectedSocialUsername()}:void 0,authProvider:r.socialProvider||"email",accountType:(s=r.preferredAccountTypes)==null?void 0:s[e||i],isSmartAccountDeployed:!!r.smartAccountDeployed}:void 0}}subscribeAccount(e,n){const r=()=>{const i=this.getAccount(n);i&&e(i)};n?oe.subscribeChainProp("accountState",r,n):oe.subscribe(r),Vt.subscribe(r)}subscribeNetwork(e){return oe.subscribe(({activeCaipNetwork:n})=>{e({caipNetwork:n,chainId:n==null?void 0:n.id,caipNetworkId:n==null?void 0:n.caipNetworkId})})}subscribeWalletInfo(e){return ut.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){ut.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){oe.subscribeKey("activeCaipNetwork",e)}getState(){return ml.state}subscribeState(e){return ml.subscribe(e)}showErrorMessage(e){ki.showError(e)}showSuccessMessage(e){ki.showSuccess(e)}getEvent(){return{...Vn.state}}subscribeEvents(e){return Vn.subscribe(e)}replace(e){Pn.replace(e)}redirect(e){Pn.push(e)}popTransactionStack(e){Pn.popTransactionStack(e)}isOpen(){return Mr.state.open}isTransactionStackEmpty(){return Pn.state.transactionStack.length===0}isTransactionShouldReplaceView(){var e;return(e=Pn.state.transactionStack[Pn.state.transactionStack.length-1])==null?void 0:e.replace}static getInstance(){return this.instance}updateFeatures(e){qe.setFeatures(e)}updateOptions(e){const r={...qe.state||{},...e};qe.setOptions(r)}setConnectMethodsOrder(e){qe.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){qe.setWalletFeaturesOrder(e)}setCollapseWallets(e){qe.setCollapseWallets(e)}setSocialsOrder(e){qe.setSocialsOrder(e)}getConnectMethodsOrder(){return O4.getConnectOrderMethod(qe.state.features,Vt.getConnectors())}addNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const r=this.extendCaipNetwork(n,this.options);this.getCaipNetworks().find(i=>i.id===r.id)||oe.addNetwork(r)}removeNetwork(e,n){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===n)&&oe.removeNetwork(e,n)}}let EM=!1;class TEe extends IEe{setupAuthConnectorListeners(e){e.onRpcRequest(n=>{_o.checkIfRequestExists(n)?_o.checkIfRequestIsSafe(n)||this.handleUnsafeRPCRequest():(this.open(),console.error(Gr.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:n.method}),setTimeout(()=>{this.showErrorMessage(Gr.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack(!0))}),e.onRpcSuccess((n,r)=>{const i=_o.checkIfRequestIsSafe(r),s=ut.state.address,o=oe.state.activeCaipNetwork;i||(this.isTransactionStackEmpty()?(this.close(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)):(this.popTransactionStack(),s&&(o!=null&&o.id)&&this.updateNativeBalance(s,o.id,o.chainNamespace)))}),e.onNotConnected(()=>{const n=oe.state.activeChain;Vt.getConnectorId(n)===Ge.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,n),this.setLoading(!1,n))}),e.onConnect(async n=>{var a,c;const r=oe.state.activeChain,i=r===Ge.CHAIN.EVM?`eip155:${n.chainId}:${n.address}`:`${n.chainId}:${n.address}`,s=n.preferredAccountType||((a=ut.state.preferredAccountTypes)==null?void 0:a[r])||qe.state.defaultAccountTypes[r];RS.isLowerCaseMatch(n.address,ut.state.address)||this.syncIdentity({address:n.address,chainId:n.chainId,chainNamespace:r}),this.setCaipAddress(i,r),this.setUser({...ut.state.user||{},...n},r),this.setSmartAccountDeployed(!!n.smartAccountDeployed,r),this.setPreferredAccountType(s,r);const o=(c=n.accounts)==null?void 0:c.map(l=>{var u;return kt.createAccount(r,l.address,l.type||((u=ut.state.preferredAccountTypes)==null?void 0:u[r])||qe.state.defaultAccountTypes[r])});this.setAllAccounts(o||[kt.createAccount(r,n.address,n.preferredAccountType||s)],r),await e.getSmartAccountEnabledNetworks(),this.setLoading(!1,r)}),e.onSocialConnected(({userName:n})=>{this.setUser({...ut.state.user||{},username:n},oe.state.activeChain)}),e.onGetSmartAccountEnabledNetworks(n=>{this.setSmartAccountEnabledNetworks(n,oe.state.activeChain)}),e.onSetPreferredAccount(({address:n,type:r})=>{n&&this.setPreferredAccountType(r,oe.state.activeChain)})}async syncAuthConnector(e,n){var u,d,h,f;const r=Ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!r)return;this.setLoading(!0,n);const i=e.getLoginEmailUsed();this.setLoading(i,n),i&&this.setStatus("connecting",n);const s=e.getEmail(),o=e.getUsername();this.setUser({...((u=ut.state)==null?void 0:u.user)||{},username:o,email:s},oe.state.activeChain),this.setupAuthConnectorListeners(e);const{isConnected:a}=await e.isConnected(),c=ts.getSnapshot(),l=qe.getSnapshot();e.syncDappData({metadata:l.metadata,sdkVersion:l.sdkVersion,projectId:l.projectId,sdkType:l.sdkType}),e.syncTheme({themeMode:c.themeMode,themeVariables:c.themeVariables,w3mThemeVariables:bu(c.themeVariables,c.themeMode)}),n&&r&&(a&&((d=this.connectionControllerClient)!=null&&d.connectExternal)?(await((f=this.connectionControllerClient)==null?void 0:f.connectExternal({id:Ge.CONNECTOR_ID.AUTH,info:{name:Ge.CONNECTOR_ID.AUTH},type:zn.CONNECTOR_TYPE_AUTH,provider:e,chainId:(h=oe.state.activeCaipNetwork)==null?void 0:h.id,chain:n})),this.setStatus("connected",n)):Vt.getConnectorId(n)===Ge.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",n),ot.removeConnectedNamespace(n))),this.setLoading(!1,n)}async checkExistingTelegramSocialConnection(e){var n;try{if(!kt.isTelegram())return;const r=ot.getTelegramSocialProvider();if(!r||typeof window>"u"||typeof document>"u")return;const s=new URL(window.location.href).searchParams.get("result_uri");if(!s)return;ut.setSocialProvider(r,e),await((n=this.authProvider)==null?void 0:n.init());const o=Vt.getAuthConnector();r&&o&&(this.setLoading(!0,e),await o.provider.connectSocial(s),await Qn.connectExternal(o,o.chain),ot.setConnectedSocialProvider(r),ot.removeTelegramSocialProvider(),Vn.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){var o,a,c,l,u,d,h,f,m,g,E,y,w;if(!Ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const r=((a=(o=this.options)==null?void 0:o.features)==null?void 0:a.email)===void 0?os.DEFAULT_FEATURES.email:(l=(c=this.options)==null?void 0:c.features)==null?void 0:l.email,i=(d=(u=this.options)==null?void 0:u.features)!=null&&d.socials?((m=(f=(h=this.options)==null?void 0:h.features)==null?void 0:f.socials)==null?void 0:m.length)>0:os.DEFAULT_FEATURES.socials,s=r||i;!this.authProvider&&((g=this.options)!=null&&g.projectId)&&s&&(this.authProvider=qw.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:(E=this.getCaipNetwork(e))==null?void 0:E.caipNetworkId,onTimeout:()=>{Mw.open(pw.ALERT_ERRORS.SOCIALS_TIMEOUT,"error")}}),ml.subscribeOpen(x=>{var C;!x&&this.isTransactionStackEmpty()&&((C=this.authProvider)==null||C.rejectRpcRequests())}),e===Ge.CHAIN.EVM&&((y=ut.state.preferredAccountTypes)!=null&&y.eip155)&&this.authProvider.setPreferredAccount((w=ut.state.preferredAccountTypes)==null?void 0:w.eip155),this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){var n,r,i;this.createAuthProvider(e),this.authProvider&&((i=(r=(n=this.chainAdapters)==null?void 0:n[e])==null?void 0:r.setAuthProvider)==null||i.call(r,this.authProvider))}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&Dt.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){var s,o;if(!e)return;const n=oe.state.activeChain,r=e.chainNamespace,i=this.getAddressByChainNamespace(e.chainNamespace);if(e.chainNamespace===oe.state.activeChain&&i){const a=this.getAdapter(r),c=ln.getProvider(r),l=ln.getProviderId(r);await(a==null?void 0:a.switchNetwork({caipNetwork:e,provider:c,providerType:l})),this.setCaipNetwork(e)}else{const c=ln.getProviderId(n)===zn.CONNECTOR_TYPE_AUTH,l=ln.getProviderId(r),u=l===zn.CONNECTOR_TYPE_AUTH,d=Ge.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r);if((c||u)&&d)try{oe.state.activeChain=e.chainNamespace,await((o=(s=this.connectionControllerClient)==null?void 0:s.connectExternal)==null?void 0:o.call(s,{id:Ge.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:r,chainId:e.id,type:zn.CONNECTOR_TYPE_AUTH,caipNetwork:e})),this.setCaipNetwork(e)}catch{const f=this.getAdapter(r);await(f==null?void 0:f.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:l}))}else l===zn.CONNECTOR_TYPE_WALLET_CONNECT?(this.setCaipNetwork(e),this.syncWalletConnectAccount()):(this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:r}))}}async initChainAdapter(e){await super.initChainAdapter(e),this.createAuthProviderForAdapter(e)}async syncIdentity({address:e,chainId:n,chainNamespace:r}){var o;const i=`${r}:${n}`,s=(o=this.caipNetworks)==null?void 0:o.find(a=>a.caipNetworkId===i);if(r!==Ge.CHAIN.EVM||s!=null&&s.testnet){this.setProfileName(null,r),this.setProfileImage(null,r);return}try{const{name:a,avatar:c}=await this.fetchIdentity({address:e,caipNetworkId:i});if(this.setProfileName(a,r),this.setProfileImage(c,r),!a){const l=this.getAdapter(r),u=await(l==null?void 0:l.getProfile({address:e,chainId:Number(n)}));u!=null&&u.profileName?(this.setProfileName(u.profileName,r),u.profileImage&&this.setProfileImage(u.profileImage,r)):(await this.syncReownName(e,r),this.setProfileImage(null,r))}}catch{await this.syncReownName(e,r),n!==1&&this.setProfileImage(null,r)}}syncConnectedWalletInfo(e){const n=ln.getProviderId(e);if(n===zn.CONNECTOR_TYPE_AUTH){const r=this.authProvider;if(r){const i=ot.getConnectedSocialProvider()??"email",s=r.getEmail()??r.getUsername();this.setConnectedWalletInfo({name:n,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(!EM&&kt.isClient()){const e={...os.DEFAULT_FEATURES,...this.options.features},n=[];if(e&&((e.email||e.socials&&e.socials.length)&&n.push(ws(()=>import("./embedded-wallet-BSu2H0sW.js"),__vite__mapDeps([0,1,2,3,4,5,6,7,8,9]))),e.email&&n.push(ws(()=>import("./email-BrJRXcBH.js"),__vite__mapDeps([10,1,9,5,8,4,11,6]))),e.socials&&n.push(ws(()=>import("./socials-C4oRl78p.js"),__vite__mapDeps([12,1,13,4,5,14,8,9,15,3,16]))),e.swaps&&n.push(ws(()=>import("./swaps-RdjXG0Xt.js"),__vite__mapDeps([17,1,4,5,18,19,20,3,8,16,6]))),e.send&&n.push(ws(()=>import("./send-BcFxT-cb.js"),__vite__mapDeps([21,1,4,5,8,9,20,3,6,22]))),e.receive&&n.push(ws(()=>import("./receive-Cdp_xlCs.js"),__vite__mapDeps([23,1,24,3,15]))),e.onramp&&n.push(ws(()=>import("./onramp-FwoHKy5H.js"),__vite__mapDeps([25,1,26,16,8,3,5,27,13,4,9,6]))),e.history&&n.push(ws(()=>import("./transactions-CK63dJPj.js"),__vite__mapDeps([28,1,29,26,16,8,9,3])))),await Promise.all([...n,ws(()=>import("./index-CHWZiP4g.js"),__vite__mapDeps([30,1,3,5,22,8,31,19,7,27,4,29,26,16,9,18,6,11,13,14,2,24,15])),ws(()=>import("./w3m-modal-DvpsZYJb.js"),__vite__mapDeps([32,1,7,3,8,5,19,31]))]),!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!qe.state.disableAppend&&!qe.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}EM=!0}}}let pd;function kEe(t){t&&(pd=t)}function OEe(t){const{providers:e,providerIds:n}=jk(ln.state),r=e[t],i=n[t];return{walletProvider:r,walletProviderType:i}}function REe(){if(!pd)throw new Error('Please call "createAppKit" before using "useAppKit" hook');async function t(n){await(pd==null?void 0:pd.open(n))}async function e(){await(pd==null?void 0:pd.close())}return{open:t,close:e}}const LEe="1.7.3";let ax;function DEe(t){return ax||(ax=new TEe({...t,sdkVersion:kt.generateSdkVersion(t.adapters??[],"react",LEe)}),kEe(ax)),ax}const jEe="6.13.5";function MEe(t,e,n){const r=e.split("|").map(s=>s.trim());for(let s=0;s<r.length;s++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const i=new Error(`invalid value for type ${e}`);throw i.code="INVALID_ARGUMENT",i.argument=`value.${n}`,i.value=t,i}async function bs(t){const e=Object.keys(t);return(await Promise.all(e.map(r=>Promise.resolve(t[r])))).reduce((r,i,s)=>(r[e[s]]=i,r),{})}function wt(t,e,n){for(let r in e){let i=e[r];const s=n?n[r]:null;s&&MEe(i,s,r),Object.defineProperty(t,r,{enumerable:!0,value:i,writable:!1})}}function Rg(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(Rg).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let r=0;r<t.length;r++)n+=e[t[r]>>4],n+=e[t[r]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return Rg(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(n=>`${Rg(n)}: ${Rg(t[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Ri(t,e){return t&&t.code===e}function zk(t){return Ri(t,"CALL_EXCEPTION")}function or(t,e,n){let r=t;{const s=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Rg(n)}`);for(const o in n){if(o==="shortMessage")continue;const a=n[o];s.push(o+"="+Rg(a))}}s.push(`code=${e}`),s.push(`version=${jEe}`),s.length&&(t+=" ("+s.join(", ")+")")}let i;switch(e){case"INVALID_ARGUMENT":i=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":i=new RangeError(t);break;default:i=new Error(t)}return wt(i,{code:e}),n&&Object.assign(i,n),i.shortMessage==null&&wt(i,{shortMessage:r}),i}function Re(t,e,n,r){if(!t)throw or(e,n,r)}function fe(t,e,n,r){Re(t,e,"INVALID_ARGUMENT",{argument:n,value:r})}function GH(t,e,n){n==null&&(n=""),n&&(n=": "+n),Re(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),Re(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function m2(t,e,n){if(n==null&&(n=""),t!==e){let r=n,i="new";n&&(r+=".",i+=" "+n),Re(!1,`private constructor; use ${r}from* methods`,"UNSUPPORTED_OPERATION",{operation:i})}}function KH(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const r=new Uint8Array((t.length-2)/2);let i=2;for(let s=0;s<r.length;s++)r[s]=parseInt(t.substring(i,i+2),16),i+=2;return r}fe(!1,"invalid BytesLike value",e||"value",t)}function an(t,e){return KH(t,e,!1)}function xs(t,e){return KH(t,e,!0)}function Hn(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function Vk(t){return Hn(t,!0)||t instanceof Uint8Array}const AM="0123456789abcdef";function dt(t){const e=an(t);let n="0x";for(let r=0;r<e.length;r++){const i=e[r];n+=AM[(i&240)>>4]+AM[i&15]}return n}function Fr(t){return"0x"+t.map(e=>dt(e).substring(2)).join("")}function r0(t){return Hn(t,!0)?(t.length-2)/2:an(t).length}function Sr(t,e,n){const r=an(t);return n!=null&&n>r.length&&Re(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:r,length:r.length,offset:n}),dt(r.slice(e??0,n??r.length))}function YH(t,e,n){const r=an(t);Re(e>=r.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(r),length:e,offset:e+1});const i=new Uint8Array(e);return i.fill(0),n?i.set(r,e-r.length):i.set(r,0),dt(i)}function Tp(t,e){return YH(t,e,!0)}function BEe(t,e){return YH(t,e,!1)}const jS=BigInt(0),ic=BigInt(1),Lg=9007199254740991;function wA(t,e){const n=MS(t,"value"),r=BigInt(qt(e,"width"));if(Re(n>>r===jS,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>r-ic){const i=(ic<<r)-ic;return-((~n&i)+ic)}return n}function JH(t,e){let n=pt(t,"value");const r=BigInt(qt(e,"width")),i=ic<<r-ic;if(n<jS){n=-n,Re(n<=i,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const s=(ic<<r)-ic;return(~n&s)+ic}else Re(n<i,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function _f(t,e){const n=MS(t,"value"),r=BigInt(qt(e,"bits"));return n&(ic<<r)-ic}function pt(t,e){switch(typeof t){case"bigint":return t;case"number":return fe(Number.isInteger(t),"underflow",e||"value",t),fe(t>=-Lg&&t<=Lg,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){fe(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}fe(!1,"invalid BigNumberish value",e||"value",t)}function MS(t,e){const n=pt(t,e);return Re(n>=jS,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const SM="0123456789abcdef";function BS(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=SM[n>>4],e+=SM[n&15];return BigInt(e)}return pt(t)}function qt(t,e){switch(typeof t){case"bigint":return fe(t>=-Lg&&t<=Lg,"overflow",e||"value",t),Number(t);case"number":return fe(Number.isInteger(t),"underflow",e||"value",t),fe(t>=-Lg&&t<=Lg,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return qt(BigInt(t),e)}catch(n){fe(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}fe(!1,"invalid numeric value",e||"value",t)}function UEe(t){return qt(BS(t))}function Ch(t,e){let r=MS(t,"value").toString(16);if(e==null)r.length%2&&(r="0"+r);else{const i=qt(e,"width");for(Re(i*2>=r.length,`value exceeds width (${i} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});r.length<i*2;)r="0"+r}return"0x"+r}function Es(t){const e=MS(t,"value");if(e===jS)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const r=new Uint8Array(n.length/2);for(let i=0;i<r.length;i++){const s=i*2;r[i]=parseInt(n.substring(s,s+2),16)}return r}function Dg(t){let e=dt(Vk(t)?t:Es(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const CM="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const NM=BigInt(58);function FEe(t){const e=an(t);let n=BS(e),r="";for(;n;)r=CM[Number(n%NM)]+r,n/=NM;for(let i=0;i<e.length&&!e[i];i++)r=CM[0]+r;return r}function $Ee(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return an(e)}function zEe(t){const e=an(t);let n="";for(let r=0;r<e.length;r++)n+=String.fromCharCode(e[r]);return btoa(n)}var l0;class QH{constructor(e,n,r){ve(this,"filter");ve(this,"emitter");Ee(this,l0);te(this,l0,n),wt(this,{emitter:e,filter:r})}async removeListener(){M(this,l0)!=null&&await this.emitter.off(this.filter,M(this,l0))}}l0=new WeakMap;function VEe(t,e,n,r,i){fe(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function ZH(t,e,n,r,i){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let s=0;for(let o=e+1;o<n.length&&n[o]>>6===2;o++)s++;return s}return t==="OVERRUN"?n.length-e-1:0}function HEe(t,e,n,r,i){return t==="OVERLONG"?(fe(typeof i=="number","invalid bad code point for replacement","badCodepoint",i),r.push(i),0):(r.push(65533),ZH(t,e,n))}const qEe=Object.freeze({error:VEe,ignore:ZH,replace:HEe});function WEe(t,e){e==null&&(e=qEe.error);const n=an(t,"bytes"),r=[];let i=0;for(;i<n.length;){const s=n[i++];if(!(s>>7)){r.push(s);continue}let o=null,a=null;if((s&224)===192)o=1,a=127;else if((s&240)===224)o=2,a=2047;else if((s&248)===240)o=3,a=65535;else{(s&192)===128?i+=e("UNEXPECTED_CONTINUE",i-1,n,r):i+=e("BAD_PREFIX",i-1,n,r);continue}if(i-1+o>=n.length){i+=e("OVERRUN",i-1,n,r);continue}let c=s&(1<<8-o-1)-1;for(let l=0;l<o;l++){let u=n[i];if((u&192)!=128){i+=e("MISSING_CONTINUE",i,n,r),c=null;break}c=c<<6|u&63,i++}if(c!==null){if(c>1114111){i+=e("OUT_OF_RANGE",i-1-o,n,r,c);continue}if(c>=55296&&c<=57343){i+=e("UTF16_SURROGATE",i-1-o,n,r,c);continue}if(c<=a){i+=e("OVERLONG",i-1-o,n,r,c);continue}r.push(c)}}return r}function gl(t,e){fe(typeof t=="string","invalid string value","str",t);let n=[];for(let r=0;r<t.length;r++){const i=t.charCodeAt(r);if(i<128)n.push(i);else if(i<2048)n.push(i>>6|192),n.push(i&63|128);else if((i&64512)==55296){r++;const s=t.charCodeAt(r);fe(r<t.length&&(s&64512)===56320,"invalid surrogate pair","str",t);const o=65536+((i&1023)<<10)+(s&1023);n.push(o>>18|240),n.push(o>>12&63|128),n.push(o>>6&63|128),n.push(o&63|128)}else n.push(i>>12|224),n.push(i>>6&63|128),n.push(i&63|128)}return new Uint8Array(n)}function GEe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function vA(t,e){return GEe(WEe(t,e))}function XH(t){async function e(n,r){Re(r==null||!r.cancelled,"request cancelled before sending","CANCELLED");const i=n.url.split(":")[0].toLowerCase();Re(i==="http"||i==="https",`unsupported protocol ${i}`,"UNSUPPORTED_OPERATION",{info:{protocol:i},operation:"request"}),Re(i==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let s=null;const o=new AbortController,a=setTimeout(()=>{s=or("request timeout","TIMEOUT"),o.abort()},n.timeout);r&&r.addListener(()=>{s=or("request cancelled","CANCELLED"),o.abort()});const c={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:o.signal};let l;try{l=await fetch(n.url,c)}catch(f){throw clearTimeout(a),s||f}clearTimeout(a);const u={};l.headers.forEach((f,m)=>{u[m.toLowerCase()]=f});const d=await l.arrayBuffer(),h=d==null?null:new Uint8Array(d);return{statusCode:l.status,statusMessage:l.statusText,headers:u,body:h}}return e}const KEe=12,YEe=250;let _M=XH();const JEe=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),QEe=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let V_=!1;async function eq(t,e){try{const n=t.match(JEe);if(!n)throw new Error("invalid data");return new mh(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?$Ee(n[3]):XEe(n[3]))}catch{return new mh(599,"BAD REQUEST (invalid data: URI)",{},null,new xl(t))}}function tq(t){async function e(n,r){try{const i=n.match(QEe);if(!i)throw new Error("invalid link");return new xl(`${t}${i[2]}`)}catch{return new mh(599,"BAD REQUEST (invalid IPFS URI)",{},null,new xl(n))}}return e}const cx={data:eq,ipfs:tq("https://gateway.ipfs.io/ipfs/")},nq=new WeakMap;var kf,_d;class ZEe{constructor(e){Ee(this,kf);Ee(this,_d);te(this,kf,[]),te(this,_d,!1),nq.set(e,()=>{if(!M(this,_d)){te(this,_d,!0);for(const n of M(this,kf))setTimeout(()=>{n()},0);te(this,kf,[])}})}addListener(e){Re(!M(this,_d),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),M(this,kf).push(e)}get cancelled(){return M(this,_d)}checkSignal(){Re(!this.cancelled,"cancelled","CANCELLED",{})}}kf=new WeakMap,_d=new WeakMap;function lx(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var u0,d0,Ya,iu,h0,f0,ui,vo,su,Of,Rf,Lf,Vc,Ja,Pd,Df,mw;const RA=class RA{constructor(e){Ee(this,Df);Ee(this,u0);Ee(this,d0);Ee(this,Ya);Ee(this,iu);Ee(this,h0);Ee(this,f0);Ee(this,ui);Ee(this,vo);Ee(this,su);Ee(this,Of);Ee(this,Rf);Ee(this,Lf);Ee(this,Vc);Ee(this,Ja);Ee(this,Pd);te(this,f0,String(e)),te(this,u0,!1),te(this,d0,!0),te(this,Ya,{}),te(this,iu,""),te(this,h0,3e5),te(this,Ja,{slotInterval:YEe,maxAttempts:KEe}),te(this,Pd,null)}get url(){return M(this,f0)}set url(e){te(this,f0,String(e))}get body(){return M(this,ui)==null?null:new Uint8Array(M(this,ui))}set body(e){if(e==null)te(this,ui,void 0),te(this,vo,void 0);else if(typeof e=="string")te(this,ui,gl(e)),te(this,vo,"text/plain");else if(e instanceof Uint8Array)te(this,ui,e),te(this,vo,"application/octet-stream");else if(typeof e=="object")te(this,ui,gl(JSON.stringify(e))),te(this,vo,"application/json");else throw new Error("invalid body")}hasBody(){return M(this,ui)!=null}get method(){return M(this,iu)?M(this,iu):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),te(this,iu,String(e).toUpperCase())}get headers(){const e=Object.assign({},M(this,Ya));return M(this,su)&&(e.authorization=`Basic ${zEe(gl(M(this,su)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&M(this,vo)&&(e["content-type"]=M(this,vo)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){M(this,Ya)[String(e).toLowerCase()]=String(n)}clearHeaders(){te(this,Ya,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return M(this,su)||null}setCredentials(e,n){fe(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),te(this,su,`${e}:${n}`)}get allowGzip(){return M(this,d0)}set allowGzip(e){te(this,d0,!!e)}get allowInsecureAuthentication(){return!!M(this,u0)}set allowInsecureAuthentication(e){te(this,u0,!!e)}get timeout(){return M(this,h0)}set timeout(e){fe(e>=0,"timeout must be non-zero","timeout",e),te(this,h0,e)}get preflightFunc(){return M(this,Of)||null}set preflightFunc(e){te(this,Of,e)}get processFunc(){return M(this,Rf)||null}set processFunc(e){te(this,Rf,e)}get retryFunc(){return M(this,Lf)||null}set retryFunc(e){te(this,Lf,e)}get getUrlFunc(){return M(this,Pd)||_M}set getUrlFunc(e){te(this,Pd,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${M(this,ui)?dt(M(this,ui)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(M(this,Ja).slotInterval=e.slotInterval),e.maxAttempts!=null&&(M(this,Ja).maxAttempts=e.maxAttempts)}send(){return Re(M(this,Vc)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),te(this,Vc,new ZEe(this)),Fe(this,Df,mw).call(this,0,PM()+this.timeout,0,this,new mh(0,"",{},null,this))}cancel(){Re(M(this,Vc)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=nq.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),r=e.split(":")[0].toLowerCase();Re(this.method==="GET"&&(n!=="https"||r!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const i=new RA(e);return i.method="GET",i.allowGzip=this.allowGzip,i.timeout=this.timeout,te(i,Ya,Object.assign({},M(this,Ya))),M(this,ui)&&te(i,ui,new Uint8Array(M(this,ui))),te(i,vo,M(this,vo)),i}clone(){const e=new RA(this.url);return te(e,iu,M(this,iu)),M(this,ui)&&te(e,ui,M(this,ui)),te(e,vo,M(this,vo)),te(e,Ya,Object.assign({},M(this,Ya))),te(e,su,M(this,su)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),te(e,Of,M(this,Of)),te(e,Rf,M(this,Rf)),te(e,Lf,M(this,Lf)),te(e,Ja,Object.assign({},M(this,Ja))),te(e,Pd,M(this,Pd)),e}static lockConfig(){V_=!0}static getGateway(e){return cx[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(V_)throw new Error("gateways locked");cx[e]=n}static registerGetUrl(e){if(V_)throw new Error("gateways locked");_M=e}static createGetUrlFunc(e){return XH()}static createDataGateway(){return eq}static createIpfsGatewayFunc(e){return tq(e)}};u0=new WeakMap,d0=new WeakMap,Ya=new WeakMap,iu=new WeakMap,h0=new WeakMap,f0=new WeakMap,ui=new WeakMap,vo=new WeakMap,su=new WeakMap,Of=new WeakMap,Rf=new WeakMap,Lf=new WeakMap,Vc=new WeakMap,Ja=new WeakMap,Pd=new WeakMap,Df=new WeakSet,mw=async function(e,n,r,i,s){var u,d,h;if(e>=M(this,Ja).maxAttempts)return s.makeServerError("exceeded maximum retry limit");Re(PM()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:i}),r>0&&await eAe(r);let o=this.clone();const a=(o.url.split(":")[0]||"").toLowerCase();if(a in cx){const f=await cx[a](o.url,lx(M(i,Vc)));if(f instanceof mh){let m=f;if(this.processFunc){lx(M(i,Vc));try{m=await this.processFunc(o,m)}catch(g){(g.throttle==null||typeof g.stall!="number")&&m.makeServerError("error in post-processing function",g).assertOk()}}return m}o=f}this.preflightFunc&&(o=await this.preflightFunc(o));const c=await this.getUrlFunc(o,lx(M(i,Vc)));let l=new mh(c.statusCode,c.statusMessage,c.headers,c.body,i);if(l.statusCode===301||l.statusCode===302){try{const f=l.headers.location||"";return Fe(u=o.redirect(f),Df,mw).call(u,e+1,n,0,i,l)}catch{}return l}else if(l.statusCode===429&&(this.retryFunc==null||await this.retryFunc(o,l,e))){const f=l.headers["retry-after"];let m=M(this,Ja).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof f=="string"&&f.match(/^[1-9][0-9]*$/)&&(m=parseInt(f)),Fe(d=o.clone(),Df,mw).call(d,e+1,n,m,i,l)}if(this.processFunc){lx(M(i,Vc));try{l=await this.processFunc(o,l)}catch(f){(f.throttle==null||typeof f.stall!="number")&&l.makeServerError("error in post-processing function",f).assertOk();let m=M(this,Ja).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return f.stall>=0&&(m=f.stall),Fe(h=o.clone(),Df,mw).call(h,e+1,n,m,i,l)}}return l};let xl=RA;var Cb,Nb,_b,bo,p0,jf;const d6=class d6{constructor(e,n,r,i,s){Ee(this,Cb);Ee(this,Nb);Ee(this,_b);Ee(this,bo);Ee(this,p0);Ee(this,jf);te(this,Cb,e),te(this,Nb,n),te(this,_b,Object.keys(r).reduce((o,a)=>(o[a.toLowerCase()]=String(r[a]),o),{})),te(this,bo,i==null?null:new Uint8Array(i)),te(this,p0,s||null),te(this,jf,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${M(this,bo)?dt(M(this,bo)):"null"}>`}get statusCode(){return M(this,Cb)}get statusMessage(){return M(this,Nb)}get headers(){return Object.assign({},M(this,_b))}get body(){return M(this,bo)==null?null:new Uint8Array(M(this,bo))}get bodyText(){try{return M(this,bo)==null?"":vA(M(this,bo))}catch{Re(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{Re(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let r=0;return{next:()=>{if(r<n.length){const i=n[r++];return{value:[i,e[i]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let r;e?r=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,r=`CLIENT ESCALATED SERVER ERROR (${e})`);const i=new d6(599,r,this.headers,this.body,M(this,p0)||void 0);return te(i,jf,{message:e,error:n}),i}throwThrottleError(e,n){n==null?n=-1:fe(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const r=new Error(e||"throttling requests");throw wt(r,{stall:n,throttle:!0}),r}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return M(this,bo)!=null}get request(){return M(this,p0)}ok(){return M(this,jf).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=M(this,jf);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let r=null;this.request&&(r=this.request.url);let i=null;try{M(this,bo)&&(i=vA(M(this,bo)))}catch{}Re(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:r,responseBody:i,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};Cb=new WeakMap,Nb=new WeakMap,_b=new WeakMap,bo=new WeakMap,p0=new WeakMap,jf=new WeakMap;let mh=d6;function PM(){return new Date().getTime()}function XEe(t){return gl(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function eAe(t){return new Promise(e=>setTimeout(e,t))}const tAe=BigInt(-1),Ha=BigInt(0),jg=BigInt(1),nAe=BigInt(5),Xm={};let i0="0000";for(;i0.length<80;)i0+=i0;function Xh(t){let e=i0;for(;e.length<t;)e+=e;return BigInt("1"+e.substring(0,t))}function X1(t,e,n){const r=BigInt(e.width);if(e.signed){const i=jg<<r-jg;Re(n==null||t>=-i&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t>Ha?t=wA(_f(t,r),r):t=-wA(_f(-t,r),r)}else{const i=jg<<r;Re(n==null||t>=0&&t<i,"overflow","NUMERIC_FAULT",{operation:n,fault:"overflow",value:t}),t=(t%i+i)%i&i-jg}return t}function H_(t){typeof t=="number"&&(t=`fixed128x${t}`);let e=!0,n=128,r=18;if(typeof t=="string"){if(t!=="fixed")if(t==="ufixed")e=!1;else{const s=t.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);fe(s,"invalid fixed format","format",t),e=s[1]!=="u",n=parseInt(s[2]),r=parseInt(s[3])}}else if(t){const s=t,o=(a,c,l)=>s[a]==null?l:(fe(typeof s[a]===c,"invalid fixed format ("+a+" not "+c+")","format."+a,s[a]),s[a]);e=o("signed","boolean",e),n=o("width","number",n),r=o("decimals","number",r)}fe(n%8===0,"invalid FixedNumber width (not byte aligned)","format.width",n),fe(r<=80,"invalid FixedNumber decimals (too large)","format.decimals",r);const i=(e?"":"u")+"fixed"+String(n)+"x"+String(r);return{signed:e,width:n,decimals:r,name:i}}function rAe(t,e){let n="";t<Ha&&(n="-",t*=tAe);let r=t.toString();if(e===0)return n+r;for(;r.length<=e;)r=i0+r;const i=r.length-e;for(r=r.substring(0,i)+"."+r.substring(i);r[0]==="0"&&r[1]!==".";)r=r.substring(1);for(;r[r.length-1]==="0"&&r[r.length-2]!==".";)r=r.substring(0,r.length-1);return n+r}var Qa,Rn,gs,An,cf,Jl,L4,D4,j4,M4;const bd=class bd{constructor(e,n,r){Ee(this,An);ve(this,"format");Ee(this,Qa);Ee(this,Rn);Ee(this,gs);ve(this,"_value");m2(e,Xm,"FixedNumber"),te(this,Rn,n),te(this,Qa,r);const i=rAe(n,r.decimals);wt(this,{format:r.name,_value:i}),te(this,gs,Xh(r.decimals))}get signed(){return M(this,Qa).signed}get width(){return M(this,Qa).width}get decimals(){return M(this,Qa).decimals}get value(){return M(this,Rn)}addUnsafe(e){return Fe(this,An,L4).call(this,e)}add(e){return Fe(this,An,L4).call(this,e,"add")}subUnsafe(e){return Fe(this,An,D4).call(this,e)}sub(e){return Fe(this,An,D4).call(this,e,"sub")}mulUnsafe(e){return Fe(this,An,j4).call(this,e)}mul(e){return Fe(this,An,j4).call(this,e,"mul")}mulSignal(e){Fe(this,An,cf).call(this,e);const n=M(this,Rn)*M(e,Rn);return Re(n%M(this,gs)===Ha,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),Fe(this,An,Jl).call(this,n/M(this,gs),"mulSignal")}divUnsafe(e){return Fe(this,An,M4).call(this,e)}div(e){return Fe(this,An,M4).call(this,e,"div")}divSignal(e){Re(M(e,Rn)!==Ha,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Fe(this,An,cf).call(this,e);const n=M(this,Rn)*M(this,gs);return Re(n%M(e,Rn)===Ha,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),Fe(this,An,Jl).call(this,n/M(e,Rn),"divSignal")}cmp(e){let n=this.value,r=e.value;const i=this.decimals-e.decimals;return i>0?r*=Xh(i):i<0&&(n*=Xh(-i)),n<r?-1:n>r?1:0}eq(e){return this.cmp(e)===0}lt(e){return this.cmp(e)<0}lte(e){return this.cmp(e)<=0}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=M(this,Rn);return M(this,Rn)<Ha&&(e-=M(this,gs)-jg),e=M(this,Rn)/M(this,gs)*M(this,gs),Fe(this,An,Jl).call(this,e,"floor")}ceiling(){let e=M(this,Rn);return M(this,Rn)>Ha&&(e+=M(this,gs)-jg),e=M(this,Rn)/M(this,gs)*M(this,gs),Fe(this,An,Jl).call(this,e,"ceiling")}round(e){if(e==null&&(e=0),e>=this.decimals)return this;const n=this.decimals-e,r=nAe*Xh(n-1);let i=this.value+r;const s=Xh(n);return i=i/s*s,X1(i,M(this,Qa),"round"),new bd(Xm,i,M(this,Qa))}isZero(){return M(this,Rn)===Ha}isNegative(){return M(this,Rn)<Ha}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return bd.fromString(this.toString(),e)}static fromValue(e,n,r){const i=n==null?0:qt(n),s=H_(r);let o=pt(e,"value");const a=i-s.decimals;if(a>0){const c=Xh(a);Re(o%c===Ha,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),o/=c}else a<0&&(o*=Xh(-a));return X1(o,s,"fromValue"),new bd(Xm,o,s)}static fromString(e,n){const r=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);fe(r&&r[2].length+r[3].length>0,"invalid FixedNumber string value","value",e);const i=H_(n);let s=r[2]||"0",o=r[3]||"";for(;o.length<i.decimals;)o+=i0;Re(o.substring(i.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),o=o.substring(0,i.decimals);const a=BigInt(r[1]+s+o);return X1(a,i,"fromString"),new bd(Xm,a,i)}static fromBytes(e,n){let r=BS(an(e,"value"));const i=H_(n);return i.signed&&(r=wA(r,i.width)),X1(r,i,"fromBytes"),new bd(Xm,r,i)}};Qa=new WeakMap,Rn=new WeakMap,gs=new WeakMap,An=new WeakSet,cf=function(e){fe(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)},Jl=function(e,n){return e=X1(e,M(this,Qa),n),new bd(Xm,e,M(this,Qa))},L4=function(e,n){return Fe(this,An,cf).call(this,e),Fe(this,An,Jl).call(this,M(this,Rn)+M(e,Rn),n)},D4=function(e,n){return Fe(this,An,cf).call(this,e),Fe(this,An,Jl).call(this,M(this,Rn)-M(e,Rn),n)},j4=function(e,n){return Fe(this,An,cf).call(this,e),Fe(this,An,Jl).call(this,M(this,Rn)*M(e,Rn)/M(this,gs),n)},M4=function(e,n){return Re(M(e,Rn)!==Ha,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),Fe(this,An,cf).call(this,e),Fe(this,An,Jl).call(this,M(this,Rn)*M(this,gs)/M(e,Rn),n)};let bA=bd;function iAe(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function IM(t,e,n){let r=0;for(let i=0;i<n;i++)r=r*256+t[e+i];return r}function TM(t,e,n,r){const i=[];for(;n<e+1+r;){const s=rq(t,n);i.push(s.result),n+=s.consumed,Re(n<=e+1+r,"child data too short","BUFFER_OVERRUN",{buffer:t,length:r,offset:e})}return{consumed:1+r,result:i}}function rq(t,e){Re(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=r=>{Re(r<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:r})};if(t[e]>=248){const r=t[e]-247;n(e+1+r);const i=IM(t,e+1,r);return n(e+1+r+i),TM(t,e,e+1+r,r+i)}else if(t[e]>=192){const r=t[e]-192;return n(e+1+r),TM(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;n(e+1+r);const i=IM(t,e+1,r);n(e+1+r+i);const s=dt(t.slice(e+1+r,e+1+r+i));return{consumed:1+r+i,result:s}}else if(t[e]>=128){const r=t[e]-128;n(e+1+r);const i=dt(t.slice(e+1,e+1+r));return{consumed:1+r,result:i}}return{consumed:1,result:iAe(t[e])}}function US(t){const e=an(t,"data"),n=rq(e,0);return fe(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function kM(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function iq(t){if(Array.isArray(t)){let r=[];if(t.forEach(function(s){r=r.concat(iq(s))}),r.length<=55)return r.unshift(192+r.length),r;const i=kM(r.length);return i.unshift(247+i.length),i.concat(r)}const e=Array.prototype.slice.call(an(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=kM(e.length);return n.unshift(183+n.length),n.concat(e)}const OM="0123456789abcdef";function kp(t){let e="0x";for(const n of iq(t))e+=OM[n>>4],e+=OM[n&15];return e}const sq=["wei","kwei","mwei","gwei","szabo","finney","ether"];function oq(t,e){let n=18;if(typeof e=="string"){const r=sq.indexOf(e);fe(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=qt(e,"unit"));return bA.fromValue(t,n,{decimals:n,width:512}).toString()}function aq(t,e){fe(typeof t=="string","value must be a string","value",t);let n=18;if(typeof e=="string"){const r=sq.indexOf(e);fe(r>=0,"invalid unit","unit",e),n=3*r}else e!=null&&(n=qt(e,"unit"));return bA.fromString(t,{decimals:n,width:512}).value}function sAe(t){return oq(t,18)}function oAe(t){return aq(t,18)}const As=32,B4=new Uint8Array(As),aAe=["then"],ux={},cq=new WeakMap;function mf(t){return cq.get(t)}function RM(t,e){cq.set(t,e)}function ew(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function U4(t,e,n){return t.indexOf(null)>=0?e.map((r,i)=>r instanceof Ay?U4(mf(r),r,n):r):t.reduce((r,i,s)=>{let o=e.getValue(i);return i in r||(n&&o instanceof Ay&&(o=U4(mf(o),o,n)),r[i]=o),r},{})}var m0;const Mg=class Mg extends Array{constructor(...n){const r=n[0];let i=n[1],s=(n[2]||[]).slice(),o=!0;r!==ux&&(i=n,s=[],o=!1);super(i.length);Ee(this,m0);i.forEach((l,u)=>{this[u]=l});const a=s.reduce((l,u)=>(typeof u=="string"&&l.set(u,(l.get(u)||0)+1),l),new Map);if(RM(this,Object.freeze(i.map((l,u)=>{const d=s[u];return d!=null&&a.get(d)===1?d:null}))),te(this,m0,[]),M(this,m0)==null&&M(this,m0),!o)return;Object.freeze(this);const c=new Proxy(this,{get:(l,u,d)=>{if(typeof u=="string"){if(u.match(/^[0-9]+$/)){const f=qt(u,"%index");if(f<0||f>=this.length)throw new RangeError("out of result range");const m=l[f];return m instanceof Error&&ew(`index ${f}`,m),m}if(aAe.indexOf(u)>=0)return Reflect.get(l,u,d);const h=l[u];if(h instanceof Function)return function(...f){return h.apply(this===d?l:this,f)};if(!(u in l))return l.getValue.apply(this===d?l:this,[u])}return Reflect.get(l,u,d)}});return RM(c,mf(this)),c}toArray(n){const r=[];return this.forEach((i,s)=>{i instanceof Error&&ew(`index ${s}`,i),n&&i instanceof Mg&&(i=i.toArray(n)),r.push(i)}),r}toObject(n){const r=mf(this);return r.reduce((i,s,o)=>(Re(s!=null,`value at index ${o} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),U4(r,this,n)),{})}slice(n,r){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),r==null&&(r=this.length),r<0&&(r+=this.length,r<0&&(r=0)),r>this.length&&(r=this.length);const i=mf(this),s=[],o=[];for(let a=n;a<r;a++)s.push(this[a]),o.push(i[a]);return new Mg(ux,s,o)}filter(n,r){const i=mf(this),s=[],o=[];for(let a=0;a<this.length;a++){const c=this[a];c instanceof Error&&ew(`index ${a}`,c),n.call(r,c,a,this)&&(s.push(c),o.push(i[a]))}return new Mg(ux,s,o)}map(n,r){const i=[];for(let s=0;s<this.length;s++){const o=this[s];o instanceof Error&&ew(`index ${s}`,o),i.push(n.call(r,o,s,this))}return i}getValue(n){const r=mf(this).indexOf(n);if(r===-1)return;const i=this[r];return i instanceof Error&&ew(`property ${JSON.stringify(n)}`,i.error),i}static fromItems(n,r){return new Mg(ux,n,r)}};m0=new WeakMap;let Ay=Mg;function LM(t){let e=Es(t);return Re(e.length<=As,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:As,offset:e.length}),e.length!==As&&(e=xs(Fr([B4.slice(e.length%As),e]))),e}class Uu{constructor(e,n,r,i){ve(this,"name");ve(this,"type");ve(this,"localName");ve(this,"dynamic");wt(this,{name:e,type:n,localName:r,dynamic:i},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){fe(!1,e,this.localName,n)}}var ou,Mf,g0,Jx;class F4{constructor(){Ee(this,g0);Ee(this,ou);Ee(this,Mf);te(this,ou,[]),te(this,Mf,0)}get data(){return Fr(M(this,ou))}get length(){return M(this,Mf)}appendWriter(e){return Fe(this,g0,Jx).call(this,xs(e.data))}writeBytes(e){let n=xs(e);const r=n.length%As;return r&&(n=xs(Fr([n,B4.slice(r)]))),Fe(this,g0,Jx).call(this,n)}writeValue(e){return Fe(this,g0,Jx).call(this,LM(e))}writeUpdatableValue(){const e=M(this,ou).length;return M(this,ou).push(B4),te(this,Mf,M(this,Mf)+As),n=>{M(this,ou)[e]=LM(n)}}}ou=new WeakMap,Mf=new WeakMap,g0=new WeakSet,Jx=function(e){return M(this,ou).push(e),te(this,Mf,M(this,Mf)+e.length),e.length};var Hs,xo,Bf,Uf,Id,Mp,z4,lq;const h6=class h6{constructor(e,n,r){Ee(this,Mp);ve(this,"allowLoose");Ee(this,Hs);Ee(this,xo);Ee(this,Bf);Ee(this,Uf);Ee(this,Id);wt(this,{allowLoose:!!n}),te(this,Hs,xs(e)),te(this,Bf,0),te(this,Uf,null),te(this,Id,r??1024),te(this,xo,0)}get data(){return dt(M(this,Hs))}get dataLength(){return M(this,Hs).length}get consumed(){return M(this,xo)}get bytes(){return new Uint8Array(M(this,Hs))}subReader(e){const n=new h6(M(this,Hs).slice(M(this,xo)+e),this.allowLoose,M(this,Id));return te(n,Uf,this),n}readBytes(e,n){let r=Fe(this,Mp,lq).call(this,0,e,!!n);return Fe(this,Mp,z4).call(this,e),te(this,xo,M(this,xo)+r.length),r.slice(0,e)}readValue(){return BS(this.readBytes(As))}readIndex(){return UEe(this.readBytes(As))}};Hs=new WeakMap,xo=new WeakMap,Bf=new WeakMap,Uf=new WeakMap,Id=new WeakMap,Mp=new WeakSet,z4=function(e){var n;if(M(this,Uf))return Fe(n=M(this,Uf),Mp,z4).call(n,e);te(this,Bf,M(this,Bf)+e),Re(M(this,Id)<1||M(this,Bf)<=M(this,Id)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${M(this,Id)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:xs(M(this,Hs)),offset:M(this,xo),length:e,info:{bytesRead:M(this,Bf),dataLength:this.dataLength}})},lq=function(e,n,r){let i=Math.ceil(n/As)*As;return M(this,xo)+i>M(this,Hs).length&&(this.allowLoose&&r&&M(this,xo)+n<=M(this,Hs).length?i=n:Re(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:xs(M(this,Hs)),length:M(this,Hs).length,offset:M(this,xo)+i})),M(this,Hs).slice(M(this,xo),M(this,xo)+i)};let $4=h6;function xA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function Hk(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function cAe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");xA(t.outputLen),xA(t.blockLen)}function Sy(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function uq(t,e){Hk(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const q_=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const dq=t=>t instanceof Uint8Array,lAe=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),W_=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),jc=(t,e)=>t<<32-e|t>>>e,uAe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!uAe)throw new Error("Non little-endian hardware is not supported");function dAe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function FS(t){if(typeof t=="string"&&(t=dAe(t)),!dq(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function hAe(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!dq(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}class qk{clone(){return this._cloneInto()}}function Wk(t){const e=r=>t().update(FS(r)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function fAe(t=32){if(q_&&typeof q_.getRandomValues=="function")return q_.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}class hq extends qk{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,cAe(e);const r=FS(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(r.length>i?e.create().update(r).digest():r);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),s.fill(0)}update(e){return Sy(this),this.iHash.update(e),this}digestInto(e){Sy(this),Hk(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:r,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=n._cloneInto(e.oHash),e.iHash=r._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const fq=(t,e,n)=>new hq(t,e).update(n).digest();fq.create=(t,e)=>new hq(t,e);function pAe(t,e,n,r){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,r);const i=BigInt(32),s=BigInt(4294967295),o=Number(n>>i&s),a=Number(n&s),c=r?4:0,l=r?0:4;t.setUint32(e+c,o,r),t.setUint32(e+l,a,r)}class pq extends qk{constructor(e,n,r,i){super(),this.blockLen=e,this.outputLen=n,this.padOffset=r,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=W_(this.buffer)}update(e){Sy(this);const{view:n,buffer:r,blockLen:i}=this;e=FS(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=W_(e);for(;i<=s-o;o+=i)this.process(c,o);continue}r.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Sy(this),uq(e,this),this.finished=!0;const{buffer:n,view:r,blockLen:i,isLE:s}=this;let{pos:o}=this;n[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(r,0),o=0);for(let d=o;d<i;d++)n[d]=0;pAe(r,i-8,BigInt(this.length*8),s),this.process(r,0);const a=W_(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let d=0;d<l;d++)a.setUint32(4*d,u[d],s)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const r=e.slice(0,n);return this.destroy(),r}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:r,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%n&&e.buffer.set(r),e}}const mAe=(t,e,n)=>t&e^~t&n,gAe=(t,e,n)=>t&e^t&n^e&n,yAe=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cd=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ld=new Uint32Array(64);class wAe extends pq{constructor(){super(64,32,8,!1),this.A=cd[0]|0,this.B=cd[1]|0,this.C=cd[2]|0,this.D=cd[3]|0,this.E=cd[4]|0,this.F=cd[5]|0,this.G=cd[6]|0,this.H=cd[7]|0}get(){const{A:e,B:n,C:r,D:i,E:s,F:o,G:a,H:c}=this;return[e,n,r,i,s,o,a,c]}set(e,n,r,i,s,o,a,c){this.A=e|0,this.B=n|0,this.C=r|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,n){for(let d=0;d<16;d++,n+=4)ld[d]=e.getUint32(n,!1);for(let d=16;d<64;d++){const h=ld[d-15],f=ld[d-2],m=jc(h,7)^jc(h,18)^h>>>3,g=jc(f,17)^jc(f,19)^f>>>10;ld[d]=g+ld[d-7]+m+ld[d-16]|0}let{A:r,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let d=0;d<64;d++){const h=jc(a,6)^jc(a,11)^jc(a,25),f=u+h+mAe(a,c,l)+yAe[d]+ld[d]|0,g=(jc(r,2)^jc(r,13)^jc(r,22))+gAe(r,i,s)|0;u=l,l=c,c=a,a=o+f|0,o=s,s=i,i=r,r=f+g|0}r=r+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(r,i,s,o,a,c,l,u)}roundClean(){ld.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}}const mq=Wk(()=>new wAe),dx=BigInt(2**32-1),V4=BigInt(32);function gq(t,e=!1){return e?{h:Number(t&dx),l:Number(t>>V4&dx)}:{h:Number(t>>V4&dx)|0,l:Number(t&dx)|0}}function yq(t,e=!1){let n=new Uint32Array(t.length),r=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=gq(t[i],e);[n[i],r[i]]=[s,o]}return[n,r]}const vAe=(t,e)=>BigInt(t>>>0)<<V4|BigInt(e>>>0),bAe=(t,e,n)=>t>>>n,xAe=(t,e,n)=>t<<32-n|e>>>n,EAe=(t,e,n)=>t>>>n|e<<32-n,AAe=(t,e,n)=>t<<32-n|e>>>n,SAe=(t,e,n)=>t<<64-n|e>>>n-32,CAe=(t,e,n)=>t>>>n-32|e<<64-n,NAe=(t,e)=>e,_Ae=(t,e)=>t,wq=(t,e,n)=>t<<n|e>>>32-n,vq=(t,e,n)=>e<<n|t>>>32-n,bq=(t,e,n)=>e<<n-32|t>>>64-n,xq=(t,e,n)=>t<<n-32|e>>>64-n;function PAe(t,e,n,r){const i=(e>>>0)+(r>>>0);return{h:t+n+(i/2**32|0)|0,l:i|0}}const IAe=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),TAe=(t,e,n,r)=>e+n+r+(t/2**32|0)|0,kAe=(t,e,n,r)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0),OAe=(t,e,n,r,i)=>e+n+r+i+(t/2**32|0)|0,RAe=(t,e,n,r,i)=>(t>>>0)+(e>>>0)+(n>>>0)+(r>>>0)+(i>>>0),LAe=(t,e,n,r,i,s)=>e+n+r+i+s+(t/2**32|0)|0,Kt={fromBig:gq,split:yq,toBig:vAe,shrSH:bAe,shrSL:xAe,rotrSH:EAe,rotrSL:AAe,rotrBH:SAe,rotrBL:CAe,rotr32H:NAe,rotr32L:_Ae,rotlSH:wq,rotlSL:vq,rotlBH:bq,rotlBL:xq,add:PAe,add3L:IAe,add3H:TAe,add4L:kAe,add4H:OAe,add5H:LAe,add5L:RAe},[DAe,jAe]=Kt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ud=new Uint32Array(80),dd=new Uint32Array(80);class MAe extends pq{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:r,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:d,Fl:h,Gh:f,Gl:m,Hh:g,Hl:E}=this;return[e,n,r,i,s,o,a,c,l,u,d,h,f,m,g,E]}set(e,n,r,i,s,o,a,c,l,u,d,h,f,m,g,E){this.Ah=e|0,this.Al=n|0,this.Bh=r|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=d|0,this.Fl=h|0,this.Gh=f|0,this.Gl=m|0,this.Hh=g|0,this.Hl=E|0}process(e,n){for(let x=0;x<16;x++,n+=4)ud[x]=e.getUint32(n),dd[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const C=ud[x-15]|0,N=dd[x-15]|0,D=Kt.rotrSH(C,N,1)^Kt.rotrSH(C,N,8)^Kt.shrSH(C,N,7),O=Kt.rotrSL(C,N,1)^Kt.rotrSL(C,N,8)^Kt.shrSL(C,N,7),P=ud[x-2]|0,L=dd[x-2]|0,$=Kt.rotrSH(P,L,19)^Kt.rotrBH(P,L,61)^Kt.shrSH(P,L,6),_=Kt.rotrSL(P,L,19)^Kt.rotrBL(P,L,61)^Kt.shrSL(P,L,6),j=Kt.add4L(O,_,dd[x-7],dd[x-16]),K=Kt.add4H(j,D,$,ud[x-7],ud[x-16]);ud[x]=K|0,dd[x]=j|0}let{Ah:r,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:d,El:h,Fh:f,Fl:m,Gh:g,Gl:E,Hh:y,Hl:w}=this;for(let x=0;x<80;x++){const C=Kt.rotrSH(d,h,14)^Kt.rotrSH(d,h,18)^Kt.rotrBH(d,h,41),N=Kt.rotrSL(d,h,14)^Kt.rotrSL(d,h,18)^Kt.rotrBL(d,h,41),D=d&f^~d&g,O=h&m^~h&E,P=Kt.add5L(w,N,O,jAe[x],dd[x]),L=Kt.add5H(P,y,C,D,DAe[x],ud[x]),$=P|0,_=Kt.rotrSH(r,i,28)^Kt.rotrBH(r,i,34)^Kt.rotrBH(r,i,39),j=Kt.rotrSL(r,i,28)^Kt.rotrBL(r,i,34)^Kt.rotrBL(r,i,39),K=r&s^r&a^s&a,V=i&o^i&c^o&c;y=g|0,w=E|0,g=f|0,E=m|0,f=d|0,m=h|0,{h:d,l:h}=Kt.add(l|0,u|0,L|0,$|0),l=a|0,u=c|0,a=s|0,c=o|0,s=r|0,o=i|0;const T=Kt.add3L($,j,V);r=Kt.add3H(T,L,_,K),i=T|0}({h:r,l:i}=Kt.add(this.Ah|0,this.Al|0,r|0,i|0)),{h:s,l:o}=Kt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Kt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Kt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:d,l:h}=Kt.add(this.Eh|0,this.El|0,d|0,h|0),{h:f,l:m}=Kt.add(this.Fh|0,this.Fl|0,f|0,m|0),{h:g,l:E}=Kt.add(this.Gh|0,this.Gl|0,g|0,E|0),{h:y,l:w}=Kt.add(this.Hh|0,this.Hl|0,y|0,w|0),this.set(r,i,s,o,a,c,l,u,d,h,f,m,g,E,y,w)}roundClean(){ud.fill(0),dd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const BAe=Wk(()=>new MAe);function UAe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const DM=UAe();DM.crypto||DM.msCrypto;function FAe(t){switch(t){case"sha256":return mq.create();case"sha512":return BAe.create()}fe(!1,"invalid hashing algorithm name","algorithm",t)}const[Eq,Aq,Sq]=[[],[],[]],$Ae=BigInt(0),tw=BigInt(1),zAe=BigInt(2),VAe=BigInt(7),HAe=BigInt(256),qAe=BigInt(113);for(let t=0,e=tw,n=1,r=0;t<24;t++){[n,r]=[r,(2*n+3*r)%5],Eq.push(2*(5*r+n)),Aq.push((t+1)*(t+2)/2%64);let i=$Ae;for(let s=0;s<7;s++)e=(e<<tw^(e>>VAe)*qAe)%HAe,e&zAe&&(i^=tw<<(tw<<BigInt(s))-tw);Sq.push(i)}const[WAe,GAe]=yq(Sq,!0),jM=(t,e,n)=>n>32?bq(t,e,n):wq(t,e,n),MM=(t,e,n)=>n>32?xq(t,e,n):vq(t,e,n);function KAe(t,e=24){const n=new Uint32Array(10);for(let r=24-e;r<24;r++){for(let o=0;o<10;o++)n[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=n[c],u=n[c+1],d=jM(l,u,1)^n[a],h=MM(l,u,1)^n[a+1];for(let f=0;f<50;f+=10)t[o+f]^=d,t[o+f+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Aq[o],c=jM(i,s,a),l=MM(i,s,a),u=Eq[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)n[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~n[(a+2)%10]&n[(a+4)%10]}t[0]^=WAe[r],t[1]^=GAe[r]}n.fill(0)}class Gk extends qk{constructor(e,n,r,i=!1,s=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=r,this.enableXOF=i,this.rounds=s,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,xA(r),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=lAe(this.state)}keccak(){KAe(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){Sy(this);const{blockLen:n,state:r}=this;e=FS(e);const i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);for(let a=0;a<o;a++)r[this.pos++]^=e[s++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:r,blockLen:i}=this;e[r]^=n,n&128&&r===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){Sy(this,!1),Hk(e),this.finish();const n=this.state,{blockLen:r}=this;for(let i=0,s=e.length;i<s;){this.posOut>=r&&this.keccak();const o=Math.min(r-this.posOut,s-i);e.set(n.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return xA(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(uq(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:r,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new Gk(n,r,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=r,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const YAe=(t,e,n)=>Wk(()=>new Gk(e,t,n)),JAe=YAe(1,136,256/8);let Cq=!1;const Nq=function(t){return JAe(t)};let _q=Nq;function Yr(t){const e=an(t,"data");return dt(_q(e))}Yr._=Nq;Yr.lock=function(){Cq=!0};Yr.register=function(t){if(Cq)throw new TypeError("keccak256 is locked");_q=t};Object.freeze(Yr);const Pq=function(t){return FAe("sha256").update(t).digest()};let Iq=Pq,Tq=!1;function Wy(t){const e=an(t,"data");return dt(Iq(e))}Wy._=Pq;Wy.lock=function(){Tq=!0};Wy.register=function(t){if(Tq)throw new Error("sha256 is locked");Iq=t};Object.freeze(Wy);Object.freeze(Wy);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const kq=BigInt(0),$S=BigInt(1),QAe=BigInt(2),zS=t=>t instanceof Uint8Array,ZAe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Cy(t){if(!zS(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=ZAe[t[n]];return e}function Oq(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function Kk(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Ny(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let r=0;r<n.length;r++){const i=r*2,s=t.slice(i,i+2),o=Number.parseInt(s,16);if(Number.isNaN(o)||o<0)throw new Error("Invalid byte sequence");n[r]=o}return n}function lp(t){return Kk(Cy(t))}function Yk(t){if(!zS(t))throw new Error("Uint8Array expected");return Kk(Cy(Uint8Array.from(t).reverse()))}function _y(t,e){return Ny(t.toString(16).padStart(e*2,"0"))}function Jk(t,e){return _y(t,e).reverse()}function XAe(t){return Ny(Oq(t))}function Ka(t,e,n){let r;if(typeof e=="string")try{r=Ny(e)}catch(s){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${s}`)}else if(zS(e))r=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const i=r.length;if(typeof n=="number"&&i!==n)throw new Error(`${t} expected ${n} bytes, got ${i}`);return r}function mb(...t){const e=new Uint8Array(t.reduce((r,i)=>r+i.length,0));let n=0;return t.forEach(r=>{if(!zS(r))throw new Error("Uint8Array expected");e.set(r,n),n+=r.length}),e}function eSe(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function tSe(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function nSe(t){let e;for(e=0;t>kq;t>>=$S,e+=1);return e}function rSe(t,e){return t>>BigInt(e)&$S}const iSe=(t,e,n)=>t|(n?$S:kq)<<BigInt(e),Qk=t=>(QAe<<BigInt(t-1))-$S,G_=t=>new Uint8Array(t),BM=t=>Uint8Array.from(t);function Rq(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let r=G_(t),i=G_(t),s=0;const o=()=>{r.fill(1),i.fill(0),s=0},a=(...d)=>n(i,r,...d),c=(d=G_())=>{i=a(BM([0]),d),r=a(),d.length!==0&&(i=a(BM([1]),d),r=a())},l=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let d=0;const h=[];for(;d<e;){r=a();const f=r.slice();h.push(f),d+=r.length}return mb(...h)};return(d,h)=>{o(),c(d);let f;for(;!(f=h(l()));)c();return o(),f}}const sSe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function g2(t,e,n={}){const r=(i,s,o)=>{const a=sSe[s];if(typeof a!="function")throw new Error(`Invalid validator "${s}", expected function`);const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error(`Invalid param ${String(i)}=${c} (${typeof c}), expected ${s}`)};for(const[i,s]of Object.entries(e))r(i,s,!1);for(const[i,s]of Object.entries(n))r(i,s,!0);return t}const oSe=Object.freeze(Object.defineProperty({__proto__:null,bitGet:rSe,bitLen:nSe,bitMask:Qk,bitSet:iSe,bytesToHex:Cy,bytesToNumberBE:lp,bytesToNumberLE:Yk,concatBytes:mb,createHmacDrbg:Rq,ensureBytes:Ka,equalBytes:eSe,hexToBytes:Ny,hexToNumber:Kk,numberToBytesBE:_y,numberToBytesLE:Jk,numberToHexUnpadded:Oq,numberToVarBytesBE:XAe,utf8ToBytes:tSe,validateObject:g2},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const vi=BigInt(0),Br=BigInt(1),gf=BigInt(2),aSe=BigInt(3),H4=BigInt(4),UM=BigInt(5),FM=BigInt(8);BigInt(9);BigInt(16);function Gs(t,e){const n=t%e;return n>=vi?n:e+n}function cSe(t,e,n){if(n<=vi||e<vi)throw new Error("Expected power/modulo > 0");if(n===Br)return vi;let r=Br;for(;e>vi;)e&Br&&(r=r*t%n),t=t*t%n,e>>=Br;return r}function ta(t,e,n){let r=t;for(;e-- >vi;)r*=r,r%=n;return r}function q4(t,e){if(t===vi||e<=vi)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=Gs(t,e),r=e,i=vi,s=Br;for(;n!==vi;){const a=r/n,c=r%n,l=i-s*a;r=n,n=c,i=s,s=l}if(r!==Br)throw new Error("invert: does not exist");return Gs(i,e)}function lSe(t){const e=(t-Br)/gf;let n,r,i;for(n=t-Br,r=0;n%gf===vi;n/=gf,r++);for(i=gf;i<t&&cSe(i,e,t)!==t-Br;i++);if(r===1){const o=(t+Br)/H4;return function(c,l){const u=c.pow(l,o);if(!c.eql(c.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(n+Br)/gf;return function(a,c){if(a.pow(c,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=r,u=a.pow(a.mul(a.ONE,i),n),d=a.pow(c,s),h=a.pow(c,n);for(;!a.eql(h,a.ONE);){if(a.eql(h,a.ZERO))return a.ZERO;let f=1;for(let g=a.sqr(h);f<l&&!a.eql(g,a.ONE);f++)g=a.sqr(g);const m=a.pow(u,Br<<BigInt(l-f-1));u=a.sqr(m),d=a.mul(d,m),h=a.mul(h,u),l=f}return d}}function uSe(t){if(t%H4===aSe){const e=(t+Br)/H4;return function(r,i){const s=r.pow(i,e);if(!r.eql(r.sqr(s),i))throw new Error("Cannot find square root");return s}}if(t%FM===UM){const e=(t-UM)/FM;return function(r,i){const s=r.mul(i,gf),o=r.pow(s,e),a=r.mul(i,o),c=r.mul(r.mul(a,gf),o),l=r.mul(a,r.sub(c,r.ONE));if(!r.eql(r.sqr(l),i))throw new Error("Cannot find square root");return l}}return lSe(t)}const dSe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function hSe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=dSe.reduce((r,i)=>(r[i]="function",r),e);return g2(t,n)}function fSe(t,e,n){if(n<vi)throw new Error("Expected power > 0");if(n===vi)return t.ONE;if(n===Br)return e;let r=t.ONE,i=e;for(;n>vi;)n&Br&&(r=t.mul(r,i)),i=t.sqr(i),n>>=Br;return r}function pSe(t,e){const n=new Array(e.length),r=e.reduce((s,o,a)=>t.is0(o)?s:(n[a]=s,t.mul(s,o)),t.ONE),i=t.inv(r);return e.reduceRight((s,o,a)=>t.is0(o)?s:(n[a]=t.mul(s,n[a]),t.mul(s,o)),i),n}function Lq(t,e){const n=e!==void 0?e:t.toString(2).length,r=Math.ceil(n/8);return{nBitLength:n,nByteLength:r}}function mSe(t,e,n=!1,r={}){if(t<=vi)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:i,nByteLength:s}=Lq(t,e);if(s>2048)throw new Error("Field lengths over 2048 bytes are not supported");const o=uSe(t),a=Object.freeze({ORDER:t,BITS:i,BYTES:s,MASK:Qk(i),ZERO:vi,ONE:Br,create:c=>Gs(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return vi<=c&&c<t},is0:c=>c===vi,isOdd:c=>(c&Br)===Br,neg:c=>Gs(-c,t),eql:(c,l)=>c===l,sqr:c=>Gs(c*c,t),add:(c,l)=>Gs(c+l,t),sub:(c,l)=>Gs(c-l,t),mul:(c,l)=>Gs(c*l,t),pow:(c,l)=>fSe(a,c,l),div:(c,l)=>Gs(c*q4(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>q4(c,t),sqrt:r.sqrt||(c=>o(a,c)),invertBatch:c=>pSe(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>n?Jk(c,s):_y(c,s),fromBytes:c=>{if(c.length!==s)throw new Error(`Fp.fromBytes: expected ${s}, got ${c.length}`);return n?Yk(c):lp(c)}});return Object.freeze(a)}function Dq(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function jq(t){const e=Dq(t);return e+Math.ceil(e/2)}function gSe(t,e,n=!1){const r=t.length,i=Dq(e),s=jq(e);if(r<16||r<s||r>1024)throw new Error(`expected ${s}-1024 bytes of input, got ${r}`);const o=n?lp(t):Yk(t),a=Gs(o,e-Br)+Br;return n?Jk(a,i):_y(a,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ySe=BigInt(0),K_=BigInt(1);function wSe(t,e){const n=(i,s)=>{const o=s.negate();return i?o:s},r=i=>{const s=Math.ceil(e/i)+1,o=2**(i-1);return{windows:s,windowSize:o}};return{constTimeNegate:n,unsafeLadder(i,s){let o=t.ZERO,a=i;for(;s>ySe;)s&K_&&(o=o.add(a)),a=a.double(),s>>=K_;return o},precomputeWindow(i,s){const{windows:o,windowSize:a}=r(s),c=[];let l=i,u=l;for(let d=0;d<o;d++){u=l,c.push(u);for(let h=1;h<a;h++)u=u.add(l),c.push(u);l=u.double()}return c},wNAF(i,s,o){const{windows:a,windowSize:c}=r(i);let l=t.ZERO,u=t.BASE;const d=BigInt(2**i-1),h=2**i,f=BigInt(i);for(let m=0;m<a;m++){const g=m*c;let E=Number(o&d);o>>=f,E>c&&(E-=h,o+=K_);const y=g,w=g+Math.abs(E)-1,x=m%2!==0,C=E<0;E===0?u=u.add(n(x,s[y])):l=l.add(n(C,s[w]))}return{p:l,f:u}},wNAFCached(i,s,o,a){const c=i._WINDOW_SIZE||1;let l=s.get(i);return l||(l=this.precomputeWindow(i,c),c!==1&&s.set(i,a(l))),this.wNAF(c,l,o)}}}function Mq(t){return hSe(t.Fp),g2(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Lq(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function vSe(t){const e=Mq(t);g2(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:r,a:i}=e;if(n){if(!r.eql(i,r.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:bSe,hexToBytes:xSe}=oSe,Pf={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=Pf;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],r=t.subarray(2,n+2);if(!n||r.length!==n)throw new e("Invalid signature integer: wrong length");if(r[0]&128)throw new e("Invalid signature integer: negative");if(r[0]===0&&!(r[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:bSe(r),l:t.subarray(n+2)}},toSig(t){const{Err:e}=Pf,n=typeof t=="string"?xSe(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let r=n.length;if(r<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==r-2)throw new e("Invalid signature: incorrect length");const{d:i,l:s}=Pf._parseInt(n.subarray(2)),{d:o,l:a}=Pf._parseInt(s);if(a.length)throw new e("Invalid signature: left bytes after parsing");return{r:i,s:o}},hexFromSig(t){const e=l=>Number.parseInt(l[0],16)&8?"00"+l:l,n=l=>{const u=l.toString(16);return u.length&1?`0${u}`:u},r=e(n(t.s)),i=e(n(t.r)),s=r.length/2,o=i.length/2,a=n(s),c=n(o);return`30${n(o+s+4)}02${c}${i}02${a}${r}`}},yu=BigInt(0),ha=BigInt(1);BigInt(2);const $M=BigInt(3);BigInt(4);function ESe(t){const e=vSe(t),{Fp:n}=e,r=e.toBytes||((m,g,E)=>{const y=g.toAffine();return mb(Uint8Array.from([4]),n.toBytes(y.x),n.toBytes(y.y))}),i=e.fromBytes||(m=>{const g=m.subarray(1),E=n.fromBytes(g.subarray(0,n.BYTES)),y=n.fromBytes(g.subarray(n.BYTES,2*n.BYTES));return{x:E,y}});function s(m){const{a:g,b:E}=e,y=n.sqr(m),w=n.mul(y,m);return n.add(n.add(w,n.mul(m,g)),E)}if(!n.eql(n.sqr(e.Gy),s(e.Gx)))throw new Error("bad generator point: equation left != right");function o(m){return typeof m=="bigint"&&yu<m&&m<e.n}function a(m){if(!o(m))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(m){const{allowedPrivateKeyLengths:g,nByteLength:E,wrapPrivateKey:y,n:w}=e;if(g&&typeof m!="bigint"){if(m instanceof Uint8Array&&(m=Cy(m)),typeof m!="string"||!g.includes(m.length))throw new Error("Invalid key");m=m.padStart(E*2,"0")}let x;try{x=typeof m=="bigint"?m:lp(Ka("private key",m,E))}catch{throw new Error(`private key must be ${E} bytes, hex or bigint, not ${typeof m}`)}return y&&(x=Gs(x,w)),a(x),x}const l=new Map;function u(m){if(!(m instanceof d))throw new Error("ProjectivePoint expected")}class d{constructor(g,E,y){if(this.px=g,this.py=E,this.pz=y,g==null||!n.isValid(g))throw new Error("x required");if(E==null||!n.isValid(E))throw new Error("y required");if(y==null||!n.isValid(y))throw new Error("z required")}static fromAffine(g){const{x:E,y}=g||{};if(!g||!n.isValid(E)||!n.isValid(y))throw new Error("invalid affine point");if(g instanceof d)throw new Error("projective point not allowed");const w=x=>n.eql(x,n.ZERO);return w(E)&&w(y)?d.ZERO:new d(E,y,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(g){const E=n.invertBatch(g.map(y=>y.pz));return g.map((y,w)=>y.toAffine(E[w])).map(d.fromAffine)}static fromHex(g){const E=d.fromAffine(i(Ka("pointHex",g)));return E.assertValidity(),E}static fromPrivateKey(g){return d.BASE.multiply(c(g))}_setWindowSize(g){this._WINDOW_SIZE=g,l.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:g,y:E}=this.toAffine();if(!n.isValid(g)||!n.isValid(E))throw new Error("bad point: x or y not FE");const y=n.sqr(E),w=s(g);if(!n.eql(y,w))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:g}=this.toAffine();if(n.isOdd)return!n.isOdd(g);throw new Error("Field doesn't support isOdd")}equals(g){u(g);const{px:E,py:y,pz:w}=this,{px:x,py:C,pz:N}=g,D=n.eql(n.mul(E,N),n.mul(x,w)),O=n.eql(n.mul(y,N),n.mul(C,w));return D&&O}negate(){return new d(this.px,n.neg(this.py),this.pz)}double(){const{a:g,b:E}=e,y=n.mul(E,$M),{px:w,py:x,pz:C}=this;let N=n.ZERO,D=n.ZERO,O=n.ZERO,P=n.mul(w,w),L=n.mul(x,x),$=n.mul(C,C),_=n.mul(w,x);return _=n.add(_,_),O=n.mul(w,C),O=n.add(O,O),N=n.mul(g,O),D=n.mul(y,$),D=n.add(N,D),N=n.sub(L,D),D=n.add(L,D),D=n.mul(N,D),N=n.mul(_,N),O=n.mul(y,O),$=n.mul(g,$),_=n.sub(P,$),_=n.mul(g,_),_=n.add(_,O),O=n.add(P,P),P=n.add(O,P),P=n.add(P,$),P=n.mul(P,_),D=n.add(D,P),$=n.mul(x,C),$=n.add($,$),P=n.mul($,_),N=n.sub(N,P),O=n.mul($,L),O=n.add(O,O),O=n.add(O,O),new d(N,D,O)}add(g){u(g);const{px:E,py:y,pz:w}=this,{px:x,py:C,pz:N}=g;let D=n.ZERO,O=n.ZERO,P=n.ZERO;const L=e.a,$=n.mul(e.b,$M);let _=n.mul(E,x),j=n.mul(y,C),K=n.mul(w,N),V=n.add(E,y),T=n.add(x,C);V=n.mul(V,T),T=n.add(_,j),V=n.sub(V,T),T=n.add(E,w);let k=n.add(x,N);return T=n.mul(T,k),k=n.add(_,K),T=n.sub(T,k),k=n.add(y,w),D=n.add(C,N),k=n.mul(k,D),D=n.add(j,K),k=n.sub(k,D),P=n.mul(L,T),D=n.mul($,K),P=n.add(D,P),D=n.sub(j,P),P=n.add(j,P),O=n.mul(D,P),j=n.add(_,_),j=n.add(j,_),K=n.mul(L,K),T=n.mul($,T),j=n.add(j,K),K=n.sub(_,K),K=n.mul(L,K),T=n.add(T,K),_=n.mul(j,T),O=n.add(O,_),_=n.mul(k,T),D=n.mul(V,D),D=n.sub(D,_),_=n.mul(V,j),P=n.mul(k,P),P=n.add(P,_),new d(D,O,P)}subtract(g){return this.add(g.negate())}is0(){return this.equals(d.ZERO)}wNAF(g){return f.wNAFCached(this,l,g,E=>{const y=n.invertBatch(E.map(w=>w.pz));return E.map((w,x)=>w.toAffine(y[x])).map(d.fromAffine)})}multiplyUnsafe(g){const E=d.ZERO;if(g===yu)return E;if(a(g),g===ha)return this;const{endo:y}=e;if(!y)return f.unsafeLadder(this,g);let{k1neg:w,k1:x,k2neg:C,k2:N}=y.splitScalar(g),D=E,O=E,P=this;for(;x>yu||N>yu;)x&ha&&(D=D.add(P)),N&ha&&(O=O.add(P)),P=P.double(),x>>=ha,N>>=ha;return w&&(D=D.negate()),C&&(O=O.negate()),O=new d(n.mul(O.px,y.beta),O.py,O.pz),D.add(O)}multiply(g){a(g);let E=g,y,w;const{endo:x}=e;if(x){const{k1neg:C,k1:N,k2neg:D,k2:O}=x.splitScalar(E);let{p:P,f:L}=this.wNAF(N),{p:$,f:_}=this.wNAF(O);P=f.constTimeNegate(C,P),$=f.constTimeNegate(D,$),$=new d(n.mul($.px,x.beta),$.py,$.pz),y=P.add($),w=L.add(_)}else{const{p:C,f:N}=this.wNAF(E);y=C,w=N}return d.normalizeZ([y,w])[0]}multiplyAndAddUnsafe(g,E,y){const w=d.BASE,x=(N,D)=>D===yu||D===ha||!N.equals(w)?N.multiplyUnsafe(D):N.multiply(D),C=x(this,E).add(x(g,y));return C.is0()?void 0:C}toAffine(g){const{px:E,py:y,pz:w}=this,x=this.is0();g==null&&(g=x?n.ONE:n.inv(w));const C=n.mul(E,g),N=n.mul(y,g),D=n.mul(w,g);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(D,n.ONE))throw new Error("invZ was invalid");return{x:C,y:N}}isTorsionFree(){const{h:g,isTorsionFree:E}=e;if(g===ha)return!0;if(E)return E(d,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:g,clearCofactor:E}=e;return g===ha?this:E?E(d,this):this.multiplyUnsafe(e.h)}toRawBytes(g=!0){return this.assertValidity(),r(d,this,g)}toHex(g=!0){return Cy(this.toRawBytes(g))}}d.BASE=new d(e.Gx,e.Gy,n.ONE),d.ZERO=new d(n.ZERO,n.ONE,n.ZERO);const h=e.nBitLength,f=wSe(d,e.endo?Math.ceil(h/2):h);return{CURVE:e,ProjectivePoint:d,normPrivateKeyToScalar:c,weierstrassEquation:s,isWithinCurveOrder:o}}function ASe(t){const e=Mq(t);return g2(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function SSe(t){const e=ASe(t),{Fp:n,n:r}=e,i=n.BYTES+1,s=2*n.BYTES+1;function o(T){return yu<T&&T<n.ORDER}function a(T){return Gs(T,r)}function c(T){return q4(T,r)}const{ProjectivePoint:l,normPrivateKeyToScalar:u,weierstrassEquation:d,isWithinCurveOrder:h}=ESe({...e,toBytes(T,k,W){const B=k.toAffine(),z=n.toBytes(B.x),Z=mb;return W?Z(Uint8Array.from([k.hasEvenY()?2:3]),z):Z(Uint8Array.from([4]),z,n.toBytes(B.y))},fromBytes(T){const k=T.length,W=T[0],B=T.subarray(1);if(k===i&&(W===2||W===3)){const z=lp(B);if(!o(z))throw new Error("Point is not on curve");const Z=d(z);let he=n.sqrt(Z);const R=(he&ha)===ha;return(W&1)===1!==R&&(he=n.neg(he)),{x:z,y:he}}else if(k===s&&W===4){const z=n.fromBytes(B.subarray(0,n.BYTES)),Z=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:z,y:Z}}else throw new Error(`Point of length ${k} was invalid. Expected ${i} compressed bytes or ${s} uncompressed bytes`)}}),f=T=>Cy(_y(T,e.nByteLength));function m(T){const k=r>>ha;return T>k}function g(T){return m(T)?a(-T):T}const E=(T,k,W)=>lp(T.slice(k,W));class y{constructor(k,W,B){this.r=k,this.s=W,this.recovery=B,this.assertValidity()}static fromCompact(k){const W=e.nByteLength;return k=Ka("compactSignature",k,W*2),new y(E(k,0,W),E(k,W,2*W))}static fromDER(k){const{r:W,s:B}=Pf.toSig(Ka("DER",k));return new y(W,B)}assertValidity(){if(!h(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!h(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(k){return new y(this.r,this.s,k)}recoverPublicKey(k){const{r:W,s:B,recovery:z}=this,Z=O(Ka("msgHash",k));if(z==null||![0,1,2,3].includes(z))throw new Error("recovery id invalid");const he=z===2||z===3?W+e.n:W;if(he>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const R=z&1?"03":"02",Y=l.fromHex(R+f(he)),J=c(he),ne=a(-Z*J),se=a(B*J),de=l.BASE.multiplyAndAddUnsafe(Y,ne,se);if(!de)throw new Error("point at infinify");return de.assertValidity(),de}hasHighS(){return m(this.s)}normalizeS(){return this.hasHighS()?new y(this.r,a(-this.s),this.recovery):this}toDERRawBytes(){return Ny(this.toDERHex())}toDERHex(){return Pf.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Ny(this.toCompactHex())}toCompactHex(){return f(this.r)+f(this.s)}}const w={isValidPrivateKey(T){try{return u(T),!0}catch{return!1}},normPrivateKeyToScalar:u,randomPrivateKey:()=>{const T=jq(e.n);return gSe(e.randomBytes(T),e.n)},precompute(T=8,k=l.BASE){return k._setWindowSize(T),k.multiply(BigInt(3)),k}};function x(T,k=!0){return l.fromPrivateKey(T).toRawBytes(k)}function C(T){const k=T instanceof Uint8Array,W=typeof T=="string",B=(k||W)&&T.length;return k?B===i||B===s:W?B===2*i||B===2*s:T instanceof l}function N(T,k,W=!0){if(C(T))throw new Error("first arg must be private key");if(!C(k))throw new Error("second arg must be public key");return l.fromHex(k).multiply(u(T)).toRawBytes(W)}const D=e.bits2int||function(T){const k=lp(T),W=T.length*8-e.nBitLength;return W>0?k>>BigInt(W):k},O=e.bits2int_modN||function(T){return a(D(T))},P=Qk(e.nBitLength);function L(T){if(typeof T!="bigint")throw new Error("bigint expected");if(!(yu<=T&&T<P))throw new Error(`bigint expected < 2^${e.nBitLength}`);return _y(T,e.nByteLength)}function $(T,k,W=_){if(["recovered","canonical"].some(me=>me in W))throw new Error("sign() legacy options not supported");const{hash:B,randomBytes:z}=e;let{lowS:Z,prehash:he,extraEntropy:R}=W;Z==null&&(Z=!0),T=Ka("msgHash",T),he&&(T=Ka("prehashed msgHash",B(T)));const Y=O(T),J=u(k),ne=[L(J),L(Y)];if(R!=null){const me=R===!0?z(n.BYTES):R;ne.push(Ka("extraEntropy",me))}const se=mb(...ne),de=Y;function ye(me){const Te=D(me);if(!h(Te))return;const Pe=c(Te),De=l.BASE.multiply(Te).toAffine(),je=a(De.x);if(je===yu)return;const et=a(Pe*a(de+je*J));if(et===yu)return;let Ae=(De.x===je?0:2)|Number(De.y&ha),ie=et;return Z&&m(et)&&(ie=g(et),Ae^=1),new y(je,ie,Ae)}return{seed:se,k2sig:ye}}const _={lowS:e.lowS,prehash:!1},j={lowS:e.lowS,prehash:!1};function K(T,k,W=_){const{seed:B,k2sig:z}=$(T,k,W),Z=e;return Rq(Z.hash.outputLen,Z.nByteLength,Z.hmac)(B,z)}l.BASE._setWindowSize(8);function V(T,k,W,B=j){var De;const z=T;if(k=Ka("msgHash",k),W=Ka("publicKey",W),"strict"in B)throw new Error("options.strict was renamed to lowS");const{lowS:Z,prehash:he}=B;let R,Y;try{if(typeof z=="string"||z instanceof Uint8Array)try{R=y.fromDER(z)}catch(je){if(!(je instanceof Pf.Err))throw je;R=y.fromCompact(z)}else if(typeof z=="object"&&typeof z.r=="bigint"&&typeof z.s=="bigint"){const{r:je,s:et}=z;R=new y(je,et)}else throw new Error("PARSE");Y=l.fromHex(W)}catch(je){if(je.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(Z&&R.hasHighS())return!1;he&&(k=e.hash(k));const{r:J,s:ne}=R,se=O(k),de=c(ne),ye=a(se*de),me=a(J*de),Te=(De=l.BASE.multiplyAndAddUnsafe(Y,ye,me))==null?void 0:De.toAffine();return Te?a(Te.x)===J:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:N,sign:K,verify:V,ProjectivePoint:l,Signature:y,utils:w}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function CSe(t){return{hash:t,hmac:(e,...n)=>fq(t,e,hAe(...n)),randomBytes:fAe}}function NSe(t,e){const n=r=>SSe({...t,...CSe(r)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Bq=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),zM=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),_Se=BigInt(1),W4=BigInt(2),VM=(t,e)=>(t+e/W4)/e;function PSe(t){const e=Bq,n=BigInt(3),r=BigInt(6),i=BigInt(11),s=BigInt(22),o=BigInt(23),a=BigInt(44),c=BigInt(88),l=t*t*t%e,u=l*l*t%e,d=ta(u,n,e)*u%e,h=ta(d,n,e)*u%e,f=ta(h,W4,e)*l%e,m=ta(f,i,e)*f%e,g=ta(m,s,e)*m%e,E=ta(g,a,e)*g%e,y=ta(E,c,e)*E%e,w=ta(y,a,e)*g%e,x=ta(w,n,e)*u%e,C=ta(x,o,e)*m%e,N=ta(C,r,e)*l%e,D=ta(N,W4,e);if(!G4.eql(G4.sqr(D),t))throw new Error("Cannot find square root");return D}const G4=mSe(Bq,void 0,void 0,{sqrt:PSe}),md=NSe({a:BigInt(0),b:BigInt(7),Fp:G4,n:zM,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=zM,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),r=-_Se*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=n,o=BigInt("0x100000000000000000000000000000000"),a=VM(s*t,e),c=VM(-r*t,e);let l=Gs(t-a*n-c*i,e),u=Gs(-a*r-c*s,e);const d=l>o,h=u>o;if(d&&(l=e-l),h&&(u=e-u),l>o||u>o)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:d,k1:l,k2neg:h,k2:u}}}},mq);BigInt(0);md.ProjectivePoint;const gb="0x0000000000000000000000000000000000000000",HM="0x0000000000000000000000000000000000000000000000000000000000000000",qM=BigInt(0),WM=BigInt(1),GM=BigInt(2),KM=BigInt(27),YM=BigInt(28),hx=BigInt(35),eg={};function JM(t){return Tp(Es(t),32)}var y0,w0,v0,Ff;const qa=class qa{constructor(e,n,r,i){Ee(this,y0);Ee(this,w0);Ee(this,v0);Ee(this,Ff);m2(e,eg,"Signature"),te(this,y0,n),te(this,w0,r),te(this,v0,i),te(this,Ff,null)}get r(){return M(this,y0)}set r(e){fe(r0(e)===32,"invalid r","value",e),te(this,y0,dt(e))}get s(){return M(this,w0)}set s(e){fe(r0(e)===32,"invalid s","value",e);const n=dt(e);fe(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),te(this,w0,n)}get v(){return M(this,v0)}set v(e){const n=qt(e,"value");fe(n===27||n===28,"invalid v","v",e),te(this,v0,n)}get networkV(){return M(this,Ff)}get legacyChainId(){const e=this.networkV;return e==null?null:qa.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=an(this.s);return this.yParity&&(e[0]|=128),dt(e)}get compactSerialized(){return Fr([this.r,this.yParityAndS])}get serialized(){return Fr([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new qa(eg,this.r,this.s,this.v);return this.networkV&&te(e,Ff,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=pt(e,"v");return n==KM||n==YM?qM:(fe(n>=hx,"invalid EIP-155 v","v",e),(n-hx)/GM)}static getChainIdV(e,n){return pt(e)*GM+BigInt(35+n-27)}static getNormalizedV(e){const n=pt(e);return n===qM||n===KM?27:n===WM||n===YM?28:(fe(n>=hx,"invalid v","v",e),n&WM?27:28)}static from(e){function n(l,u){fe(l,u,"signature",e)}if(e==null)return new qa(eg,HM,HM,27);if(typeof e=="string"){const l=an(e,"signature");if(l.length===64){const u=dt(l.slice(0,32)),d=l.slice(32,64),h=d[0]&128?28:27;return d[0]&=127,new qa(eg,u,dt(d),h)}if(l.length===65){const u=dt(l.slice(0,32)),d=l.slice(32,64);n((d[0]&128)===0,"non-canonical s");const h=qa.getNormalizedV(l[64]);return new qa(eg,u,dt(d),h)}n(!1,"invalid raw signature length")}if(e instanceof qa)return e.clone();const r=e.r;n(r!=null,"missing r");const i=JM(r),s=function(l,u){if(l!=null)return JM(l);if(u!=null){n(Hn(u,32),"invalid yParityAndS");const d=an(u);return d[0]&=127,dt(d)}n(!1,"missing s")}(e.s,e.yParityAndS);n((an(s)[0]&128)==0,"non-canonical s");const{networkV:o,v:a}=function(l,u,d){if(l!=null){const h=pt(l);return{networkV:h>=hx?h:void 0,v:qa.getNormalizedV(h)}}if(u!=null)return n(Hn(u,32),"invalid yParityAndS"),{v:an(u)[0]&128?28:27};if(d!=null){switch(qt(d,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new qa(eg,i,s,a);return o&&te(c,Ff,o),n(e.yParity==null||qt(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};y0=new WeakMap,w0=new WeakMap,v0=new WeakMap,Ff=new WeakMap;let mc=qa;var au;const yf=class yf{constructor(e){Ee(this,au);fe(r0(e)===32,"invalid private key","privateKey","[REDACTED]"),te(this,au,dt(e))}get privateKey(){return M(this,au)}get publicKey(){return yf.computePublicKey(M(this,au))}get compressedPublicKey(){return yf.computePublicKey(M(this,au),!0)}sign(e){fe(r0(e)===32,"invalid digest length","digest",e);const n=md.sign(xs(e),xs(M(this,au)),{lowS:!0});return mc.from({r:Ch(n.r,32),s:Ch(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=yf.computePublicKey(e);return dt(md.getSharedSecret(xs(M(this,au)),an(n),!1))}static computePublicKey(e,n){let r=an(e,"key");if(r.length===32){const s=md.getPublicKey(r,!!n);return dt(s)}if(r.length===64){const s=new Uint8Array(65);s[0]=4,s.set(r,1),r=s}const i=md.ProjectivePoint.fromHex(r);return dt(i.toRawBytes(n))}static recoverPublicKey(e,n){fe(r0(e)===32,"invalid digest length","digest",e);const r=mc.from(n);let i=md.Signature.fromCompact(xs(Fr([r.r,r.s])));i=i.addRecoveryBit(r.yParity);const s=i.recoverPublicKey(xs(e));return fe(s!=null,"invalid signautre for digest","signature",n),"0x"+s.toHex(!1)}static addPoints(e,n,r){const i=md.ProjectivePoint.fromHex(yf.computePublicKey(e).substring(2)),s=md.ProjectivePoint.fromHex(yf.computePublicKey(n).substring(2));return"0x"+i.add(s).toHex(!!r)}};au=new WeakMap;let yb=yf;const ISe=BigInt(0),TSe=BigInt(36);function QM(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let i=0;i<40;i++)n[i]=e[i].charCodeAt(0);const r=an(Yr(n));for(let i=0;i<40;i+=2)r[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(r[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const Zk={};for(let t=0;t<10;t++)Zk[String(t)]=String(t);for(let t=0;t<26;t++)Zk[String.fromCharCode(65+t)]=String(10+t);const ZM=15;function kSe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(r=>Zk[r]).join("");for(;e.length>=ZM;){let r=e.substring(0,ZM);e=parseInt(r,10)%97+e.substring(r.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const OSe=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function RSe(t){t=t.toLowerCase();let e=ISe;for(let n=0;n<t.length;n++)e=e*TSe+OSe[t[n]];return e}function Dn(t){if(fe(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=QM(t);return fe(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){fe(t.substring(2,4)===kSe(t),"bad icap checksum","address",t);let e=RSe(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return QM("0x"+e)}fe(!1,"invalid address","address",t)}function LSe(t){const e=Dn(t.from);let r=pt(t.nonce,"tx.nonce").toString(16);return r==="0"?r="0x":r.length%2?r="0x0"+r:r="0x"+r,Dn(Sr(Yr(kp([e,r])),12))}function Uq(t){return t&&typeof t.getAddress=="function"}async function Y_(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(Re(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),fe(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),Dn(n)}function Ss(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?Dn(t):(Re(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Y_(t,e.resolveName(t)));if(Uq(t))return Y_(t,t.getAddress());if(t&&typeof t.then=="function")return Y_(t,t);fe(!1,"unsupported addressable value","target",t)}const Zl={};function ct(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new as(Zl,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function pn(t,e){return new as(Zl,`bytes${e||""}`,t,{size:e})}const XM=Symbol.for("_ethers_typed");var $f;const Xl=class Xl{constructor(e,n,r,i){ve(this,"type");ve(this,"value");Ee(this,$f);ve(this,"_typedSymbol");i==null&&(i=null),m2(Zl,e,"Typed"),wt(this,{_typedSymbol:XM,type:n,value:r}),te(this,$f,i),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return M(this,$f)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return M(this,$f)===!0?-1:M(this,$f)===!1?this.value.length:null}static from(e,n){return new Xl(Zl,e,n)}static uint8(e){return ct(e,8)}static uint16(e){return ct(e,16)}static uint24(e){return ct(e,24)}static uint32(e){return ct(e,32)}static uint40(e){return ct(e,40)}static uint48(e){return ct(e,48)}static uint56(e){return ct(e,56)}static uint64(e){return ct(e,64)}static uint72(e){return ct(e,72)}static uint80(e){return ct(e,80)}static uint88(e){return ct(e,88)}static uint96(e){return ct(e,96)}static uint104(e){return ct(e,104)}static uint112(e){return ct(e,112)}static uint120(e){return ct(e,120)}static uint128(e){return ct(e,128)}static uint136(e){return ct(e,136)}static uint144(e){return ct(e,144)}static uint152(e){return ct(e,152)}static uint160(e){return ct(e,160)}static uint168(e){return ct(e,168)}static uint176(e){return ct(e,176)}static uint184(e){return ct(e,184)}static uint192(e){return ct(e,192)}static uint200(e){return ct(e,200)}static uint208(e){return ct(e,208)}static uint216(e){return ct(e,216)}static uint224(e){return ct(e,224)}static uint232(e){return ct(e,232)}static uint240(e){return ct(e,240)}static uint248(e){return ct(e,248)}static uint256(e){return ct(e,256)}static uint(e){return ct(e,256)}static int8(e){return ct(e,-8)}static int16(e){return ct(e,-16)}static int24(e){return ct(e,-24)}static int32(e){return ct(e,-32)}static int40(e){return ct(e,-40)}static int48(e){return ct(e,-48)}static int56(e){return ct(e,-56)}static int64(e){return ct(e,-64)}static int72(e){return ct(e,-72)}static int80(e){return ct(e,-80)}static int88(e){return ct(e,-88)}static int96(e){return ct(e,-96)}static int104(e){return ct(e,-104)}static int112(e){return ct(e,-112)}static int120(e){return ct(e,-120)}static int128(e){return ct(e,-128)}static int136(e){return ct(e,-136)}static int144(e){return ct(e,-144)}static int152(e){return ct(e,-152)}static int160(e){return ct(e,-160)}static int168(e){return ct(e,-168)}static int176(e){return ct(e,-176)}static int184(e){return ct(e,-184)}static int192(e){return ct(e,-192)}static int200(e){return ct(e,-200)}static int208(e){return ct(e,-208)}static int216(e){return ct(e,-216)}static int224(e){return ct(e,-224)}static int232(e){return ct(e,-232)}static int240(e){return ct(e,-240)}static int248(e){return ct(e,-248)}static int256(e){return ct(e,-256)}static int(e){return ct(e,-256)}static bytes1(e){return pn(e,1)}static bytes2(e){return pn(e,2)}static bytes3(e){return pn(e,3)}static bytes4(e){return pn(e,4)}static bytes5(e){return pn(e,5)}static bytes6(e){return pn(e,6)}static bytes7(e){return pn(e,7)}static bytes8(e){return pn(e,8)}static bytes9(e){return pn(e,9)}static bytes10(e){return pn(e,10)}static bytes11(e){return pn(e,11)}static bytes12(e){return pn(e,12)}static bytes13(e){return pn(e,13)}static bytes14(e){return pn(e,14)}static bytes15(e){return pn(e,15)}static bytes16(e){return pn(e,16)}static bytes17(e){return pn(e,17)}static bytes18(e){return pn(e,18)}static bytes19(e){return pn(e,19)}static bytes20(e){return pn(e,20)}static bytes21(e){return pn(e,21)}static bytes22(e){return pn(e,22)}static bytes23(e){return pn(e,23)}static bytes24(e){return pn(e,24)}static bytes25(e){return pn(e,25)}static bytes26(e){return pn(e,26)}static bytes27(e){return pn(e,27)}static bytes28(e){return pn(e,28)}static bytes29(e){return pn(e,29)}static bytes30(e){return pn(e,30)}static bytes31(e){return pn(e,31)}static bytes32(e){return pn(e,32)}static address(e){return new Xl(Zl,"address",e)}static bool(e){return new Xl(Zl,"bool",!!e)}static bytes(e){return new Xl(Zl,"bytes",e)}static string(e){return new Xl(Zl,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Xl(Zl,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===XM}static dereference(e,n){if(Xl.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};$f=new WeakMap;let as=Xl;class DSe extends Uu{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let r=as.dereference(n,"string");try{r=Dn(r)}catch(i){return this._throwError(i.message,n)}return e.writeValue(r)}decode(e){return Dn(Ch(e.readValue(),20))}}class jSe extends Uu{constructor(n){super(n.name,n.type,"_",n.dynamic);ve(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,r){return this.coder.encode(n,r)}decode(n){return this.coder.decode(n)}}function Fq(t,e,n){let r=[];if(Array.isArray(n))r=n;else if(n&&typeof n=="object"){let c={};r=e.map(l=>{const u=l.localName;return Re(u,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),Re(!c[u],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:l},value:n}),c[u]=!0,n[u]})}else fe(!1,"invalid tuple value","tuple",n);fe(e.length===r.length,"types/value length mismatch","tuple",n);let i=new F4,s=new F4,o=[];e.forEach((c,l)=>{let u=r[l];if(c.dynamic){let d=s.length;c.encode(s,u);let h=i.writeUpdatableValue();o.push(f=>{h(f+d)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function $q(t,e){let n=[],r=[],i=t.subReader(0);return e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readIndex(),c=i.subReader(a);try{o=s.decode(c)}catch(l){if(Ri(l,"BUFFER_OVERRUN"))throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(Ri(a,"BUFFER_OVERRUN"))throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}if(o==null)throw new Error("investigate");n.push(o),r.push(s.localName||null)}),Ay.fromItems(n,r)}class MSe extends Uu{constructor(n,r,i){const s=n.type+"["+(r>=0?r:"")+"]",o=r===-1||n.dynamic;super("array",s,i,o);ve(this,"coder");ve(this,"length");wt(this,{coder:n,length:r})}defaultValue(){const n=this.coder.defaultValue(),r=[];for(let i=0;i<this.length;i++)r.push(n);return r}encode(n,r){const i=as.dereference(r,"array");Array.isArray(i)||this._throwError("expected array value",i);let s=this.length;s===-1&&(s=i.length,n.writeValue(i.length)),GH(i.length,s,"coder array"+(this.localName?" "+this.localName:""));let o=[];for(let a=0;a<i.length;a++)o.push(this.coder);return Fq(n,o,i)}decode(n){let r=this.length;r===-1&&(r=n.readIndex(),Re(r*As<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:r*As,length:n.dataLength}));let i=[];for(let s=0;s<r;s++)i.push(new jSe(this.coder));return $q(n,i)}}class BSe extends Uu{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const r=as.dereference(n,"bool");return e.writeValue(r?1:0)}decode(e){return!!e.readValue()}}class zq extends Uu{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=xs(n);let r=e.writeValue(n.length);return r+=e.writeBytes(n),r}decode(e){return e.readBytes(e.readIndex(),!0)}}class USe extends zq{constructor(e){super("bytes",e)}decode(e){return dt(super.decode(e))}}class FSe extends Uu{constructor(n,r){let i="bytes"+String(n);super(i,i,r,!1);ve(this,"size");wt(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,r){let i=xs(as.dereference(r,this.type));return i.length!==this.size&&this._throwError("incorrect data length",r),n.writeBytes(i)}decode(n){return dt(n.readBytes(this.size))}}const $Se=new Uint8Array([]);class zSe extends Uu{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes($Se)}decode(e){return e.readBytes(0),null}}const VSe=BigInt(0),HSe=BigInt(1),qSe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class WSe extends Uu{constructor(n,r,i){const s=(r?"int":"uint")+n*8;super(s,s,i,!1);ve(this,"size");ve(this,"signed");wt(this,{size:n,signed:r},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,r){let i=pt(as.dereference(r,this.type)),s=_f(qSe,As*8);if(this.signed){let o=_f(s,this.size*8-1);(i>o||i<-(o+HSe))&&this._throwError("value out-of-bounds",r),i=JH(i,8*As)}else(i<VSe||i>_f(s,this.size*8))&&this._throwError("value out-of-bounds",r);return n.writeValue(i)}decode(n){let r=_f(n.readValue(),this.size*8);return this.signed&&(r=wA(r,this.size*8)),r}}class GSe extends zq{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,gl(as.dereference(n,"string")))}decode(e){return vA(super.decode(e))}}class fx extends Uu{constructor(n,r){let i=!1;const s=[];n.forEach(a=>{a.dynamic&&(i=!0),s.push(a.type)});const o="tuple("+s.join(",")+")";super("tuple",o,r,i);ve(this,"coders");wt(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(i=>{n.push(i.defaultValue())});const r=this.coders.reduce((i,s)=>{const o=s.localName;return o&&(i[o]||(i[o]=0),i[o]++),i},{});return this.coders.forEach((i,s)=>{let o=i.localName;!o||r[o]!==1||(o==="length"&&(o="_length"),n[o]==null&&(n[o]=n[s]))}),Object.freeze(n)}encode(n,r){const i=as.dereference(r,"tuple");return Fq(n,this.coders,i)}decode(n){return $q(n,this.coders)}}function Op(t){return Yr(gl(t))}var KSe="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const e7=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),t7=4;function YSe(t){let e=0;function n(){return t[e++]<<8|t[e++]}let r=n(),i=1,s=[0,1];for(let N=1;N<r;N++)s.push(i+=n());let o=n(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const d=31,h=2**d,f=h>>>1,m=f>>1,g=h-1;let E=0;for(let N=0;N<d;N++)E=E<<1|u();let y=[],w=0,x=h;for(;;){let N=Math.floor(((E-w+1)*i-1)/x),D=0,O=r;for(;O-D>1;){let $=D+O>>>1;N<s[$]?O=$:D=$}if(D==0)break;y.push(D);let P=w+Math.floor(x*s[D]/i),L=w+Math.floor(x*s[D+1]/i)-1;for(;!((P^L)&f);)E=E<<1&g|u(),P=P<<1&g,L=L<<1&g|1;for(;P&~L&m;)E=E&f|E<<1&g>>>1|u(),P=P<<1^f,L=(L^f)<<1|f|1;w=P,x=1+L-P}let C=r-4;return y.map(N=>{switch(N-C){case 3:return C+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return C+256+(t[a++]<<8|t[a++]);case 1:return C+t[a++];default:return N-1}})}function JSe(t){let e=0;return()=>t[e++]}function Vq(t){return JSe(YSe(QSe(t)))}function QSe(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((i,s)=>e[i.charCodeAt(0)]=s);let n=t.length,r=new Uint8Array(6*n>>3);for(let i=0,s=0,o=0,a=0;i<n;i++)a=a<<6|e[t.charCodeAt(i)],o+=6,o>=8&&(r[s++]=a>>(o-=8));return r}function ZSe(t){return t&1?~t>>1:t>>1}function XSe(t,e){let n=Array(t);for(let r=0,i=0;r<t;r++)n[r]=i+=ZSe(e());return n}function wb(t,e=0){let n=[];for(;;){let r=t(),i=t();if(!i)break;e+=r;for(let s=0;s<i;s++)n.push(e+s);e+=i+1}return n}function Hq(t){return vb(()=>{let e=wb(t);if(e.length)return e})}function qq(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(eCe(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(tCe(n,t))}return e.flat()}function vb(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function Wq(t,e,n){let r=Array(t).fill().map(()=>[]);for(let i=0;i<e;i++)XSe(t,n).forEach((s,o)=>r[o].push(s));return r}function eCe(t,e){let n=1+e(),r=e(),i=vb(e);return Wq(i.length,1+t,e).flatMap((o,a)=>{let[c,...l]=o;return Array(i[a]).fill().map((u,d)=>{let h=d*r;return[c+d*n,l.map(f=>f+h)]})})}function tCe(t,e){let n=1+e();return Wq(n,1+t,e).map(i=>[i[0],i.slice(1)])}function nCe(t){let e=[],n=wb(t);return i(r([]),[]),e;function r(s){let o=t(),a=vb(()=>{let c=wb(t).map(l=>n[l]);if(c.length)return r(c)});return{S:o,B:a,Q:s}}function i({S:s,B:o},a,c){if(!(s&4&&c===a[a.length-1])){s&2&&(c=a[a.length-1]),s&1&&e.push(a);for(let l of o)for(let u of l.Q)i(l,[...a,u],c)}}}function rCe(t){return t.toString(16).toUpperCase().padStart(2,"0")}function Gq(t){return`{${rCe(t)}}`}function iCe(t){let e=[];for(let n=0,r=t.length;n<r;){let i=t.codePointAt(n);n+=i<65536?1:2,e.push(i)}return e}function Py(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let r=[];for(let i=0;i<n;)r.push(String.fromCodePoint(...t.slice(i,i+=4096)));return r.join("")}function sCe(t,e){let n=t.length,r=n-e.length;for(let i=0;r==0&&i<n;i++)r=t[i]-e[i];return r}var oCe="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const bb=44032,EA=4352,AA=4449,SA=4519,Kq=19,Yq=21,Iy=28,CA=Yq*Iy,aCe=Kq*CA,cCe=bb+aCe,lCe=EA+Kq,uCe=AA+Yq,dCe=SA+Iy;function gw(t){return t>>24&255}function Jq(t){return t&16777215}let K4,n7,Y4,Qx;function hCe(){let t=Vq(oCe);K4=new Map(Hq(t).flatMap((e,n)=>e.map(r=>[r,n+1<<24]))),n7=new Set(wb(t)),Y4=new Map,Qx=new Map;for(let[e,n]of qq(t)){if(!n7.has(e)&&n.length==2){let[r,i]=n,s=Qx.get(r);s||(s=new Map,Qx.set(r,s)),s.set(i,e)}Y4.set(e,n.reverse())}}function Qq(t){return t>=bb&&t<cCe}function fCe(t,e){if(t>=EA&&t<lCe&&e>=AA&&e<uCe)return bb+(t-EA)*CA+(e-AA)*Iy;if(Qq(t)&&e>SA&&e<dCe&&(t-bb)%Iy==0)return t+(e-SA);{let n=Qx.get(t);return n&&(n=n.get(e),n)?n:-1}}function Zq(t){K4||hCe();let e=[],n=[],r=!1;function i(s){let o=K4.get(s);o&&(r=!0,s|=o),e.push(s)}for(let s of t)for(;;){if(s<128)e.push(s);else if(Qq(s)){let o=s-bb,a=o/CA|0,c=o%CA/Iy|0,l=o%Iy;i(EA+a),i(AA+c),l>0&&i(SA+l)}else{let o=Y4.get(s);o?n.push(...o):i(s)}if(!n.length)break;s=n.pop()}if(r&&e.length>1){let s=gw(e[0]);for(let o=1;o<e.length;o++){let a=gw(e[o]);if(a==0||s<=a){s=a;continue}let c=o-1;for(;;){let l=e[c+1];if(e[c+1]=e[c],e[c]=l,!c||(s=gw(e[--c]),s<=a))break}s=gw(e[o])}}return e}function pCe(t){let e=[],n=[],r=-1,i=0;for(let s of t){let o=gw(s),a=Jq(s);if(r==-1)o==0?r=a:e.push(a);else if(i>0&&i>=o)o==0?(e.push(r,...n),n.length=0,r=a):n.push(a),i=o;else{let c=fCe(r,a);c>=0?r=c:i==0&&o==0?(e.push(r),r=a):(n.push(a),i=o)}}return r>=0&&e.push(r,...n),e}function Xq(t){return Zq(t).map(Jq)}function mCe(t){return pCe(Zq(t))}const r7=45,eW=".",tW=65039,nW=1,NA=t=>Array.from(t);function xb(t,e){return t.P.has(e)||t.Q.has(e)}class gCe extends Array{get is_emoji(){return!0}}let J4,rW,If,Q4,iW,s0,J_,ug,lf,i7,Z4;function Xk(){if(J4)return;let t=Vq(KSe);const e=()=>wb(t),n=()=>new Set(e()),r=(u,d)=>d.forEach(h=>u.add(h));J4=new Map(qq(t)),rW=n(),If=e(),Q4=new Set(e().map(u=>If[u])),If=new Set(If),iW=n(),n();let i=Hq(t),s=t();const o=()=>{let u=new Set;return e().forEach(d=>r(u,i[d])),r(u,e()),u};s0=vb(u=>{let d=vb(t).map(h=>h+96);if(d.length){let h=u>=s;d[0]-=32,d=Py(d),h&&(d=`Restricted[${d}]`);let f=o(),m=o(),g=!t();return{N:d,P:f,Q:m,M:g,R:h}}}),J_=n(),ug=new Map;let a=e().concat(NA(J_)).sort((u,d)=>u-d);a.forEach((u,d)=>{let h=t(),f=a[d]=h?a[d-h]:{V:[],M:new Map};f.V.push(u),J_.has(u)||ug.set(u,f)});for(let{V:u,M:d}of new Set(ug.values())){let h=[];for(let m of u){let g=s0.filter(y=>xb(y,m)),E=h.find(({G:y})=>g.some(w=>y.has(w)));E||(E={G:new Set,V:[]},h.push(E)),E.V.push(m),r(E.G,g)}let f=h.flatMap(m=>NA(m.G));for(let{G:m,V:g}of h){let E=new Set(f.filter(y=>!m.has(y)));for(let y of g)d.set(y,E)}}lf=new Set;let c=new Set;const l=u=>lf.has(u)?c.add(u):lf.add(u);for(let u of s0){for(let d of u.P)l(d);for(let d of u.Q)l(d)}for(let u of lf)!ug.has(u)&&!c.has(u)&&ug.set(u,nW);r(lf,Xq(lf)),i7=nCe(t).map(u=>gCe.from(u)).sort(sCe),Z4=new Map;for(let u of i7){let d=[Z4];for(let h of u){let f=d.map(m=>{let g=m.get(h);return g||(g=new Map,m.set(h,g)),g});h===tW?d.push(...f):d=f}for(let h of d)h.V=u}}function e6(t){return(sW(t)?"":`${t6(VS([t]))} `)+Gq(t)}function t6(t){return`"${t}"`}function yCe(t){if(t.length>=4&&t[2]==r7&&t[3]==r7)throw new Error(`invalid label extension: "${Py(t.slice(0,4))}"`)}function wCe(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function vCe(t){let e=t[0],n=e7.get(e);if(n)throw Yw(`leading ${n}`);let r=t.length,i=-1;for(let s=1;s<r;s++){e=t[s];let o=e7.get(e);if(o){if(i==s)throw Yw(`${n} + ${o}`);i=s+1,n=o}}if(i==r)throw Yw(`trailing ${n}`)}function VS(t,e=1/0,n=Gq){let r=[];bCe(t[0])&&r.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let i=0,s=t.length;for(let o=0;o<s;o++){let a=t[o];sW(a)&&(r.push(Py(t.slice(i,o))),r.push(n(a)),i=o+1)}return r.push(Py(t.slice(i,s))),r.join("")}function bCe(t){return Xk(),If.has(t)}function sW(t){return Xk(),iW.has(t)}function xCe(t){return CCe(ECe(t,mCe,PCe))}function ECe(t,e,n){if(!t)return[];Xk();let r=0;return t.split(eW).map(i=>{let s=iCe(i),o={input:s,offset:r};r+=s.length+1;try{let a=o.tokens=_Ce(s,e,n),c=a.length,l;if(!c)throw new Error("empty label");let u=o.output=a.flat();if(wCe(u),!(o.emoji=c>1||a[0].is_emoji)&&u.every(h=>h<128))yCe(u),l="ASCII";else{let h=a.flatMap(f=>f.is_emoji?[]:f);if(!h.length)l="Emoji";else{if(If.has(u[0]))throw Yw("leading combining mark");for(let g=1;g<c;g++){let E=a[g];if(!E.is_emoji&&If.has(E[0]))throw Yw(`emoji + combining mark: "${Py(a[g-1])} + ${VS([E[0]])}"`)}vCe(u);let f=NA(new Set(h)),[m]=SCe(f);NCe(m,h),ACe(m,f),l=m.N}}o.type=l}catch(a){o.error=a}return o})}function ACe(t,e){let n,r=[];for(let i of e){let s=ug.get(i);if(s===nW)return;if(s){let o=s.M.get(i);if(n=n?n.filter(a=>o.has(a)):NA(o),!n.length)return}else r.push(i)}if(n){for(let i of n)if(r.every(s=>xb(i,s)))throw new Error(`whole-script confusable: ${t.N}/${i.N}`)}}function SCe(t){let e=s0;for(let n of t){let r=e.filter(i=>xb(i,n));if(!r.length)throw s0.some(i=>xb(i,n))?aW(e[0],n):oW(n);if(e=r,r.length==1)break}return e}function CCe(t){return t.map(({input:e,error:n,output:r})=>{if(n){let i=n.message;throw new Error(t.length==1?i:`Invalid label ${t6(VS(e,63))}: ${i}`)}return Py(r)}).join(eW)}function oW(t){return new Error(`disallowed character: ${e6(t)}`)}function aW(t,e){let n=e6(e),r=s0.find(i=>i.P.has(e));return r&&(n=`${r.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function Yw(t){return new Error(`illegal placement: ${t}`)}function NCe(t,e){for(let n of e)if(!xb(t,n))throw aW(t,n);if(t.M){let n=Xq(e);for(let r=1,i=n.length;r<i;r++)if(Q4.has(n[r])){let s=r+1;for(let o;s<i&&Q4.has(o=n[s]);s++)for(let a=r;a<s;a++)if(n[a]==o)throw new Error(`duplicate non-spacing marks: ${e6(o)}`);if(s-r>t7)throw new Error(`excessive non-spacing marks: ${t6(VS(n.slice(r-1,s)))} (${s-r}/${t7})`);r=s}}}function _Ce(t,e,n){let r=[],i=[];for(t=t.slice().reverse();t.length;){let s=ICe(t);if(s)i.length&&(r.push(e(i)),i=[]),r.push(n(s));else{let o=t.pop();if(lf.has(o))i.push(o);else{let a=J4.get(o);if(a)i.push(...a);else if(!rW.has(o))throw oW(o)}}}return i.length&&r.push(e(i)),r}function PCe(t){return t.filter(e=>e!=tW)}function ICe(t,e){let n=Z4,r,i=t.length;for(;i&&(n=n.get(t[--i]),!!n);){let{V:s}=n;s&&(r=s,t.length=i)}return r}const cW=new Uint8Array(32);cW.fill(0);function s7(t){return fe(t.length!==0,"invalid ENS name; empty component","comp",t),t}function lW(t){const e=gl(TCe(t)),n=[];if(t.length===0)return n;let r=0;for(let i=0;i<e.length;i++)e[i]===46&&(n.push(s7(e.slice(r,i))),r=i+1);return fe(r<e.length,"invalid ENS name; empty component","name",t),n.push(s7(e.slice(r))),n}function TCe(t){try{if(t.length===0)throw new Error("empty label");return xCe(t)}catch(e){fe(!1,`invalid ENS name (${e.message})`,"name",t)}}function X4(t){fe(typeof t=="string","invalid ENS name; not a string","name",t),fe(t.length,"invalid ENS name (empty label)","name",t);let e=cW;const n=lW(t);for(;n.length;)e=Yr(Fr([e,Yr(n.pop())]));return dt(e)}function kCe(t,e){const n=e;return fe(n<=255,"DNS encoded label cannot exceed 255","length",n),dt(Fr(lW(t).map(r=>{fe(r.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const i=new Uint8Array(r.length+1);return i.set(r,1),i[0]=i.length-1,i})))+"00"}function Q_(t,e){return{address:Dn(t),storageKeys:e.map((n,r)=>(fe(Hn(n,32),"invalid slot",`storageKeys[${r}]`,n),n.toLowerCase()))}}function Zp(t){if(Array.isArray(t))return t.map((n,r)=>Array.isArray(n)?(fe(n.length===2,"invalid slot set",`value[${r}]`,n),Q_(n[0],n[1])):(fe(n!=null&&typeof n=="object","invalid address-slot set","value",t),Q_(n.address,n.storageKeys)));fe(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const r=t[n].reduce((i,s)=>(i[s]=!0,i),{});return Q_(n,Object.keys(r).sort())});return e.sort((n,r)=>n.address.localeCompare(r.address)),e}function OCe(t){let e;return typeof t=="string"?e=yb.computePublicKey(t,!1):e=t.publicKey,Dn(Yr("0x"+e.substring(4)).substring(26))}function RCe(t,e){return OCe(yb.recoverPublicKey(t,e))}const pi=BigInt(0),LCe=BigInt(2),DCe=BigInt(27),jCe=BigInt(28),MCe=BigInt(35),BCe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Z_=4096*32;function o7(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Wy(e).substring(4),"0x"+n}function HS(t){return t==="0x"?null:Dn(t)}function n6(t,e){try{return Zp(t)}catch(n){fe(!1,n.message,e,t)}}function y2(t,e){return t==="0x"?0:qt(t,e)}function Ur(t,e){if(t==="0x")return pi;const n=pt(t,e);return fe(n<=BCe,"value exceeds uint size",e,n),n}function tr(t,e){const n=pt(t,"value"),r=Es(n);return fe(r.length<=32,"value too large",`tx.${e}`,n),r}function r6(t){return Zp(t).map(e=>[e.address,e.storageKeys])}function UCe(t,e){fe(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)fe(Hn(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function FCe(t){const e=US(t);fe(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:y2(e[0],"nonce"),gasPrice:Ur(e[1],"gasPrice"),gasLimit:Ur(e[2],"gasLimit"),to:HS(e[3]),value:Ur(e[4],"value"),data:dt(e[5]),chainId:pi};if(e.length===6)return n;const r=Ur(e[6],"v"),i=Ur(e[7],"r"),s=Ur(e[8],"s");if(i===pi&&s===pi)n.chainId=r;else{let o=(r-MCe)/LCe;o<pi&&(o=pi),n.chainId=o,fe(o!==pi||r===DCe||r===jCe,"non-canonical legacy v","v",e[6]),n.signature=mc.from({r:Tp(e[7],32),s:Tp(e[8],32),v:r})}return n}function $Ce(t,e){const n=[tr(t.nonce,"nonce"),tr(t.gasPrice||0,"gasPrice"),tr(t.gasLimit,"gasLimit"),t.to||"0x",tr(t.value,"value"),t.data];let r=pi;if(t.chainId!=pi)r=pt(t.chainId,"tx.chainId"),fe(!e||e.networkV==null||e.legacyChainId===r,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const s=t.signature.legacyChainId;s!=null&&(r=s)}if(!e)return r!==pi&&(n.push(Es(r)),n.push("0x"),n.push("0x")),kp(n);let i=BigInt(27+e.yParity);return r!==pi?i=mc.getChainIdV(r,e.v):BigInt(e.v)!==i&&fe(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Es(i)),n.push(Es(e.r)),n.push(Es(e.s)),kp(n)}function i6(t,e){let n;try{if(n=y2(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{fe(!1,"invalid yParity","yParity",e[0])}const r=Tp(e[1],32),i=Tp(e[2],32),s=mc.from({r,s:i,yParity:n});t.signature=s}function zCe(t){const e=US(an(t).slice(1));fe(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",dt(t));const n={type:2,chainId:Ur(e[0],"chainId"),nonce:y2(e[1],"nonce"),maxPriorityFeePerGas:Ur(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ur(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ur(e[4],"gasLimit"),to:HS(e[5]),value:Ur(e[6],"value"),data:dt(e[7]),accessList:n6(e[8],"accessList")};return e.length===9||i6(n,e.slice(9)),n}function VCe(t,e){const n=[tr(t.chainId,"chainId"),tr(t.nonce,"nonce"),tr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),tr(t.maxFeePerGas||0,"maxFeePerGas"),tr(t.gasLimit,"gasLimit"),t.to||"0x",tr(t.value,"value"),t.data,r6(t.accessList||[])];return e&&(n.push(tr(e.yParity,"yParity")),n.push(Es(e.r)),n.push(Es(e.s))),Fr(["0x02",kp(n)])}function HCe(t){const e=US(an(t).slice(1));fe(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",dt(t));const n={type:1,chainId:Ur(e[0],"chainId"),nonce:y2(e[1],"nonce"),gasPrice:Ur(e[2],"gasPrice"),gasLimit:Ur(e[3],"gasLimit"),to:HS(e[4]),value:Ur(e[5],"value"),data:dt(e[6]),accessList:n6(e[7],"accessList")};return e.length===8||i6(n,e.slice(8)),n}function qCe(t,e){const n=[tr(t.chainId,"chainId"),tr(t.nonce,"nonce"),tr(t.gasPrice||0,"gasPrice"),tr(t.gasLimit,"gasLimit"),t.to||"0x",tr(t.value,"value"),t.data,r6(t.accessList||[])];return e&&(n.push(tr(e.yParity,"recoveryParam")),n.push(Es(e.r)),n.push(Es(e.s))),Fr(["0x01",kp(n)])}function WCe(t){let e=US(an(t).slice(1)),n="3",r=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const s=e[1],o=e[2],a=e[3];fe(Array.isArray(s),"invalid network format: blobs not an array","fields[1]",s),fe(Array.isArray(o),"invalid network format: commitments not an array","fields[2]",o),fe(Array.isArray(a),"invalid network format: proofs not an array","fields[3]",a),fe(s.length===o.length,"invalid network format: blobs/commitments length mismatch","fields",e),fe(s.length===a.length,"invalid network format: blobs/proofs length mismatch","fields",e),r=[];for(let c=0;c<e[1].length;c++)r.push({data:s[c],commitment:o[c],proof:a[c]});e=e[0]}fe(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",dt(t));const i={type:3,chainId:Ur(e[0],"chainId"),nonce:y2(e[1],"nonce"),maxPriorityFeePerGas:Ur(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Ur(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Ur(e[4],"gasLimit"),to:HS(e[5]),value:Ur(e[6],"value"),data:dt(e[7]),accessList:n6(e[8],"accessList"),maxFeePerBlobGas:Ur(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};r&&(i.blobs=r),fe(i.to!=null,`invalid address for transaction type: ${n}`,"data",t),fe(Array.isArray(i.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let s=0;s<i.blobVersionedHashes.length;s++)fe(Hn(i.blobVersionedHashes[s],32),`invalid blobVersionedHash at index ${s}: must be length 32`,"data",t);return e.length===11||i6(i,e.slice(11)),i}function GCe(t,e,n){const r=[tr(t.chainId,"chainId"),tr(t.nonce,"nonce"),tr(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),tr(t.maxFeePerGas||0,"maxFeePerGas"),tr(t.gasLimit,"gasLimit"),t.to||gb,tr(t.value,"value"),t.data,r6(t.accessList||[]),tr(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),UCe(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(r.push(tr(e.yParity,"yParity")),r.push(Es(e.r)),r.push(Es(e.s)),n)?Fr(["0x03",kp([r,n.map(i=>i.data),n.map(i=>i.commitment),n.map(i=>i.proof)])]):Fr(["0x03",kp(r)])}var Hc,b0,x0,E0,A0,S0,C0,N0,_0,P0,I0,T0,zf,Td,cu,kd,k0,Zx;const eu=class eu{constructor(){Ee(this,k0);Ee(this,Hc);Ee(this,b0);Ee(this,x0);Ee(this,E0);Ee(this,A0);Ee(this,S0);Ee(this,C0);Ee(this,N0);Ee(this,_0);Ee(this,P0);Ee(this,I0);Ee(this,T0);Ee(this,zf);Ee(this,Td);Ee(this,cu);Ee(this,kd);te(this,Hc,null),te(this,b0,null),te(this,E0,0),te(this,A0,pi),te(this,S0,null),te(this,C0,null),te(this,N0,null),te(this,x0,"0x"),te(this,_0,pi),te(this,P0,pi),te(this,I0,null),te(this,T0,null),te(this,zf,null),te(this,Td,null),te(this,kd,null),te(this,cu,null)}get type(){return M(this,Hc)}set type(e){switch(e){case null:te(this,Hc,null);break;case 0:case"legacy":te(this,Hc,0);break;case 1:case"berlin":case"eip-2930":te(this,Hc,1);break;case 2:case"london":case"eip-1559":te(this,Hc,2);break;case 3:case"cancun":case"eip-4844":te(this,Hc,3);break;default:fe(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=M(this,b0);return e==null&&this.type===3?gb:e}set to(e){te(this,b0,e==null?null:Dn(e))}get nonce(){return M(this,E0)}set nonce(e){te(this,E0,qt(e,"value"))}get gasLimit(){return M(this,A0)}set gasLimit(e){te(this,A0,pt(e))}get gasPrice(){const e=M(this,S0);return e==null&&(this.type===0||this.type===1)?pi:e}set gasPrice(e){te(this,S0,e==null?null:pt(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=M(this,C0);return e??(this.type===2||this.type===3?pi:null)}set maxPriorityFeePerGas(e){te(this,C0,e==null?null:pt(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=M(this,N0);return e??(this.type===2||this.type===3?pi:null)}set maxFeePerGas(e){te(this,N0,e==null?null:pt(e,"maxFeePerGas"))}get data(){return M(this,x0)}set data(e){te(this,x0,dt(e))}get value(){return M(this,_0)}set value(e){te(this,_0,pt(e,"value"))}get chainId(){return M(this,P0)}set chainId(e){te(this,P0,pt(e))}get signature(){return M(this,I0)||null}set signature(e){te(this,I0,e==null?null:mc.from(e))}get accessList(){const e=M(this,T0)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){te(this,T0,e==null?null:Zp(e))}get maxFeePerBlobGas(){const e=M(this,zf);return e==null&&this.type===3?pi:e}set maxFeePerBlobGas(e){te(this,zf,e==null?null:pt(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=M(this,Td);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){fe(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)fe(Hn(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}te(this,Td,e)}get blobs(){return M(this,kd)==null?null:M(this,kd).map(e=>Object.assign({},e))}set blobs(e){if(e==null){te(this,kd,null);return}const n=[],r=[];for(let i=0;i<e.length;i++){const s=e[i];if(Vk(s)){Re(M(this,cu),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let o=an(s);if(fe(o.length<=Z_,"blob is too large",`blobs[${i}]`,s),o.length!==Z_){const l=new Uint8Array(Z_);l.set(o),o=l}const a=M(this,cu).blobToKzgCommitment(o),c=dt(M(this,cu).computeBlobKzgProof(o,a));n.push({data:dt(o),commitment:dt(a),proof:c}),r.push(o7(1,a))}else{const o=dt(s.commitment);n.push({data:dt(s.data),commitment:o,proof:dt(s.proof)}),r.push(o7(1,o))}}te(this,kd,n),te(this,Td,r)}get kzg(){return M(this,cu)}set kzg(e){te(this,cu,e)}get hash(){return this.signature==null?null:Yr(Fe(this,k0,Zx).call(this,!0,!1))}get unsignedHash(){return Yr(this.unsignedSerialized)}get from(){return this.signature==null?null:RCe(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:yb.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return Fe(this,k0,Zx).call(this,!0,!0)}get unsignedSerialized(){return Fe(this,k0,Zx).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,r=this.accessList!=null,i=M(this,zf)!=null||M(this,Td);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&Re(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),Re(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),Re(this.type!==0||!r,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const s=[];return this.type!=null?s.push(this.type):n?s.push(2):e?(s.push(1),r||s.push(0)):r?(s.push(1),s.push(2)):(i&&this.to||(s.push(0),s.push(1),s.push(2)),s.push(3)),s.sort(),s}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return eu.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new eu;if(typeof e=="string"){const r=an(e);if(r[0]>=127)return eu.from(FCe(r));switch(r[0]){case 1:return eu.from(HCe(r));case 2:return eu.from(zCe(r));case 3:return eu.from(WCe(r))}Re(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new eu;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=mc.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(fe(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),fe(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(fe(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),fe(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};Hc=new WeakMap,b0=new WeakMap,x0=new WeakMap,E0=new WeakMap,A0=new WeakMap,S0=new WeakMap,C0=new WeakMap,N0=new WeakMap,_0=new WeakMap,P0=new WeakMap,I0=new WeakMap,T0=new WeakMap,zf=new WeakMap,Td=new WeakMap,cu=new WeakMap,kd=new WeakMap,k0=new WeakSet,Zx=function(e,n){Re(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const r=e?this.signature:null;switch(this.inferType()){case 0:return $Ce(this,r);case 1:return qCe(this,r);case 2:return VCe(this,r);case 3:return GCe(this,r,n?this.blobs:null)}Re(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let _A=eu;const uW=new Uint8Array(32);uW.fill(0);const KCe=BigInt(-1),dW=BigInt(0),hW=BigInt(1),YCe=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function JCe(t){const e=an(t),n=e.length%32;return n?Fr([e,uW.slice(n)]):dt(e)}const QCe=Ch(hW,32),ZCe=Ch(dW,32),a7={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},X_=["name","version","chainId","verifyingContract","salt"];function c7(t){return function(e){return fe(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const XCe={name:c7("name"),version:c7("version"),chainId:function(t){const e=pt(t,"domain.chainId");return fe(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):Dg(e)},verifyingContract:function(t){try{return Dn(t).toLowerCase()}catch{}fe(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=an(t,"domain.salt");return fe(e.length===32,'invalid domain value "salt"',"domain.salt",t),dt(e)}};function e3(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",r=parseInt(e[2]);fe(r%8===0&&r!==0&&r<=256&&e[2]===String(r),"invalid numeric width","type",t);const i=_f(YCe,n?r-1:r),s=n?(i+hW)*KCe:dW;return function(o){const a=pt(o,"value");return fe(a>=s&&a<=i,`value out-of-bounds for ${t}`,"value",a),Ch(n?JH(a,256):a,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return fe(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(r){const i=an(r);return fe(i.length===n,`invalid length for ${t}`,"value",r),JCe(r)}}}switch(t){case"address":return function(e){return Tp(Dn(e),32)};case"bool":return function(e){return e?QCe:ZCe};case"bytes":return function(e){return Yr(e)};case"string":return function(e){return Op(e)}}return null}function l7(t,e){return`${t}(${e.map(({name:n,type:r})=>r+" "+n).join(",")})`}function px(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var Pb,lu,O0,LA,fW;const sa=class sa{constructor(e){Ee(this,LA);ve(this,"primaryType");Ee(this,Pb);Ee(this,lu);Ee(this,O0);te(this,lu,new Map),te(this,O0,new Map);const n=new Map,r=new Map,i=new Map,s={};Object.keys(e).forEach(c=>{s[c]=e[c].map(({name:l,type:u})=>{let{base:d,index:h}=px(u);return d==="int"&&!e.int&&(d="int256"),d==="uint"&&!e.uint&&(d="uint256"),{name:l,type:d+(h||"")}}),n.set(c,new Set),r.set(c,[]),i.set(c,new Set)}),te(this,Pb,JSON.stringify(s));for(const c in s){const l=new Set;for(const u of s[c]){fe(!l.has(u.name),`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(c)}`,"types",e),l.add(u.name);const d=px(u.type).base;fe(d!==c,`circular type reference to ${JSON.stringify(d)}`,"types",e),!e3(d)&&(fe(r.has(d),`unknown type ${JSON.stringify(d)}`,"types",e),r.get(d).push(c),n.get(c).add(d))}}const o=Array.from(r.keys()).filter(c=>r.get(c).length===0);fe(o.length!==0,"missing primary type","types",e),fe(o.length===1,`ambiguous primary types or unused types: ${o.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),wt(this,{primaryType:o[0]});function a(c,l){fe(!l.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),l.add(c);for(const u of n.get(c))if(r.has(u)){a(u,l);for(const d of l)i.get(d).add(u)}l.delete(c)}a(this.primaryType,new Set);for(const[c,l]of i){const u=Array.from(l);u.sort(),M(this,lu).set(c,l7(c,s[c])+u.map(d=>l7(d,s[d])).join(""))}}get types(){return JSON.parse(M(this,Pb))}getEncoder(e){let n=M(this,O0).get(e);return n||(n=Fe(this,LA,fW).call(this,e),M(this,O0).set(e,n)),n}encodeType(e){const n=M(this,lu).get(e);return fe(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return Yr(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,r){if(e3(e))return r(e,n);const i=px(e).array;if(i)return fe(i.count===-1||i.count===n.length,`array length mismatch; expected length ${i.count}`,"value",n),n.map(o=>this._visit(i.prefix,o,r));const s=this.types[e];if(s)return s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,n[a],r),o),{});fe(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new sa(e)}static getPrimaryType(e){return sa.from(e).primaryType}static hashStruct(e,n,r){return sa.from(n).hashStruct(e,r)}static hashDomain(e){const n=[];for(const r in e){if(e[r]==null)continue;const i=a7[r];fe(i,`invalid typed-data domain key: ${JSON.stringify(r)}`,"domain",e),n.push({name:r,type:i})}return n.sort((r,i)=>X_.indexOf(r.name)-X_.indexOf(i.name)),sa.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,r){return Fr(["0x1901",sa.hashDomain(e),sa.from(n).hash(r)])}static hash(e,n,r){return Yr(sa.encode(e,n,r))}static async resolveNames(e,n,r,i){e=Object.assign({},e);for(const a in e)e[a]==null&&delete e[a];const s={};e.verifyingContract&&!Hn(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=sa.from(n);o.visit(r,(a,c)=>(a==="address"&&!Hn(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=await i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),r=o.visit(r,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:r}}static getPayload(e,n,r){sa.hashDomain(e);const i={},s=[];X_.forEach(c=>{const l=e[c];l!=null&&(i[c]=XCe[c](l),s.push({name:c,type:a7[c]}))});const o=sa.from(n);n=o.types;const a=Object.assign({},n);return fe(a.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),a.EIP712Domain=s,o.encode(r),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(r,(c,l)=>{if(c.match(/^bytes(\d*)/))return dt(an(l));if(c.match(/^u?int/))return pt(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return fe(typeof l=="string","invalid string","value",l),l}fe(!1,"unsupported type","type",c)})}}};Pb=new WeakMap,lu=new WeakMap,O0=new WeakMap,LA=new WeakSet,fW=function(e){{const i=e3(e);if(i)return i}const n=px(e).array;if(n){const i=n.prefix,s=this.getEncoder(i);return o=>{fe(n.count===-1||n.count===o.length,`array length mismatch; expected length ${n.count}`,"value",o);let a=o.map(s);return M(this,lu).has(i)&&(a=a.map(Yr)),Yr(Fr(a))}}const r=this.types[e];if(r){const i=Op(M(this,lu).get(e));return s=>{const o=r.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return M(this,lu).has(c)?Yr(l):l});return o.unshift(i),Fr(o)}}fe(!1,`unknown type: ${e}`,"type",e)};let PA=sa;function Cs(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const eNe="external public payable override",tNe=Cs(eNe.split(" ")),pW="constant external internal payable private public pure view override",nNe=Cs(pW.split(" ")),mW="constructor error event fallback function receive struct",gW=Cs(mW.split(" ")),yW="calldata memory storage payable indexed",rNe=Cs(yW.split(" ")),iNe="tuple returns",sNe=[mW,yW,iNe,pW].join(" "),oNe=Cs(sNe.split(" ")),aNe={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},cNe=new RegExp("^(\\s*)"),lNe=new RegExp("^([0-9]+)"),uNe=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),wW=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),vW=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Pi,Za,Ib,eI;const DA=class DA{constructor(e){Ee(this,Ib);Ee(this,Pi);Ee(this,Za);te(this,Pi,0),te(this,Za,e.slice())}get offset(){return M(this,Pi)}get length(){return M(this,Za).length-M(this,Pi)}clone(){return new DA(M(this,Za))}reset(){te(this,Pi,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=Fe(this,Ib,eI).call(this,M(this,Pi)+1,e.match+1);return te(this,Pi,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;M(this,Pi)<e.match-1;){const r=this.peek().linkNext;n.push(Fe(this,Ib,eI).call(this,M(this,Pi)+1,r)),te(this,Pi,r)}return te(this,Pi,e.match+1),n}peek(){if(M(this,Pi)>=M(this,Za).length)throw new Error("out-of-bounds");return M(this,Za)[M(this,Pi)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return A1(this,Pi)._++,e}toString(){const e=[];for(let n=M(this,Pi);n<M(this,Za).length;n++){const r=M(this,Za)[n];e.push(`${r.type}:${r.text}`)}return`<TokenString ${e.join(" ")}>`}};Pi=new WeakMap,Za=new WeakMap,Ib=new WeakSet,eI=function(e=0,n=0){return new DA(M(this,Za).slice(e,n).map(r=>Object.freeze(Object.assign({},r,{match:r.match-e,linkBack:r.linkBack-e,linkNext:r.linkNext-e}))))};let gc=DA;function Rh(t){const e=[],n=o=>{const a=s<t.length?JSON.stringify(t[s]):"$EOI";throw new Error(`invalid token ${a} at ${s}: ${o}`)};let r=[],i=[],s=0;for(;s<t.length;){let o=t.substring(s),a=o.match(cNe);a&&(s+=a[1].length,o=t.substring(s));const c={depth:r.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:s,value:-1};e.push(c);let l=aNe[o[0]]||"";if(l){if(c.type=l,c.text=o[0],s++,l==="OPEN_PAREN")r.push(e.length-1),i.push(e.length-1);else if(l=="CLOSE_PAREN")r.length===0&&n("no matching open bracket"),c.match=r.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1;else if(l==="COMMA")c.linkBack=i.pop(),e[c.linkBack].linkNext=e.length-1,i.push(e.length-1);else if(l==="OPEN_BRACKET")c.type="BRACKET";else if(l==="CLOSE_BRACKET"){let u=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const d=e.pop().text;u=d+u,e[e.length-1].value=qt(d)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=u}continue}if(a=o.match(uNe),a){if(c.text=a[1],s+=c.text.length,oNe.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(vW)){c.type="TYPE";continue}c.type="ID";continue}if(a=o.match(lNe),a){c.text=a[1],c.type="NUMBER",s+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(o[0])} at position ${s}`)}return new gc(e.map(o=>Object.freeze(o)))}function u7(t,e){let n=[];for(const r in e.keys())t.has(r)&&n.push(r);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function qS(t,e){if(e.peekKeyword(gW)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function ju(t,e){const n=new Set;for(;;){const r=t.peekType("KEYWORD");if(r==null||e&&!e.has(r))break;if(t.pop(),n.has(r))throw new Error(`duplicate keywords: ${JSON.stringify(r)}`);n.add(r)}return Object.freeze(n)}function bW(t){let e=ju(t,nNe);return u7(e,Cs("constant payable nonpayable".split(" "))),u7(e,Cs("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Pu(t,e){return t.popParams().map(n=>Di.from(n,e))}function xW(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return pt(t.pop().text);throw new Error("invalid gas")}return null}function Rp(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const dNe=new RegExp(/^(.*)\[([0-9]*)\]$/);function d7(t){const e=t.match(vW);if(fe(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);fe(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);fe(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const hr={},to=Symbol.for("_ethers_internal"),h7="_ParamTypeInternal",f7="_ErrorInternal",p7="_EventInternal",m7="_ConstructorInternal",g7="_FallbackInternal",y7="_FunctionInternal",w7="_StructInternal";var R0,Xx;const oa=class oa{constructor(e,n,r,i,s,o,a,c){Ee(this,R0);ve(this,"name");ve(this,"type");ve(this,"baseType");ve(this,"indexed");ve(this,"components");ve(this,"arrayLength");ve(this,"arrayChildren");if(m2(e,hr,"ParamType"),Object.defineProperty(this,to,{value:h7}),o&&(o=Object.freeze(o.slice())),i==="array"){if(a==null||c==null)throw new Error("")}else if(a!=null||c!=null)throw new Error("");if(i==="tuple"){if(o==null)throw new Error("")}else if(o!=null)throw new Error("");wt(this,{name:n,type:r,baseType:i,indexed:s,components:o,arrayLength:a,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const r=this.name||"";if(this.isArray()){const s=JSON.parse(this.arrayChildren.format("json"));return s.name=r,s.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(s)}const i={type:this.baseType==="tuple"?"tuple":this.type,name:r};return typeof this.indexed=="boolean"&&(i.indexed=this.indexed),this.isTuple()&&(i.components=this.components.map(s=>JSON.parse(s.format(e)))),JSON.stringify(i)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(r=>r.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const r=this;return e.map(i=>r.arrayChildren.walk(i,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const r=this;return e.map((i,s)=>r.components[s].walk(i,n))}return n(this.type,e)}async walkAsync(e,n){const r=[],i=[e];return Fe(this,R0,Xx).call(this,r,e,n,s=>{i[0]=s}),r.length&&await Promise.all(r),i[0]}static from(e,n){if(oa.isParamType(e))return e;if(typeof e=="string")try{return oa.from(Rh(e),n)}catch{fe(!1,"invalid param type","obj",e)}else if(e instanceof gc){let a="",c="",l=null;ju(e,Cs(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",l=e.popParams().map(g=>oa.from(g)),a=`tuple(${l.map(g=>g.format()).join(",")})`):(a=d7(e.popType("TYPE")),c=a);let u=null,d=null;for(;e.length&&e.peekType("BRACKET");){const g=e.pop();u=new oa(hr,"",a,c,null,l,d,u),d=g.value,a+=g.text,c="array",l=null}let h=null;if(ju(e,rNe).has("indexed")){if(!n)throw new Error("");h=!0}const m=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new oa(hr,m,a,c,h,l,d,u)}const r=e.name;fe(!r||typeof r=="string"&&r.match(wW),"invalid name","obj.name",r);let i=e.indexed;i!=null&&(fe(n,"parameter cannot be indexed","obj.indexed",e.indexed),i=!!i);let s=e.type,o=s.match(dNe);if(o){const a=parseInt(o[2]||"-1"),c=oa.from({type:o[1],components:e.components});return new oa(hr,r||"",s,"array",i,null,a,c)}if(s==="tuple"||s.startsWith("tuple(")||s.startsWith("(")){const a=e.components!=null?e.components.map(l=>oa.from(l)):null;return new oa(hr,r||"",s,"tuple",i,a,null,null)}return s=d7(e.type),new oa(hr,r||"",s,s,i,null,null,null)}static isParamType(e){return e&&e[to]===h7}};R0=new WeakSet,Xx=function(e,n,r,i){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const o=this.arrayChildren,a=n.slice();a.forEach((c,l)=>{var u;Fe(u=o,R0,Xx).call(u,e,c,r,d=>{a[l]=d})}),i(a);return}if(this.isTuple()){const o=this.components;let a;if(Array.isArray(n))a=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");a=o.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(a.length!==this.components.length)throw new Error("array is wrong length");a.forEach((c,l)=>{var u;Fe(u=o[l],R0,Xx).call(u,e,c,r,d=>{a[l]=d})}),i(a);return}const s=r(this.type,n);s.then?e.push(async function(){i(await s)}()):i(s)};let Di=oa;class Lp{constructor(e,n,r){ve(this,"type");ve(this,"inputs");m2(e,hr,"Fragment"),r=Object.freeze(r.slice()),wt(this,{type:n,inputs:r})}static from(e){if(typeof e=="string"){try{Lp.from(JSON.parse(e))}catch{}return Lp.from(Rh(e))}if(e instanceof gc)switch(e.peekKeyword(gW)){case"constructor":return xu.from(e);case"error":return Ys.from(e);case"event":return nl.from(e);case"fallback":case"receive":return ru.from(e);case"function":return rl.from(e);case"struct":return up.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return xu.from(e);case"error":return Ys.from(e);case"event":return nl.from(e);case"fallback":case"receive":return ru.from(e);case"function":return rl.from(e);case"struct":return up.from(e)}Re(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}fe(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return xu.isFragment(e)}static isError(e){return Ys.isFragment(e)}static isEvent(e){return nl.isFragment(e)}static isFunction(e){return rl.isFragment(e)}static isStruct(e){return up.isFragment(e)}}class WS extends Lp{constructor(n,r,i,s){super(n,r,s);ve(this,"name");fe(typeof i=="string"&&i.match(wW),"invalid identifier","name",i),s=Object.freeze(s.slice()),wt(this,{name:i})}}function Eb(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class Ys extends WS{constructor(e,n,r){super(e,"error",n,r),Object.defineProperty(this,to,{value:f7})}get selector(){return Op(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(r=>JSON.parse(r.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+Eb(e,this.inputs)),n.join(" ")}static from(e){if(Ys.isFragment(e))return e;if(typeof e=="string")return Ys.from(Rh(e));if(e instanceof gc){const n=qS("error",e),r=Pu(e);return Rp(e),new Ys(hr,n,r)}return new Ys(hr,e.name,e.inputs?e.inputs.map(Di.from):[])}static isFragment(e){return e&&e[to]===f7}}class nl extends WS{constructor(n,r,i,s){super(n,"event",r,i);ve(this,"anonymous");Object.defineProperty(this,to,{value:p7}),wt(this,{anonymous:s})}get topicHash(){return Op(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("event"),r.push(this.name+Eb(n,this.inputs)),n!=="sighash"&&this.anonymous&&r.push("anonymous"),r.join(" ")}static getTopicHash(n,r){return r=(r||[]).map(s=>Di.from(s)),new nl(hr,n,r,!1).topicHash}static from(n){if(nl.isFragment(n))return n;if(typeof n=="string")try{return nl.from(Rh(n))}catch{fe(!1,"invalid event fragment","obj",n)}else if(n instanceof gc){const r=qS("event",n),i=Pu(n,!0),s=!!ju(n,Cs(["anonymous"])).has("anonymous");return Rp(n),new nl(hr,r,i,s)}return new nl(hr,n.name,n.inputs?n.inputs.map(r=>Di.from(r,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[to]===p7}}class xu extends Lp{constructor(n,r,i,s,o){super(n,r,i);ve(this,"payable");ve(this,"gas");Object.defineProperty(this,to,{value:m7}),wt(this,{payable:s,gas:o})}format(n){if(Re(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n)))});const r=[`constructor${Eb(n,this.inputs)}`];return this.payable&&r.push("payable"),this.gas!=null&&r.push(`@${this.gas.toString()}`),r.join(" ")}static from(n){if(xu.isFragment(n))return n;if(typeof n=="string")try{return xu.from(Rh(n))}catch{fe(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof gc){ju(n,Cs(["constructor"]));const r=Pu(n),i=!!ju(n,tNe).has("payable"),s=xW(n);return Rp(n),new xu(hr,"constructor",r,i,s)}return new xu(hr,"constructor",n.inputs?n.inputs.map(Di.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[to]===m7}}class ru extends Lp{constructor(n,r,i){super(n,"fallback",r);ve(this,"payable");Object.defineProperty(this,to,{value:g7}),wt(this,{payable:i})}format(n){const r=this.inputs.length===0?"receive":"fallback";if(n==="json"){const i=this.payable?"payable":"nonpayable";return JSON.stringify({type:r,stateMutability:i})}return`${r}()${this.payable?" payable":""}`}static from(n){if(ru.isFragment(n))return n;if(typeof n=="string")try{return ru.from(Rh(n))}catch{fe(!1,"invalid fallback fragment","obj",n)}else if(n instanceof gc){const r=n.toString(),i=n.peekKeyword(Cs(["fallback","receive"]));if(fe(i,"type must be fallback or receive","obj",r),n.popKeyword(Cs(["fallback","receive"]))==="receive"){const c=Pu(n);return fe(c.length===0,"receive cannot have arguments","obj.inputs",c),ju(n,Cs(["payable"])),Rp(n),new ru(hr,[],!0)}let o=Pu(n);o.length?fe(o.length===1&&o[0].type==="bytes","invalid fallback inputs","obj.inputs",o.map(c=>c.format("minimal")).join(", ")):o=[Di.from("bytes")];const a=bW(n);if(fe(a==="nonpayable"||a==="payable","fallback cannot be constants","obj.stateMutability",a),ju(n,Cs(["returns"])).has("returns")){const c=Pu(n);fe(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(l=>l.format("minimal")).join(", "))}return Rp(n),new ru(hr,o,a==="payable")}if(n.type==="receive")return new ru(hr,[],!0);if(n.type==="fallback"){const r=[Di.from("bytes")],i=n.stateMutability==="payable";return new ru(hr,r,i)}fe(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[to]===g7}}class rl extends WS{constructor(n,r,i,s,o,a){super(n,"function",r,s);ve(this,"constant");ve(this,"outputs");ve(this,"stateMutability");ve(this,"payable");ve(this,"gas");Object.defineProperty(this,to,{value:y7}),o=Object.freeze(o.slice()),wt(this,{constant:i==="view"||i==="pure",gas:a,outputs:o,payable:i==="payable",stateMutability:i})}get selector(){return Op(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(i=>JSON.parse(i.format(n))),outputs:this.outputs.map(i=>JSON.parse(i.format(n)))});const r=[];return n!=="sighash"&&r.push("function"),r.push(this.name+Eb(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&r.push(this.stateMutability),this.outputs&&this.outputs.length&&(r.push("returns"),r.push(Eb(n,this.outputs))),this.gas!=null&&r.push(`@${this.gas.toString()}`)),r.join(" ")}static getSelector(n,r){return r=(r||[]).map(s=>Di.from(s)),new rl(hr,n,"view",r,[],null).selector}static from(n){if(rl.isFragment(n))return n;if(typeof n=="string")try{return rl.from(Rh(n))}catch{fe(!1,"invalid function fragment","obj",n)}else if(n instanceof gc){const i=qS("function",n),s=Pu(n),o=bW(n);let a=[];ju(n,Cs(["returns"])).has("returns")&&(a=Pu(n));const c=xW(n);return Rp(n),new rl(hr,i,o,s,a,c)}let r=n.stateMutability;return r==null&&(r="payable",typeof n.constant=="boolean"?(r="view",n.constant||(r="payable",typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(r="nonpayable")),new rl(hr,n.name,r,n.inputs?n.inputs.map(Di.from):[],n.outputs?n.outputs.map(Di.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[to]===y7}}class up extends WS{constructor(e,n,r){super(e,"struct",n,r),Object.defineProperty(this,to,{value:w7})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return up.from(Rh(e))}catch{fe(!1,"invalid struct fragment","obj",e)}else if(e instanceof gc){const n=qS("struct",e),r=Pu(e);return Rp(e),new up(hr,n,r)}return new up(hr,e.name,e.inputs?e.inputs.map(Di.from):[])}static isFragment(e){return e&&e[to]===w7}}const bc=new Map;bc.set(0,"GENERIC_PANIC");bc.set(1,"ASSERT_FALSE");bc.set(17,"OVERFLOW");bc.set(18,"DIVIDE_BY_ZERO");bc.set(33,"ENUM_RANGE_ERROR");bc.set(34,"BAD_STORAGE_DATA");bc.set(49,"STACK_UNDERFLOW");bc.set(50,"ARRAY_RANGE_ERROR");bc.set(65,"OUT_OF_MEMORY");bc.set(81,"UNINITIALIZED_FUNCTION_CALL");const hNe=new RegExp(/^bytes([0-9]*)$/),fNe=new RegExp(/^(u?int)([0-9]*)$/);let t3=null,v7=1024;function pNe(t,e,n,r){let i="missing revert data",s=null;const o=null;let a=null;if(n){i="execution reverted";const l=an(n);if(n=dt(n),l.length===0)i+=" (no data present; likely require(false) occurred",s="require(false)";else if(l.length%32!==4)i+=" (could not decode reason; invalid data length)";else if(dt(l.slice(0,4))==="0x08c379a0")try{s=r.decode(["string"],l.slice(4))[0],a={signature:"Error(string)",name:"Error",args:[s]},i+=`: ${JSON.stringify(s)}`}catch{i+=" (could not decode reason; invalid string data)"}else if(dt(l.slice(0,4))==="0x4e487b71")try{const u=Number(r.decode(["uint256"],l.slice(4))[0]);a={signature:"Panic(uint256)",name:"Panic",args:[u]},s=`Panic due to ${bc.get(u)||"UNKNOWN"}(${u})`,i+=`: ${s}`}catch{i+=" (could not decode panic code)"}else i+=" (unknown custom error)"}const c={to:e.to?Dn(e.to):null,data:e.data||"0x"};return e.from&&(c.from=Dn(e.from)),or(i,"CALL_EXCEPTION",{action:t,data:n,reason:s,transaction:c,invocation:o,revert:a})}var Od,dg;const jA=class jA{constructor(){Ee(this,Od)}getDefaultValue(e){const n=e.map(i=>Fe(this,Od,dg).call(this,Di.from(i)));return new fx(n,"_").defaultValue()}encode(e,n){GH(n.length,e.length,"types/values length mismatch");const r=e.map(o=>Fe(this,Od,dg).call(this,Di.from(o))),i=new fx(r,"_"),s=new F4;return i.encode(s,n),s.data}decode(e,n,r){const i=e.map(o=>Fe(this,Od,dg).call(this,Di.from(o)));return new fx(i,"_").decode(new $4(n,r,v7))}static _setDefaultMaxInflation(e){fe(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),v7=e}static defaultAbiCoder(){return t3==null&&(t3=new jA),t3}static getBuiltinCallException(e,n,r){return pNe(e,n,r,jA.defaultAbiCoder())}};Od=new WeakSet,dg=function(e){if(e.isArray())return new MSe(Fe(this,Od,dg).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new fx(e.components.map(r=>Fe(this,Od,dg).call(this,r)),e.name);switch(e.baseType){case"address":return new DSe(e.name);case"bool":return new BSe(e.name);case"string":return new GSe(e.name);case"bytes":return new USe(e.name);case"":return new zSe(e.name)}let n=e.type.match(fNe);if(n){let r=parseInt(n[2]||"256");return fe(r!==0&&r<=256&&r%8===0,"invalid "+n[1]+" bit length","param",e),new WSe(r/8,n[1]==="int",e.name)}if(n=e.type.match(hNe),n){let r=parseInt(n[1]);return fe(r!==0&&r<=32,"invalid bytes length","param",e),new FSe(r,e.name)}fe(!1,"invalid type","type",e.type)};let Ab=jA;class mNe{constructor(e,n,r){ve(this,"fragment");ve(this,"name");ve(this,"signature");ve(this,"topic");ve(this,"args");const i=e.name,s=e.format();wt(this,{fragment:e,name:i,signature:s,topic:n,args:r})}}class gNe{constructor(e,n,r,i){ve(this,"fragment");ve(this,"name");ve(this,"args");ve(this,"signature");ve(this,"selector");ve(this,"value");const s=e.name,o=e.format();wt(this,{fragment:e,name:s,args:r,signature:o,selector:n,value:i})}}class yNe{constructor(e,n,r){ve(this,"fragment");ve(this,"name");ve(this,"args");ve(this,"signature");ve(this,"selector");const i=e.name,s=e.format();wt(this,{fragment:e,name:i,args:r,signature:s,selector:n})}}class b7{constructor(e){ve(this,"hash");ve(this,"_isIndexed");wt(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const x7={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},E7={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&x7[t.toString()]&&(e=x7[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var qc,Wc,Gc,Ji,yl,eE,tE;const wf=class wf{constructor(e){Ee(this,yl);ve(this,"fragments");ve(this,"deploy");ve(this,"fallback");ve(this,"receive");Ee(this,qc);Ee(this,Wc);Ee(this,Gc);Ee(this,Ji);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,te(this,Gc,new Map),te(this,qc,new Map),te(this,Wc,new Map);const r=[];for(const o of n)try{r.push(Lp.from(o))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(o)}:`,a.message)}wt(this,{fragments:Object.freeze(r)});let i=null,s=!1;te(this,Ji,this.getAbiCoder()),this.fragments.forEach((o,a)=>{let c;switch(o.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}wt(this,{deploy:o});return;case"fallback":o.inputs.length===0?s=!0:(fe(!i||o.payable!==i.payable,"conflicting fallback fragments",`fragments[${a}]`,o),i=o,s=i.payable);return;case"function":c=M(this,Gc);break;case"event":c=M(this,Wc);break;case"error":c=M(this,qc);break;default:return}const l=o.format();c.has(l)||c.set(l,o)}),this.deploy||wt(this,{deploy:xu.from("constructor()")}),wt(this,{fallback:i,receive:s})}format(e){const n=e?"minimal":"full";return this.fragments.map(i=>i.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return Ab.defaultAbiCoder()}getFunctionName(e){const n=Fe(this,yl,eE).call(this,e,null,!1);return fe(n,"no matching function","key",e),n.name}hasFunction(e){return!!Fe(this,yl,eE).call(this,e,null,!1)}getFunction(e,n){return Fe(this,yl,eE).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(M(this,Gc).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(M(this,Gc).get(i),r)}}getEventName(e){const n=Fe(this,yl,tE).call(this,e,null,!1);return fe(n,"no matching event","key",e),n.name}hasEvent(e){return!!Fe(this,yl,tE).call(this,e,null,!1)}getEvent(e,n){return Fe(this,yl,tE).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(M(this,Wc).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(M(this,Wc).get(i),r)}}getError(e,n){if(Hn(e)){const i=e.toLowerCase();if(E7[i])return Ys.from(E7[i].signature);for(const s of M(this,qc).values())if(i===s.selector)return s;return null}if(e.indexOf("(")===-1){const i=[];for(const[s,o]of M(this,qc))s.split("(")[0]===e&&i.push(o);if(i.length===0)return e==="Error"?Ys.from("error Error(string)"):e==="Panic"?Ys.from("error Panic(uint256)"):null;if(i.length>1){const s=i.map(o=>JSON.stringify(o.format())).join(", ");fe(!1,`ambiguous error description (i.e. ${s})`,"name",e)}return i[0]}if(e=Ys.from(e).format(),e==="Error(string)")return Ys.from("error Error(string)");if(e==="Panic(uint256)")return Ys.from("error Panic(uint256)");const r=M(this,qc).get(e);return r||null}forEachError(e){const n=Array.from(M(this,qc).keys());n.sort((r,i)=>r.localeCompare(i));for(let r=0;r<n.length;r++){const i=n[r];e(M(this,qc).get(i),r)}}_decodeParams(e,n){return M(this,Ji).decode(e,n)}_encodeParams(e,n){return M(this,Ji).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);fe(r,"unknown error","fragment",e),e=r}return fe(Sr(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Sr(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const r=this.getError(e);fe(r,"unknown error","fragment",e),e=r}return Fr([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);fe(r,"unknown function","fragment",e),e=r}return fe(Sr(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Sr(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const r=this.getFunction(e);fe(r,"unknown function","fragment",e),e=r}return Fr([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const s=this.getFunction(e);fe(s,"unknown function","fragment",e),e=s}let r="invalid length for result data";const i=xs(n);if(i.length%32===0)try{return M(this,Ji).decode(e.outputs,i)}catch{r="could not decode result data"}Re(!1,r,"BAD_DATA",{value:dt(i),info:{method:e.name,signature:e.format()}})}makeError(e,n){const r=an(e,"data"),i=Ab.getBuiltinCallException("call",n,r);if(i.message.startsWith("execution reverted (unknown custom error)")){const a=dt(r.slice(0,4)),c=this.getError(a);if(c)try{const l=M(this,Ji).decode(c.inputs,r.slice(4));i.revert={name:c.name,signature:c.format(),args:l},i.reason=i.revert.signature,i.message=`execution reverted: ${i.reason}`}catch{i.message="execution reverted (coult not decode custom error)"}}const o=this.parseTransaction(n);return o&&(i.invocation={method:o.name,signature:o.signature,args:o.args}),i}encodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);fe(r,"unknown function","fragment",e),e=r}return dt(M(this,Ji).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const s=this.getEvent(e);fe(s,"unknown event","eventFragment",e),e=s}Re(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const r=[];e.anonymous||r.push(e.topicHash);const i=(s,o)=>s.type==="string"?Op(o):s.type==="bytes"?Yr(dt(o)):(s.type==="bool"&&typeof o=="boolean"?o=o?"0x01":"0x00":s.type.match(/^u?int/)?o=Ch(o):s.type.match(/^bytes/)?o=BEe(o,32):s.type==="address"&&M(this,Ji).encode(["address"],[o]),Tp(dt(o),32));for(n.forEach((s,o)=>{const a=e.inputs[o];if(!a.indexed){fe(s==null,"cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?r.push(null):a.baseType==="array"||a.baseType==="tuple"?fe(!1,"filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?r.push(s.map(c=>i(a,c))):r.push(i(a,s))});r.length&&r[r.length-1]===null;)r.pop();return r}encodeEventLog(e,n){if(typeof e=="string"){const o=this.getEvent(e);fe(o,"unknown event","eventFragment",e),e=o}const r=[],i=[],s=[];return e.anonymous||r.push(e.topicHash),fe(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((o,a)=>{const c=n[a];if(o.indexed)if(o.type==="string")r.push(Op(c));else if(o.type==="bytes")r.push(Yr(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");r.push(M(this,Ji).encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:M(this,Ji).encode(i,s),topics:r}}decodeEventLog(e,n,r){if(typeof e=="string"){const f=this.getEvent(e);fe(f,"unknown event","eventFragment",e),e=f}if(r!=null&&!e.anonymous){const f=e.topicHash;fe(Hn(r[0],32)&&r[0].toLowerCase()===f,"fragment/topic mismatch","topics[0]",r[0]),r=r.slice(1)}const i=[],s=[],o=[];e.inputs.forEach((f,m)=>{f.indexed?f.type==="string"||f.type==="bytes"||f.baseType==="tuple"||f.baseType==="array"?(i.push(Di.from({type:"bytes32",name:f.name})),o.push(!0)):(i.push(f),o.push(!1)):(s.push(f),o.push(!1))});const a=r!=null?M(this,Ji).decode(i,Fr(r)):null,c=M(this,Ji).decode(s,n,!0),l=[],u=[];let d=0,h=0;return e.inputs.forEach((f,m)=>{let g=null;if(f.indexed)if(a==null)g=new b7(null);else if(o[m])g=new b7(a[h++]);else try{g=a[h++]}catch(E){g=E}else try{g=c[d++]}catch(E){g=E}l.push(g),u.push(f.name||null)}),Ay.fromItems(l,u)}parseTransaction(e){const n=an(e.data,"tx.data"),r=pt(e.value!=null?e.value:0,"tx.value"),i=this.getFunction(dt(n.slice(0,4)));if(!i)return null;const s=M(this,Ji).decode(i.inputs,n.slice(4));return new gNe(i,i.selector,s,r)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new mNe(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=dt(e),r=this.getError(Sr(n,0,4));if(!r)return null;const i=M(this,Ji).decode(r.inputs,Sr(n,4));return new yNe(r,r.selector,i)}static from(e){return e instanceof wf?e:typeof e=="string"?new wf(JSON.parse(e)):typeof e.formatJson=="function"?new wf(e.formatJson()):typeof e.format=="function"?new wf(e.format("json")):new wf(e)}};qc=new WeakMap,Wc=new WeakMap,Gc=new WeakMap,Ji=new WeakMap,yl=new WeakSet,eE=function(e,n,r){if(Hn(e)){const s=e.toLowerCase();for(const o of M(this,Gc).values())if(s===o.selector)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of M(this,Gc))o.split("(")[0]===e&&s.push(a);if(n){const o=n.length>0?n[n.length-1]:null;let a=n.length,c=!0;as.isTyped(o)&&o.type==="overrides"&&(c=!1,a--);for(let l=s.length-1;l>=0;l--){const u=s[l].inputs.length;u!==a&&(!c||u!==a-1)&&s.splice(l,1)}for(let l=s.length-1;l>=0;l--){const u=s[l].inputs;for(let d=0;d<n.length;d++)if(as.isTyped(n[d])){if(d>=u.length){if(n[d].type==="overrides")continue;s.splice(l,1);break}if(n[d].type!==u[d].baseType){s.splice(l,1);break}}}}if(s.length===1&&n&&n.length!==s[0].inputs.length){const o=n[n.length-1];(o==null||Array.isArray(o)||typeof o!="object")&&s.splice(0,1)}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");fe(!1,`ambiguous function description (i.e. matches ${o})`,"key",e)}return s[0]}const i=M(this,Gc).get(rl.from(e).format());return i||null},tE=function(e,n,r){if(Hn(e)){const s=e.toLowerCase();for(const o of M(this,Wc).values())if(s===o.topicHash)return o;return null}if(e.indexOf("(")===-1){const s=[];for(const[o,a]of M(this,Wc))o.split("(")[0]===e&&s.push(a);if(n){for(let o=s.length-1;o>=0;o--)s[o].inputs.length<n.length&&s.splice(o,1);for(let o=s.length-1;o>=0;o--){const a=s[o].inputs;for(let c=0;c<n.length;c++)if(as.isTyped(n[c])&&n[c].type!==a[c].baseType){s.splice(o,1);break}}}if(s.length===0)return null;if(s.length>1&&r){const o=s.map(a=>JSON.stringify(a.format())).join(", ");fe(!1,`ambiguous event description (i.e. matches ${o})`,"key",e)}return s[0]}const i=M(this,Wc).get(nl.from(e).format());return i||null};let tI=wf;const EW=BigInt(0);function o0(t){return t??null}function Tr(t){return t==null?null:t.toString()}class A7{constructor(e,n,r){ve(this,"gasPrice");ve(this,"maxFeePerGas");ve(this,"maxPriorityFeePerGas");wt(this,{gasPrice:o0(e),maxFeePerGas:o0(n),maxPriorityFeePerGas:o0(r)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:r}=this;return{_type:"FeeData",gasPrice:Tr(e),maxFeePerGas:Tr(n),maxPriorityFeePerGas:Tr(r)}}}function IA(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=dt(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const i of n)!(i in t)||t[i]==null||(e[i]=pt(t[i],`request.${i}`));const r="type,nonce".split(/,/);for(const i of r)!(i in t)||t[i]==null||(e[i]=qt(t[i],`request.${i}`));return t.accessList&&(e.accessList=Zp(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(i=>Vk(i)?dt(i):Object.assign({},i))),e}var uu;class wNe{constructor(e,n){ve(this,"provider");ve(this,"number");ve(this,"hash");ve(this,"timestamp");ve(this,"parentHash");ve(this,"parentBeaconBlockRoot");ve(this,"nonce");ve(this,"difficulty");ve(this,"gasLimit");ve(this,"gasUsed");ve(this,"stateRoot");ve(this,"receiptsRoot");ve(this,"blobGasUsed");ve(this,"excessBlobGas");ve(this,"miner");ve(this,"prevRandao");ve(this,"extraData");ve(this,"baseFeePerGas");Ee(this,uu);te(this,uu,e.transactions.map(r=>typeof r!="string"?new Sb(r,n):r)),wt(this,{provider:n,hash:o0(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:o0(e.prevRandao),extraData:e.extraData,baseFeePerGas:o0(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return M(this,uu).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=M(this,uu).slice();return e.length===0?[]:(Re(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:r,gasLimit:i,gasUsed:s,hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:m,timestamp:g,transactions:E}=this;return{_type:"Block",baseFeePerGas:Tr(e),difficulty:Tr(n),extraData:r,gasLimit:Tr(i),gasUsed:Tr(s),blobGasUsed:Tr(this.blobGasUsed),excessBlobGas:Tr(this.excessBlobGas),hash:o,miner:a,prevRandao:c,nonce:l,number:u,parentHash:d,timestamp:g,parentBeaconBlockRoot:h,stateRoot:f,receiptsRoot:m,transactions:E}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return M(this,uu).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=M(this,uu)[e];else{const r=e.toLowerCase();for(const i of M(this,uu))if(typeof i=="string"){if(i!==r)continue;n=i;break}else{if(i.hash!==r)continue;n=i;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const r of n)if(r.hash===e)return r;fe(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return vNe(this)}}uu=new WeakMap;class w2{constructor(e,n){ve(this,"provider");ve(this,"transactionHash");ve(this,"blockHash");ve(this,"blockNumber");ve(this,"removed");ve(this,"address");ve(this,"data");ve(this,"topics");ve(this,"index");ve(this,"transactionIndex");this.provider=n;const r=Object.freeze(e.topics.slice());wt(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:r,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:l}=this;return{_type:"log",address:e,blockHash:n,blockNumber:r,data:i,index:s,removed:o,topics:a,transactionHash:c,transactionIndex:l}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return Re(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return Re(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return Re(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return bNe(this)}}var Tb;class AW{constructor(e,n){ve(this,"provider");ve(this,"to");ve(this,"from");ve(this,"contractAddress");ve(this,"hash");ve(this,"index");ve(this,"blockHash");ve(this,"blockNumber");ve(this,"logsBloom");ve(this,"gasUsed");ve(this,"blobGasUsed");ve(this,"cumulativeGasUsed");ve(this,"gasPrice");ve(this,"blobGasPrice");ve(this,"type");ve(this,"status");ve(this,"root");Ee(this,Tb);te(this,Tb,Object.freeze(e.logs.map(i=>new w2(i,n))));let r=EW;e.effectiveGasPrice!=null?r=e.effectiveGasPrice:e.gasPrice!=null&&(r=e.gasPrice),wt(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:r,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return M(this,Tb)}toJSON(){const{to:e,from:n,contractAddress:r,hash:i,index:s,blockHash:o,blockNumber:a,logsBloom:c,logs:l,status:u,root:d}=this;return{_type:"TransactionReceipt",blockHash:o,blockNumber:a,contractAddress:r,cumulativeGasUsed:Tr(this.cumulativeGasUsed),from:n,gasPrice:Tr(this.gasPrice),blobGasUsed:Tr(this.blobGasUsed),blobGasPrice:Tr(this.blobGasPrice),gasUsed:Tr(this.gasUsed),hash:i,index:s,logs:l,logsBloom:c,root:d,status:u,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return CW(this)}reorderedEvent(e){return Re(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),SW(this,e)}}Tb=new WeakMap;var Rd;const f6=class f6{constructor(e,n){ve(this,"provider");ve(this,"blockNumber");ve(this,"blockHash");ve(this,"index");ve(this,"hash");ve(this,"type");ve(this,"to");ve(this,"from");ve(this,"nonce");ve(this,"gasLimit");ve(this,"gasPrice");ve(this,"maxPriorityFeePerGas");ve(this,"maxFeePerGas");ve(this,"maxFeePerBlobGas");ve(this,"data");ve(this,"value");ve(this,"chainId");ve(this,"signature");ve(this,"accessList");ve(this,"blobVersionedHashes");Ee(this,Rd);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,te(this,Rd,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:r,hash:i,type:s,to:o,from:a,nonce:c,data:l,signature:u,accessList:d,blobVersionedHashes:h}=this;return{_type:"TransactionResponse",accessList:d,blockNumber:e,blockHash:n,blobVersionedHashes:h,chainId:Tr(this.chainId),data:l,from:a,gasLimit:Tr(this.gasLimit),gasPrice:Tr(this.gasPrice),hash:i,maxFeePerGas:Tr(this.maxFeePerGas),maxPriorityFeePerGas:Tr(this.maxPriorityFeePerGas),maxFeePerBlobGas:Tr(this.maxFeePerBlobGas),nonce:c,signature:u,to:o,index:r,type:s,value:Tr(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const r=await this.getTransaction();r&&(e=r.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:r}=await bs({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:r-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const r=e??1,i=n??0;let s=M(this,Rd),o=-1,a=s===-1;const c=async()=>{if(a)return null;const{blockNumber:h,nonce:f}=await bs({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(f<this.nonce){s=h;return}if(a)return null;const m=await this.getTransaction();if(!(m&&m.blockNumber!=null))for(o===-1&&(o=s-3,o<M(this,Rd)&&(o=M(this,Rd)));o<=h;){if(a)return null;const g=await this.provider.getBlock(o,!0);if(g==null)return;for(const E of g)if(E===this.hash)return;for(let E=0;E<g.length;E++){const y=await g.getTransaction(E);if(y.from===this.from&&y.nonce===this.nonce){if(a)return null;const w=await this.provider.getTransactionReceipt(y.hash);if(w==null||h-w.blockNumber+1<r)return;let x="replaced";y.data===this.data&&y.to===this.to&&y.value===this.value?x="repriced":y.data==="0x"&&y.from===y.to&&y.value===EW&&(x="cancelled"),Re(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:x==="replaced"||x==="cancelled",reason:x,replacement:y.replaceableTransaction(s),hash:y.hash,receipt:w})}}o++}},l=h=>{if(h==null||h.status!==0)return h;Re(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:h.to,from:h.from,data:""},receipt:h})},u=await this.provider.getTransactionReceipt(this.hash);if(r===0)return l(u);if(u){if(await u.confirmations()>=r)return l(u)}else if(await c(),r===0)return null;return await new Promise((h,f)=>{const m=[],g=()=>{m.forEach(y=>y())};if(m.push(()=>{a=!0}),i>0){const y=setTimeout(()=>{g(),f(or("wait for transaction timeout","TIMEOUT"))},i);m.push(()=>{clearTimeout(y)})}const E=async y=>{if(await y.confirmations()>=r){g();try{h(l(y))}catch(w){f(w)}}};if(m.push(()=>{this.provider.off(this.hash,E)}),this.provider.on(this.hash,E),s>=0){const y=async()=>{try{await c()}catch(w){if(Ri(w,"TRANSACTION_REPLACED")){g(),f(w);return}}a||this.provider.once("block",y)};m.push(()=>{this.provider.off("block",y)}),this.provider.once("block",y)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return Re(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),CW(this)}reorderedEvent(e){return Re(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Re(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),SW(this,e)}replaceableTransaction(e){fe(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new f6(this,this.provider);return te(n,Rd,e),n}};Rd=new WeakMap;let Sb=f6;function vNe(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function SW(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function CW(t){return{orphan:"drop-transaction",tx:t}}function bNe(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class s6 extends w2{constructor(n,r,i){super(n,n.provider);ve(this,"interface");ve(this,"fragment");ve(this,"args");const s=r.decodeEventLog(i,n.data,n.topics);wt(this,{args:s,fragment:i,interface:r})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class NW extends w2{constructor(n,r){super(n,n.provider);ve(this,"error");wt(this,{error:r})}}var L0;class xNe extends AW{constructor(n,r,i){super(i,r);Ee(this,L0);te(this,L0,n)}get logs(){return super.logs.map(n=>{const r=n.topics.length?M(this,L0).getEvent(n.topics[0]):null;if(r)try{return new s6(n,M(this,L0),r)}catch(i){return new NW(n,i)}return n})}}L0=new WeakMap;var kb;class o6 extends Sb{constructor(n,r,i){super(i,r);Ee(this,kb);te(this,kb,n)}async wait(n,r){const i=await super.wait(n,r);return i==null?null:new xNe(M(this,kb),this.provider,i)}}kb=new WeakMap;class _W extends QH{constructor(n,r,i,s){super(n,r,i);ve(this,"log");wt(this,{log:s})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class ENe extends _W{constructor(e,n,r,i,s){super(e,n,r,new s6(s,e.interface,i));const o=e.interface.decodeEventLog(i,this.log.data,this.log.topics);wt(this,{args:o,fragment:i})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const S7=BigInt(0);function PW(t){return t&&typeof t.call=="function"}function IW(t){return t&&typeof t.estimateGas=="function"}function GS(t){return t&&typeof t.resolveName=="function"}function TW(t){return t&&typeof t.sendTransaction=="function"}function kW(t){if(t!=null){if(GS(t))return t;if(t.provider)return t.provider}}var Ob;class ANe{constructor(e,n,r){Ee(this,Ob);ve(this,"fragment");if(wt(this,{fragment:n}),n.inputs.length<r.length)throw new Error("too many arguments");const i=Dp(e.runner,"resolveName"),s=GS(i)?i:null;te(this,Ob,async function(){const o=await Promise.all(n.inputs.map((a,c)=>r[c]==null?null:a.walkAsync(r[c],(u,d)=>u==="address"?Array.isArray(d)?Promise.all(d.map(h=>Ss(h,s))):Ss(d,s):d)));return e.interface.encodeFilterTopics(n,o)}())}getTopicFilter(){return M(this,Ob)}}Ob=new WeakMap;function Dp(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Tf(t){return t==null?null:t.provider||null}async function OW(t,e){const n=as.dereference(t,"overrides");fe(typeof n=="object","invalid overrides parameter","overrides",t);const r=IA(n);return fe(r.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",r.to),fe(r.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",r.data),r.from&&(r.from=r.from),r}async function SNe(t,e,n){const r=Dp(t,"resolveName"),i=GS(r)?r:null;return await Promise.all(e.map((s,o)=>s.walkAsync(n[o],(a,c)=>(c=as.dereference(c,a),a==="address"?Ss(c,i):c))))}function CNe(t){const e=async function(o){const a=await OW(o,["data"]);a.to=await t.getAddress(),a.from&&(a.from=await Ss(a.from,kW(t.runner)));const c=t.interface,l=pt(a.value||S7,"overrides.value")===S7,u=(a.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!u&&!l&&fe(!1,"cannot send data to receive or send value to non-payable fallback","overrides",o),fe(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data);const d=c.receive||c.fallback&&c.fallback.payable;return fe(d||l,"cannot send value to non-payable fallback","overrides.value",a.value),fe(c.fallback||u,"cannot send data to receive-only contract","overrides.data",a.data),a},n=async function(o){const a=Dp(t.runner,"call");Re(PW(a),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(o);try{return await a.call(c)}catch(l){throw zk(l)&&l.data?t.interface.makeError(l.data,c):l}},r=async function(o){const a=t.runner;Re(TW(a),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await a.sendTransaction(await e(o)),l=Tf(t.runner);return new o6(t.interface,l,c)},i=async function(o){const a=Dp(t.runner,"estimateGas");return Re(IW(a),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await a.estimateGas(await e(o))},s=async o=>await r(o);return wt(s,{_contract:t,estimateGas:i,populateTransaction:e,send:r,staticCall:n}),s}function NNe(t,e){const n=function(...l){const u=t.interface.getFunction(e,l);return Re(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:l}}),u},r=async function(...l){const u=n(...l);let d={};if(u.inputs.length+1===l.length&&(d=await OW(l.pop()),d.from&&(d.from=await Ss(d.from,kW(t.runner)))),u.inputs.length!==l.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const h=await SNe(t.runner,u.inputs,l);return Object.assign({},d,await bs({to:t.getAddress(),data:t.interface.encodeFunctionData(u,h)}))},i=async function(...l){const u=await a(...l);return u.length===1?u[0]:u},s=async function(...l){const u=t.runner;Re(TW(u),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const d=await u.sendTransaction(await r(...l)),h=Tf(t.runner);return new o6(t.interface,h,d)},o=async function(...l){const u=Dp(t.runner,"estimateGas");return Re(IW(u),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await u.estimateGas(await r(...l))},a=async function(...l){const u=Dp(t.runner,"call");Re(PW(u),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const d=await r(...l);let h="0x";try{h=await u.call(d)}catch(m){throw zk(m)&&m.data?t.interface.makeError(m.data,d):m}const f=n(...l);return t.interface.decodeFunctionResult(f,h)},c=async(...l)=>n(...l).constant?await i(...l):await s(...l);return wt(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:o,populateTransaction:r,send:s,staticCall:i,staticCallResult:a}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const l=t.interface.getFunction(e);return Re(l,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),l}}),c}function _Ne(t,e){const n=function(...i){const s=t.interface.getEvent(e,i);return Re(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:i}}),s},r=function(...i){return new ANe(t,n(...i),i)};return wt(r,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(r,"fragment",{configurable:!1,enumerable:!0,get:()=>{const i=t.interface.getEvent(e);return Re(i,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),i}}),r}const TA=Symbol.for("_ethersInternal_contract"),RW=new WeakMap;function PNe(t,e){RW.set(t[TA],e)}function wo(t){return RW.get(t[TA])}function INe(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function a6(t,e){let n,r=null;if(Array.isArray(e)){const s=function(o){if(Hn(o,32))return o;const a=t.interface.getEvent(o);return fe(a,"unknown fragment","name",o),a.topicHash};n=e.map(o=>o==null?null:Array.isArray(o)?o.map(s):s(o))}else e==="*"?n=[null]:typeof e=="string"?Hn(e,32)?n=[e]:(r=t.interface.getEvent(e),fe(r,"unknown fragment","event",e),n=[r.topicHash]):INe(e)?n=await e.getTopicFilter():"fragment"in e?(r=e.fragment,n=[r.topicHash]):fe(!1,"unknown event name","event",e);n=n.map(s=>{if(s==null)return null;if(Array.isArray(s)){const o=Array.from(new Set(s.map(a=>a.toLowerCase())).values());return o.length===1?o[0]:(o.sort(),o)}return s.toLowerCase()});const i=n.map(s=>s==null?"null":Array.isArray(s)?s.join("|"):s).join("&");return{fragment:r,tag:i,topics:n}}async function yw(t,e){const{subs:n}=wo(t);return n.get((await a6(t,e)).tag)||null}async function C7(t,e,n){const r=Tf(t.runner);Re(r,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:i,tag:s,topics:o}=await a6(t,n),{addr:a,subs:c}=wo(t);let l=c.get(s);if(!l){const d={address:a||t,topics:o},h=E=>{let y=i;if(y==null)try{y=t.interface.getEvent(E.topics[0])}catch{}if(y){const w=y,x=i?t.interface.decodeEventLog(i,E.data,E.topics):[];rI(t,n,x,C=>new ENe(t,C,n,w,E))}else rI(t,n,[],w=>new _W(t,w,n,E))};let f=[];l={tag:s,listeners:[],start:()=>{f.length||f.push(r.on(d,h))},stop:async()=>{if(f.length==0)return;let E=f;f=[],await Promise.all(E),r.off(d,h)}},c.set(s,l)}return l}let nI=Promise.resolve();async function TNe(t,e,n,r){await nI;const i=await yw(t,e);if(!i)return!1;const s=i.listeners.length;return i.listeners=i.listeners.filter(({listener:o,once:a})=>{const c=Array.from(n);r&&c.push(r(a?null:o));try{o.call(t,...c)}catch{}return!a}),i.listeners.length===0&&(i.stop(),wo(t).subs.delete(i.tag)),s>0}async function rI(t,e,n,r){try{await nI}catch{}const i=TNe(t,e,n,r);return nI=i,await i}const mx=["then"];var B7;B7=TA;const Jw=class Jw{constructor(e,n,r,i){ve(this,"target");ve(this,"interface");ve(this,"runner");ve(this,"filters");ve(this,B7);ve(this,"fallback");fe(typeof e=="string"||Uq(e),"invalid value for Contract target","target",e),r==null&&(r=null);const s=tI.from(n);wt(this,{target:e,runner:r,interface:s}),Object.defineProperty(this,TA,{value:{}});let o,a=null,c=null;if(i){const d=Tf(r);c=new o6(this.interface,d,i)}let l=new Map;if(typeof e=="string")if(Hn(e))a=e,o=Promise.resolve(e);else{const d=Dp(r,"resolveName");if(!GS(d))throw or("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});o=d.resolveName(e).then(h=>{if(h==null)throw or("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return wo(this).addr=h,h})}else o=e.getAddress().then(d=>{if(d==null)throw new Error("TODO");return wo(this).addr=d,d});PNe(this,{addrPromise:o,addr:a,deployTx:c,subs:l});const u=new Proxy({},{get:(d,h,f)=>{if(typeof h=="symbol"||mx.indexOf(h)>=0)return Reflect.get(d,h,f);try{return this.getEvent(h)}catch(m){if(!Ri(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(d,h)=>mx.indexOf(h)>=0?Reflect.has(d,h):Reflect.has(d,h)||this.interface.hasEvent(String(h))});return wt(this,{filters:u}),wt(this,{fallback:s.receive||s.fallback?CNe(this):null}),new Proxy(this,{get:(d,h,f)=>{if(typeof h=="symbol"||h in d||mx.indexOf(h)>=0)return Reflect.get(d,h,f);try{return d.getFunction(h)}catch(m){if(!Ri(m,"INVALID_ARGUMENT")||m.argument!=="key")throw m}},has:(d,h)=>typeof h=="symbol"||h in d||mx.indexOf(h)>=0?Reflect.has(d,h):d.interface.hasFunction(h)})}connect(e){return new Jw(this.target,this.interface,e)}attach(e){return new Jw(e,this.interface,this.runner)}async getAddress(){return await wo(this).addrPromise}async getDeployedCode(){const e=Tf(this.runner);Re(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const r=Tf(this.runner);return Re(r!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((i,s)=>{const o=async()=>{try{if(await this.getDeployedCode()!=null)return i(this);r.once("block",o)}catch(a){s(a)}};o()})}deploymentTransaction(){return wo(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),NNe(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),_Ne(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,r){n==null&&(n=0),r==null&&(r="latest");const{addr:i,addrPromise:s}=wo(this),o=i||await s,{fragment:a,topics:c}=await a6(this,e),l={address:o,topics:c,fromBlock:n,toBlock:r},u=Tf(this.runner);return Re(u,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await u.getLogs(l)).map(d=>{let h=a;if(h==null)try{h=this.interface.getEvent(d.topics[0])}catch{}if(h)try{return new s6(d,this.interface,h)}catch(f){return new NW(d,f)}return new w2(d,u)})}async on(e,n){const r=await C7(this,"on",e);return r.listeners.push({listener:n,once:!1}),r.start(),this}async once(e,n){const r=await C7(this,"once",e);return r.listeners.push({listener:n,once:!0}),r.start(),this}async emit(e,...n){return await rI(this,e,n,null)}async listenerCount(e){if(e){const i=await yw(this,e);return i?i.listeners.length:0}const{subs:n}=wo(this);let r=0;for(const{listeners:i}of n.values())r+=i.length;return r}async listeners(e){if(e){const i=await yw(this,e);return i?i.listeners.map(({listener:s})=>s):[]}const{subs:n}=wo(this);let r=[];for(const{listeners:i}of n.values())r=r.concat(i.map(({listener:s})=>s));return r}async off(e,n){const r=await yw(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(n==null||r.listeners.length===0)&&(r.stop(),wo(this).subs.delete(r.tag)),this}async removeAllListeners(e){if(e){const n=await yw(this,e);if(!n)return this;n.stop(),wo(this).subs.delete(n.tag)}else{const{subs:n}=wo(this);for(const{tag:r,stop:i}of n.values())i(),n.delete(r)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Jw{constructor(i,s=null){super(i,e,s)}}return n}static from(e,n,r){return r==null&&(r=null),new this(e,n,r)}};let iI=Jw;function kNe(){return iI}class a0 extends kNe(){}function n3(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):fe(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class ONe{constructor(e){ve(this,"name");wt(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const LW=new RegExp("^(ipfs)://(.*)$","i"),N7=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),LW,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Ld,Vf,Dd,hg,MA,DW;const Bg=class Bg{constructor(e,n,r){Ee(this,Dd);ve(this,"provider");ve(this,"address");ve(this,"name");Ee(this,Ld);Ee(this,Vf);wt(this,{provider:e,address:n,name:r}),te(this,Ld,null),te(this,Vf,new a0(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return M(this,Ld)==null&&te(this,Ld,(async()=>{try{return await M(this,Vf).supportsInterface("0x9061b923")}catch(e){if(Ri(e,"CALL_EXCEPTION"))return!1;throw te(this,Ld,null),e}})()),await M(this,Ld)}async getAddress(e){if(e==null&&(e=60),e===60)try{const s=await Fe(this,Dd,hg).call(this,"addr(bytes32)");return s==null||s===gb?null:s}catch(s){if(Ri(s,"CALL_EXCEPTION"))return null;throw s}if(e>=0&&e<2147483648){let s=e+2147483648;const o=await Fe(this,Dd,hg).call(this,"addr(bytes32,uint)",[s]);if(Hn(o,20))return Dn(o)}let n=null;for(const s of this.provider.plugins)if(s instanceof ONe&&s.supportsCoinType(e)){n=s;break}if(n==null)return null;const r=await Fe(this,Dd,hg).call(this,"addr(bytes32,uint)",[e]);if(r==null||r==="0x")return null;const i=await n.decodeAddress(e,r);if(i!=null)return i;Re(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:r}})}async getText(e){const n=await Fe(this,Dd,hg).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await Fe(this,Dd,hg).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const i=n[1]==="e3010170"?"ipfs":"ipns",s=parseInt(n[4],16);if(n[5].length===s*2)return`${i}://${FEe("0x"+n[2])}`}const r=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(r&&r[1].length===64)return`bzz://${r[1]}`;Re(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let r=0;r<N7.length;r++){const i=n.match(N7[r]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const o=n3(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:o}),{linkage:e,url:o}}case"erc721":case"erc1155":{const o=s==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:s,value:n});const a=await this.getAddress();if(a==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(i[2]||"").split("/");if(c.length!==2)return e.push({type:`!${s}caip`,value:i[2]||""}),{url:null,linkage:e};const l=c[1],u=new a0(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(s==="erc721"){const g=await u.ownerOf(l);if(a!==g)return e.push({type:"!owner",value:g}),{url:null,linkage:e};e.push({type:"owner",value:g})}else if(s==="erc1155"){const g=await u.balanceOf(a,l);if(!g)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:g.toString()})}let d=await u[o](l);if(d==null||d==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:d}),s==="erc1155"&&(d=d.replace("{id}",Ch(l,32).substring(2)),e.push({type:"metadata-url-expanded",value:d})),d.match(/^ipfs:/i)&&(d=n3(d)),e.push({type:"metadata-url",value:d});let h={};const f=await new xl(d).send();f.assertOk();try{h=f.bodyJson}catch{try{e.push({type:"!metadata",value:f.bodyText})}catch{const y=f.body;return y&&e.push({type:"!metadata",value:dt(y)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!h)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(h)});let m=h.image;if(typeof m!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!m.match(/^(https:\/\/|data:)/i)){if(m.match(LW)==null)return e.push({type:"!imageUrl-ipfs",value:m}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:m}),m=n3(m)}return e.push({type:"url",value:m}),{linkage:e,url:m}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),r=n.getPlugin("org.ethers.plugins.network.Ens");return Re(r,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),r.address}static async fromName(e,n){var i;let r=n;for(;;){if(r===""||r==="."||n!=="eth"&&r==="eth")return null;const s=await Fe(i=Bg,MA,DW).call(i,e,r);if(s!=null){const o=new Bg(e,s,n);return r!==n&&!await o.supportsWildcard()?null:o}r=r.split(".").slice(1).join(".")}}};Ld=new WeakMap,Vf=new WeakMap,Dd=new WeakSet,hg=async function(e,n){n=(n||[]).slice();const r=M(this,Vf).interface;n.unshift(X4(this.name));let i=null;await this.supportsWildcard()&&(i=r.getFunction(e),Re(i,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[kCe(this.name,255),r.encodeFunctionData(i,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const s=await M(this,Vf)[e](...n);return i?r.decodeFunctionResult(i,s)[0]:s}catch(s){if(!Ri(s,"CALL_EXCEPTION"))throw s}return null},MA=new WeakSet,DW=async function(e,n){const r=await Bg.getEnsAddress(e);try{const s=await new a0(r,["function resolver(bytes32) view returns (address)"],e).resolver(X4(n),{enableCcipRead:!0});return s===gb?null:s}catch(i){throw i}return null},Ee(Bg,MA);let kA=Bg;const _7=BigInt(0);function on(t,e){return function(n){return n==null?e:t(n)}}function KS(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(r=>t(r))}}function v2(t,e){return n=>{const r={};for(const i in t){let s=i;if(e&&i in e&&!(s in n)){for(const o of e[i])if(o in n){s=o;break}}try{const o=t[i](n[s]);o!==void 0&&(r[i]=o)}catch(o){const a=o instanceof Error?o.message:"not-an-error";Re(!1,`invalid value for value.${i} (${a})`,"BAD_DATA",{value:n})}}return r}}function RNe(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}fe(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Ty(t){return fe(Hn(t,!0),"invalid data","value",t),t}function Oi(t){return fe(Hn(t,32),"invalid hash","value",t),t}const LNe=v2({address:Dn,blockHash:Oi,blockNumber:qt,data:Ty,index:qt,removed:on(RNe,!1),topics:KS(Oi),transactionHash:Oi,transactionIndex:qt},{index:["logIndex"]});function DNe(t){return LNe(t)}const jNe=v2({hash:on(Oi),parentHash:Oi,parentBeaconBlockRoot:on(Oi,null),number:qt,timestamp:qt,nonce:on(Ty),difficulty:pt,gasLimit:pt,gasUsed:pt,stateRoot:on(Oi,null),receiptsRoot:on(Oi,null),blobGasUsed:on(pt,null),excessBlobGas:on(pt,null),miner:on(Dn),prevRandao:on(Oi,null),extraData:Ty,baseFeePerGas:on(pt)},{prevRandao:["mixHash"]});function MNe(t){const e=jNe(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:jW(n)),e}const BNe=v2({transactionIndex:qt,blockNumber:qt,transactionHash:Oi,address:Dn,topics:KS(Oi),data:Ty,index:qt,blockHash:Oi},{index:["logIndex"]});function UNe(t){return BNe(t)}const FNe=v2({to:on(Dn,null),from:on(Dn,null),contractAddress:on(Dn,null),index:qt,root:on(dt),gasUsed:pt,blobGasUsed:on(pt,null),logsBloom:on(Ty),blockHash:Oi,hash:Oi,logs:KS(UNe),blockNumber:qt,cumulativeGasUsed:pt,effectiveGasPrice:on(pt),blobGasPrice:on(pt,null),status:on(qt),type:on(qt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function $Ne(t){return FNe(t)}function jW(t){t.to&&pt(t.to)===_7&&(t.to="0x0000000000000000000000000000000000000000");const e=v2({hash:Oi,index:on(qt,void 0),type:n=>n==="0x"||n==null?0:qt(n),accessList:on(Zp,null),blobVersionedHashes:on(KS(Oi,!0),null),blockHash:on(Oi,null),blockNumber:on(qt,null),transactionIndex:on(qt,null),from:Dn,gasPrice:on(pt),maxPriorityFeePerGas:on(pt),maxFeePerGas:on(pt),maxFeePerBlobGas:on(pt,null),gasLimit:pt,to:on(Dn,null),value:pt,nonce:qt,data:Ty,creates:on(Dn,null),chainId:on(pt,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=LSe(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=mc.from(t.signature):e.signature=mc.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&pt(e.blockHash)===_7&&(e.blockHash=null),e}const zNe="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class b2{constructor(e){ve(this,"name");wt(this,{name:e})}clone(){return new b2(this.name)}}class YS extends b2{constructor(n,r){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);ve(this,"effectiveBlock");ve(this,"txBase");ve(this,"txCreate");ve(this,"txDataZero");ve(this,"txDataNonzero");ve(this,"txAccessListStorageKey");ve(this,"txAccessListAddress");const i={effectiveBlock:n};function s(o,a){let c=(r||{})[o];c==null&&(c=a),fe(typeof c=="number",`invalud value for ${o}`,"costs",r),i[o]=c}s("txBase",21e3),s("txCreate",32e3),s("txDataZero",4),s("txDataNonzero",16),s("txAccessListStorageKey",1900),s("txAccessListAddress",2400),wt(this,i)}clone(){return new YS(this.effectiveBlock,this)}}class JS extends b2{constructor(n,r){super("org.ethers.plugins.network.Ens");ve(this,"address");ve(this,"targetNetwork");wt(this,{address:n||zNe,targetNetwork:r??1})}clone(){return new JS(this.address,this.targetNetwork)}}var Rb,Lb;class VNe extends b2{constructor(n,r){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");Ee(this,Rb);Ee(this,Lb);te(this,Rb,n),te(this,Lb,r)}get url(){return M(this,Rb)}get processFunc(){return M(this,Lb)}clone(){return this}}Rb=new WeakMap,Lb=new WeakMap;const r3=new Map;var D0,j0,jd;const Ug=class Ug{constructor(e,n){Ee(this,D0);Ee(this,j0);Ee(this,jd);te(this,D0,e),te(this,j0,pt(n)),te(this,jd,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return M(this,D0)}set name(e){te(this,D0,e)}get chainId(){return M(this,j0)}set chainId(e){te(this,j0,pt(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===pt(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===pt(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===pt(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(M(this,jd).values())}attachPlugin(e){if(M(this,jd).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return M(this,jd).set(e.name,e.clone()),this}getPlugin(e){return M(this,jd).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Ug(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new YS;let r=n.txBase;if(e.to==null&&(r+=n.txCreate),e.data)for(let i=2;i<e.data.length;i+=2)e.data.substring(i,i+2)==="00"?r+=n.txDataZero:r+=n.txDataNonzero;if(e.accessList){const i=Zp(e.accessList);for(const s in i)r+=n.txAccessListAddress+n.txAccessListStorageKey*i[s].storageKeys.length}return r}static from(e){if(HNe(),e==null)return Ug.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=r3.get(e);if(n)return n();if(typeof e=="bigint")return new Ug("unknown",e);fe(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){fe(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Ug(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new JS(e.ensAddress,e.ensNetwork)),n}fe(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const r=r3.get(e);r&&fe(!1,`conflicting network for ${JSON.stringify(r.name)}`,"nameOrChainId",e),r3.set(e,n)}};D0=new WeakMap,j0=new WeakMap,jd=new WeakMap;let ac=Ug;function P7(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const r=n.split(".");if(r.length===1&&r.push(""),r.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;r[1].length<e;)r[1]+="0";if(r[1].length>9){let i=BigInt(r[1].substring(0,9));r[1].substring(9).match(/^0+$/)||i++,r[1]=i.toString()}return BigInt(r[0]+r[1])}function I7(t){return new VNe(t,async(e,n,r)=>{r.setHeader("User-Agent","ethers");let i;try{const[s,o]=await Promise.all([r.send(),e()]);i=s;const a=i.bodyJson.standard;return{gasPrice:o.gasPrice,maxFeePerGas:P7(a.maxFee,9),maxPriorityFeePerGas:P7(a.maxPriorityFee,9)}}catch(s){Re(!1,`error encountered with polygon gas station (${JSON.stringify(r.url)})`,"SERVER_ERROR",{request:r,response:i,error:s})}})}let T7=!1;function HNe(){if(T7)return;T7=!0;function t(e,n,r){const i=function(){const s=new ac(e,n);return r.ensNetwork!=null&&s.attachPlugin(new JS(null,r.ensNetwork)),s.attachPlugin(new YS),(r.plugins||[]).forEach(o=>{s.attachPlugin(o)}),s};ac.register(e,i),ac.register(n,i),r.altNames&&r.altNames.forEach(s=>{ac.register(s,i)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[I7("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[I7("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function sI(t){return JSON.parse(JSON.stringify(t))}var du,aa,Md,Kc,M0,nE;class qNe{constructor(e){Ee(this,M0);Ee(this,du);Ee(this,aa);Ee(this,Md);Ee(this,Kc);te(this,du,e),te(this,aa,null),te(this,Md,4e3),te(this,Kc,-2)}get pollingInterval(){return M(this,Md)}set pollingInterval(e){te(this,Md,e)}start(){M(this,aa)||(te(this,aa,M(this,du)._setTimeout(Fe(this,M0,nE).bind(this),M(this,Md))),Fe(this,M0,nE).call(this))}stop(){M(this,aa)&&(M(this,du)._clearTimeout(M(this,aa)),te(this,aa,null))}pause(e){this.stop(),e&&te(this,Kc,-2)}resume(){this.start()}}du=new WeakMap,aa=new WeakMap,Md=new WeakMap,Kc=new WeakMap,M0=new WeakSet,nE=async function(){try{const e=await M(this,du).getBlockNumber();if(M(this,Kc)===-2){te(this,Kc,e);return}if(e!==M(this,Kc)){for(let n=M(this,Kc)+1;n<=e;n++){if(M(this,aa)==null)return;await M(this,du).emit("block",n)}te(this,Kc,e)}}catch{}M(this,aa)!=null&&te(this,aa,M(this,du)._setTimeout(Fe(this,M0,nE).bind(this),M(this,Md)))};var Hf,qf,Bd;class c6{constructor(e){Ee(this,Hf);Ee(this,qf);Ee(this,Bd);te(this,Hf,e),te(this,Bd,!1),te(this,qf,n=>{this._poll(n,M(this,Hf))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){M(this,Bd)||(te(this,Bd,!0),M(this,qf).call(this,-2),M(this,Hf).on("block",M(this,qf)))}stop(){M(this,Bd)&&(te(this,Bd,!1),M(this,Hf).off("block",M(this,qf)))}pause(e){this.stop()}resume(){this.start()}}Hf=new WeakMap,qf=new WeakMap,Bd=new WeakMap;var B0,hu;class WNe extends c6{constructor(n,r){super(n);Ee(this,B0);Ee(this,hu);te(this,B0,r),te(this,hu,-2)}pause(n){n&&te(this,hu,-2),super.pause(n)}async _poll(n,r){const i=await r.getBlock(M(this,B0));i!=null&&(M(this,hu)===-2?te(this,hu,i.number):i.number>M(this,hu)&&(r.emit(M(this,B0),i.number),te(this,hu,i.number)))}}B0=new WeakMap,hu=new WeakMap;var BA;class GNe extends c6{constructor(n,r){super(n);Ee(this,BA);te(this,BA,sI(r))}async _poll(n,r){throw new Error("@TODO")}}BA=new WeakMap;var U0;class KNe extends c6{constructor(n,r){super(n);Ee(this,U0);te(this,U0,r)}async _poll(n,r){const i=await r.getTransactionReceipt(M(this,U0));i&&r.emit(M(this,U0),i)}}U0=new WeakMap;var fu,F0,$0,Ud,ca,UA,MW;class l6{constructor(e,n){Ee(this,UA);Ee(this,fu);Ee(this,F0);Ee(this,$0);Ee(this,Ud);Ee(this,ca);te(this,fu,e),te(this,F0,sI(n)),te(this,$0,Fe(this,UA,MW).bind(this)),te(this,Ud,!1),te(this,ca,-2)}start(){M(this,Ud)||(te(this,Ud,!0),M(this,ca)===-2&&M(this,fu).getBlockNumber().then(e=>{te(this,ca,e)}),M(this,fu).on("block",M(this,$0)))}stop(){M(this,Ud)&&(te(this,Ud,!1),M(this,fu).off("block",M(this,$0)))}pause(e){this.stop(),e&&te(this,ca,-2)}resume(){this.start()}}fu=new WeakMap,F0=new WeakMap,$0=new WeakMap,Ud=new WeakMap,ca=new WeakMap,UA=new WeakSet,MW=async function(e){if(M(this,ca)===-2)return;const n=sI(M(this,F0));n.fromBlock=M(this,ca)+1,n.toBlock=e;const r=await M(this,fu).getLogs(n);if(r.length===0){M(this,ca)<e-60&&te(this,ca,e-60);return}for(const i of r)M(this,fu).emit(M(this,F0),i),te(this,ca,i.blockNumber)};const YNe=BigInt(2),JNe=10;function gx(t){return t&&typeof t.then=="function"}function rE(t,e){return t+":"+JSON.stringify(e,(n,r)=>{if(r==null)return"null";if(typeof r=="bigint")return`bigint:${r.toString()}`;if(typeof r=="string")return r.toLowerCase();if(typeof r=="object"&&!Array.isArray(r)){const i=Object.keys(r);return i.sort(),i.reduce((s,o)=>(s[o]=r[o],s),{})}return r})}class OA{constructor(e){ve(this,"name");wt(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function QNe(t){return JSON.parse(JSON.stringify(t))}function oI(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function i3(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(Hn(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:rE("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:rE("orphan",n),filter:QNe(n)}}if(t.address||t.topics){const n=t,r={topics:(n.topics||[]).map(i=>i==null?null:Array.isArray(i)?oI(i.map(s=>s.toLowerCase())):i.toLowerCase())};if(n.address){const i=[],s=[],o=a=>{Hn(a)?i.push(a):s.push((async()=>{i.push(await Ss(a,e))})())};Array.isArray(n.address)?n.address.forEach(o):o(n.address),s.length&&await Promise.all(s),r.address=oI(i.map(a=>a.toLowerCase()))}return{filter:r,tag:rE("event",r),type:"event"}}fe(!1,"unknown ProviderEvent","event",t)}function s3(){return new Date().getTime()}const ZNe={cacheTimeout:250,pollingInterval:4e3};var Qi,Fd,Zi,z0,Eo,Wf,$d,pu,Db,la,V0,H0,Qt,go,aI,cI,ww,lI,vw,iE;class XNe{constructor(e,n){Ee(this,Qt);Ee(this,Qi);Ee(this,Fd);Ee(this,Zi);Ee(this,z0);Ee(this,Eo);Ee(this,Wf);Ee(this,$d);Ee(this,pu);Ee(this,Db);Ee(this,la);Ee(this,V0);Ee(this,H0);if(te(this,H0,Object.assign({},ZNe,n||{})),e==="any")te(this,Wf,!0),te(this,Eo,null);else if(e){const r=ac.from(e);te(this,Wf,!1),te(this,Eo,Promise.resolve(r)),setTimeout(()=>{this.emit("network",r,null)},0)}else te(this,Wf,!1),te(this,Eo,null);te(this,pu,-1),te(this,$d,new Map),te(this,Qi,new Map),te(this,Fd,new Map),te(this,Zi,null),te(this,z0,!1),te(this,Db,1),te(this,la,new Map),te(this,V0,!1)}get pollingInterval(){return M(this,H0).pollingInterval}get provider(){return this}get plugins(){return Array.from(M(this,Fd).values())}attachPlugin(e){if(M(this,Fd).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return M(this,Fd).set(e.name,e.connect(this)),this}getPlugin(e){return M(this,Fd).get(e)||null}get disableCcipRead(){return M(this,V0)}set disableCcipRead(e){te(this,V0,!!e)}async ccipReadFetch(e,n,r){if(this.disableCcipRead||r.length===0||e.to==null)return null;const i=e.to.toLowerCase(),s=n.toLowerCase(),o=[];for(let a=0;a<r.length;a++){const c=r[a],l=c.replace("{sender}",i).replace("{data}",s),u=new xl(l);c.indexOf("{data}")===-1&&(u.body={data:s,sender:i}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:u,index:a,urls:r});let d="unknown error",h;try{h=await u.send()}catch(f){o.push(f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:{error:f}});continue}try{const f=h.bodyJson;if(f.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:u,result:f}),f.data;f.message&&(d=f.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:u,result:f})}catch{}Re(h.statusCode<400||h.statusCode>=500,`response not found during CCIP fetch: ${d}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:d}}),o.push(d)}Re(!1,`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:r,errorMessages:o}})}_wrapBlock(e,n){return new wNe(MNe(e),this)}_wrapLog(e,n){return new w2(DNe(e),this)}_wrapTransactionReceipt(e,n){return new AW($Ne(e),this)}_wrapTransactionResponse(e,n){return new Sb(jW(e),this)}_detectNetwork(){Re(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){Re(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=qt(await Fe(this,Qt,go).call(this,{method:"getBlockNumber"}),"%response");return M(this,pu)>=0&&te(this,pu,e),e}_getAddress(e){return Ss(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(Hn(e))return Hn(e,32)?e:Dg(e);if(typeof e=="bigint"&&(e=qt(e,"blockTag")),typeof e=="number")return e>=0?Dg(e):M(this,pu)>=0?Dg(M(this,pu)+e):this.getBlockNumber().then(n=>Dg(n+e));fe(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?oI(c.map(l=>l.toLowerCase())):c.toLowerCase()),r="blockHash"in e?e.blockHash:void 0,i=(c,l,u)=>{let d;switch(c.length){case 0:break;case 1:d=c[0];break;default:c.sort(),d=c}if(r&&(l!=null||u!=null))throw new Error("invalid filter");const h={};return d&&(h.address=d),n.length&&(h.topics=n),l&&(h.fromBlock=l),u&&(h.toBlock=u),r&&(h.blockHash=r),h};let s=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)s.push(this._getAddress(c));else s.push(this._getAddress(e.address));let o;"fromBlock"in e&&(o=this._getBlockTag(e.fromBlock));let a;return"toBlock"in e&&(a=this._getBlockTag(e.toBlock)),s.filter(c=>typeof c!="string").length||o!=null&&typeof o!="string"||a!=null&&typeof a!="string"?Promise.all([Promise.all(s),o,a]).then(c=>i(c[0],c[1],c[2])):i(s,o,a)}_getTransactionRequest(e){const n=IA(e),r=[];if(["to","from"].forEach(i=>{if(n[i]==null)return;const s=Ss(n[i],this);gx(s)?r.push(async function(){n[i]=await s}()):n[i]=s}),n.blockTag!=null){const i=this._getBlockTag(n.blockTag);gx(i)?r.push(async function(){n.blockTag=await i}()):n.blockTag=i}return r.length?async function(){return await Promise.all(r),n}():n}async getNetwork(){if(M(this,Eo)==null){const i=(async()=>{try{const s=await this._detectNetwork();return this.emit("network",s,null),s}catch(s){throw M(this,Eo)===i&&te(this,Eo,null),s}})();return te(this,Eo,i),(await i).clone()}const e=M(this,Eo),[n,r]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==r.chainId&&(M(this,Wf)?(this.emit("network",r,n),M(this,Eo)===e&&te(this,Eo,Promise.resolve(r))):Re(!1,`network changed: ${n.chainId} => ${r.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:i,gasPrice:s,priorityFee:o}=await bs({_block:Fe(this,Qt,lI).call(this,"latest",!1),gasPrice:(async()=>{try{const u=await Fe(this,Qt,go).call(this,{method:"getGasPrice"});return pt(u,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const u=await Fe(this,Qt,go).call(this,{method:"getPriorityFee"});return pt(u,"%response")}catch{}return null})()});let a=null,c=null;const l=this._wrapBlock(i,e);return l&&l.baseFeePerGas&&(c=o??BigInt("1000000000"),a=l.baseFeePerGas*YNe+c),new A7(s,a,c)},r=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(r){const i=new xl(r.url),s=await r.processFunc(n,this,i);return new A7(s.gasPrice,s.maxFeePerGas,s.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return gx(n)&&(n=await n),pt(await Fe(this,Qt,go).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:r}=await bs({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await Fe(this,Qt,cI).call(this,Fe(this,Qt,aI).call(this,n,r,e.enableCcipRead?0:-1))}async getBalance(e,n){return pt(await Fe(this,Qt,ww).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return qt(await Fe(this,Qt,ww).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return dt(await Fe(this,Qt,ww).call(this,{method:"getCode"},e,n))}async getStorage(e,n,r){const i=pt(n,"position");return dt(await Fe(this,Qt,ww).call(this,{method:"getStorage",position:i},e,r))}async broadcastTransaction(e){const{blockNumber:n,hash:r,network:i}=await bs({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),s=_A.from(e);if(s.hash!==r)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(s,i).replaceableTransaction(n)}async getBlock(e,n){const{network:r,params:i}=await bs({network:this.getNetwork(),params:Fe(this,Qt,lI).call(this,e,!!n)});return i==null?null:this._wrapBlock(i,r)}async getTransaction(e){const{network:n,params:r}=await bs({network:this.getNetwork(),params:Fe(this,Qt,go).call(this,{method:"getTransaction",hash:e})});return r==null?null:this._wrapTransactionResponse(r,n)}async getTransactionReceipt(e){const{network:n,params:r}=await bs({network:this.getNetwork(),params:Fe(this,Qt,go).call(this,{method:"getTransactionReceipt",hash:e})});if(r==null)return null;if(r.gasPrice==null&&r.effectiveGasPrice==null){const i=await Fe(this,Qt,go).call(this,{method:"getTransaction",hash:e});if(i==null)throw new Error("report this; could not find tx or effectiveGasPrice");r.effectiveGasPrice=i.gasPrice}return this._wrapTransactionReceipt(r,n)}async getTransactionResult(e){const{result:n}=await bs({network:this.getNetwork(),result:Fe(this,Qt,go).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:dt(n)}async getLogs(e){let n=this._getFilter(e);gx(n)&&(n=await n);const{network:r,params:i}=await bs({network:this.getNetwork(),params:Fe(this,Qt,go).call(this,{method:"getLogs",filter:n})});return i.map(s=>this._wrapLog(s,r))}_getProvider(e){Re(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await kA.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=Dn(e);const n=X4(e.substring(2).toLowerCase()+".addr.reverse");try{const r=await kA.getEnsAddress(this),s=await new a0(r,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(s==null||s===gb)return null;const a=await new a0(s,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(a)!==e?null:a}catch(r){if(Ri(r,"BAD_DATA")&&r.value==="0x"||Ri(r,"CALL_EXCEPTION"))return null;throw r}return null}async waitForTransaction(e,n,r){const i=n??1;return i===0?this.getTransactionReceipt(e):new Promise(async(s,o)=>{let a=null;const c=async l=>{try{const u=await this.getTransactionReceipt(e);if(u!=null&&l-u.blockNumber+1>=i){s(u),a&&(clearTimeout(a),a=null);return}}catch(u){console.log("EEE",u)}this.once("block",c)};r!=null&&(a=setTimeout(()=>{a!=null&&(a=null,this.off("block",c),o(or("timeout","TIMEOUT",{reason:"timeout"})))},r)),c(await this.getBlockNumber())})}async waitForBlock(e){Re(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=M(this,la).get(e);n&&(n.timer&&clearTimeout(n.timer),M(this,la).delete(e))}_setTimeout(e,n){n==null&&(n=0);const r=A1(this,Db)._++,i=()=>{M(this,la).delete(r),e()};if(this.paused)M(this,la).set(r,{timer:null,func:i,time:n});else{const s=setTimeout(i,n);M(this,la).set(r,{timer:s,func:i,time:s3()})}return r}_forEachSubscriber(e){for(const n of M(this,Qi).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new OA(e.type);case"block":{const n=new qNe(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new WNe(this,e.type);case"event":return new l6(this,e.filter);case"transaction":return new KNe(this,e.hash);case"orphan":return new GNe(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const r of M(this,Qi).values())if(r.subscriber===e){r.started&&r.subscriber.stop(),r.subscriber=n,r.started&&n.start(),M(this,Zi)!=null&&n.pause(M(this,Zi));break}}async on(e,n){const r=await Fe(this,Qt,iE).call(this,e);return r.listeners.push({listener:n,once:!1}),r.started||(r.subscriber.start(),r.started=!0,M(this,Zi)!=null&&r.subscriber.pause(M(this,Zi))),this}async once(e,n){const r=await Fe(this,Qt,iE).call(this,e);return r.listeners.push({listener:n,once:!0}),r.started||(r.subscriber.start(),r.started=!0,M(this,Zi)!=null&&r.subscriber.pause(M(this,Zi))),this}async emit(e,...n){const r=await Fe(this,Qt,vw).call(this,e,n);if(!r||r.listeners.length===0)return!1;const i=r.listeners.length;return r.listeners=r.listeners.filter(({listener:s,once:o})=>{const a=new QH(this,o?null:s,e);try{s.call(this,...n,a)}catch{}return!o}),r.listeners.length===0&&(r.started&&r.subscriber.stop(),M(this,Qi).delete(r.tag)),i>0}async listenerCount(e){if(e){const r=await Fe(this,Qt,vw).call(this,e);return r?r.listeners.length:0}let n=0;for(const{listeners:r}of M(this,Qi).values())n+=r.length;return n}async listeners(e){if(e){const r=await Fe(this,Qt,vw).call(this,e);return r?r.listeners.map(({listener:i})=>i):[]}let n=[];for(const{listeners:r}of M(this,Qi).values())n=n.concat(r.map(({listener:i})=>i));return n}async off(e,n){const r=await Fe(this,Qt,vw).call(this,e);if(!r)return this;if(n){const i=r.listeners.map(({listener:s})=>s).indexOf(n);i>=0&&r.listeners.splice(i,1)}return(!n||r.listeners.length===0)&&(r.started&&r.subscriber.stop(),M(this,Qi).delete(r.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:r,subscriber:i}=await Fe(this,Qt,iE).call(this,e);r&&i.stop(),M(this,Qi).delete(n)}else for(const[n,{started:r,subscriber:i}]of M(this,Qi))r&&i.stop(),M(this,Qi).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return M(this,z0)}destroy(){this.removeAllListeners();for(const e of M(this,la).keys())this._clearTimeout(e);te(this,z0,!0)}get paused(){return M(this,Zi)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(te(this,pu,-1),M(this,Zi)!=null){if(M(this,Zi)==!!e)return;Re(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),te(this,Zi,!!e);for(const n of M(this,la).values())n.timer&&clearTimeout(n.timer),n.time=s3()-n.time}resume(){if(M(this,Zi)!=null){this._forEachSubscriber(e=>e.resume()),te(this,Zi,null);for(const e of M(this,la).values()){let n=e.time;n<0&&(n=0),e.time=s3(),setTimeout(e.func,n)}}}}Qi=new WeakMap,Fd=new WeakMap,Zi=new WeakMap,z0=new WeakMap,Eo=new WeakMap,Wf=new WeakMap,$d=new WeakMap,pu=new WeakMap,Db=new WeakMap,la=new WeakMap,V0=new WeakMap,H0=new WeakMap,Qt=new WeakSet,go=async function(e){const n=M(this,H0).cacheTimeout;if(n<0)return await this._perform(e);const r=rE(e.method,e);let i=M(this,$d).get(r);return i||(i=this._perform(e),M(this,$d).set(r,i),setTimeout(()=>{M(this,$d).get(r)===i&&M(this,$d).delete(r)},n)),await i},aI=async function(e,n,r){Re(r<JNe,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const i=IA(e);try{return dt(await this._perform({method:"call",transaction:i,blockTag:n}))}catch(s){if(!this.disableCcipRead&&zk(s)&&s.data&&r>=0&&n==="latest"&&i.to!=null&&Sr(s.data,0,4)==="0x556f1830"){const o=s.data,a=await Ss(i.to,this);let c;try{c=i_e(Sr(s.data,4))}catch(d){Re(!1,d.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:i,info:{data:o}})}Re(c.sender.toLowerCase()===a.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:o,reason:"OffchainLookup",transaction:i,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const l=await this.ccipReadFetch(i,c.calldata,c.urls);Re(l!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:i,info:{data:s.data,errorArgs:c.errorArgs}});const u={to:a,data:Fr([c.selector,r_e([l,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:u});try{const d=await Fe(this,Qt,aI).call(this,u,n,r+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},u),result:d}),d}catch(d){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},u),error:d}),d}}throw s}},cI=async function(e){const{value:n}=await bs({network:this.getNetwork(),value:e});return n},ww=async function(e,n,r){let i=this._getAddress(n),s=this._getBlockTag(r);return(typeof i!="string"||typeof s!="string")&&([i,s]=await Promise.all([i,s])),await Fe(this,Qt,cI).call(this,Fe(this,Qt,go).call(this,Object.assign(e,{address:i,blockTag:s})))},lI=async function(e,n){if(Hn(e,32))return await Fe(this,Qt,go).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let r=this._getBlockTag(e);return typeof r!="string"&&(r=await r),await Fe(this,Qt,go).call(this,{method:"getBlock",blockTag:r,includeTransactions:n})},vw=async function(e,n){let r=await i3(e,this);return r.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(r=await i3({orphan:"drop-log",log:n[0]},this)),M(this,Qi).get(r.tag)||null},iE=async function(e){const n=await i3(e,this),r=n.tag;let i=M(this,Qi).get(r);return i||(i={subscriber:this._getSubscriber(n),tag:r,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},M(this,Qi).set(r,i)),i};function e_e(t,e){try{const n=uI(t,e);if(n)return vA(n)}catch{}return null}function uI(t,e){if(t==="0x")return null;try{const n=qt(Sr(t,e,e+32)),r=qt(Sr(t,n,n+32));return Sr(t,n+32,n+32+r)}catch{}return null}function k7(t){const e=Es(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function t_e(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const n_e=new Uint8Array([]);function r_e(t){const e=[];let n=0;for(let r=0;r<t.length;r++)e.push(n_e),n+=32;for(let r=0;r<t.length;r++){const i=an(t[r]);e[r]=k7(n),e.push(k7(i.length)),e.push(t_e(i)),n+=32+Math.ceil(i.length/32)*32}return Fr(e)}const O7="0x0000000000000000000000000000000000000000000000000000000000000000";function i_e(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};Re(r0(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Sr(t,0,32);Re(Sr(n,0,12)===Sr(O7,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Sr(n,12);try{const r=[],i=qt(Sr(t,32,64)),s=qt(Sr(t,i,i+32)),o=Sr(t,i+32);for(let a=0;a<s;a++){const c=e_e(o,a*32);if(c==null)throw new Error("abort");r.push(c)}e.urls=r}catch{Re(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const r=uI(t,64);if(r==null)throw new Error("abort");e.calldata=r}catch{Re(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}Re(Sr(t,100,128)===Sr(O7,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Sr(t,96,100);try{const r=uI(t,128);if(r==null)throw new Error("abort");e.extraData=r}catch{Re(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(r=>e[r]),e}function tg(t,e){if(t.provider)return t.provider;Re(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function R7(t,e){let n=IA(e);if(n.to!=null&&(n.to=Ss(n.to,t)),n.from!=null){const r=n.from;n.from=Promise.all([t.getAddress(),Ss(r,t)]).then(([i,s])=>(fe(i.toLowerCase()===s.toLowerCase(),"transaction from mismatch","tx.from",s),i))}else n.from=t.getAddress();return await bs(n)}class s_e{constructor(e){ve(this,"provider");wt(this,{provider:e||null})}async getNonce(e){return tg(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await R7(this,e)}async populateTransaction(e){const n=tg(this,"populateTransaction"),r=await R7(this,e);r.nonce==null&&(r.nonce=await this.getNonce("pending")),r.gasLimit==null&&(r.gasLimit=await this.estimateGas(r));const i=await this.provider.getNetwork();if(r.chainId!=null){const o=pt(r.chainId);fe(o===i.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else r.chainId=i.chainId;const s=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||s)?fe(!1,"eip-1559 transaction do not support gasPrice","tx",e):(r.type===0||r.type===1)&&s&&fe(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1){const o=await n.getFeeData();Re(o.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice)}else{const o=await n.getFeeData();if(r.type==null)if(o.maxFeePerGas!=null&&o.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const a=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=a,r.maxPriorityFeePerGas=a}else r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas);else o.gasPrice!=null?(Re(!s,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=o.gasPrice),r.type=0):Re(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(r.type===2||r.type===3)&&(r.maxFeePerGas==null&&(r.maxFeePerGas=o.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=o.maxPriorityFeePerGas))}return await bs(r)}async estimateGas(e){return tg(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return tg(this,"call").call(await this.populateCall(e))}async resolveName(e){return await tg(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=tg(this,"sendTransaction"),r=await this.populateTransaction(e);delete r.from;const i=_A.from(r);return await n.broadcastTransaction(await this.signTransaction(i))}}const L7=new Set;function o_e(t){L7.has(t)||(L7.add(t),console.log("========= NOTICE ========="),console.log(`Request-Rate Exceeded for ${t} (this message will not be repeated)`),console.log(""),console.log("The default API keys for each service are provided as a highly-throttled,"),console.log("community resource for low-traffic projects and early prototyping."),console.log(""),console.log("While your application will continue to function, we highly recommended"),console.log("signing up for your own API keys to improve performance, increase your"),console.log("request rate/limit and enable other perks, such as metrics and advanced APIs."),console.log(""),console.log("For more details: https://docs.ethers.org/api-keys/"),console.log("=========================="))}function a_e(t){return JSON.parse(JSON.stringify(t))}var ys,Yc,Gf,zd,Kf,q0,Nh,dI,hI;class BW{constructor(e){Ee(this,Nh);Ee(this,ys);Ee(this,Yc);Ee(this,Gf);Ee(this,zd);Ee(this,Kf);Ee(this,q0);te(this,ys,e),te(this,Yc,null),te(this,Gf,Fe(this,Nh,dI).bind(this)),te(this,zd,!1),te(this,Kf,null),te(this,q0,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){M(this,zd)||(te(this,zd,!0),Fe(this,Nh,dI).call(this,-2))}stop(){M(this,zd)&&(te(this,zd,!1),te(this,q0,!0),Fe(this,Nh,hI).call(this),M(this,ys).off("block",M(this,Gf)))}pause(e){e&&Fe(this,Nh,hI).call(this),M(this,ys).off("block",M(this,Gf))}resume(){this.start()}}ys=new WeakMap,Yc=new WeakMap,Gf=new WeakMap,zd=new WeakMap,Kf=new WeakMap,q0=new WeakMap,Nh=new WeakSet,dI=async function(e){try{M(this,Yc)==null&&te(this,Yc,this._subscribe(M(this,ys)));let n=null;try{n=await M(this,Yc)}catch(s){if(!Ri(s,"UNSUPPORTED_OPERATION")||s.operation!=="eth_newFilter")throw s}if(n==null){te(this,Yc,null),M(this,ys)._recoverSubscriber(this,this._recover(M(this,ys)));return}const r=await M(this,ys).getNetwork();if(M(this,Kf)||te(this,Kf,r),M(this,Kf).chainId!==r.chainId)throw new Error("chaid changed");if(M(this,q0))return;const i=await M(this,ys).send("eth_getFilterChanges",[n]);await this._emitResults(M(this,ys),i)}catch(n){console.log("@TODO",n)}M(this,ys).once("block",M(this,Gf))},hI=function(){const e=M(this,Yc);e&&(te(this,Yc,null),e.then(n=>{M(this,ys).destroyed||M(this,ys).send("eth_uninstallFilter",[n])}))};var Yf;class c_e extends BW{constructor(n,r){super(n);Ee(this,Yf);te(this,Yf,a_e(r))}_recover(n){return new l6(n,M(this,Yf))}async _subscribe(n){return await n.send("eth_newFilter",[M(this,Yf)])}async _emitResults(n,r){for(const i of r)n.emit(M(this,Yf),n._wrapLog(i,n._network))}}Yf=new WeakMap;class l_e extends BW{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const r of n)e.emit("pending",r)}}const u_e="bigint,boolean,function,number,string,symbol".split(/,/g);function sE(t){if(t==null||u_e.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(sE);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function d_e(t){return new Promise(e=>{setTimeout(e,t)})}function ng(t){return t&&t.toLowerCase()}function D7(t){return t&&typeof t.pollingInterval=="number"}const UW={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class dp extends s_e{constructor(n,r){super(n);ve(this,"address");r=Dn(r),wt(this,{address:r})}connect(n){Re(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const r=sE(n),i=[];if(r.from){const o=r.from;i.push((async()=>{const a=await Ss(o,this.provider);fe(a!=null&&a.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=a})())}else r.from=this.address;if(r.gasLimit==null&&i.push((async()=>{r.gasLimit=await this.provider.estimateGas({...r,from:this.address})})()),r.to!=null){const o=r.to;i.push((async()=>{r.to=await Ss(o,this.provider)})())}i.length&&await Promise.all(i);const s=this.provider.getRpcTransaction(r);return this.provider.send("eth_sendTransaction",[s])}async sendTransaction(n){const r=await this.provider.getBlockNumber(),i=await this.sendUncheckedTransaction(n);return await new Promise((s,o)=>{const a=[1e3,100];let c=0;const l=async()=>{try{const u=await this.provider.getTransaction(i);if(u!=null){s(u.replaceableTransaction(r));return}}catch(u){if(Ri(u,"CANCELLED")||Ri(u,"BAD_DATA")||Ri(u,"NETWORK_ERROR")||Ri(u,"UNSUPPORTED_OPERATION")){u.info==null&&(u.info={}),u.info.sendTransactionHash=i,o(u);return}if(Ri(u,"INVALID_ARGUMENT")&&(c++,u.info==null&&(u.info={}),u.info.sendTransactionHash=i,c>10)){o(u);return}this.provider.emit("error",or("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:u}))}this.provider._setTimeout(()=>{l()},a.pop()||4e3)};l()})}async signTransaction(n){const r=sE(n);if(r.from){const s=await Ss(r.from,this.provider);fe(s!=null&&s.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),r.from=s}else r.from=this.address;const i=this.provider.getRpcTransaction(r);return await this.provider.send("eth_signTransaction",[i])}async signMessage(n){const r=typeof n=="string"?gl(n):n;return await this.provider.send("personal_sign",[dt(r),this.address.toLowerCase()])}async signTypedData(n,r,i){const s=sE(i),o=await PA.resolveNames(n,r,s,async a=>{const c=await Ss(a);return fe(c!=null,"TypedData does not support null address","value",a),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(PA.getPayload(o.domain,r,o.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const r=typeof n=="string"?gl(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),dt(r)])}}var Jf,W0,mu,Jc,Xa,ua,qs,jb,fI;class FW extends XNe{constructor(n,r){super(n,r);Ee(this,jb);Ee(this,Jf);Ee(this,W0);Ee(this,mu);Ee(this,Jc);Ee(this,Xa);Ee(this,ua);Ee(this,qs);te(this,W0,1),te(this,Jf,Object.assign({},UW,r||{})),te(this,mu,[]),te(this,Jc,null),te(this,ua,null),te(this,qs,null);{let s=null;const o=new Promise(a=>{s=a});te(this,Xa,{promise:o,resolve:s})}const i=this._getOption("staticNetwork");typeof i=="boolean"?(fe(!i||n!=="any","staticNetwork cannot be used on special network 'any'","options",r),i&&n!=null&&te(this,ua,ac.from(n))):i&&(fe(n==null||i.matches(n),"staticNetwork MUST match network object","options",r),te(this,ua,i))}_getOption(n){return M(this,Jf)[n]}get _network(){return Re(M(this,ua),"network is not available yet","NETWORK_ERROR"),M(this,ua)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let i=n.transaction;if(i&&i.type!=null&&pt(i.type)&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=await this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},i,{type:void 0})}))}}const r=this.getRpcRequest(n);return r!=null?await this.send(r.method,r.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(M(this,ua))return M(this,ua)}else return n;return M(this,qs)?await M(this,qs):this.ready?(te(this,qs,(async()=>{try{const r=ac.from(pt(await this.send("eth_chainId",[])));return te(this,qs,null),r}catch(r){throw te(this,qs,null),r}})()),await M(this,qs)):(te(this,qs,(async()=>{const r={id:A1(this,W0)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:r});let i;try{i=(await this._send(r))[0],te(this,qs,null)}catch(s){throw te(this,qs,null),this.emit("debug",{action:"receiveRpcError",error:s}),s}if(this.emit("debug",{action:"receiveRpcResult",result:i}),"result"in i)return ac.from(pt(i.result));throw this.getRpcError(r,i)})()),await M(this,qs))}_start(){M(this,Xa)==null||M(this,Xa).resolve==null||(M(this,Xa).resolve(),te(this,Xa,null),(async()=>{for(;M(this,ua)==null&&!this.destroyed;)try{te(this,ua,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",or("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await d_e(1e3)}Fe(this,jb,fI).call(this)})())}async _waitUntilReady(){if(M(this,Xa)!=null)return await M(this,Xa).promise}_getSubscriber(n){return n.type==="pending"?new l_e(this):n.type==="event"?this._getOption("polling")?new l6(this,n.filter):new c_e(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new OA("orphan"):super._getSubscriber(n)}get ready(){return M(this,Xa)==null}getRpcTransaction(n){const r={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(i=>{if(n[i]==null)return;let s=i;i==="gasLimit"&&(s="gas"),r[s]=Dg(pt(n[i],`tx.${i}`))}),["from","to","data"].forEach(i=>{n[i]!=null&&(r[i]=dt(n[i]))}),n.accessList&&(r.accessList=Zp(n.accessList)),n.blobVersionedHashes&&(r.blobVersionedHashes=n.blobVersionedHashes.map(i=>i.toLowerCase())),r}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ng(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ng(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[ng(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ng(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(ng):n.filter.address=ng(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,r){const{method:i}=n,{error:s}=r;if(i==="eth_estimateGas"&&s.message){const c=s.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return or("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:s}})}if(i==="eth_call"||i==="eth_estimateGas"){const c=pI(s),l=Ab.getBuiltinCallException(i==="eth_call"?"call":"estimateGas",n.params[0],c?c.data:null);return l.info={error:s,payload:n},l}const o=JSON.stringify(h_e(s));if(typeof s.message=="string"&&s.message.match(/user denied|ethers-user-denied/i))return or("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[i]||"unknown",reason:"rejected",info:{payload:n,error:s}});if(i==="eth_sendRawTransaction"||i==="eth_sendTransaction"){const c=n.params[0];if(o.match(/insufficient funds|base fee exceeds gas limit/i))return or("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:s}});if(o.match(/nonce/i)&&o.match(/too low/i))return or("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:s}});if(o.match(/replacement transaction/i)&&o.match(/underpriced/i))return or("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:s}});if(o.match(/only replay-protected/i))return or("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:i,info:{transaction:c,info:{error:s}}})}let a=!!o.match(/the method .* does not exist/i);return a||s&&s.details&&s.details.startsWith("Unauthorized method:")&&(a=!0),a?or("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:s,payload:n}}):or("could not coalesce error","UNKNOWN_ERROR",{error:s,payload:n})}send(n,r){if(this.destroyed)return Promise.reject(or("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const i=A1(this,W0)._++,s=new Promise((o,a)=>{M(this,mu).push({resolve:o,reject:a,payload:{method:n,params:r,id:i,jsonrpc:"2.0"}})});return Fe(this,jb,fI).call(this),s}async getSigner(n){n==null&&(n=0);const r=this.send("eth_accounts",[]);if(typeof n=="number"){const s=await r;if(n>=s.length)throw new Error("no such account");return new dp(this,s[n])}const{accounts:i}=await bs({network:this.getNetwork(),accounts:r});n=Dn(n);for(const s of i)if(Dn(s)===n)return new dp(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(r=>new dp(this,r))}destroy(){M(this,Jc)&&(clearTimeout(M(this,Jc)),te(this,Jc,null));for(const{payload:n,reject:r}of M(this,mu))r(or("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));te(this,mu,[]),super.destroy()}}Jf=new WeakMap,W0=new WeakMap,mu=new WeakMap,Jc=new WeakMap,Xa=new WeakMap,ua=new WeakMap,qs=new WeakMap,jb=new WeakSet,fI=function(){if(M(this,Jc))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");te(this,Jc,setTimeout(()=>{te(this,Jc,null);const r=M(this,mu);for(te(this,mu,[]);r.length;){const i=[r.shift()];for(;r.length&&i.length!==M(this,Jf).batchMaxCount;)if(i.push(r.shift()),JSON.stringify(i.map(o=>o.payload)).length>M(this,Jf).batchMaxSize){r.unshift(i.pop());break}(async()=>{const s=i.length===1?i[0].payload:i.map(o=>o.payload);this.emit("debug",{action:"sendRpcPayload",payload:s});try{const o=await this._send(s);this.emit("debug",{action:"receiveRpcResult",result:o});for(const{resolve:a,reject:c,payload:l}of i){if(this.destroyed){c(or("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:l.method}));continue}const u=o.filter(d=>d.id===l.id)[0];if(u==null){const d=or("missing response for request","BAD_DATA",{value:o,info:{payload:l}});this.emit("error",d),c(d);continue}if("error"in u){c(this.getRpcError(l,u));continue}a(u.result)}}catch(o){this.emit("debug",{action:"receiveRpcError",error:o});for(const{reject:a}of i)a(o)}})()}},n))};var Vd;class $W extends FW{constructor(n,r){super(n,r);Ee(this,Vd);let i=this._getOption("pollingInterval");i==null&&(i=UW.pollingInterval),te(this,Vd,i)}_getSubscriber(n){const r=super._getSubscriber(n);return D7(r)&&(r.pollingInterval=M(this,Vd)),r}get pollingInterval(){return M(this,Vd)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");te(this,Vd,n),this._forEachSubscriber(r=>{D7(r)&&(r.pollingInterval=M(this,Vd))})}}Vd=new WeakMap;var G0;class zW extends $W{constructor(n,r,i){n==null&&(n="http://localhost:8545");super(r,i);Ee(this,G0);typeof n=="string"?te(this,G0,new xl(n)):te(this,G0,n.clone())}_getConnection(){return M(this,G0).clone()}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){const r=this._getConnection();r.body=JSON.stringify(n),r.setHeader("content-type","application/json");const i=await r.send();i.assertOk();let s=i.bodyJson;return Array.isArray(s)||(s=[s]),s}}G0=new WeakMap;function pI(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&Hn(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=pI(t[e]);if(n)return n}return null}if(typeof t=="string")try{return pI(JSON.parse(t))}catch{}return null}function mI(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)mI(t[n],e);if(typeof t=="string")try{return mI(JSON.parse(t),e)}catch{}}}function h_e(t){const e=[];return mI(t,e),e}function f_e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const p_e=f_e().WebSocket;var Qc,Mb,Hd,Qf,qd;class u6{constructor(e,n){Ee(this,Qc);Ee(this,Mb);Ee(this,Hd);Ee(this,Qf);Ee(this,qd);te(this,Qc,e),te(this,Mb,JSON.stringify(n)),te(this,Hd,null),te(this,Qf,null),te(this,qd,null)}get filter(){return JSON.parse(M(this,Mb))}start(){te(this,Hd,M(this,Qc).send("eth_subscribe",this.filter).then(e=>(M(this,Qc)._register(e,this),e)))}stop(){M(this,Hd).then(e=>{M(this,Qc).destroyed||M(this,Qc).send("eth_unsubscribe",[e])}),te(this,Hd,null)}pause(e){Re(e,"preserve logs while paused not supported by SocketSubscriber yet","UNSUPPORTED_OPERATION",{operation:"pause(false)"}),te(this,Qf,!!e)}resume(){te(this,Qf,null)}_handleMessage(e){if(M(this,Hd)!=null&&M(this,Qf)===null){let n=M(this,qd);n==null?n=this._emit(M(this,Qc),e):n=n.then(async()=>{await this._emit(M(this,Qc),e)}),te(this,qd,n.then(()=>{M(this,qd)===n&&te(this,qd,null)}))}}async _emit(e,n){throw new Error("sub-classes must implemente this; _emit")}}Qc=new WeakMap,Mb=new WeakMap,Hd=new WeakMap,Qf=new WeakMap,qd=new WeakMap;class m_e extends u6{constructor(e){super(e,["newHeads"])}async _emit(e,n){e.emit("block",parseInt(n.number))}}class g_e extends u6{constructor(e){super(e,["newPendingTransactions"])}async _emit(e,n){e.emit("pending",n)}}var Bb;class y_e extends u6{constructor(n,r){super(n,["logs",r]);Ee(this,Bb);te(this,Bb,JSON.stringify(r))}get logFilter(){return JSON.parse(M(this,Bb))}async _emit(n,r){n.emit(this.logFilter,n._wrapLog(r,n._network))}}Bb=new WeakMap;var Zf,K0,Wd;class w_e extends FW{constructor(n,r){const i=Object.assign({},r??{});fe(i.batchMaxCount==null||i.batchMaxCount===1,"sockets-based providers do not support batches","options.batchMaxCount",r),i.batchMaxCount=1,i.staticNetwork==null&&(i.staticNetwork=!0);super(n,i);Ee(this,Zf);Ee(this,K0);Ee(this,Wd);te(this,Zf,new Map),te(this,K0,new Map),te(this,Wd,new Map)}_getSubscriber(n){switch(n.type){case"close":return new OA("close");case"block":return new m_e(this);case"pending":return new g_e(this);case"event":return new y_e(this,n.filter);case"orphan":if(n.filter.orphan==="drop-log")return new OA("drop-log")}return super._getSubscriber(n)}_register(n,r){M(this,K0).set(n,r);const i=M(this,Wd).get(n);if(i){for(const s of i)r._handleMessage(s);M(this,Wd).delete(n)}}async _send(n){fe(!Array.isArray(n),"WebSocket does not support batch send","payload",n);const r=new Promise((i,s)=>{M(this,Zf).set(n.id,{payload:n,resolve:i,reject:s})});return await this._waitUntilReady(),await this._write(JSON.stringify(n)),[await r]}async _processMessage(n){const r=JSON.parse(n);if(r&&typeof r=="object"&&"id"in r){const i=M(this,Zf).get(r.id);if(i==null){this.emit("error",or("received result for unknown id","UNKNOWN_ERROR",{reasonCode:"UNKNOWN_ID",result:r}));return}M(this,Zf).delete(r.id),i.resolve(r)}else if(r&&r.method==="eth_subscription"){const i=r.params.subscription,s=M(this,K0).get(i);if(s)s._handleMessage(r.params.result);else{let o=M(this,Wd).get(i);o==null&&(o=[],M(this,Wd).set(i,o)),o.push(r.params.result)}}else{this.emit("error",or("received unexpected message","UNKNOWN_ERROR",{reasonCode:"UNEXPECTED_MESSAGE",result:r}));return}}async _write(n){throw new Error("sub-classes must override this")}}Zf=new WeakMap,K0=new WeakMap,Wd=new WeakMap;var Xf,ec;class v_e extends w_e{constructor(n,r,i){super(r,i);Ee(this,Xf);Ee(this,ec);typeof n=="string"?(te(this,Xf,()=>new p_e(n)),te(this,ec,M(this,Xf).call(this))):typeof n=="function"?(te(this,Xf,n),te(this,ec,n())):(te(this,Xf,null),te(this,ec,n)),this.websocket.onopen=async()=>{try{await this._start(),this.resume()}catch(s){console.log("failed to start WebsocketProvider",s)}},this.websocket.onmessage=s=>{this._processMessage(s.data)}}get websocket(){if(M(this,ec)==null)throw new Error("websocket closed");return M(this,ec)}async _write(n){this.websocket.send(n)}async destroy(){M(this,ec)!=null&&(M(this,ec).close(),te(this,ec,null)),super.destroy()}}Xf=new WeakMap,ec=new WeakMap;const bw="84842078b09946638c03157f83405213";function b_e(t){switch(t){case"mainnet":return"mainnet.infura.io";case"goerli":return"goerli.infura.io";case"sepolia":return"sepolia.infura.io";case"arbitrum":return"arbitrum-mainnet.infura.io";case"arbitrum-goerli":return"arbitrum-goerli.infura.io";case"arbitrum-sepolia":return"arbitrum-sepolia.infura.io";case"base":return"base-mainnet.infura.io";case"base-goerlia":return"base-goerli.infura.io";case"base-sepolia":return"base-sepolia.infura.io";case"bnb":return"bnbsmartchain-mainnet.infura.io";case"bnbt":return"bnbsmartchain-testnet.infura.io";case"linea":return"linea-mainnet.infura.io";case"linea-goerli":return"linea-goerli.infura.io";case"linea-sepolia":return"linea-sepolia.infura.io";case"matic":return"polygon-mainnet.infura.io";case"matic-amoy":return"polygon-amoy.infura.io";case"matic-mumbai":return"polygon-mumbai.infura.io";case"optimism":return"optimism-mainnet.infura.io";case"optimism-goerli":return"optimism-goerli.infura.io";case"optimism-sepolia":return"optimism-sepolia.infura.io"}fe(!1,"unsupported network","network",t)}class x_e extends v_e{constructor(n,r){const i=new jp(n,r),s=i._getConnection();Re(!s.credentials,"INFURA WebSocket project secrets unsupported","UNSUPPORTED_OPERATION",{operation:"InfuraProvider.getWebSocketProvider()"});const o=s.url.replace(/^http/i,"ws").replace("/v3/","/ws/v3/");super(o,i._network);ve(this,"projectId");ve(this,"projectSecret");wt(this,{projectId:i.projectId,projectSecret:i.projectSecret})}isCommunityResource(){return this.projectId===bw}}class jp extends zW{constructor(n,r,i){n==null&&(n="mainnet");const s=ac.from(n);r==null&&(r=bw),i==null&&(i=null);const o=jp.getRequest(s,r,i);super(o,s,{staticNetwork:s});ve(this,"projectId");ve(this,"projectSecret");wt(this,{projectId:r,projectSecret:i})}_getProvider(n){try{return new jp(n,this.projectId,this.projectSecret)}catch{}return super._getProvider(n)}isCommunityResource(){return this.projectId===bw}static getWebSocketProvider(n,r){return new x_e(n,r)}static getRequest(n,r,i){r==null&&(r=bw),i==null&&(i=null);const s=new xl(`https://${b_e(n.name)}/v3/${r}`);return s.allowGzip=!0,i&&s.setCredentials("",i),r===bw&&(s.retryFunc=async(o,a,c)=>(o_e("InfuraProvider"),!0)),s}}var Y0;class oE extends $W{constructor(n,r,i){const s=Object.assign({},i??{},{batchMaxCount:1});fe(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(r,s);Ee(this,Y0);te(this,Y0,async(o,a)=>{const c={method:o,params:a};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const l=await n.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:l}),l}catch(l){const u=new Error(l.message);throw u.code=l.code,u.data=l.data,u.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:u}),u}})}async send(n,r){return await this._start(),await super.send(n,r)}async _send(n){fe(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const r=await M(this,Y0).call(this,n.method,n.params||[]);return[{id:n.id,result:r}]}catch(r){return[{id:n.id,error:{code:r.code,data:r.data,message:r.message}}]}}getRpcError(n,r){switch(r=JSON.parse(JSON.stringify(r)),r.error.code||-1){case 4001:r.error.message=`ethers-user-denied: ${r.error.message}`;break;case 4200:r.error.message=`ethers-unsupported: ${r.error.message}`;break}return super.getRpcError(n,r)}async hasSigner(n){n==null&&(n=0);const r=await this.send("eth_accounts",[]);return typeof n=="number"?r.length>n:(n=n.toLowerCase(),r.filter(i=>i.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await M(this,Y0).call(this,"eth_requestAccounts",[])}catch(r){const i=r.payload;throw this.getRpcError(i,{id:i.id,error:r})}return await super.getSigner(n)}}Y0=new WeakMap;const c0={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,n]=await Promise.all([c0.getAddresses(t),c0.getChainId(t)]);return{chainId:n,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){var r,i;const n=((r=e.rpcUrls.chainDefault)==null?void 0:r.http)||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:c0.numberToHexString(e.id),rpcUrls:[...n],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[(i=e.blockExplorers)==null?void 0:i.default.url],iconUrls:[tl.NetworkImageIds[e.id]]}]})}},hd={signMessage:async(t,e,n)=>{if(!e)throw new Error("signMessage - provider is undefined");const r=Hn(t)?t:dt(gl(t));return await e.request({method:"personal_sign",params:[r,n]})},estimateGas:async(t,e,n,r)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!n)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const i={from:t.address,to:t.to,data:t.data,type:0},s=new oE(e,r);return await new dp(s,n).estimateGas(i)},sendTransaction:async(t,e,n,r)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!n)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const i={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0},s=new oE(e,r),c=await(await new dp(s,n).sendTransaction(i)).wait();return(c==null?void 0:c.hash)||null},writeContract:async(t,e,n,r)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!n)throw new Error("writeContract - address is undefined");const i=new oE(e,r),s=new dp(i,n),o=new a0(t.tokenAddress,t.abi,s);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},getEnsAddress:async(t,e)=>{try{const n=Number(e.id);let r=null,i=!1;return ese(t)&&(i=await Fk.resolveReownName(t)||!1),n===1&&(r=await new jp("mainnet").resolveName(t)),r||i||!1}catch{return!1}},getEnsAvatar:async(t,e)=>e===1&&await new jp("mainnet").getAvatar(t)||!1,parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:aq,formatUnits:oq};class E_e extends WH{constructor(){super({adapterType:Ge.ADAPTER_TYPES.ETHERS,namespace:Ge.CHAIN.EVM}),this.balancePromises={},this.providerHandlers=null}async createEthersConfig(e){if(!e.metadata)return;let n;function r(){if(n)return n;if(!(typeof window>"u")&&window.ethereum)return n=window.ethereum,n}async function i(){var o,a,c;try{const{createCoinbaseWalletSDK:l}=await ws(async()=>{const{createCoinbaseWalletSDK:d}=await import("./index-kqkazer9.js");return{createCoinbaseWalletSDK:d}},[]);return typeof window>"u"?void 0:l({appName:(o=e==null?void 0:e.metadata)==null?void 0:o.name,appLogoUrl:(a=e==null?void 0:e.metadata)==null?void 0:a.icons[0],appChainIds:((c=e.networks)==null?void 0:c.map(d=>d.id))||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(l){console.error("Failed to import Coinbase Wallet SDK:",l);return}}const s={metadata:e.metadata};if(e.enableInjected!==!1&&(s.injected=r()),e.enableCoinbase!==!1){const o=await i();o&&(s.coinbase=o)}return s.EIP6963=e.enableEIP6963!==!1,s}async signMessage(e){const{message:n,address:r,provider:i}=e;if(!i)throw new Error("Provider is undefined");try{return{signature:await hd.signMessage(n,i,r)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){var r;if(!e.provider)throw new Error("Provider is undefined");return{hash:await hd.sendTransaction({value:e.value,to:e.to,data:e.data,gas:e.gas,gasPrice:e.gasPrice,address:e.address},e.provider,e.address,Number((r=e.caipNetwork)==null?void 0:r.id))}}async writeContract(e){var i;if(!e.provider)throw new Error("Provider is undefined");const{address:n}=Kl.parseCaipAddress(e.caipAddress);return{hash:await hd.writeContract(e,e.provider,n,Number((i=e.caipNetwork)==null?void 0:i.id))}}async estimateGas(e){const{provider:n,caipNetwork:r,address:i}=e;if(!n)throw new Error("Provider is undefined");try{return{gas:await hd.estimateGas({data:e.data,to:e.to,address:i},n,i,Number(r==null?void 0:r.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}async getEnsAddress(e){const{name:n,caipNetwork:r}=e;return r?{address:await hd.getEnsAddress(n,r)}:{address:""}}parseUnits(e){return hd.parseUnits(e.value,e.decimals)}formatUnits(e){return hd.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:n,chainId:r}=e,i=this.connectors.find(c=>c.id===n),s=i==null?void 0:i.provider;if(!s)throw new Error("Provider not found");const o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"});if(this.listenProviderEvents(s),!o[0])throw new Error("No accounts found");if(!(i!=null&&i.type))throw new Error("Connector type not found");return{address:o[0],chainId:Number(a)||Number(r),provider:s,type:i.type,id:n}}async syncConnectors(e){var r;this.ethersConfig=await this.createEthersConfig(e),(r=this.ethersConfig)!=null&&r.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(i=>i!=="metadata"&&i!=="EIP6963").forEach(i=>{var a,c;const s=i==="coinbase"?"coinbaseWalletSDK":i,o=i===Ge.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:s,explorerId:tl.ConnectorExplorerIds[s],imageUrl:(a=e==null?void 0:e.connectorImages)==null?void 0:a[s],name:tl.ConnectorNamesMap[s]||"Unknown",imageId:tl.ConnectorImageIds[s],type:tl.ConnectorTypesMap[s]??"EXTERNAL",info:o?void 0:{rdns:s},chain:this.namespace,chains:[],provider:(c=this.ethersConfig)==null?void 0:c[i]})})}setUniversalProvider(e){this.addConnector(new $k({provider:e,caipNetworks:this.getCaipNetworks(),namespace:"eip155"}))}eip6963EventHandler(e){var n;if(e.detail){const{info:r,provider:i}=e.detail;if(!((n=this.connectors)==null?void 0:n.find(o=>o.name===(r==null?void 0:r.name)))){const o=tl.ConnectorTypesMap[Ge.CONNECTOR_ID.EIP6963],a=(r==null?void 0:r.rdns)||(r==null?void 0:r.name)||(r==null?void 0:r.uuid);this.namespace&&a&&this.addConnector({id:a,type:o,imageUrl:r==null?void 0:r.icon,name:(r==null?void 0:r.name)||"Unknown",provider:i,info:r,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const n=this.eip6963EventHandler.bind(this);window.addEventListener(zn.EIP6963_ANNOUNCE_EVENT,n),window.dispatchEvent(new Event(zn.EIP6963_REQUEST_EVENT))}}async connect({id:e,type:n,chainId:r}){var c;const i=this.connectors.find(l=>l.id===e),s=i==null?void 0:i.provider;if(!s)throw new Error("Provider not found");let o=[],a;if(n==="AUTH"){const{address:l}=await s.connect({chainId:r,preferredAccountType:(c=ut.state.preferredAccountTypes)==null?void 0:c.eip155});o=[l],this.emit("accountChanged",{address:o[0],chainId:Number(r)})}else{if(o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"}),a!==r){const l=this.getCaipNetworks().find(u=>u.id===r);if(!l)throw new Error("EthersAdapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:l,provider:s,providerType:n})}catch{throw new Error("EthersAdapter:connect - Switch network failed")}}this.emit("accountChanged",{address:o[0],chainId:Number(r)}),this.listenProviderEvents(s)}return{address:o[0],chainId:Number(r),provider:s,type:n,id:e}}async reconnect(e){var s;const{id:n,chainId:r}=e,i=this.connectors.find(o=>o.id===n);i&&i.type==="AUTH"&&r&&await i.provider.connect({chainId:r,preferredAccountType:(s=ut.state.preferredAccountTypes)==null?void 0:s.eip155})}async getAccounts(e){const n=this.connectors.find(s=>s.id===e.id),r=n==null?void 0:n.provider;if(!r||!n)throw new Error("Provider not found");if(e.id===Ge.CONNECTOR_ID.AUTH){const s=n.provider;if(!s.user)return{accounts:[]};const{accounts:o,address:a}=s.user;return Promise.resolve({accounts:(o||[{address:a,type:"eoa"}]).map(c=>kt.createAccount("eip155",c.address,c.type))})}return{accounts:(await r.request({method:"eth_requestAccounts"})).map(s=>kt.createAccount("eip155",s,"eoa"))}}async disconnect(e){if(!e.provider||!e.providerType)throw new Error("Provider or providerType not provided");switch(e.providerType){case"WALLET_CONNECT":e.provider.session&&e.provider.disconnect();break;case"AUTH":await e.provider.disconnect();break;case"ANNOUNCED":case"EXTERNAL":await this.revokeProviderPermissions(e.provider);break;default:throw new Error("Unsupported provider type")}}async getBalance(e){const n=e.address,r=this.getCaipNetworks().find(i=>i.id===e.chainId);if(!n)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(r&&r.chainNamespace==="eip155"){const i=`${r.caipNetworkId}:${n}`,s=this.balancePromises[i];if(s)return s;const o=ot.getNativeBalanceCacheForCaipAddress(i);if(o)return{balance:o.balance,symbol:o.symbol};const a=new zW(r.rpcUrls.default.http[0],{chainId:r.id,name:r.name});if(a)try{return this.balancePromises[i]=new Promise(async c=>{const l=await a.getBalance(n),u=sAe(l);ot.updateNativeBalanceCache({caipAddress:i,balance:u,symbol:r.nativeCurrency.symbol,timestamp:Date.now()}),c({balance:u,symbol:r.nativeCurrency.symbol})}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async getProfile(e){if(e.chainId===1){const n=new jp("mainnet"),r=await n.lookupAddress(e.address),i=await n.getAvatar(e.address);return{profileName:r||void 0,profileImage:i||void 0}}return{profileName:void 0,profileImage:void 0}}listenProviderEvents(e){const n=()=>{this.removeProviderListeners(e),this.emit("disconnect")},r=s=>{s.length>0?this.emit("accountChanged",{address:s[0]}):n()},i=s=>{const o=typeof s=="string"?c0.hexStringToNumber(s):Number(s);this.emit("switchNetwork",{chainId:o})};e.on("disconnect",n),e.on("accountsChanged",r),e.on("chainChanged",i),this.providerHandlers={disconnect:n,accountsChanged:r,chainChanged:i}}removeProviderListeners(e){this.providerHandlers&&(e.removeListener("disconnect",this.providerHandlers.disconnect),e.removeListener("accountsChanged",this.providerHandlers.accountsChanged),e.removeListener("chainChanged",this.providerHandlers.chainChanged),this.providerHandlers=null)}async switchNetwork(e){var s,o;const{caipNetwork:n,provider:r,providerType:i}=e;if(i==="AUTH"){await super.switchNetwork(e);return}try{await r.request({method:"wallet_switchEthereumChain",params:[{chainId:c0.numberToHexString(n.id)}]})}catch(a){if(a.code===eh.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||a.code===eh.ERROR_INVALID_CHAIN_ID||a.code===eh.ERROR_CODE_DEFAULT||((o=(s=a==null?void 0:a.data)==null?void 0:s.originalError)==null?void 0:o.code)===eh.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await c0.addEthereumChain(r,n);else if(i==="ANNOUNCED"||i==="EXTERNAL"||i==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){var e;return(e=this.connectors.find(n=>n.type==="WALLET_CONNECT"))==null?void 0:e.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(i=>i.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(n){console.info("Could not revoke permissions from wallet. Disconnecting...",n)}}async getCapabilities(e){var i,s;const n=ln.getProvider(Ge.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");const r=(s=(i=n.session)==null?void 0:i.sessionProperties)==null?void 0:s.capabilities;if(r){const a=hd.parseWalletCapabilities(r)[e];if(a)return a}return await n.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const n=ln.getProvider(Ge.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");return await n.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const n=ln.getProvider(Ge.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");return await n.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const n=ln.getProvider(Ge.CHAIN.EVM);if(!n)throw new Error("Provider is undefined");return await n.request({method:"wallet_getAssets",params:[e]})}}const A_e="acf46e0cc4d322acb6d86bb030902765",S_e={name:"iUnlockExpert",description:"iUnlockExpert Website",url:"https://dowody.github.io/iunlockexpert/",icons:["https://avatars.githubusercontent.com/u/179229932"]},C_e=[SEe,AEe,CEe],N_e=new E_e;function VW({phoneNumber:t="+15793860596",message:e="Hello! I need help with device unlocking."}){const n=()=>{try{const r=t.replace(/\D/g,"");if(!/^\+?[1-9]\d{1,14}$/.test(r)){console.error("Invalid phone number format"),alert("Invalid WhatsApp contact number");return}const i=encodeURIComponent(e),s=`https://wa.me/${r}?text=${i}`;window.open(s,"_blank","noopener,noreferrer")}catch(r){console.error("WhatsApp button error:",r),alert("Unable to open WhatsApp. Please try again.")}};return v.jsx(Qe.button,{initial:{opacity:0,scale:.5},animate:{opacity:1,scale:1},whileHover:{scale:1.08},whileTap:{scale:.95},onClick:n,className:"fixed bottom-20 right-4 md:bottom-20 md:right-4 bg-green-500 text-white w-14 h-14 md:w-14 md:h-14 rounded-full shadow-2xl z-50 transition-all duration-200 flex items-center justify-center",children:v.jsx("img",{src:"/iunlockexpert/whatsapp.png",alt:"WhatsApp",className:"w-8 h-8 md:w-8 md:h-8 invert"})})}DEe({adapters:[N_e],networks:C_e,metadata:S_e,projectId:A_e,themeMode:"light",features:{analytics:!0},themeVariables:{"--w3m-accent":"#000000"}});const __e=["AT&T","T-Mobile","Verizon","Sprint","O2","Vodafone","EE","Orange","Three","Rogers","Bell","Telus","MX Iusacell","Other"],P_e=[{id:"mdm",name:"MDM Bypass",icon:KT,originalPrice:59.99,discountedPrice:39.99,averageTime:"24 hours",deliveryTime:"24 hours guaranteed",successRate:"99.9%",description:"Remove Mobile Device Management restrictions",detailedDescription:"Mobile Device Management (MDM) can limit your device's functionality. Our MDM bypass service completely removes these restrictions, giving you full control over your Apple device. This process is safe, permanent, and does not require jailbreaking.",features:["Permanent MDM removal","Works for all iOS devices","No jailbreak required","Quick 24-hour processing"],type:"mdm-bypass"},{id:"icloud",name:"iCloud Unlock",icon:WT,originalPrice:69.99,discountedPrice:49.99,averageTime:"24-48 hours",deliveryTime:"24 hours guaranteed",successRate:"99.9%",description:"Unlock iCloud-locked Apple devices",detailedDescription:"Stuck with an iCloud-locked device? Our professional iCloud unlock service helps you regain full access to your Apple device. We use official methods to remove iCloud activation locks, ensuring your device's integrity and functionality.",features:["Official iCloud unlock method","Supports all iPhone models","Worldwide service","100% success guarantee"],type:"icloud-unlock"},{id:"sim",name:"SIM Unlock",icon:GT,originalPrice:49.95,discountedPrice:4.99,averageTime:"3-5 days",deliveryTime:"24 hours guaranteed",successRate:"99.9%",description:"Carrier unlock for mobile devices",detailedDescription:"Free your device from carrier restrictions. Our SIM unlock service allows you to use your phone with any carrier worldwide. We provide a permanent unlock that works across international networks.",features:["Permanent carrier unlock","Compatible with all carriers","Global network support","Fast and secure process"],type:"sim-unlock"}],o3=[{name:"Bitcoin",symbol:"BTC",discount:10,address:"bc1q0jjym5ylv66epkmdwu9qxj2cpnemguwtvy7c9d"},{name:"Ethereum",symbol:"ETH",discount:8,address:"0x9394CD307B4c1C37a0F4713CbD222238c077209a"},{name:"USDT TRC-20",symbol:"USDT",discount:5,address:"TU4mc5DHHk4eyob4zQArsbiHnVRCFGYDDH"}];function I_e(){ce.useState(!1);const t=El();$p();const{model:e}=oU(),[n,r]=ce.useState(1),[i,s]=ce.useState(""),[o,a]=ce.useState(null),[c,l]=ce.useState(""),[u,d]=ce.useState(""),[h,f]=ce.useState(!1),[m,g]=ce.useState(!1),[E,y]=ce.useState(!1),[w,x]=ce.useState(""),[C,N]=ce.useState("");ce.useState(!1);const[D,O]=ce.useState(null),[P,L]=ce.useState(!1),[$,_]=ce.useState(!1),[j,K]=ce.useState(!1),[V,T]=ce.useState(null);REe();const{isConnected:k,address:W}=L2e(),{walletProvider:B}=OEe("eip155"),{chainId:z}=R2e(),[Z,he]=ce.useState(!1);ce.useEffect(()=>{he(k)},[k]);const R=Oe=>{if(!/^\d{15}$/.test(Oe))return"IMEI must be exactly 15 digits";let Ne=0,Me=!1;for(let ze=Oe.length-1;ze>=0;ze--){let Ve=parseInt(Oe[ze]);Me&&(Ve*=2,Ve>9&&(Ve-=9)),Ne+=Ve,Me=!Me}return Ne%10!==0?"Invalid IMEI number":""},[Y,J]=ce.useState(!1),[ne,se]=ce.useState(null),de=async()=>{var Oe,Ne;if(!k||!B||!W){O("Please connect your wallet first");return}_(!0),O(null),K(!1),T(null);try{const Me=((o==null?void 0:o.discountedPrice)||0)+(h?2.95:0),ze=Number((Me/2e3).toFixed(8));if(isNaN(ze)||ze<=0)throw new Error("Invalid payment amount");const Ve=new oE(B,z),mt=new dp(Ve,W),Et={to:"0x9394CD307B4c1C37a0F4713CbD222238c077209a",value:oAe(ze.toString())},Pt=await mt.sendTransaction(Et),Rt=await Pt.wait();if((Rt==null?void 0:Rt.status)===1){K(!0),T(Pt.hash);const Zt={orderId:`ORDER-${Date.now()}`,service:(o==null?void 0:o.name)||"",device:e||"",amount:ze,originalPrice:(o==null?void 0:o.originalPrice)||0,discount:o!=null&&o.originalPrice?o.originalPrice-o.discountedPrice:0,finalPrice:(o==null?void 0:o.discountedPrice)||0,paymentMethod:"WalletConnect",transactionHash:Pt.hash,date:new Date().toISOString(),imei:c,email:u};await Rie(Zt),setTimeout(()=>{J(!1),r(6)},2e3)}else throw new Error("Transaction failed")}catch(Me){if(console.error("Payment error:",Me),Me.code==="INSUFFICIENT_FUNDS")O("Insufficient funds in your wallet. Please ensure you have enough ETH to cover the payment amount plus gas fees.");else if(Me.code==="USER_REJECTED")O("Transaction was rejected. Please try again if you want to proceed with the payment.");else if(Me.code==="NETWORK_ERROR")O("Network error occurred. Please check your internet connection and try again.");else if(Me.code==="NUMERIC_FAULT")O("There was an issue with the payment amount. Please try again or contact support.");else if((Oe=Me.message)!=null&&Oe.includes("gas"))O("Transaction failed due to gas estimation. Please try again with a different gas price.");else{const Ve=(((Ne=Me.error)==null?void 0:Ne.message)||Me.message||"Transaction failed").replace(/failed with \d+ gas: /,"").replace(/address 0x[a-fA-F0-9]{40}/,"your wallet").replace(/have \d+ want \d+/,"have insufficient funds").replace(/too many decimals for format.*/,"Invalid payment amount. Please try again.");O(`Payment failed: ${Ve}`)}}finally{_(!1)}},ye=()=>v.jsx(fa,{children:Y&&v.jsx(Qe.div,{initial:{opacity:1},animate:{opacity:1},exit:{opacity:1},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:v.jsxs(Qe.div,{initial:{scale:1,opacity:1},animate:{scale:.98,opacity:1},exit:{scale:.1,opacity:1},transition:{duration:.4},className:"bg-white rounded-xl shadow-2xl max-w-md w-full",children:[v.jsxs("div",{className:"bg-blue-600 text-white p-6 rounded-t-xl",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h2",{className:"text-xl font-bold",children:"WalletConnect Payment"}),v.jsx("button",{onClick:()=>J(!1),className:"text-white hover:text-blue-100",children:v.jsx(zc,{className:"w-6 h-6"})})]}),v.jsxs("p",{className:"text-sm text-blue-100 mt-2",children:["Complete your payment for ",o==null?void 0:o.name]}),v.jsxs("div",{className:"mt-2 text-2xl font-bold",children:["",(((o==null?void 0:o.discountedPrice)||0)+(h?2.95:0)).toFixed(2)]})]}),v.jsx("div",{className:"p-6 border-b",children:v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Device"}),v.jsx("p",{className:"font-semibold",children:e})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:"IMEI"}),v.jsx("p",{className:"font-semibold",children:c})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Service"}),v.jsx("p",{className:"font-semibold",children:o==null?void 0:o.name})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Unlock Time"}),v.jsx("p",{className:"font-semibold",children:o==null?void 0:o.deliveryTime})]})]})}),v.jsxs("div",{className:"p-6 border-b",children:[v.jsx("h3",{className:"text-md font-semibold mb-3",children:"Select Cryptocurrency"}),v.jsx("div",{className:"grid grid-cols-3 gap-3",children:o3.map(Oe=>v.jsx(Qe.button,{onClick:Ne=>{Ne.preventDefault(),Ne.stopPropagation(),se(Oe.symbol)},whileTap:{scale:.95},className:`p-4 border rounded-lg transition-all ${ne===Oe.symbol?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-300"}`,children:v.jsxs("div",{className:"flex flex-col items-center",children:[v.jsx("span",{className:"font-semibold",children:Oe.symbol}),v.jsx("span",{className:"text-xs text-green-600"})]})},Oe.symbol))})]}),v.jsx(fa,{children:ne&&v.jsxs(Qe.div,{initial:{opacity:1,height:0},animate:{opacity:1,height:0},exit:{opacity:1,height:0},className:"p-6 pb-52 border-b",children:[v.jsx("h3",{className:"text-md font-semibold mb-6",children:"Connect Your Wallet"}),v.jsx("div",{className:"",children:v.jsx("appkit-button",{})}),Z&&v.jsxs(Qe.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},className:"mt-4 bg-green-50 p-4 rounded-lg flex items-center space-x-3",children:[v.jsx(ul,{className:"w-6 h-6 text-green-600"}),v.jsxs("div",{children:[v.jsx("p",{className:"font-semibold text-green-800",children:"Wallet Connected Successfully"}),v.jsx("p",{className:"text-sm text-green-700",children:"You can now proceed with the transaction"})]})]})]})}),v.jsxs("div",{className:"p-6",children:[v.jsx("button",{onClick:de,disabled:!ne||!Z||$,className:`w-full bg-blue-600 text-white py-3 rounded-lg 
                  hover:bg-blue-700 transition-colors
                  disabled:opacity-50 disabled:cursor-not-allowed`,children:$?v.jsxs("div",{className:"flex items-center justify-center",children:[v.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[v.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),v.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing Payment..."]}):Z?`Pay ${(((o==null?void 0:o.discountedPrice)||0)+(h?2.95:0)).toFixed(2)}`:"Connect Wallet to Pay"}),D&&v.jsx("div",{className:"mt-4 p-3 bg-red-50 text-red-700 rounded-lg text-sm",children:D}),j&&v.jsxs("div",{className:"mt-4 p-3 bg-green-50 text-green-700 rounded-lg text-sm",children:["Payment successful! Transaction hash: ",V]})]})]})})}),me=Oe=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(Oe)?"":"Please enter a valid email address",Te=Oe=>{const Ne=Oe.target.value.replace(/\D/g,"").slice(0,15);l(Ne),x(R(Ne))},Pe=Oe=>{const Ne=Oe.target.value;d(Ne),N(me(Ne))},De=()=>{L(!0)};ce.useState(o3[0].symbol),ce.useState(!1);const je=()=>{r(1),s(""),a(null),l(""),d(""),f(!1),g(!1),t("/")};ce.useState(!1);const et=({text:Oe})=>{const[Ne,Me]=ce.useState(!1),ze=()=>{navigator.clipboard.writeText(Oe),Me(!0),setTimeout(()=>Me(!1),2e3)};return v.jsx("button",{onClick:ze,className:"text-blue-600 hover:text-blue-800 text-sm",children:Ne?"Copied!":"Copy"})},Ae=()=>v.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:v.jsxs(Qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-lg p-6 max-w-md w-full mx-4",children:[v.jsxs("div",{className:"flex items-center justify-between mb-4",children:[v.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Confirm Cancellation"}),v.jsx("button",{onClick:()=>L(!1),className:"text-gray-500 hover:text-gray-700",children:v.jsx(zc,{className:"w-6 h-6"})})]}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Are you sure you want to cancel? All entered information will be lost."}),v.jsxs("div",{className:"flex justify-end space-x-3",children:[v.jsx("button",{onClick:()=>L(!1),className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300",children:"No, Continue"}),v.jsx("button",{onClick:je,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:"Yes, Cancel"})]})]})}),ie=()=>o?v.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg mb-6 flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx(o.icon,{className:"w-8 h-8 text-blue-600"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-semibold text-blue-900",children:o.name}),v.jsxs("p",{className:"text-sm text-blue-700",children:[o.description," | ",o.discountedPrice]})]})]}),o.type==="sim-unlock"&&i&&v.jsxs("div",{className:"text-sm text-blue-800",children:[v.jsx("strong",{children:"Carrier:"})," ",i]})]}):null,Tt=()=>{switch(n){case 1:return v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("button",{onClick:()=>t("/device-catalog"),className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600",children:[v.jsx(Ad,{className:"w-5 h-5"}),v.jsx("span",{children:"Back to Device Catalog"})]}),v.jsxs("button",{onClick:De,className:"text-red-600 hover:text-red-700 flex items-center space-x-2",children:[v.jsx(zc,{className:"w-5 h-5"}),v.jsx("span",{children:"Cancel"})]})]}),v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Service"}),v.jsx("div",{className:"space-y-6",children:P_e.map(Oe=>v.jsxs(Qe.div,{whileHover:{scale:1.02},className:`bg-white rounded-lg border p-6 transition-all duration-300 cursor-pointer ${(o==null?void 0:o.id)===Oe.id?"border-blue-600 shadow-lg":"hover:border-blue-300"}`,onClick:()=>{a(Oe),Oe.type==="sim-unlock"?r(2):r(3)},children:[v.jsxs("div",{className:"flex justify-between items-start mb-4",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-blue-600",children:Oe.name}),v.jsxs("p",{className:"text-green-600",children:["Success rate: ",Oe.successRate]})]}),v.jsxs("div",{className:"text-right",children:[v.jsxs("span",{className:"line-through text-gray-500",children:["",Oe.originalPrice]}),v.jsxs("span",{className:"text-2xl font-bold text-blue-600 ml-2",children:["",Oe.discountedPrice]})]})]}),v.jsx("p",{className:"text-gray-700 mb-4",children:Oe.detailedDescription}),v.jsx("div",{className:"grid grid-cols-2 gap-2",children:Oe.features.map((Ne,Me)=>v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(FE,{className:"w-4 h-4 text-green-500"}),v.jsx("span",{className:"text-sm",children:Ne})]},Me))})]},Oe.id))}),v.jsx(fa,{children:P&&v.jsx(Ae,{})})]});case 2:if((o==null?void 0:o.type)==="sim-unlock")return v.jsxs("div",{children:[ie(),v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("button",{onClick:()=>r(1),className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600",children:[v.jsx(Ad,{className:"w-5 h-5"}),v.jsx("span",{children:"Back"})]}),v.jsxs("button",{onClick:De,className:"text-red-600 hover:text-red-700 flex items-center space-x-2",children:[v.jsx(zc,{className:"w-5 h-5"}),v.jsx("span",{children:"Cancel"})]})]}),v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Original Carrier"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Please select the original network provider to which your device is locked"}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:__e.map(Oe=>v.jsx("button",{className:`p-4 border rounded-lg text-left ${i===Oe?"border-blue-600 bg-blue-50":"border-gray-200 hover:border-blue-400"}`,onClick:()=>{s(Oe),r(3)},children:Oe},Oe))}),v.jsx(fa,{children:P&&v.jsx(Ae,{})})]});case 3:return v.jsxs("div",{children:[ie(),v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("button",{onClick:()=>r(1),className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600",children:[v.jsx(Ad,{className:"w-5 h-5"}),v.jsx("span",{children:"Back"})]}),v.jsxs("button",{onClick:De,className:"text-red-600 hover:text-red-700 flex items-center space-x-2",children:[v.jsx(zc,{className:"w-5 h-5"}),v.jsx("span",{children:"Cancel"})]})]}),v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Enter Device Details"}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-700 mb-2",children:"IMEI Number"}),v.jsx("input",{type:"text",placeholder:"Type *#06# to find IMEI",className:`w-full p-2 border rounded ${w?"border-red-500":""}`,value:c,onChange:Te}),w&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:w})]}),v.jsxs("div",{children:[v.jsx("label",{className:"block text-gray-700 mb-2",children:"Email"}),v.jsx("input",{type:"email",placeholder:"Enter your email",className:`w-full p-2 border rounded ${C?"border-red-500":""}`,value:u,onChange:Pe}),C&&v.jsx("p",{className:"text-red-500 text-sm mt-1",children:C})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{type:"checkbox",id:"blacklistCheck",checked:h,onChange:Oe=>f(Oe.target.checked)}),v.jsx("label",{htmlFor:"blacklistCheck",children:"Include Blacklist Check (+2.95)"})]}),v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-start space-x-2",children:[v.jsx("input",{type:"checkbox",id:"terms",checked:m,onChange:Oe=>{g(Oe.target.checked),y(!1)},className:"mt-1"}),v.jsxs("label",{htmlFor:"terms",className:"text-sm",children:["I agree to the ",v.jsx(es,{to:"/terms",className:"text-blue-600 hover:underline",target:"_blank",children:"Terms and Conditions"})," and accept the use of my info"]})]}),E&&v.jsx("p",{className:"text-red-500 text-sm mt-2",children:"Please read and accept the Terms and Conditions"})]}),v.jsx("div",{className:"mt-6",children:v.jsx("button",{onClick:()=>{const Oe=R(c),Ne=me(u);if(x(Oe),N(Ne),!m){y(!0);return}!Oe&&!Ne&&r(4)},className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Continue"})})]}),v.jsx(fa,{children:P&&v.jsx(Ae,{})})]});case 4:return v.jsxs("div",{children:[ie(),v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("button",{onClick:()=>((o==null?void 0:o.type)==="sim-unlock",r(2)),className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600",children:[v.jsx(Ad,{className:"w-5 h-5"}),v.jsx("span",{children:"Back"})]}),v.jsxs("button",{onClick:De,className:"text-red-600 hover:text-red-700 flex items-center space-x-2",children:[v.jsx(zc,{className:"w-5 h-5"}),v.jsx("span",{children:"Cancel"})]})]}),v.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Order Summary"}),v.jsxs("div",{className:"bg-white rounded-lg border p-6",children:[v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Device"}),v.jsx("span",{className:"font-semibold",children:e})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Service"}),v.jsx("span",{className:"font-semibold",children:o==null?void 0:o.name})]}),(o==null?void 0:o.type)==="sim-unlock"&&v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Carrier"}),v.jsx("span",{children:i})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"IMEI"}),v.jsx("span",{children:c})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Email"}),v.jsx("span",{children:u})]}),v.jsxs("div",{className:"border-t pt-4",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Original Price"}),v.jsxs("span",{className:"line-through",children:["",o==null?void 0:o.originalPrice]})]}),v.jsxs("div",{className:"flex justify-between text-green-600",children:[v.jsx("span",{children:"Discount"}),v.jsxs("span",{children:["-",(((o==null?void 0:o.originalPrice)||0)-((o==null?void 0:o.discountedPrice)||0)).toFixed(2)]})]}),h&&v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Blacklist Check"}),v.jsx("span",{children:"2.95"})]}),v.jsxs("div",{className:"flex justify-between text-xl font-bold mt-2",children:[v.jsx("span",{children:"Total"}),v.jsxs("span",{children:["",(((o==null?void 0:o.discountedPrice)||0)+(h?2.95:0)).toFixed(2)]})]})]})]}),v.jsx("div",{className:"mt-6",children:v.jsx("button",{onClick:()=>r(5),className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700",children:"Proceed to Payment"})})]}),v.jsx(fa,{children:P&&v.jsx(Ae,{})})]});case 5:return v.jsxs("div",{children:[ie(),v.jsxs("div",{className:"flex justify-between items-center mb-6",children:[v.jsxs("button",{onClick:()=>r(3),className:"flex items-center space-x-2 text-gray-600 hover:text-blue-600",children:[v.jsx(Ad,{className:"w-5 h-5"}),v.jsx("span",{children:"Back"})]}),v.jsxs("button",{onClick:De,className:"text-red-600 hover:text-red-700 flex items-center space-x-2",children:[v.jsx(zc,{className:"w-5 h-5"}),v.jsx("span",{children:"Cancel"})]})]}),v.jsxs("div",{className:"max-w-3xl mx-auto space-y-6",children:[v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Order Summary"}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[v.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Device Details"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Device Model:"}),v.jsx("span",{className:"font-medium",children:e})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"IMEI:"}),v.jsx("span",{className:"font-medium",children:c})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Email:"}),v.jsx("span",{className:"font-medium",children:u})]})]})]}),v.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[v.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-800",children:"Service Details"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Service Type:"}),v.jsx("span",{className:"font-medium",children:o==null?void 0:o.name})]}),(o==null?void 0:o.type)==="sim-unlock"&&v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Carrier:"}),v.jsx("span",{className:"font-medium",children:i})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Unlock Time:"}),v.jsx("span",{className:"font-medium",children:o==null?void 0:o.deliveryTime})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Success Rate:"}),v.jsx("span",{className:"font-medium text-green-600",children:o==null?void 0:o.successRate})]})]})]})]}),v.jsxs("div",{className:"mt-6 border-t pt-4",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Original Price"}),v.jsxs("span",{className:"line-through",children:["",o==null?void 0:o.originalPrice.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between text-green-600",children:[v.jsx("span",{children:"Discount"}),v.jsxs("span",{children:["-",(((o==null?void 0:o.originalPrice)||0)-((o==null?void 0:o.discountedPrice)||0)).toFixed(2)]})]}),h&&v.jsxs("div",{className:"flex justify-between",children:[v.jsx("span",{className:"text-gray-600",children:"Blacklist Check"}),v.jsx("span",{children:"2.95"})]}),v.jsxs("div",{className:"flex justify-between text-xl font-bold mt-2",children:[v.jsx("span",{children:"Total Amount"}),v.jsxs("span",{children:["",(((o==null?void 0:o.discountedPrice)||0)+(h?2.95:0)).toFixed(2)]})]})]})]}),v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 ",children:[v.jsx("h2",{className:"text-2xl font-semibold mb-6 text-center",children:"Payment Methods"}),v.jsxs("div",{className:"bg-blue-50 rounded-lg p-6 border border-blue-200 mb-10",children:[v.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[v.jsx(Gte,{className:"w-6 h-6 mr-3 text-blue-600"}),"WalletConnect Fast Payment"]}),v.jsxs("div",{className:"space-y-4",children:[v.jsx("p",{className:"text-gray-700",children:"Pay securely with any crypto wallet using WalletConnect  trusted worldwide.            "}),v.jsxs("button",{onClick:()=>J(!0),className:"w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-700 transition-colors",children:["Pay for ",o==null?void 0:o.name," - ",(((o==null?void 0:o.discountedPrice)||0)+(h?2.95:0)).toFixed(2)]})]})]}),v.jsx(ye,{}),v.jsx("div",{children:v.jsxs("div",{className:"bg-yellow-50 rounded-lg p-6 border border-yellow-200",children:[v.jsxs("h3",{className:"text-xl font-semibold mb-4 flex items-center",children:[v.jsx(Lte,{className:"w-6 h-6 mr-3 text-yellow-600"}),"Manual Cryptocurrency Transfer"]}),v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[v.jsx("h4",{className:"font-semibold mb-3 text-gray-800",children:"How to Make a Manual Transfer"}),v.jsxs("ol",{className:"list-decimal list-inside text-gray-700 space-y-2",children:[v.jsx("li",{children:"Choose your preferred cryptocurrency"}),v.jsxs("li",{children:["Send exactly ",(((o==null?void 0:o.discountedPrice)||0)+(h?2.95:0)).toFixed(2)," to the wallet address"]}),v.jsx("li",{children:"Include your order details in the transaction memo"}),v.jsx("li",{children:"Contact WhatsApp support with your transaction hash"})]})]}),v.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:o3.map(Oe=>v.jsxs("div",{className:"bg-white border rounded-lg p-4 w-full",children:[v.jsxs("div",{className:"flex justify-between items-center mb-3",children:[v.jsx("h4",{className:"font-semibold text-base",children:Oe.name}),v.jsx("span",{className:"text-green-600 text-sm"})]}),v.jsxs("div",{className:"bg-gray-50 rounded p-2 mb-3",children:[v.jsxs("div",{className:"flex justify-between items-center mb-2",children:[v.jsx("span",{className:"text-gray-600 text-sm",children:"Wallet Address:"}),v.jsx(et,{text:Oe.address})]}),v.jsx("code",{className:"block text-xs text-gray-700 break-words overflow-x-auto max-w-full whitespace-nowrap",children:Oe.address})]})]},Oe.name))}),v.jsxs("div",{className:"bg-gray-50 border rounded-lg p-4 text-center",children:[v.jsx("h4",{className:"font-semibold mb-3 text-gray-800",children:"Need Help Verifying Your Payment?"}),v.jsx("p",{className:"text-gray-500",children:"Please click the WhatsApp button on the right to reach out to the Admin and verify whether the payment has been received."}),v.jsx(VW,{phoneNumber:"+15793860596",message:`Hello! I've made a manual transfer for my device unlock order. 
Order Details:
- Device: ${e}
- Service: ${o==null?void 0:o.name}
- Total Amount: ${(((o==null?void 0:o.discountedPrice)||0)+(h?2.95:0)).toFixed(2)}

Can you help me verify my transaction?`})]})]})]})})]})]}),v.jsx(fa,{children:P&&v.jsx(Ae,{})})]});default:return null}};return v.jsx("div",{className:"min-h-screen bg-gray-50",children:v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsx("div",{className:"max-w-3xl mx-auto",children:Tt()})})})}function T_e(){return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx("nav",{className:"bg-white shadow-sm",children:v.jsx("div",{className:"container mx-auto px-4 py-4",children:v.jsxs(es,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-blue-600",children:[v.jsx(Ad,{className:"w-4 h-4 mr-2"}),"Back to Home"]})})}),v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsxs("div",{className:"max-w-4xl mx-auto bg-white rounded-lg shadow-sm p-8",children:[v.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Terms and Conditions"}),v.jsxs("div",{className:"space-y-6 text-gray-700",children:[v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"1. Service Agreement"}),v.jsx("p",{children:`By using iUnlockExpert's services, you agree to these terms and conditions. Our unlocking service is provided on an "as is" basis, and while we strive for 100% success, results may vary based on device condition and carrier restrictions.`})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"2. Service Delivery"}),v.jsx("p",{children:"While we aim to deliver within the stated timeframes, actual processing times may vary. You will receive unlock instructions via the email provided during order placement. We are not responsible for delays caused by incorrect information submission."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"3. Device Requirements"}),v.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[v.jsx("li",{children:"Device must not be reported lost or stolen"}),v.jsx("li",{children:"Device must not be blocked by the carrier due to unpaid bills"}),v.jsx("li",{children:"IMEI must be valid and match the device being unlocked"}),v.jsx("li",{children:"Device must not be already unlocked"})]})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"4. Refund Policy"}),v.jsx("p",{children:"We offer a 100% money-back guarantee if we cannot unlock your device. Refund requests must be submitted within 30 days of purchase. Refunds will be processed using the original payment method."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"5. Privacy & Data Protection"}),v.jsx("p",{children:"We collect and process personal data in accordance with our Privacy Policy. Your IMEI and contact information are used solely for providing the unlocking service and will not be shared with third parties except as required to complete the service."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"6. Warranty & Support"}),v.jsx("p",{children:"Our unlocking service is permanent and survives software updates. We provide technical support for 60 days after service delivery. The warranty does not cover physical damage or software modifications made to the device."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"7. Legal Compliance"}),v.jsx("p",{children:"Our unlocking methods comply with all applicable laws and regulations. We do not unlock devices that are reported stolen or involved in fraudulent activities."})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"8. Service Limitations"}),v.jsxs("ul",{className:"list-disc pl-5 space-y-2",children:[v.jsx("li",{children:"We cannot remove iCloud locks or bypass device security features"}),v.jsx("li",{children:"Success rates may vary based on device model and carrier"}),v.jsx("li",{children:"Some features may remain carrier-locked after unlocking"}),v.jsx("li",{children:"We reserve the right to refuse service for any reason"})]})]}),v.jsxs("section",{children:[v.jsx("h2",{className:"text-xl font-semibold mb-3",children:"9. Contact Information"}),v.jsx("p",{children:"For questions about these terms or our services, please contact our support team at support@iunlockexpert.com or call 1-800-UNLOCK-PRO."})]})]}),v.jsx("div",{className:"mt-8 pt-6 border-t text-sm text-gray-500",children:v.jsx("p",{children:"Last updated: March 15, 2024"})})]})})]})}function k_e(){const t=El(),[e,n]=ce.useState(""),[r,i]=ce.useState(""),[s,o]=ce.useState(!1),[a,c]=ce.useState(""),[l,u]=ce.useState(null),d=async g=>{g.preventDefault(),o(!0),c(""),setTimeout(()=>{e==="TEST123"?u({id:"TEST123",device:"iPhone 15 Pro Max",service:"Premium Unlock",status:"processing",date:"2024-03-15",estimatedCompletion:"2024-03-16",message:"Your unlock request is being processed"}):c("Order not found. Please check your order ID and email."),o(!1)},1500)},h=g=>{switch(g){case"completed":return"text-green-500";case"processing":return"text-blue-500";case"failed":return"text-red-500";default:return"text-yellow-500"}},f=g=>{switch(g){case"completed":return v.jsx(ul,{className:"w-6 h-6 text-green-500"});case"processing":return v.jsx(xv,{className:"w-6 h-6 text-blue-500"});case"failed":return v.jsx(Jte,{className:"w-6 h-6 text-red-500"});default:return v.jsx(Tte,{className:"w-6 h-6 text-yellow-500"})}},m=()=>{(l==null?void 0:l.status)==="failed"?t("/help"):window.alert("Detailed tracking information will be displayed here")};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(Al,{}),v.jsx("div",{className:"py-12",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs("div",{className:"max-w-2xl mx-auto",children:[v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Check Order Status"}),v.jsx("p",{className:"text-gray-600",children:"Track the progress of your device unlock request"})]}),v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-lg shadow-lg p-6 md:p-8",children:[v.jsxs("form",{onSubmit:d,className:"space-y-4",children:[v.jsxs("div",{children:[v.jsx("label",{htmlFor:"orderId",className:"block text-sm font-medium text-gray-700 mb-1",children:"Order ID"}),v.jsx("input",{type:"text",id:"orderId",value:e,onChange:g=>n(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your order ID",required:!0})]}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email Address"}),v.jsx("input",{type:"email",id:"email",value:r,onChange:g=>i(g.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter your email address",required:!0})]}),v.jsx("button",{type:"submit",disabled:s,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition-colors duration-300 flex items-center justify-center space-x-2",children:s?v.jsx(Qe.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},children:v.jsx(yp,{className:"w-5 h-5"})}):v.jsxs(v.Fragment,{children:[v.jsx(yp,{className:"w-5 h-5"}),v.jsx("span",{children:"Track Order"})]})}),a&&v.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-red-500 text-center mt-4",children:a})]}),l&&v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-8 border-t pt-6",children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsx("h2",{className:"text-xl font-semibold",children:"Order Details"}),v.jsxs("div",{className:"flex items-center space-x-2",children:[f(l.status),v.jsx("span",{className:`font-medium ${h(l.status)}`,children:l.status.charAt(0).toUpperCase()+l.status.slice(1)})]})]}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Order ID"}),v.jsx("p",{className:"font-medium",children:l.id})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Date"}),v.jsx("p",{className:"font-medium",children:l.date})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Device"}),v.jsx("p",{className:"font-medium",children:l.device})]}),v.jsxs("div",{children:[v.jsx("p",{className:"text-sm text-gray-600",children:"Service"}),v.jsx("p",{className:"font-medium",children:l.service})]})]}),l.estimatedCompletion&&v.jsx("div",{className:"bg-blue-50 p-4 rounded-lg",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(xv,{className:"w-5 h-5 text-blue-600"}),v.jsxs("p",{className:"text-blue-600",children:["Estimated completion: ",l.estimatedCompletion]})]})}),l.message&&v.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:v.jsx("p",{className:"text-gray-700",children:l.message})}),v.jsx("div",{className:"flex justify-end",children:v.jsxs("button",{onClick:m,className:"flex items-center space-x-2 text-blue-600 hover:text-blue-700 transition-colors duration-300",children:[v.jsx("span",{children:"View Details"}),v.jsx(BF,{className:"w-4 h-4"})]})})]})]})]})]})})}),v.jsx(Sl,{})]})}const j7={iphone:[{model:"iPhone 16 Pro Max",price:"$74.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_16_pro_max_desert_1_539c7c47.jpg"},{model:"iPhone 16 Pro",price:"$69.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_16_pro_natural_1_ced4b12b.jpg"},{model:"iPhone 16 Plus",price:"$64.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_16_plus_teal_1_0d8097fd.jpg"},{model:"iPhone 16",price:"$59.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_16_ultramarine_1_2598b2a3.jpg"},{model:"iPhone 15 Pro Max",price:"$69.99",image:"https://cdn0.it4profit.com/s3size/rt:fill/w:900/h:900/g:no/el:1/f:webp/plain/s3://cms/product/86/e8/86e83cf2fedc8ed7ad4ddb3452d06b66/250331120227455325.webp"},{model:"iPhone 15 Pro",price:"$64.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_15_pro_natural_titanium_pdp_image_position_1_wwen_fc0946e7.jpg"},{model:"iPhone 15 Plus",price:"$59.99",image:"https://store.storeimages.cdn-apple.com/4982/as-images.apple.com/is/iphone15plus-digitalmat-gallery-4-202309?wid=728&hei=666&fmt=png-alpha&.v=1693011173707"},{model:"iPhone 15",price:"$54.99",image:"https://lcdn.altex.ro/media/catalog/product/a/p/apple_iphone_15_black_1_7416a980.jpg"},{model:"iPhone 14 Pro Max",price:"$64.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_14_pro_silver-1_56a46342.jpg"},{model:"iPhone 14 Pro",price:"$59.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_14_pro_space_black-1_e51401e6.jpg"},{model:"iPhone 14 Plus",price:"$54.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/t/e/16fa6a9aef7ffd6209d5fd9338ffa0b1/telefon_apple_iphone_14_plus_5g_yellow_01_29b78407.jpg"},{model:"iPhone 14",price:"$49.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/i/p/16fa6a9aef7ffd6209d5fd9338ffa0b1/iphone_14_purple-1_3df48088.jpg"},{model:"iPhone SE (3rd gen)",price:"$34.99",image:"https://www.goblue.dk/images/Apple%20iPhone%20SE%202022%205G%2064GB%20-%20Red%2001-p.jpg"},{model:"iPhone 13 Pro Max",price:"$54.99",image:"https://i5.walmartimages.com/seo/Restored-Apple-iPhone-13-Pro-Max-128GB-Sierra-Blue-LTE-Cellular-Straight-Talk-TracFone-MLKP3LL-A-TF-Refurbished_727d1c27-c0da-45fb-b717-e2c7d872c79e.09147146739dde0568cc40c42d283d8c.jpeg"},{model:"iPhone 13 Pro",price:"$49.99",image:"https://alo.md/media/media/apple-iphone-13-pro-128gb-graphite-4-trlb7su.webp"},{model:"iPhone 13 Mini",price:"$39.99",image:"https://release.no/wp-content/uploads/2024/05/iphone-13-mini-svart-530x530.jpg"},{model:"iPhone 13",price:"$44.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/T/e/16fa6a9aef7ffd6209d5fd9338ffa0b1/Telefon_APPLE_iPhone_13_5G_128GB_PRODUCT_RED_4_.jpg"},{model:"iPhone 12 Pro Max",price:"$54.99",image:"https://2b.com.eg/media/catalog/product/cache/679f8858b9902c7de68dd2a438fe5f08/p/h/photoeditiion_36__1.jpg"},{model:"iPhone 12 Pro",price:"$49.99",image:"https://alo.md/media/media/enter-apple-iphone-12-pro-158-mkstzqh.webp"},{model:"iPhone 12 Mini",price:"$39.99",image:"https://d1rlzxa98cyc61.cloudfront.net/catalog/product/cache/1801c418208f9607a371e61f8d9184d9/1/7/175318_2020.jpg"},{model:"iPhone 12",price:"$44.99",image:"https://www.mac4sale.co.uk/media/catalog/product/cache/f27f79ef30603c2c51e5ba294d8fd900/i/p/iphone-12-blue-min_2_1_2.jpg"},{model:"iPhone SE (2nd gen)",price:"$29.99",image:"https://i5.walmartimages.com/seo/Restored-Apple-iPhone-SE-2020-Unlocked-Refurbished_a22f98c8-9c70-4ad5-b6c8-3533cbb3af1b.e4399ae4cffbbab02215c4410a4018fd.jpeg"},{model:"iPhone 11 Pro Max",price:"$49.99",image:"https://www.dxomark.com/wp-content/uploads/medias/post-52400/Apple-iPhone-11-Pro-Max-Midnight-Green-frontimage-1024x768.jpg"},{model:"iPhone 11 Pro",price:"$44.99",image:"https://iphone15.md/media/media/apple-iphone-11-pro1d-idrt44i.webp"},{model:"iPhone 11",price:"$39.99",image:"https://alo.md/media/media/seoimagesiphone-11-4-gb-128-gb-black-026-luwndcv-1.webp"},{model:"iPhone XS Max",price:"$44.99",image:"https://alo.md/media/products/enter.online/166664/1.webp"},{model:"iPhone XS",price:"$39.99",image:"https://highspectech.ie/wp-content/uploads/2020/07/iphone-x-black.png"},{model:"iPhone XR",price:"$34.99",image:"https://i2.storeland.net/3/634/206336045/afacdb/smartfon-apple-iphone-xr.jpg"},{model:"iPhone X",price:"$39.99",image:"https://files.refurbed.com/ii/iphone-x-1639476663.jpg?t=fitdesign&h=600&w=800"},{model:"iPhone 8 Plus",price:"$34.99",image:"https://i5.walmartimages.com/asr/61cbeba7-8bca-4062-b278-673019d304f8_1.44b845bf2c88872f7c7310a0d40bc0e7.jpeg"},{model:"iPhone 8",price:"$29.99",image:"https://www.antosmobil.cz/306251-medium_default/apple-iphone-8-256gb-zanovni.jpg"}],macbook:[{model:"MacBook Pro M4 (2025)",price:"$74.99",image:"https://inventstore.in/wp-content/uploads/2024/11/2-scaled.webp"},{model:"MacBook Air M4 (2025)",price:"$74.99",image:"https://lcdn.altex.ro/resize/media/catalog/product/m/a/16fa6a9aef7ffd6209d5fd9338ffa0b1/macbook_air_13_inch_m4_midnight_1_b1bf9b26.jpg"},{model:"MacBook Pro M3 (2024)",price:"$69.99",image:"https://idestiny.in/wp-content/uploads/2024/10/Macbook-Pro-16_-600x600.png"},{model:"MacBook Air M3 (2024)",price:"$59.99",image:"https://techzone.by/wp-content/uploads/2024/03/Apple-MacBook-Air-13-M3-2024-Midnight-1-min.png"},{model:"MacBook Pro M2 (2023)",price:"$64.99",image:"https://s3.ap-southeast-1.amazonaws.com/uploads-store/uploads/all/Bu04z64BCYaaDCVhrsBcmlgiPbxkKEdegvNg1B1o.png"},{model:"MacBook Air M2 (2023)",price:"$54.99",image:"https://images.shopkees.com/uploads/cdn/images/1000/9472077453_1655454923.jpg"},{model:"MacBook Pro M1 (2020)",price:"$59.99",image:"https://i.simpalsmedia.com/thumbor/500x0/i.simpalsmedia.com/marketplace/products/original/5922242252ed0e05fcf45269c1e60f74.jpg"},{model:"MacBook Air M1 (2020)",price:"$49.99",image:"https://5.imimg.com/data5/SELLER/Default/2024/4/414074292/OQ/RG/UD/35721490/apple-macbook-air-500x500.png"},{model:"MacBook Pro 16-inch (2019) - Intel Core i9",price:"$64.99",image:"https://www.devicerefresh.com/cdn/shop/files/c649443e62db96fcc5291f7882758b46_800x.jpg?v=1711389567"},{model:"MacBook Pro 15-inch (2019) - Intel Core i7",price:"$59.99",image:"https://mac-store24.com/cdn/shop/files/Apple_MacBook_Pro_15_Zoll_Retina_2019_refurbished_gebraucht-5782931.jpg?v=1732189164"},{model:"MacBook Air Retina 13-inch (2018) - Intel Core i5",price:"$44.99",image:"https://mac4school.co.uk/wp-content/uploads/2022/01/macbook_pro_2019_grey_.jpg"},{model:"MacBook Pro 13-inch (2016) - Intel Core i5",price:"$49.99",image:"https://www.montedigital.co.ke/wp-content/uploads/2024/07/Untitled-design-2024-07-15T144544.222.png"},{model:"MacBook Air 13-inch (2015) - Intel Core i5",price:"$39.99",image:"https://macsolveonline.com/wp-content/uploads/2022/10/3.jpg"}],ipad:[{model:"iPad Pro 13-inch (1st gen, 2024)",price:"$59.99",image:"https://www.imagineonline.store/cdn/shop/files/iPad_Pro_13_M4_Cellular_Silver_PDP_Image_Position_1b__en-IN_dd2e2a82-05c9-4fc0-9714-0611d65872d3.jpg?v=1716466657&width=823"},{model:"iPad Pro 11-inch (5th gen, 2024)",price:"$54.99",image:"https://www.machines.com.my/cdn/shop/products/iPad_Pro_Wi-Fi_11_in_4th_Gen_Silver_PDP_Image_Position-1b__SG.jpg?v=1705419289"},{model:"iPad Pro 12.9-inch (6th gen, 2022)",price:"$54.99",image:"https://alephksa.com/cdn/shop/files/iPad_Pro_12_9_inch_Wi-Fi_Space_Gray_PDP_Image_Position-1b_EN_2a446aae-b0f2-477f-95a2-6e2c27c1bbe9.jpg?v=1695930274&width=1445"},{model:"iPad Pro 11-inch (4th gen, 2022)",price:"$49.99",image:"https://www.machines.com.my/cdn/shop/products/iPad_Pro_Wi-Fi_11_in_4th_Gen_Silver_PDP_Image_Position-1b__SG_b73779cf-0c6e-4008-8023-92d7d0f26ce4_450x.jpg?v=1705418542"},{model:"iPad Pro 9.7-inch (2016)",price:"$34.99",image:"https://d2e6ccujb3mkqf.cloudfront.net/50f4fbbd-a9ca-4de1-8b87-6f4f861745c5-1_add7ec61-fc96-488f-bd61-c55287aab95e.jpg"},{model:"iPad Pro 12.9-inch (1st gen, 2015)",price:"$39.99",image:"https://istorepreowned.co.za/cdn/shop/products/iPad_Pro_12.9-inch_2015_1stGen-Space_Grey_c665a954-f7e7-424f-b616-1a037a401813.png?v=1710873602"},{model:"iPad Air (6th gen, 2024)",price:"$44.99",image:"https://www.costco.co.uk/medias/sys_master/images/hf0/hd5/238984826191902.jpg"},{model:"iPad Air (5th gen, 2022)",price:"$39.99",image:"https://images.shopkees.com/uploads/cdn/images/1000/6784996745_1646891783.jpg"},{model:"iPad Air 2 (2014)",price:"$29.99",image:"https://www.protechintl.com.au/cdn/shop/files/Apple-iPad-Air-2-32gb-wifi-ProTech-IT-Solutions-6599.png?v=1733297019"},{model:"iPad (11th gen, 2024)",price:"$39.99",image:"https://nama.vn/img/upload/images/products/Apple/iPad/Gen%2011/ipad-gen-11-blue.webp"},{model:"iPad (10th gen, 2022)",price:"$34.99",image:"https://i5.walmartimages.com/seo/2022-Apple-10-9-inch-iPad-Wi-Fi-64GB-Silver-10th-Generation_3c544028-8779-4d02-a43a-07c10390daaf.d0be7279a384075f8f6ae23eb4f9d711.jpeg"},{model:"iPad (5th gen, 2017)",price:"$29.99",image:"https://store.secondlifemac.com/cdn/shop/products/iPad5thGen-SpaceGray2-Square.jpg?v=1636571433"}]},O_e={mdm:[{title:"Check Device Compatibility",description:"Ensure your device is eligible for MDM bypass",icon:Wg},{title:"Select Your Device",description:"Choose the specific model you want to unlock",icon:oy},{title:"Choose Unlock Service",description:"Select the MDM bypass service that fits your needs",icon:uc},{title:"Complete Payment",description:"Securely pay using cryptocurrency or other methods",icon:Ro},{title:"Receive Instructions",description:"Get detailed unlock instructions via email",icon:ul}],icloud:[{title:"Verify Device Status",description:"Confirm your device is iCloud locked",icon:Wg},{title:"Select Device Model",description:"Pick the exact iPhone or iPad model",icon:YT},{title:"Select Unlock Package",description:"Choose the iCloud unlock service level",icon:uc},{title:"Make Secure Payment",description:"Pay using cryptocurrency or preferred method",icon:Ro},{title:"Get Unlock Code",description:"Receive unlock instructions and code via email",icon:ul}],sim:[{title:"Check Carrier Lock",description:"Verify your device is carrier-locked",icon:Wg},{title:"Choose Device",description:"Select your specific device model",icon:oy},{title:"Select Unlock Service",description:"Pick the right SIM unlock package",icon:uc},{title:"Complete Transaction",description:"Pay securely using cryptocurrency",icon:Ro},{title:"Receive Unlock Details",description:"Get unlock instructions sent to your email",icon:ul}]},R_e=()=>{const{type:t}=oU(),e=El(),[n,r]=ce.useState(""),[i,s]=ce.useState("iphone"),[o,a]=ce.useState(!0),c=j7[i].filter(d=>d.model.toLowerCase().includes(n.toLowerCase())),l=d=>{e(`/unlock/${encodeURIComponent(d)}`,{state:{serviceType:t,category:i}})},u={iphone:"iPhone",ipad:"iPad",macbook:"MacBook"};return v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"min-h-screen bg-gray-50",children:[v.jsx(Al,{}),v.jsx(Qe.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},transition:{delay:.2,duration:.5},className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white py-16",children:v.jsxs("div",{className:"container mx-auto px-4 text-center",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4",children:t?`${t.toUpperCase()} Unlock`:"Device Catalog"}),v.jsx("p",{className:"text-xl text-blue-100",children:t?`Select your specific ${t} model for unlocking`:"Browse and unlock your Apple devices"})]})}),v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"bg-blue-50 rounded-xl p-6 pb-10 shadow-sm",children:[v.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[v.jsx($E,{className:"w-8 h-8 text-blue-600"}),v.jsx("h2",{className:"text-2xl font-semibold text-blue-900",children:"How to Unlock Your Device"})]}),v.jsx("div",{className:"grid md:grid-cols-3 gap-4",children:[{icon:Wg,title:"1. Choose Device",description:"Select your specific Apple device from the catalog below."},{icon:uc,title:"2. Select Unlock Service",description:"Pick the appropriate unlocking service for your needs."},{icon:Ro,title:"3. Complete Unlock",description:"Follow the guided process to unlock your device securely."}].map((d,h)=>v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.2,duration:.3},className:"bg-white rounded-lg p-4 text-center shadow-md",children:[v.jsx("div",{className:"flex justify-center mb-3",children:v.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:v.jsx(d.icon,{className:"w-6 h-6 text-blue-600"})})}),v.jsx("h3",{className:"font-semibold text-blue-900 mb-2",children:d.title}),v.jsx("p",{className:"text-sm text-gray-600",children:d.description})]},d.title))})]})}),v.jsx(fa,{children:t&&o&&v.jsx(Qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},className:"container mx-auto px-4 py-6",children:v.jsxs("div",{className:"bg-blue-50 rounded-xl shadow-lg p-6 relative",children:[v.jsx("button",{onClick:()=>a(!1),className:"absolute top-4 right-4 text-blue-600 hover:text-blue-800",children:v.jsx(zc,{className:"w-6 h-6"})}),v.jsxs("div",{className:"flex items-center space-x-4 mb-6",children:[v.jsx($E,{className:"w-10 h-10 text-blue-600"}),v.jsxs("h2",{className:"text-2xl font-bold text-blue-900 capitalize",children:[t," Unlock Process"]})]}),v.jsx("div",{className:"grid md:grid-cols-5 gap-4",children:O_e[t].map((d,h)=>{const f=d.icon;return v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:h*.1,duration:.3},className:"bg-white rounded-lg p-4 text-center shadow-md hover:shadow-lg transition-all",children:[v.jsx("div",{className:"flex justify-center mb-3",children:v.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:v.jsx(f,{className:"w-6 h-6 text-blue-600"})})}),v.jsxs("h3",{className:"font-semibold text-blue-900 mb-2",children:["Step ",h+1,": ",d.title]}),v.jsx("p",{className:"text-sm text-gray-600",children:d.description})]},d.title)})})]})})}),v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsx("div",{className:"flex justify-center space-x-4 mb-6",children:Object.keys(j7).map(d=>v.jsxs(Qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(d),className:`flex items-center space-x-2 px-4 py-2 rounded-full text-sm md:text-base transition-all duration-300 ${i===d?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:[d==="iphone"&&v.jsx(oy,{className:"w-4 h-4 md:w-5 md:h-5"}),d==="ipad"&&v.jsx(YT,{className:"w-4 h-4 md:w-5 md:h-5"}),d==="macbook"&&v.jsx(UF,{className:"w-4 h-4 md:w-5 md:h-5"}),v.jsxs("span",{children:[u[d],"s"]})]},d))}),v.jsx("div",{className:"max-w-2xl mx-auto mb-8",children:v.jsx(VF,{value:n,onChange:r})}),v.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6",children:c.map((d,h)=>v.jsxs(Qe.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{delay:h*.1,duration:.5},className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-300",children:[v.jsx("img",{src:d.image,alt:d.model,className:"w-full h-40 object-contain"}),v.jsxs("div",{className:"p-4",children:[v.jsx("h3",{className:"text-sm font-semibold text-center mb-2 line-clamp-2",children:d.model}),v.jsx("div",{className:"flex justify-between items-center",children:v.jsx(Qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(d.model),className:"bg-blue-600 text-white px-4 py-2 rounded m-auto text-sm hover:bg-blue-700 transition-colors duration-300",children:"Unlock Now"})})]})]},d.model))}),c.length===0&&v.jsx(Qe.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-12 bg-white rounded-lg shadow-md",children:v.jsx("p",{className:"text-gray-600 mb-4",children:"No devices found matching your search."})})]}),v.jsx("section",{className:"bg-gray-100 py-16",children:v.jsxs("div",{className:"container mx-auto px-4 text-center",children:[v.jsx("h2",{className:"text-3xl font-bold mb-6",children:"Why Choose Our Unlocking Service?"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[{icon:uc,title:"Permanent Unlock",description:"Unlock your device permanently, compatible with all iOS updates"},{icon:Ro,title:"Safe & Secure",description:"Official unlocking method that preserves your device warranty"},{icon:Bu,title:"Worldwide Compatibility",description:"Use your device with any carrier around the globe"}].map(({icon:d,title:h,description:f},m)=>v.jsxs(Qe.div,{initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},transition:{delay:m*.2,duration:.5},className:"bg-white p-6 rounded-lg shadow-md",children:[v.jsx(d,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),v.jsx("h3",{className:"text-xl font-semibold mb-2",children:h}),v.jsx("p",{className:"text-gray-600",children:f})]},h))})]})}),v.jsx(Sl,{})]})},L_e=[{question:"How does the unlocking process work?",answer:"Our unlocking process is simple and secure. Once you submit your device details and make payment, we process your unlock request through official channels. You'll receive instructions within the guaranteed timeframe, usually 24-48 hours.",category:"Process"},{question:"Is my warranty affected?",answer:"No, our unlocking method is official and preserves your warranty. We use the same methods as carriers and manufacturers, ensuring your device remains fully supported.",category:"General"},{question:"What if the unlock fails?",answer:"We offer a 100% money-back guarantee. If we can't unlock your device for any reason, you'll receive a full refund with no questions asked.",category:"Support"},{question:"How long does it take?",answer:"Processing times vary by service level and device type. Premium service typically completes within 24 hours, while standard service takes 1-3 business days.",category:"Process"},{question:"Can all devices be unlocked?",answer:"Most devices can be unlocked, but there are some exceptions. Devices must not be reported lost/stolen, and any outstanding financial obligations to the carrier must be settled.",category:"General"},{question:"Do I need to send my device?",answer:"No, our unlocking process is done remotely. Your device never leaves your possession, making it safe and convenient.",category:"Process"}];function D_e(){const[t,e]=ce.useState(""),[n,r]=ce.useState("All"),[i,s]=ce.useState(null),o=["All","Process","General","Support"],a=L_e.filter(c=>{const l=c.question.toLowerCase().includes(t.toLowerCase())||c.answer.toLowerCase().includes(t.toLowerCase()),u=n==="All"||c.category===n;return l&&u});return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(Al,{}),v.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white py-16",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto",children:[v.jsx("h1",{className:"text-4xl font-bold mb-4",children:"How Can We Help?"}),v.jsx("p",{className:"text-xl text-blue-100 mb-8",children:"Find answers to common questions or contact our support team"}),v.jsxs("div",{className:"relative",children:[v.jsx(yp,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),v.jsx("input",{type:"text",placeholder:"Search for answers...",value:t,onChange:c=>e(c.target.value),className:"w-full pl-12 pr-4 py-3 rounded-lg text-gray-900 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]})})}),v.jsx("div",{className:"container mx-auto px-4 py-12",children:v.jsxs("div",{className:"max-w-4xl mx-auto",children:[v.jsx("div",{className:"flex flex-wrap gap-2 mb-8",children:o.map(c=>v.jsx("button",{onClick:()=>r(c),className:`px-4 py-2 rounded-full text-sm transition-colors duration-300 ${n===c?"bg-blue-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"}`,children:c},c))}),v.jsx("div",{className:"space-y-4",children:a.map(c=>v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-md overflow-hidden",children:[v.jsxs("button",{onClick:()=>s(i===c.question?null:c.question),className:"w-full px-6 py-4 text-left flex items-center justify-between hover:bg-gray-50",children:[v.jsx("span",{className:"font-medium",children:c.question}),v.jsx(Ote,{className:`w-5 h-5 transform transition-transform duration-300 ${i===c.question?"rotate-180":""}`})]}),v.jsx(fa,{children:i===c.question&&v.jsx(Qe.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"px-6 pb-4",children:v.jsx("p",{className:"text-gray-600",children:c.answer})})})]},c.question))}),v.jsxs("div",{className:"mt-12 grid grid-cols-1 md:grid-cols-3 gap-6",children:[v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white p-6 rounded-lg shadow-md text-center",children:[v.jsx($F,{className:"w-8 h-8 text-green-600 mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"WhatsApp Support"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"Get instant help via WhatsApp"}),v.jsx("a",{href:"https://wa.me/15793860596",target:"_blank",rel:"noopener noreferrer",className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 transition-colors duration-300",children:"Start Chat"})]}),v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white p-6 rounded-lg shadow-md text-center",children:[v.jsx(FF,{className:"w-8 h-8 text-blue-600 mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-semibold mb-2",children:"Email Support"}),v.jsx("p",{className:"text-gray-600 mb-4",children:"Get help via email"}),v.jsx("a",{href:"mailto:support@iunlockexpert.com",className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-300",children:"Send Email"})]})]})]})}),v.jsx(Sl,{})]})}function j_e(){var i;const t=$p(),e=El(),n=(i=t.state)==null?void 0:i.receiptData;if(!n)return e("/"),null;const r=()=>{const s=document.createElement("a");s.href=t.state.pdfUrl,s.download=`receipt-${n.orderId}.pdf`,document.body.appendChild(s),s.click(),document.body.removeChild(s)};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(Al,{}),v.jsx("div",{className:"container mx-auto px-4 py-8",children:v.jsx("div",{className:"max-w-3xl mx-auto",children:v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-lg shadow-lg p-8",children:[v.jsxs("div",{className:"flex items-center justify-between mb-8",children:[v.jsxs(es,{to:"/",className:"flex items-center text-gray-600 hover:text-blue-600 transition-colors duration-300",children:[v.jsx(Ad,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),v.jsxs("button",{onClick:r,className:"flex items-center bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors duration-300",children:[v.jsx(Dte,{className:"w-5 h-5 mr-2"}),"Download PDF"]})]}),v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-green-100 rounded-full mb-4",children:v.jsx(FE,{className:"w-8 h-8 text-green-500"})}),v.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Payment Successful"}),v.jsx("p",{className:"text-gray-600 mt-2",children:"Thank you for your purchase!"})]}),v.jsxs("div",{className:"border-t border-gray-200 pt-8",children:[v.jsxs("div",{className:"grid grid-cols-2 gap-6",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Order Information"}),v.jsxs("div",{className:"mt-3 space-y-3",children:[v.jsxs("p",{className:"text-gray-900",children:["Order ID: ",n.orderId]}),v.jsxs("p",{className:"text-gray-900",children:["Date: ",n.date]}),v.jsxs("p",{className:"text-gray-900",children:["Email: ",n.email]})]})]}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Device Information"}),v.jsxs("div",{className:"mt-3 space-y-3",children:[v.jsxs("p",{className:"text-gray-900",children:["Device: ",n.device]}),v.jsxs("p",{className:"text-gray-900",children:["IMEI: ",n.imei]}),v.jsxs("p",{className:"text-gray-900",children:["Service: ",n.service]})]})]})]}),v.jsxs("div",{className:"mt-8",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-500",children:"Payment Details"}),v.jsxs("div",{className:"mt-3 space-y-3",children:[v.jsxs("div",{className:"flex justify-between",children:[v.jsx("p",{className:"text-gray-600",children:"Original Price"}),v.jsxs("p",{className:"text-gray-900",children:["",n.originalPrice.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between text-green-600",children:[v.jsx("p",{children:"Discount"}),v.jsxs("p",{children:["-",n.discount.toFixed(2)]})]}),v.jsxs("div",{className:"flex justify-between",children:[v.jsx("p",{className:"text-gray-600",children:"Payment Method"}),v.jsx("p",{className:"text-gray-900",children:n.paymentMethod})]}),v.jsxs("div",{className:"flex justify-between font-bold text-lg pt-3 border-t",children:[v.jsx("p",{children:"Total Amount"}),v.jsxs("p",{children:["",n.finalPrice.toFixed(2)]})]})]})]}),v.jsxs("div",{className:"mt-8 bg-blue-50 rounded-lg p-4",children:[v.jsx("h3",{className:"text-sm font-medium text-blue-800 mb-2",children:"What's Next?"}),v.jsx("p",{className:"text-blue-600",children:"We'll process your unlock request and send instructions to your email within 24 hours. You can also check your order status anytime using your Order ID."})]})]})]})})}),v.jsx(Sl,{})]})}const M_e=[{icon:KT,title:"MDM Bypass",description:"Remove Mobile Device Management restrictions",price:"From $39.99",features:["Permanent MDM removal","Works for all iOS devices","No jailbreak required","Quick 24-hour processing"],type:"mdm-bypass"},{icon:WT,title:"iCloud Unlock",description:"Unlock iCloud-locked Apple devices",price:"From $49.99",features:["Official iCloud unlock method","Supports all iPhone models","Worldwide service","100% success guarantee"],type:"icloud-unlock"},{icon:GT,title:"SIM Unlock",description:"Carrier unlock for mobile devices",price:"From $29.99",features:["Permanent carrier unlock","Compatible with all carriers","Global network support","Fast and secure process"],type:"sim-unlock"}],B_e=[{icon:Ro,title:"Safe & Secure",description:"Advanced security protocols for device unlocking"},{icon:xv,title:"Fast Processing",description:"Most services completed within 24-48 hours"},{icon:Bu,title:"Worldwide Service",description:"Support for devices from all countries and regions"},{icon:zF,title:"Expert Support",description:"24/7 professional assistance via multiple channels"},{icon:ul,title:"Guaranteed Results",description:"Money-back guarantee if service cannot be completed"},{icon:uc,title:"Permanent Solution",description:"One-time unlock that maintains device functionality"}];function U_e(){const t=El(),e=r=>{switch(r){case"mdm-bypass":t("/services/mdm-bypass");break;case"icloud-unlock":t("/services/icloud-unlock");break;case"sim-unlock":t("/services/sim-unlock");break}},n=()=>{t("/help")};return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(Al,{}),v.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white py-16 md:py-24",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto",children:[v.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Unlock Your Device"}),v.jsx("p",{className:"text-xl text-blue-100",children:"Professional unlocking solutions for all your Apple device needs"})]})})}),v.jsxs("div",{id:"services",className:"container mx-auto px-4 py-12 md:py-16",children:[v.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-8",children:v.jsxs("div",{className:"flex items-center justify-center space-x-2 text-blue-600 mb-4",children:[v.jsx($te,{className:"w-6 h-6 animate-bounce"}),v.jsx("span",{className:"text-lg font-medium",children:"Select a service to view available options"})]})}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:M_e.map((r,i)=>v.jsxs(Qe.div,{initial:{opacity:1,y:0},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},onClick:()=>e(r.type),className:"bg-white rounded-xl shadow-lg overflow-hidden cursor-pointer transform transition-all duration-300 hover:scale-105 hover:shadow-xl relative group",children:[v.jsx("div",{className:"absolute top-4 right-4",children:v.jsx(E8,{className:"w-6 h-6 text-gray-400 group-hover:text-blue-600 transition-colors"})}),v.jsxs("div",{className:"p-6",children:[v.jsxs("div",{className:"flex items-center space-x-4 mb-4",children:[v.jsx(r.icon,{className:"w-8 h-8 text-blue-600 group-hover:text-blue-700 transition-colors"}),v.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:r.title})]}),v.jsx("p",{className:"text-gray-600 mb-4",children:r.description}),v.jsx("p",{className:"text-2xl font-bold text-blue-600 mb-6",children:r.price}),v.jsx("ul",{className:"space-y-3",children:r.features.map((s,o)=>v.jsxs("li",{className:"flex items-center space-x-2",children:[v.jsx(ul,{className:"w-5 h-5 text-green-500"}),v.jsx("span",{className:"text-gray-700",children:s})]},o))}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs("span",{className:"inline-flex items-center text-blue-600 font-medium group-hover:text-blue-800 transition-colors",children:["View Options ",v.jsx(E8,{className:"w-4 h-4 ml-1"})]})})]})]},r.title))}),v.jsxs("div",{className:"mt-16 md:mt-24",children:[v.jsx(Qe.h2,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-3xl font-bold text-center mb-12",children:"Why Choose Our Unlocking Services?"}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:B_e.map((r,i)=>v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:i*.1},className:"bg-white p-6 rounded-xl shadow-lg hover:shadow-xl transition-shadow",children:[v.jsx(r.icon,{className:"w-8 h-8 text-blue-600 mb-4"}),v.jsx("h3",{className:"text-xl font-semibold mb-2 text-gray-800",children:r.title}),v.jsx("p",{className:"text-gray-600",children:r.description})]},r.title))})]}),v.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.6},className:"mt-16 md:mt-24 text-center",children:v.jsxs("div",{className:"bg-blue-50 rounded-xl p-8 md:p-12",children:[v.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-4",children:"Need Personalized Assistance?"}),v.jsx("p",{className:"text-gray-600 mb-6",children:"Our expert team is ready to help you choose the right unlocking solution"}),v.jsxs("button",{onClick:n,className:"flex items-center space-x-2 bg-blue-600 text-white px-6 py-3 rounded-lg hover:bg-blue-700 transition-colors duration-300 mx-auto",children:[v.jsx(jte,{className:"w-5 h-5"}),v.jsx("span",{children:"Contact Support"})]})]})})]}),v.jsx(Sl,{})]})}function F_e(){const t=El(),e=()=>{t("/device-catalog")},n=()=>{t("/imei-check")},r=[{icon:uc,title:"Complete iCloud Unlock",description:"Permanently remove iCloud lock without losing device data."},{icon:Jb,title:"Fast Processing",description:"Most iCloud unlock requests are processed within 24-48 hours."},{icon:Bu,title:"Global Compatibility",description:"Works with all iPhone and iPad models worldwide."}],i=["Verify device eligibility","Provide device details","Select iCloud unlock service","Complete secure payment","Receive unlock instructions","Apply instructions to remove iCloud lock"];return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(Al,{}),v.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white py-16 md:py-24",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto",children:[v.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[v.jsx(WT,{className:"w-10 h-10 text-white"}),v.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"iCloud Unlock Service"})]}),v.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Professional iCloud lock removal for Apple devices"})]})})}),v.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-16",children:[v.jsxs("section",{className:"mb-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"What is iCloud Unlock?"}),v.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8",children:v.jsx("p",{className:"text-gray-700 leading-relaxed",children:"iCloud lock prevents unauthorized access to a device after it's been reset. Our iCloud unlock service helps you regain full access to your Apple device."})})]}),v.jsxs("section",{className:"mb-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Key Features"}),v.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:r.map((s,o)=>v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[v.jsx(s.icon,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),v.jsx("h3",{className:"text-xl font-semibold mb-3",children:s.title}),v.jsx("p",{className:"text-gray-600",children:s.description})]},s.title))})]}),v.jsxs("section",{className:"mb-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Unlock Process"}),v.jsx("div",{className:"max-w-2xl mx-auto",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[v.jsx("ol",{className:"space-y-4",children:i.map((s,o)=>v.jsxs("li",{className:"flex items-center space-x-4",children:[v.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[o+1,"."]}),v.jsx("span",{className:"text-gray-700",children:s})]},o))}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs(Qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"bg-blue-100 text-blue-700 px-6 py-2 rounded-lg text-sm hover:bg-blue-200 transition-colors flex items-center justify-center mx-auto space-x-2",children:[v.jsx(yp,{className:"w-4 h-4"}),v.jsx("span",{children:"Check Device IMEI"})]})})]})})]}),v.jsx("div",{className:"text-center",children:v.jsx(Qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"bg-blue-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start iCloud Unlock"})})]}),v.jsx(Sl,{})]})}function $_e(){const t=El(),e=()=>{t("/device-catalog")},n=()=>{t("/imei-check")},r=[{icon:uc,title:"Complete MDM Removal",description:"Permanently remove Mobile Device Management restrictions without compromising device functionality."},{icon:Jb,title:"Quick Processing",description:"Most MDM bypass requests are processed within 24-48 hours."},{icon:Bu,title:"Universal Compatibility",description:"Works with all iOS devices and MDM configurations."}],i=["Submit your device details","Select MDM bypass service","Complete payment","Receive unlock instructions","Apply instructions to remove MDM"];return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(Al,{}),v.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white py-16 md:py-24",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto",children:[v.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[v.jsx(KT,{className:"w-10 h-10 text-white"}),v.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"MDM Bypass Service"})]}),v.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Professional Mobile Device Management (MDM) removal for all iOS devices"})]})})}),v.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-16",children:[v.jsxs("section",{className:"mb-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"What is MDM Bypass?"}),v.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8",children:v.jsx("p",{className:"text-gray-700 leading-relaxed",children:"Mobile Device Management (MDM) is a security feature used by organizations to control and monitor devices. Our MDM bypass service allows you to remove these restrictions, giving you full control of your device."})})]}),v.jsxs("section",{className:"mb-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Key Features"}),v.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:r.map((s,o)=>v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[v.jsx(s.icon,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),v.jsx("h3",{className:"text-xl font-semibold mb-3",children:s.title}),v.jsx("p",{className:"text-gray-600",children:s.description})]},s.title))})]}),v.jsxs("section",{className:"mb-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Unlock Process"}),v.jsx("div",{className:"max-w-2xl mx-auto",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[v.jsx("ol",{className:"space-y-4",children:i.map((s,o)=>v.jsxs("li",{className:"flex items-center space-x-4",children:[v.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[o+1,"."]}),v.jsx("span",{className:"text-gray-700",children:s})]},o))}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs(Qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"bg-blue-100 text-blue-700 px-6 py-2 rounded-lg text-sm hover:bg-blue-200 transition-colors flex items-center justify-center mx-auto space-x-2",children:[v.jsx(yp,{className:"w-4 h-4"}),v.jsx("span",{children:"Check Device IMEI"})]})})]})})]}),v.jsx("div",{className:"text-center",children:v.jsx(Qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"bg-blue-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start MDM Bypass"})})]}),v.jsx(Sl,{})]})}function z_e(){const t=El(),e=()=>{t("/device-catalog")},n=()=>{t("/imei-check")},r=[{icon:uc,title:"Permanent Carrier Unlock",description:"Permanently remove carrier restrictions from your device."},{icon:Jb,title:"Quick Service",description:"Most SIM unlock requests are processed within 24-48 hours."},{icon:Bu,title:"Global Compatibility",description:"Works with carriers from all countries and regions."}],i=["Check device carrier lock status","Provide device details","Select SIM unlock service","Complete secure payment","Receive unlock code/instructions","Apply instructions to unlock device"];return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(Al,{}),v.jsx("div",{className:"bg-gradient-to-b from-blue-600 to-blue-800 text-white py-16 md:py-24",children:v.jsx("div",{className:"container mx-auto px-4",children:v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center max-w-3xl mx-auto",children:[v.jsxs("div",{className:"flex items-center justify-center space-x-4 mb-4",children:[v.jsx(GT,{className:"w-10 h-10 text-white"}),v.jsx("h1",{className:"text-4xl md:text-5xl font-bold",children:"SIM Unlock Service"})]}),v.jsx("p",{className:"text-xl text-blue-100 max-w-2xl mx-auto",children:"Professional carrier unlock for mobile devices"})]})})}),v.jsxs("div",{className:"container mx-auto px-4 py-12 md:py-16",children:[v.jsxs("section",{className:"mb-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"What is SIM Unlock?"}),v.jsx("div",{className:"max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-8",children:v.jsx("p",{className:"text-gray-700 leading-relaxed",children:"SIM unlock allows you to use your device with any carrier's SIM card. Our service removes carrier restrictions, giving you the freedom to choose your network."})})]}),v.jsxs("section",{className:"mb-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Key Features"}),v.jsx("div",{className:"grid md:grid-cols-3 gap-6",children:r.map((s,o)=>v.jsxs(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:o*.1},className:"bg-white rounded-xl shadow-lg p-6 text-center",children:[v.jsx(s.icon,{className:"w-12 h-12 text-blue-600 mx-auto mb-4"}),v.jsx("h3",{className:"text-xl font-semibold mb-3",children:s.title}),v.jsx("p",{className:"text-gray-600",children:s.description})]},s.title))})]}),v.jsxs("section",{className:"mb-16",children:[v.jsx("h2",{className:"text-3xl font-bold text-center mb-8",children:"Unlock Process"}),v.jsx("div",{className:"max-w-2xl mx-auto",children:v.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[v.jsx("ol",{className:"space-y-4",children:i.map((s,o)=>v.jsxs("li",{className:"flex items-center space-x-4",children:[v.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[o+1,"."]}),v.jsx("span",{className:"text-gray-700",children:s})]},o))}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs(Qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:n,className:"bg-blue-100 text-blue-700 px-6 py-2 rounded-lg text-sm hover:bg-blue-200 transition-colors flex items-center justify-center mx-auto space-x-2",children:[v.jsx(yp,{className:"w-4 h-4"}),v.jsx("span",{children:"Check Device IMEI"})]})})]})})]}),v.jsx("div",{className:"text-center",children:v.jsx(Qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:e,className:"bg-blue-600 text-white px-8 py-3 rounded-lg text-lg font-semibold hover:bg-blue-700 transition-colors",children:"Start SIM Unlock"})})]}),v.jsx(Sl,{})]})}function V_e(){return v.jsxs("div",{className:"min-h-screen bg-gray-50",children:[v.jsx(Al,{}),v.jsxs("div",{className:"container mx-auto px-4 py-8",children:[v.jsxs(es,{to:"/",className:"inline-flex items-center text-gray-600 hover:text-blue-600 mb-6",children:[v.jsx(Ad,{className:"w-5 h-5 mr-2"}),"Back to Home"]}),v.jsx(Qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:v.jsx(a$,{})})]}),v.jsx(Sl,{})]})}function H_e(){const{pathname:t}=$p();return lr.useEffect(()=>{window.scrollTo(0,0)},[t]),null}function q_e(){return v.jsxs(v.Fragment,{children:[v.jsx(H_e,{}),v.jsx("div",{className:"fixed top-4 right-4 z-50"}),v.jsxs(qJ,{children:[v.jsx(mo,{path:"/",element:v.jsx(Rre,{})}),v.jsx(mo,{path:"/unlock/:model",element:v.jsx(I_e,{})}),v.jsx(mo,{path:"/terms",element:v.jsx(T_e,{})}),v.jsx(mo,{path:"/services",element:v.jsx(U_e,{})}),v.jsx(mo,{path:"/order-status",element:v.jsx(k_e,{})}),v.jsx(mo,{path:"/device-catalog",element:v.jsx(R_e,{})}),v.jsx(mo,{path:"/help",element:v.jsx(D_e,{})}),v.jsx(mo,{path:"/receipt",element:v.jsx(j_e,{})}),v.jsx(mo,{path:"/services/icloud-unlock",element:v.jsx(F_e,{})}),v.jsx(mo,{path:"/services/mdm-bypass",element:v.jsx($_e,{})}),v.jsx(mo,{path:"/services/sim-unlock",element:v.jsx(z_e,{})}),v.jsx(mo,{path:"/imei-check",element:v.jsx(V_e,{})})]}),v.jsx(VW,{})]})}a3.createRoot(document.getElementById("root")).render(v.jsx(lr.StrictMode,{children:v.jsx(ZJ,{basename:"/iunlockexpert",children:v.jsx(q_e,{})})}));export{lde as $,ut as A,It as B,Vt as C,Dt as D,_H as E,Y_e as F,Vbe as G,rc as H,tPe as I,Q3e as J,O4 as K,Gx as L,Mr as M,B5 as N,qe as O,Vw as P,gi as Q,Pn as R,ki as S,ts as T,Z3e as U,R4 as V,Gr as W,UH as X,xy as Y,ws as Z,In as _,Yx as a,O3e as a0,YL as a1,jz as a2,Xue as a3,ude as a4,R3e as a5,k3e as a6,xS as a7,L3e as a8,j3e as a9,bu as b,Zc as c,os as d,Ge as e,kt as f,Ub as g,oe as h,t0 as i,Vn as j,ePe as k,_o as l,Qn as m,zn as n,iEe as o,ot as p,eM as q,X3e as r,D$ as s,gr as t,ls as u,ro as v,Xj as w,J3e as x,Mw as y,J_e as z};
